{
  "log": {
    "version": "1.1",
    "creator": {
      "name": "Firefox",
      "version": "50.0"
    },
    "browser": {
      "name": "Firefox",
      "version": "50.0"
    },
    "pages": [
      {
        "startedDateTime": "2016-12-14T14:34:24.747-06:00",
        "id": "page_119",
        "title": "Connectingâ€¦",
        "pageTimings": {
          "onContentLoad": -1,
          "onLoad": -1
        }
      }
    ],
    "entries": [
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:24.747-06:00",
        "time": 119,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://abcn.ws/2emPLAQ",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "abcn.ws"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "https://t.co//5svgPhRFR0"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Upgrade-Insecure-Requests",
              "value": "1"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 354
        },
        "response": {
          "status": 301,
          "statusText": "Moved Permanently",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Server",
              "value": "nginx"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:34:23 GMT"
            },
            {
              "name": "Content-Type",
              "value": "text/html; charset=utf-8"
            },
            {
              "name": "Content-Length",
              "value": "109"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Cache-Control",
              "value": "private, max-age=90"
            },
            {
              "name": "Location",
              "value": "http://trib.al/Zk5IEXC"
            },
            {
              "name": "Set-Cookie",
              "value": "_bit=gbekyn-d7778bb623bc8146ca-00J; Domain=abcn.ws; Expires=Mon, 12 Jun 2017 20:34:23 GMT"
            }
          ],
          "cookies": [
            {
              "name": "_bit",
              "value": "gbekyn-d7778bb623bc8146ca-00J"
            }
          ],
          "content": {
            "mimeType": "text/html; charset=utf8",
            "size": 0,
            "comment": "Response bodies are not included."
          },
          "redirectURL": "http://trib.al/Zk5IEXC",
          "headersSize": 344,
          "bodySize": 94064
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 41,
          "send": 0,
          "wait": 77,
          "receive": 1
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:24.875-06:00",
        "time": 107,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://trib.al/Zk5IEXC",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "trib.al"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "https://t.co//5svgPhRFR0"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Upgrade-Insecure-Requests",
              "value": "1"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 354
        },
        "response": {
          "status": 301,
          "statusText": "Moved Permanently",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Cache-Control",
              "value": "private, max-age=0, no-cache"
            },
            {
              "name": "Content-Type",
              "value": "text/html;charset=utf-8"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:34:23 GMT"
            },
            {
              "name": "Location",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Server",
              "value": "CherryPy/3.2.4"
            },
            {
              "name": "Set-Cookie",
              "value": "tribal=\"2cUXY/pTQR68VlpKrWVXUg==\"; expires=Fri, 06 Jan 2034 23:13:40 GMT; Path=/; Version=2"
            },
            {
              "name": "Content-Length",
              "value": "291"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [
            {
              "name": "tribal",
              "value": "\"2cUXY/pTQR68VlpKrWVXUg==\""
            }
          ],
          "content": {
            "mimeType": "text/html; charset=utf8",
            "size": 0,
            "comment": "Response bodies are not included."
          },
          "redirectURL": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco",
          "headersSize": 459,
          "bodySize": 94064
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 21,
          "send": 0,
          "wait": 86,
          "receive": 0
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:24.992-06:00",
        "time": 535,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "abcnews.go.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "https://t.co//5svgPhRFR0"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Upgrade-Insecure-Requests",
              "value": "1"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "id",
              "value": "43309964"
            },
            {
              "name": "cid",
              "value": "abcnp_tco"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 450
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Server",
              "value": "Apache-Coyote/1.1"
            },
            {
              "name": "x-ua-compatible",
              "value": "IE=edge,chrome=1"
            },
            {
              "name": "Content-Type",
              "value": "text/html;charset=utf8"
            },
            {
              "name": "X-VG-WebCache",
              "value": "164"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=60"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:34:24 GMT"
            },
            {
              "name": "X-Varnish",
              "value": "2584713523"
            },
            {
              "name": "Age",
              "value": "0"
            },
            {
              "name": "Via",
              "value": "1.1 varnish"
            },
            {
              "name": "Connection",
              "value": "Keep-Alive"
            },
            {
              "name": "From",
              "value": "n7nwswc02.starwave.com"
            },
            {
              "name": "X-Cache",
              "value": "MISS"
            },
            {
              "name": "Content-Length",
              "value": "94064"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "text/html; charset=utf8",
            "size": 94020,
            "text": "<!DOCTYPE html>\n<!--[if IE 9]><html class=\"ie9\"><![endif]-->\n<!--[if (gt IE 9)|!(IE)]><!--> <html lang=\"en\"> <!--<![endif]-->\n<head>\n<script>if (window.location.protocol == \"https:\") {var _sslurl = window.location.href.replace(\"https://\", \"http://\");window.location.replace(_sslurl); window.location.href = _sslurl;}</script>\n<title>Clinton Rebounds on Enthusiasm; Trump Slips in a Still-Tight Race (POLL) - ABC News</title>\n<meta charset=\"utf-8\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\n<meta name=\"robots\" content=\"noarchive\" />\n<meta name=\"robots\" content=\"index, follow\" />\n<meta name=\"author\" content=\"ABC News\" />\n<meta name=\"copyright\" content=\"Copyright (c) 2016 ABC News Internet Ventures\" />\n<meta name=\"viewport\" content=\"initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n<meta name=\"description\" content=\"Support for Trump has slipped to its lowest in 10 days.\" />\n<meta name=\"keywords\" content=\"poll, 2016 election, vote, tracking, Hillary Clinton, Donald Trump, enthusiasm, Obama, FBI, Comey, politics news, election news, political news, political news articles\" />\n<meta property=\"fb:admins\" content=\"704409894\" />\n<meta property=\"fb:app_id\" content=\"4942312939\" />\n<meta name=\"fb_title\" content=\"Clinton Rebounds on Enthusiasm; Trump Slips Overall in Latest Poll\" />\n<meta property=\"og:site_name\" content=\"ABC News\" />\n<meta property=\"og:title\" content=\"Clinton Rebounds on Enthusiasm; Trump Slips Overall in Latest Poll\" />\n<meta property=\"og:description\" content=\"Support for Trump has slipped to its lowest in 10 days.\" />\n<meta property=\"og:url\" content=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<meta property=\"og:image:type\" content=\"image/jpeg\" />\n<meta property=\"og:image\" content=\"http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_16x9_992.jpg\" />\n<meta name=\"DC.date.issued\" content=\"2016-11-04\" />\n<meta name=\"Date\" content=\"2016-11-04\" />\n<meta name=\"Last-Modified\" content=\"2016-11-04 21:46:52\" />\n<meta name=\"news_keywords\" content=\"poll, 2016 election, vote, tracking, Hillary Clinton, Donald Trump, enthusiasm, Obama, FBI, Comey\" />\n<meta property=\"og:type\" content=\"article\" />\n<meta property=\"twitter:card\" content=\"summary_large_image\" />\n<meta property=\"twitter:site\" content=\"@ABC\" />\n<meta property=\"twitter:creator\" content=\"\" />\n<meta property=\"twitter:title\" content=\"Clinton Rebounds on Enthusiasm; Trump Slips Overall in Latest Poll\" />\n<meta property=\"twitter:description\" content=\"Support for Trump has slipped to its lowest in 10 days.\" />\n<meta property=\"twitter:url\" content=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<meta property=\"twitter:image:width\" content=\"150\" />\n<meta property=\"twitter:image:height\" content=\"116\" />\n<meta name=\"twitter:app:name:iphone\" content=\"ABC News\" />\n<meta name=\"twitter:app:id:iphone\" content=\"300255638\" />\n<meta name=\"twitter:app:url:iphone\" content=\"abcnewsiphone://link/story,43309964\" />\n<meta name=\"twitter:app:name:ipad\" content=\"ABC News\" />\n<meta name=\"twitter:app:id:ipad\" content=\"306934135\" />\n<meta name=\"twitter:app:url:ipad\" content=\"abcnewsipad://link/story,43309964\" />\n<meta name=\"twitter:app:name:googleplay\" content=\"ABC News\" />\n<meta name=\"twitter:app:id:googleplay\" content=\"com.abc.abcnews\" />\n<meta name=\"twitter:app:url:googleplay\" content=\"android-app://com.abc.abcnews/abcnews/abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<meta property=\"twitter:image\" content=\"http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_4x3t_240.jpg\" />\n<meta property=\"al:iphone:url\" content=\"abcnewsiphone://link/story,43309964\" />\n<meta property=\"al:iphone:app_store_id\" content=\"300255638\" />\n<meta property=\"al:iphone:app_name\" content=\"ABC News - Breaking US & World News\" />\n<meta property=\"al:ipad:url\" content=\"abcnewsipad://link/story,43309964\" />\n<meta property=\"al:ipad:app_store_id\" content=\"380520716\" />\n<meta property=\"al:ipad:app_name\" content=\"ABC News for iPad\" />\n<meta property=\"al:android:url\" content=\"android-app://com.abc.abcnews/abcnews/abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<meta property=\"al:android:app_name\" content=\"ABC News Breaking Latest News\" />\n<meta property=\"al:android:package\" content=\"com.abc.abcnews\" />\n<meta property=\"al:web:url\" content=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<link rel=\"amphtml\" href=\"http://abcnews.go.com/amp/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<meta name=\"viewport\" content=\"initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n<script type=\"text/javascript\" src=\"//fonts.abcnews.com/kyb8pht.js\"></script>\n<script type=\"text/javascript\">try{Typekit.load();}catch(e){}</script>\n<!--[if IE 9]>\n<link rel=\"stylesheet\"href=\"http://a.abcnews.com/assets/beta/css/styles.css?v=56\">\n<style>#main-container{visibility:visible !important;}</style>\n<![endif]-->\n<link rel=\"stylesheet\" href=\"http://a.abcnews.com/assets/beta/_sass/css/icons.css?v=56\">\n<link class=\"page-type-include\" rel=\"stylesheet\" href=\"http://a.abcnews.com/assets/beta/css/page-types/story_.css?v=56\" />\n<script type=\"text/javascript\" async=\"async\" src=\"http://widgets.outbrain.com/outbrain.js\"></script>\n<script src=\"http://a.abcnews.com/assets/beta/js/lib.js?v=162\"></script>\n<script type=\"text/javascript\" id=\"disneyid-script\" src=\"https://cdn.registerdisney.go.com/v2/outer/DisneyID.js\"></script>\n<script type=\"text/javascript\">\nvar _vrq = _vrq || [];\n_vrq.push(['id', 613]);\n_vrq.push(['automate', false]);\n_vrq.push(['track', function(){}]);\n(function(d, a) {\nvar s = d.createElement(a),\nx = d.getElementsByTagName(a)[0];\ns.async = true;\ns.src = '//vra.outbrain.com/vrs.js';\nx.parentNode.insertBefore(s, x);\n})(document, 'script');\n</script>\n<script type=\"text/javascript\" src=\"//native.sharethrough.com/assets/sfp.js\"></script>\n<script>\nvar _min = {_publisher: 'MIN-40400'};\n(function () {\nvar mi = document.createElement('script');\nmi.src = ('https:' == document.location.protocol ? 'https://d2d4r7w8.map2.ssl.hwcdn.net' : 'http://snippet.minute.ly') + '/mi-abc-prod.js';\nmi.type = 'text/javascript';\nmi.async = true;\nmi.onload = mi.onreadystatechange = function () {\nmi.setAttribute(\"crossorigin\", \"crossorigin\");\n};\nvar sc = document.getElementsByTagName('head')[0];\nsc.appendChild(mi);\n})();\n</script>\n<script type=\"text/javascript\">\n(function()\n{var po = document.createElement(\"script\");\npo.type = \"text/javascript\"; po.async = true;po.src = \"https://apis.google.com/js/plusone.js\";\nvar s = document.getElementsByTagName(\"script\")[0];\ns.parentNode.insertBefore(po, s);\n})();</script>\n<link id=\"canonical\" rel=\"canonical\" href=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" />\n<script>\nelectionJSObj = {\nstNa : \"ABCRace\",\nsc_demTotalDelegates : \"4765\",//scorecard dem total delegates\nsc_demReqToWin : \"2383\", //scorecard dem required to win\nsc_repTotalDelegates : \"2472\", //scorecard rep total delegates\nsc_repReqToWin : \"1237\", //scorecard rep required to win\nsc_demNominee: \"Clinton\", // declare a democratic nominee use Uppercase on first letter of last name ie Clinton leave blank if none\nsc_demNomineeTitle: \"Presumptive Democratic Nominee\", // change the democratic nominee title\nsc_repNominee: \"Trump\", // declare a republican nominee use Uppercase on first letter of last name ie Trump leave blank if none\nsc_repNomineeTitle: \"Presumptive GOP Nominee\" // change the republican nominee title\n};\nshowScorecardOnLoad = true;\nfunction rmElecStories() {\nif($.cookie(\"abcn_elecstories\")){\n$.cookie(\"abcn_elecstories\", \"\", {expires:-1});\n}\n}\naddOnload(rmElecStories);\n</script>\n<script type=\"text/javascript\">\nvar digAdData;\nvar digGetAd = function(){};\ntq = new Object();\ntq.path = '/News/Politics/story/';\ntq.caid = 'News/Politics';\ntq.keywords = ((tq.keywords)&&(tq.keywords!=''))?tq.keywords+'':'';\ntq.show = '';\ntq.recipes = '';\ntq.id = '43309964';\ntq.section = 'politics';\ntq.realsection = '';\ntq.subsection = '';\ntq.altsection = 'default';\ntq.objType = 'story';\ntq.byline = 'gary langer';\ntq.othersubs = '';\n</script>\n<script type='text/javascript' src='http://a.abcnews.com/assets/js/adCallOverride.js?v=1'></script>\n<script type=\"text/javascript\">\nif(tq.path){\ntq.urlTargetPath = (tq.path)?tq.path:window.location.pathname;\ntq.urlTargetPath = (tq.urlTargetPath == '/')?'/index':tq.urlTargetPath;\ntq.urlKeywords = (tq.keywords)?tq.keywords:'';\ntq.urlRecipes = (tq.recipes)?tq.recipes:'';\ntq.urlShow = (tq.show)?tq.show:'';\ntq.urlFullQuery = '&tqkw='+encodeURI(tq.urlKeywords)+'&tqshow='+encodeURI(tq.urlShow)+encodeURI(tq.urlRecipes)+'&url='+encodeURI(tq.urlTargetPath);\n}else{\ntq.urlFullQuery = '&url='+encodeURI(window.location.pathname);\n}\nvar fwNetworkId = '168234'\nvar fwSectionFallbackId = '109523';\nvar fwAdSystem = true;\n</script>\n<script type=\"text/javascript\" src=\"http://a.abcnews.com/assets/js/min/fw.js?v=43.5\"></script>\n<script type=\"text/javascript\" src=\"https://s.abcnews.com/assets/js/prebid.min.js?v=1\"></script>\n<script type=\"text/javascript\">\n// PREBID ad definitions\nvar adUnits = [\n{\ncode: 'adunit-code-1',\nsizes: [[300, 250], [300, 600]],\nbids: [{\nbidder: 'aol',\nparams: {\nplacement: 4330522,\nnetwork: '10573.1',\n}\n}]\n},\n{\ncode: 'banner-ad',\nsizes: [[728, 90]],\nbids: [{\nbidder: 'aol',\nparams: {\nplacement: 4330521,\nnetwork: '10573.1',\n}\n}]\n}\n];\nif(pbjs.addAdUnits){ // prebid object was created successfully.\npbjs.addAdUnits(window.adUnits);\nfw.usePrebid=true;\nPREBID_TIMEOUT = 1500;STARTUP_AD_TIMEOUT = 10000;\nif(fw.isDebug){\n// turn on prebid logging.\npbjs.logging=true;\n}\n}\n</script>\n<script type=\"text/javascript\">digGetAd(\"FPBranding\");</script>\n</head>\n<body class=\"story desktop logged-out trident abcn-desktop\" data-pagetype=\"story\" data-twttr-rendered=\"true\" data-device=\"desktop\" data-content-id=\"43309964\" data-alert-tag-primary=\"Elections\">\n<div class=\"ad-slot ad-slot-overlay\" data-slot-type=\"overlay\" data-slot-kvps=\"pos=outofpage\" data-out-of-page=\"true\"></div>\n<div id=\"fb-root\"></div>\n<div id=\"global-viewport\" data-behavior=\"global_nav_condensed global_nav_full load_comments native_star rain_ads\">\n<script src=\"http://a.abcnews.com/assets/beta/js/abcn-head.js?v=162\"></script>\n<!-- mobile -->\n<nav id=\"global-nav-mobile\">\n<ul class=\"tier-1\">\n<li class=\"active\">\n<a class=\"menu-trigger nav-pillar nav-sections\" data-route=\"false\" href=\"#\">\n<span class=\"link-text\">Sections</span>\n<span class=\"icon-sections m-icon\"></span>\n</a>\n<ul class=\"tier-2\" data-behavior=\"favorites_mgmt\">\n<li>\n<h1 class=\"label\">\n<span class=\"link-text\">Sections</span>\n</h1>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"/\" name=\"lpos=nav[header_desktop_story]&lid=section[Top Stories]\">\n<span class=\"link-text\">Top Stories</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Video\" name=\"lpos=nav[header_desktop_story]&lid=section[Video]\">\n<span class=\"link-text\">Video</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Politics\" name=\"lpos=nav[header_desktop_story]&lid=section[Election]\">\n<span class=\"link-text\">Election</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/US\" name=\"lpos=nav[header_desktop_story]&lid=section[U.S.]\">\n<span class=\"link-text\">U.S.</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/International\" name=\"lpos=nav[header_desktop_story]&lid=section[World]\">\n<span class=\"link-text\">World</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Entertainment\" name=\"lpos=nav[header_desktop_story]&lid=section[Entertainment]\">\n<span class=\"link-text\">Entertainment</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Health\" name=\"lpos=nav[header_desktop_story]&lid=section[Health]\">\n<span class=\"link-text\">Health</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Technology\" name=\"lpos=nav[header_desktop_story]&lid=section[Tech]\">\n<span class=\"link-text\">Tech</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Lifestyle\" name=\"lpos=nav[header_desktop_story]&lid=section[Lifestyle]\">\n<span class=\"link-text\">Lifestyle</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Business\" name=\"lpos=nav[header_desktop_story]&lid=section[Money]\">\n<span class=\"link-text\">Money</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Blotter\" name=\"lpos=nav[header_desktop_story]&lid=section[Investigative]\">\n<span class=\"link-text\">Investigative</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Sports\" name=\"lpos=nav[header_desktop_story]&lid=section[Sports]\">\n<span class=\"link-text\">Sports</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/US/Good_News\" name=\"lpos=nav[header_desktop_story]&lid=section[Good News]\">\n<span class=\"link-text\">Good News</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/topics/news/weather.htm\" name=\"lpos=nav[header_desktop_story]&lid=section[Weather]\">\n<span class=\"link-text\">Weather</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Photos\" name=\"lpos=nav[header_desktop_story]&lid=section[Photos]\">\n<span class=\"link-text\">Photos</span>\n</a>\n</li>\n</ul>\n</li>\n<li>\n<a class=\"menu-trigger nav-pillar nav-shows\" data-route=\"false\" href=\"#\">\n<span class=\"link-text\">Shows</span>\n<span class=\"icon-shows m-icon\"></span>\n</a>\n<ul class=\"tier-2\">\n<li>\n<h1 class=\"label\">\n<span class=\"link-text\">Shows</span>\n</h1>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/GMA\" name=\"lpos=nav[header_desktop_story]&lid=section[Good Morning America]\">\n<span class=\"link-text\">Good Morning America</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/WN\" name=\"lpos=nav[header_desktop_story]&lid=section[World News Tonight]\">\n<span class=\"link-text\">World News Tonight</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/Nightline\" name=\"lpos=nav[header_desktop_story]&lid=section[Nightline]\">\n<span class=\"link-text\">Nightline</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/2020\" name=\"lpos=nav[header_desktop_story]&lid=section[20/20]\">\n<span class=\"link-text\">20/20</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abcnews.go.com/ThisWeek\" name=\"lpos=nav[header_desktop_story]&lid=section[This Week]\">\n<span class=\"link-text\">This Week</span>\n</a>\n</li>\n</ul>\n</li>\n<li>\n<a class=\"menu-trigger nav-pillar nav-live\" data-route=\"false\" href=\"#\">\n<span class=\"link-text\">Live</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n<ul class=\"tier-2\">\n<li>\n<h1 class=\"label\">\n<span class=\"link-text\">Live</span>\n</h1>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/live-stream-39180211\">\n<span class=\"link-text\">Lobby of Trump Tower in NYC</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/live-stream-39180446\">\n<span class=\"link-text\">UN General Assembly Meeting</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/special-live-4-20969244\">\n<span class=\"link-text\">'View into the Blue' Underwater Cam Live From Deerfield Pier</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/special-live-5-31962710\">\n<span class=\"link-text\">Soon: Catching Up With Keke Palmer</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/live-stream-39180111\">\n<span class=\"link-text\">Dow Jones Industrial Average</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/special-live-2-14519615\">\n<span class=\"link-text\">Skiers Hit The Slopes in Copper Mountain, Colo.</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"m-live\" data-mobile=\"true\" name=\"lpos=nav[header_live_desktop_story]&lid=[link]\" href=\"/Live/video/special-live-3-15048938\">\n<span class=\"link-text\">Live Look at the Old Faithful Geyser in Yellowstone National Park</span>\n<span class=\"icon-play m-icon\"></span>\n</a>\n</li>\n</ul>\n</li>\n<li>\n<a class=\"menu-trigger nav-pillar nav-local\" data-route=\"false\" href=\"#\">\n<span class=\"link-text\">Local</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n<ul class=\"tier-2\">\n<li>\n<h1 class=\"label\">\n<span class=\"link-text\">Local</span>\n</h1>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://7online.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[New York City]\">\n<span class=\"link-text\">New York City</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://abc7.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Los Angeles]\">\n<span class=\"link-text\">Los Angeles</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://abc7chicago.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Chicago]\">\n<span class=\"link-text\">Chicago</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://6abc.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Philadelphia]\">\n<span class=\"link-text\">Philadelphia</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://abc7news.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[San Francisco - Oakland - San Jose]\">\n<span class=\"link-text\">San Francisco - Oakland - San Jose</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://abc13.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Houston]\">\n<span class=\"link-text\">Houston</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://abc11.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Durham - Raleigh - Fayetteville]\">\n<span class=\"link-text\">Durham - Raleigh - Fayetteville</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n<li>\n<a class=\"cities\" target=\"_blank\" data-mobile=\"true\" href=\"http://abc30.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Fresno]\">\n<span class=\"link-text\">Fresno</span>\n<span class=\"icon-local m-icon\"></span>\n</a>\n</li>\n</ul>\n</li>\n<li>\n<a class=\"menu-trigger nav-pillar nav-more\" data-route=\"false\" href=\"#\">\n<span class=\"link-text\">More</span>\n<span class=\"icon-more m-icon\"></span>\n</a>\n<ul class=\"tier-2\">\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://abc.com\" name=\"lpos=nav[header_desktop_story]&lid=section[abc]\" target=\"_blank\">\n<span class=\"link-text\">abc.com</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://espn.com\" name=\"lpos=nav[header_desktop_story]&lid=section[espn]\" target=\"_blank\">\n<span class=\"link-text\">espn.com</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://fivethirtyeight.com\" name=\"lpos=nav[header_desktop_story]&lid=section[fivethirtyeight]\" target=\"_blank\">\n<span class=\"link-text\">fivethirtyeight.com</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://disney.com\" name=\"lpos=nav[header_desktop_story]&lid=section[disney]\" target=\"_blank\">\n<span class=\"link-text\">disney.com</span>\n</a>\n</li>\n<li>\n<a class=\"sections menu-trigger\" data-tab=\"true\" href=\"http://theundefeated.com\" name=\"lpos=nav[header_desktop_story]&lid=section[undefeated]\" target=\"_blank\">\n<span class=\"link-text\">theundefeated.com</span>\n</a>\n</li>\n<li>\n<h1 class=\"label header-title\"></h1>\n</li>\n<li>\n<a href=\"http://disneyprivacycenter.com\" data-tab=\"true\" name=\"lpos=nav[header_desktop_story]&lid=section[Privacy Policy]\" target=\"_blank\">\n<span class=\"link-text\">Privacy Policy</span>\n</a>\n</li>\n<li>\n<a href=\"https://disneyprivacycenter.com/notice-to-california-residents/\" data-tab=\"true\" name=\"lpos=nav[header_desktop_story]&lid=section[Your CA Privacy Rights]\" target=\"_blank\">\n<span class=\"link-text\">Your CA Privacy Rights</span>\n</a>\n</li>\n<li>\n<a href=\"https://disneyprivacycenter.com/kids-privacy-policy/english/\" data-tab=\"true\" name=\"lpos=nav[header_desktop_story]&lid=section[Children's Online Privacy Policy]\" target=\"_blank\">\n<span class=\"link-text\">Children's Online Privacy Policy</span>\n</a>\n</li>\n<li>\n<a href=\"http://preferences-mgr.truste.com/?type=abcnews&affiliateId=11\" data-tab=\"true\" name=\"lpos=nav[header_desktop_story]&lid=section[Interest-Based Ads]\" target=\"_blank\">\n<span class=\"link-text\">Interest-Based Ads</span>\n</a>\n</li>\n<li>\n<a href=\"http://disneytermsofuse.com\" data-tab=\"true\" name=\"lpos=nav[header_desktop_story]&lid=section[Terms of Use]\" target=\"_blank\">\n<span class=\"link-text\">Terms of Use</span>\n</a>\n</li>\n<li>\n<a href=\"http://abcnews.go.com/Site/page?id=3068843\" data-tab=\"true\" name=\"lpos=nav[header_desktop_story]&lid=section[Contact Us]\" target=\"_blank\">\n<span class=\"link-text\">Contact Us</span>\n</a>\n</li>\n<li>\n<h1 class=\"footer label\">\n<span class=\"link-text\">Yahoo!-ABC News Network <span class='copy-pipe'> | </span> &copy; 2016 ABC News Internet Ventures. All rights reserved.</span>\n</h1>\n</li>\n</ul>\n</li>\n<li>\n<a class=\"menu-trigger nav-search\" data-route=\"false\" href=\"#\">\n<span class=\"link-text\">Search</span>\n<span class=\"icon-search m-icon\"></span>\n</a>\n<ul class=\"tier-2\">\n<li>\n<div class=\"global-search\" id=\"global-search-mobile\">\n<input class=\"search-box\" placeholder=\"Search\" type=\"text\"><input class=\"btn-search\" type=\"submit\">\n<span class=\"icon-search m-icon\"></span>\n</div>\n</li>\n</ul>\n</li>\n</ul>\n</nav>\n<div class=\"menu-overlay-primary\"></div>\n<div data-behavior=\"global_header livetab\" id=\"header-wrapper\" data-device=\"desktop\" data-domain=\"http://abcnews.go.com\" data-playerversion=\"http://abcnewsplayer-a.akamaihd.net/player/2.53.0.0004\">\n<header id=\"global-header\">\n<div class=\"menu-overlay-secondary\"></div>\n<div class=\"container\">\n<a data-route=\"false\" href=\"#\" id=\"global-nav-mobile-trigger\"><span>Menu</span></a>\n<h1>\n<a href='http://abcnews.go.com' name=\"lpos=nav[header_desktop_story]&lid=section[Logo]\">ABC News</a>\n</h1>\n<ul class=\"tools\">\n<li class=\"search\">\n<a href=\"#\" id=\"global-search-trigger\">\n<span class=\"icon-search\"></span>\n<span class=\"icon-close\"></span>\n</a>\n<div class=\"global-search\" id=\"global-search\">\n<input class=\"search-box\" placeholder=\"Search Headlines, News and Video...\" type=\"text\">\n<input class=\"btn-search\" type=\"submit\">\n<span class=\"icon-search\"></span>\n</div>\n</li>\n<li class=\"user\">\n<a class=\"profile-logged-out loggedOut signin\" data-tab=\"true\" data-affiliatename=\"abcn\" data-behavior=\"profile_handler\" href=\"#\" data-route=\"false\" name=\"lpos=nav[header_desktop_story]&lid=section[Log In]\">Log In</a>\n<a class=\"profile-logged-in loggedIn\" data-tab=\"true\" style=\"display: none;\" data-affiliatename=\"abcn\" href=\"#\" thref=\"#\" data-behavior=\"profile\" data-route=\"false\" name=\"lpos=nav[header_desktop_story]&lid=section[Profile]\">\n<span class=\"icon-login\"></span>\n</a>\n</li>\n</ul>\n</div>\n<!-- desktop -->\n<nav id=\"global-nav\">\n<ul itemscope itemtype=\"http://www.schema.org/SiteNavigationElement\">\n<li class=\"election\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Politics\" name=\"lpos=nav[header_desktop_story]&lid=section[Election]\">\nElection\n</a>\n</li>\n<li class=\"us\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/US\" name=\"lpos=nav[header_desktop_story]&lid=section[U.S.]\">\nU.S.\n</a>\n</li>\n<li class=\"world\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/International\" name=\"lpos=nav[header_desktop_story]&lid=section[World]\">\nWorld\n</a>\n</li>\n<li class=\"entertainment\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Entertainment\" name=\"lpos=nav[header_desktop_story]&lid=section[Entertainment]\">\nEntertainment\n</a>\n</li>\n<li class=\"health\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Health\" name=\"lpos=nav[header_desktop_story]&lid=section[Health]\">\nHealth\n</a>\n</li>\n<li class=\"tech\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Technology\" name=\"lpos=nav[header_desktop_story]&lid=section[Tech]\">\nTech\n</a>\n</li>\n<li class=\"none more\" itemprop=\"name\">\n<a href=\"#\" itemprop=\"url\" data-mobile=\"false\">\n<span class=\"link-text\">&hellip;</span>\n<span class=\"link-text-short\">&hellip;</span>\n<span class=\"icon-ellipsis\"></span>\n</a>\n<div class=\"ellipsis-dropdown\">\n<ul>\n<li class=\"health\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Health\" name=\"lpos=nav[header_desktop_story]&lid=section[Health]\">\nHealth\n</a>\n</li>\n<li class=\"tech\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Technology\" name=\"lpos=nav[header_desktop_story]&lid=section[Tech]\">\nTech\n</a>\n</li>\n<li class=\"lifestyle\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Lifestyle\" name=\"lpos=nav[header_desktop_story]&lid=section[Lifestyle]\">\nLifestyle\n</a>\n</li>\n<li class=\"money\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Business\" name=\"lpos=nav[header_desktop_story]&lid=section[Money]\">\nMoney\n</a>\n</li>\n<li class=\"investigative\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Blotter\" name=\"lpos=nav[header_desktop_story]&lid=section[Investigative]\">\nInvestigative\n</a>\n</li>\n<li class=\"sports\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Sports\" name=\"lpos=nav[header_desktop_story]&lid=section[Sports]\">\nSports\n</a>\n</li>\n<li class=\"goodnews\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/US/Good_News\" name=\"lpos=nav[header_desktop_story]&lid=section[Good News]\">\nGood News\n</a>\n</li>\n<li class=\"topics\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Topics\" name=\"lpos=nav[header_desktop_story]&lid=section[Topics]\">\nTopics\n</a>\n</li>\n<li class=\"weather\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/topics/news/weather.htm\" name=\"lpos=nav[header_desktop_story]&lid=section[Weather]\">\nWeather\n</a>\n</li>\n<li class=\"photos\" itemprop=\"name\">\n<a itemprop=\"url\" data-tab=\"true\" href=\"http://abcnews.go.com/Photos\" name=\"lpos=nav[header_desktop_story]&lid=section[Photos]\">\nPhotos\n</a>\n</li>\n</ul>\n</div>\n</li>\n<li class=\"pillar more-abcn\">\n<a href=\"#\">More ABCNews <span class=\"icon-more\"></span></a>\n<div>\n<ul class=\"cities\">\n<li class=\"none cities\">\n<a data-class=\"cities\" href=\"#\">\n<span class=\"link-text\"></span>\n<span class=\"link-text-short\"></span>\n</a>\n<div>\n<ul class=\"cities\">\n<li class=\"label header-title\">\n<span>\n<span class=\"link-text\">Cities</span>\n<span class=\"link-text-short\">Cities</span>\n</span>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://7online.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[New York City]\">\n<span class=\"link-text\">New York City</span>\n<span class=\"link-text-short\">New York City</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://abc7.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Los Angeles]\">\n<span class=\"link-text\">Los Angeles</span>\n<span class=\"link-text-short\">Los Angeles</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://abc7chicago.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Chicago]\">\n<span class=\"link-text\">Chicago</span>\n<span class=\"link-text-short\">Chicago</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://6abc.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Philadelphia]\">\n<span class=\"link-text\">Philadelphia</span>\n<span class=\"link-text-short\">Philadelphia</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://abc7news.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[San Francisco - Oakland - San Jose]\">\n<span class=\"link-text\">San Francisco - Oakland - San Jose</span>\n<span class=\"link-text-short\">San Francisco - Oakland - San Jose</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://abc13.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Houston]\">\n<span class=\"link-text\">Houston</span>\n<span class=\"link-text-short\">Houston</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://abc11.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Durham - Raleigh - Fayetteville]\">\n<span class=\"link-text\">Durham - Raleigh - Fayetteville</span>\n<span class=\"link-text-short\">Durham - Raleigh - Fayetteville</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" target=\"_blank\" data-mobile=\"false\" href=\"http://abc30.com/\" name=\"lpos=nav[header_desktop_story]&lid=section[Fresno]\">\n<span class=\"link-text\">Fresno</span>\n<span class=\"link-text-short\">Fresno</span>\n</a>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n<ul class=\"featured\">\n<li class=\"none featured-links\">\n<a href=\"#\"><span class=\"link-text\"></span><span class=\"link-text-short\"></span></a>\n<div>\n<ul class=\"featured\">\n<li class=\"label header-title\">\n<span>\n<span class=\"link-text\">Partner Sites</span>\n<span class=\"link-text-short\">Partner Sites</span>\n</span>\n</li>\n<li itemprop=\"name\" class=\"external logo abc\">\n<a data-logo=\"abc\" itemprop=\"url\" href=\"http://abc.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[abc]\">\n<span class=\"link-text\">abc.com</span>\n<span class=\"link-text-short\">abc.com</span>\n</a>\n</li>\n<li itemprop=\"name\" class=\"external logo espn\">\n<a data-logo=\"espn\" itemprop=\"url\" href=\"http://espn.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[espn]\">\n<span class=\"link-text\">espn.com</span>\n<span class=\"link-text-short\">espn.com</span>\n</a>\n</li>\n<li itemprop=\"name\" class=\"external logo fivethirtyeight\">\n<a data-logo=\"fivethirtyeight\" itemprop=\"url\" href=\"http://fivethirtyeight.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[fivethirtyeight]\">\n<span class=\"link-text\">fivethirtyeight.com</span>\n<span class=\"link-text-short\">fivethirtyeight.com</span>\n</a>\n</li>\n<li itemprop=\"name\" class=\"external logo disney\">\n<a data-logo=\"disney\" itemprop=\"url\" href=\"http://disney.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[disney]\">\n<span class=\"link-text\">disney.com</span>\n<span class=\"link-text-short\">disney.com</span>\n</a>\n</li>\n<li itemprop=\"name\" class=\"external logo undefeated\">\n<a data-logo=\"undefeated\" itemprop=\"url\" href=\"http://theundefeated.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[undefeated]\">\n<span class=\"link-text\">theundefeated.com</span>\n<span class=\"link-text-short\">theundefeated.com</span>\n</a>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n<div class=\"footer-links\">\n<ul class=\"more-more pipes\">\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://disneyprivacycenter.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[Privacy Policy]\"><span class=\"link-text\">Privacy Policy</span><span class=\"link-text-short\">Privacy Policy</span></a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"https://disneyprivacycenter.com/notice-to-california-residents/\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[Your CA Privacy Rights]\"><span class=\"link-text\">Your CA Privacy Rights</span><span class=\"link-text-short\">Your CA Privacy Rights</span></a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"https://disneyprivacycenter.com/kids-privacy-policy/english/\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[Children's Online Privacy Policy]\"><span class=\"link-text\">Children's Online Privacy Policy</span><span class=\"link-text-short\">Children's Online Privacy Policy</span></a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://preferences-mgr.truste.com/?type=abcnews&affiliateId=11\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[Interest-Based Ads]\"><span class=\"link-text\">Interest-Based Ads</span><span class=\"link-text-short\">Interest-Based Ads</span></a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://disneytermsofuse.com\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[Terms of Use]\"><span class=\"link-text\">Terms of Use</span><span class=\"link-text-short\">Terms of Use</span></a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://abcnews.go.com/Site/page?id=3068843\" target=\"_blank\" name=\"lpos=nav[header_desktop_story]&lid=section[Contact Us]\"><span class=\"link-text\">Contact Us</span><span class=\"link-text-short\">Contact Us</span></a>\n</li>\n</ul>\n</div>\n<div class=\"footer-wrapper\">\n<ul class=\"footer\">\n<li class=\"footer label\">\n<span class=\"link-text\">Yahoo!-ABC News Network <span class='copy-pipe'> | </span> &copy; 2016 ABC News Internet Ventures. All rights reserved.</span>\n</li>\n</ul>\n</div>\n</div>\n</li>\n<li class=\"pillar shows\">\n<a href=\"#\">Shows</a>\n<div class=\"shows-dropdown\">\n<ul>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://abcnews.go.com/GMA\" name=\"lpos=nav[header_desktop_story]&lid=section[Good Morning America]\" data-mobile=\"false\" name=\"lpos=nav[header_story]&lid=section[Good Morning America]\">\n<span class=\"link-text\">Good Morning America</span>\n<span class=\"link-text-short\">Good Morning America</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://abcnews.go.com/WN\" name=\"lpos=nav[header_desktop_story]&lid=section[World News Tonight]\" data-mobile=\"false\" name=\"lpos=nav[header_story]&lid=section[World News Tonight]\">\n<span class=\"link-text\">World News Tonight</span>\n<span class=\"link-text-short\">World News Tonight</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://abcnews.go.com/Nightline\" name=\"lpos=nav[header_desktop_story]&lid=section[Nightline]\" data-mobile=\"false\" name=\"lpos=nav[header_story]&lid=section[Nightline]\">\n<span class=\"link-text\">Nightline</span>\n<span class=\"link-text-short\">Nightline</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://abcnews.go.com/2020\" name=\"lpos=nav[header_desktop_story]&lid=section[20/20]\" data-mobile=\"false\" name=\"lpos=nav[header_story]&lid=section[20/20]\">\n<span class=\"link-text\">20/20</span>\n<span class=\"link-text-short\">20/20</span>\n</a>\n</li>\n<li itemprop=\"name\">\n<a itemprop=\"url\" href=\"http://abcnews.go.com/ThisWeek\" name=\"lpos=nav[header_desktop_story]&lid=section[This Week]\" data-mobile=\"false\" name=\"lpos=nav[header_story]&lid=section[This Week]\">\n<span class=\"link-text\">This Week</span>\n<span class=\"link-text-short\">This Week</span>\n</a>\n</li>\n</ul>\n</div>\n</li>\n<li class=\"pillar live\" itemprop=\"name\">\n<a href=\"http://abcnews.go.com/Live\" data-tab=\"true\" data-behavior=\"livebar_handler\" itemprop=\"url\" name=\"lpos=nav[header_desktop_story]&lid=section[Live]\">Live</a>\n</li>\n<li class=\"pillar video\" itemprop=\"name\">\n<a href=\"http://abcnews.go.com/Video\" data-tab=\"true\" itemprop=\"url\" name=\"lpos=nav[header_story]&lid=section[Video]\">Video</a>\n</li>\n</ul>\n</nav>\n<nav id=\"global-nav-secondary\"></nav>\n</header>\n</div>\n<div id=\"abcn-videoplayer\" data-behavior=\"story_player\" data-playerversion=\"http://abcnewsplayer-a.akamaihd.net/player/2.53.0.0004\" class=\"offpage abcn-videoplayer\"></div>\n<section id=\"pane-main\">\n<div class=\"ad-slot ad-slot-banner ad-wrapper\" style=\"text-align: center;\" data-rain-drop=\"Banner\" data-slot-type=\"banner\" data-slot-kvps=\"pos=banner\"></div>\n<section id=\"main-container\">\n<div class=\"main-content layout-cb\">\n<!-- main article -->\n<section class=\"col-b\" data-behavior=\"author_overlay article_header_news_feed_item_meta social_tools comment\" id=\"article-feed\">\n<article class=\"article\" data-behavior=\"story_scroll story_progress\" data-id=\"43309964\" data-section=\"Politics\" data-src=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\">\n<div class=\"container\">\n<header class=\"article-header\"><h1>Clinton Rebounds on Enthusiasm; Trump Slips in a Still-Tight Race (POLL)</h1><div class=\"news-feed_item-meta\"><div class=\"article-meta\">\n<ul class=\"authors\">\n<li><div rel=\"author\" id=\"garylanger\" class=\"author\"><span class=\"by-text\">By</span> GARY LANGER</div></li>\n</ul><span class=\"timestamp\">Nov 4, 2016, 6:30 PM ET</span></div></div>\n<ul class=\"article-social horizontal\" data-id=\"43309964\" data-section=\"Politics\" data-src=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\">\n<li class=\"share-count\"><span>0</span> Shares</li><li class=\"btn-social-facebook\">\n<a class=\"btn-social facebook horizontal\" href=\"https://www.facebook.com/sharer.php?u=http%3A%2F%2Fabcnews.go.com%2FPolitics%2Fclinton-rebounds-enthusiasm-trump-slips-tight-race-poll%2Fstory%3Fid%3D43309964%26cid%3Dshare_facebook_widget\" name=\"lpos=widget[share_facebook_widget]&lid=link[horizontal]\" data-social=\"true\" target=\"_new\">\n<span class=\"icon-facebook\"></span>\n</a>\n</li><li class=\"btn-social-twitter\">\n<a class=\"btn-social twitter horizontal\" href=\"http://twitter.com/intent/tweet?text=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29+-+ABC+News+-+http%3A%2F%2Fabcn.ws%2F2e9Spia&via=ABC\" name=\"lpos=widget[share_twitter_widget]&lid=link[horizontal]\" data-social=\"true\" target=\"_new\">\n<span class=\"icon-twitter\"></span>\n</a>\n</li><li class=\"btn-social-whatsapp\">\n<a class=\"btn-social whatsapp horizontal\" href=\"whatsapp://send?text=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29 website:http%3A%2F%2Fabcnews.go.com%2FPolitics%2Fclinton-rebounds-enthusiasm-trump-slips-tight-race-poll%2Fstory%3Fid%3D43309964%26cid%3Dshare_whatsapp_widget\" name=\"lpos=widget[share_whatsapp_widget]&lid=link[horizontal]\" data-social=\"true\" target=\"_new\">\n<span class=\"icon-whatsapp\"></span>\n</a>\n</li><li class=\"internal send-email\">\n<div class=\"btn-social horizontal\">\n<a class=\"page-action email\" href=\"http://api.addthis.com/oexchange/0.8/forward/email/offer?url=http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=share_addthis_widget&title=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29\" name=\"lpos=widget[share_addthis_widget]&lid=link[footer]\" data-social=\"true\">Email\n<span class=\"icon-mail\"></span>\n</a>\n</div>\n</li>\n<li class=\"internal h-star\">\n<div class=\"page-action native-star\" data-alert-tag=\"Elections\" data-alert-tag-callback=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\">Star <span class=\"icon-star\"></span></div>\n</li>\n</ul></header><figure class=\"article-figure video v-lead\" data-video=\"43317313\">\n<div class=\"img-wrap\">\n<picture><img src=\"http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_12x5_1600.jpg\" border=\"0\" width=\"1600\" height=\"669\" alt=\"PHOTO: Donald Trump speaks in New Hampshire on Nov. 4, 2016 and Hillary Clinton speaks in Las Vegas on Nov. 2, 2016.\" itemprop='image'/><span class=\"video-play-button\" data-id=\"43317313\">Play<span class=\"icon-play-plain\"></span></span></picture><span class=\"credit\">Evan Vucci/AP | Justin Sullivan/Getty Images</span></div><figcaption><span class=\"caption\"><span class=\"v-credit\">WATCH</span> The Final Push Before Election Day</span></figcaption></figure><div class=\"article-body\"><ul class=\"article-social vertical\" data-behavior=\"sticky_social\" data-id=\"43309964\" data-src=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\">\n<li class=\"share-count\"><span>0</span> Shares</li><li>\n<a class=\"btn-social facebook vertical\" name=\"lpos=widget[share_facebook_widget]&lid=link[vertical]\" data-social=\"true\" href=\"https://www.facebook.com/sharer.php?u=http%3A%2F%2Fabcnews.go.com%2FPolitics%2Fclinton-rebounds-enthusiasm-trump-slips-tight-race-poll%2Fstory%3Fid%3D43309964%26cid%3Dshare_facebook_widget\" target=\"_new\">\n<span class=\"icon-facebook\"></span>\n</a>\n</li><li>\n<a class=\"btn-social twitter vertical\" name=\"lpos=widget[share_twitter_widget]&lid=link[vertical]\" data-social=\"true\" href=\"http://twitter.com/intent/tweet?text=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29+-+ABC+News+-+http%3A%2F%2Fabcn.ws%2F2e9Spia&via=ABC\" target=\"_new\">\n<span class=\"icon-twitter\"></span>\n</a>\n</li><li>\n<a class=\"btn-social whatsapp vertical\" name=\"lpos=widget[share_whatsapp_widget]&lid=link[vertical]\" data-social=\"true\" href=\"whatsapp://send?text=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29 website:http%3A%2F%2Fabcnews.go.com%2FPolitics%2Fclinton-rebounds-enthusiasm-trump-slips-tight-race-poll%2Fstory%3Fid%3D43309964%26cid%3Dshare_whatsapp_widget\" target=\"_new\">\n<span class=\"icon-whatsapp\"></span>\n</a>\n</li><li class=\"internal send-email\">\n<div class=\"btn-social vertical\">\n<a class=\"page-action email\" href=\"http://api.addthis.com/oexchange/0.8/forward/email/offer?url=http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=share_addthis_widget&title=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29\" name=\"lpos=widget[share_addthis_widget]&lid=link[vertical]\" data-social=\"true\">\nEmail <span class=\"icon-mail\"></span>\n</a>\n</div>\n</li>\n</ul><div class=\"article-copy\">\n<p itemprop=\"articleBody\">\nSupport for <a href=\"http://abcnews.go.com/topics/news/donald-trump.htm\" id=\"ramplink_Donald Trump_\" target=\"_blank\">Donald Trump</a> has slipped to its lowest in 10 days and enthusiasm for <a href=\"http://abcnews.go.com/topics/news/whitehouse/hillary-clinton.htm\" id=\"ramplink_Hillary Clinton_\" target=\"_blank\">Hillary Clinton</a> has recovered from its apparent damage by the latest FBI email investigation. Yet the race between them remains close in the latest ABC News/Washington Post tracking poll.\n</p><p itemprop=\"articleBody\">\nForty-seven percent of likely voters support Clinton with 43 percent for Trump in the latest four-night results. Whether it holds is an open question: Monday nightâ€™s results, the best for Clinton in the series, will roll out tomorrow.\n</p><p itemprop=\"articleBody\">\nWhile the shifts have been within the surveyâ€™s margin of sampling error, the contest has gone from +1 Trump, 45-46 percent, Oct. 30, to +4 Clinton today. Trumpâ€™s support now is numerically its lowest since Oct. 25.\n</p><p itemprop=\"articleBody\">\n<a href=\"http://www.langerresearch.com/wp-content/uploads/1184a142016ElectionTrackingNo14.pdf\" target=\"_blank\">See PDF with full results here.</a>\n</p><p itemprop=\"articleBody\">\n</p><div class=\"t_markup \"><img src=\"http://a.abcnews.com/images/Politics/VotePreference110416.png\" width=\"100%\"></div>\n<p itemprop=\"articleBody\">\n</p>\n<p itemprop=\"articleBody\">\nOther shifts, all slight, are in sync. With the controversial FBI email announcement fading back a bit, Clinton has regrouped on strong enthusiasm -- up 6 points in just two days, and now essentially even with Trump for the first time since before the Comey letter.\n</p><p itemprop=\"articleBody\">\nMoreover, Clintonâ€™s deficit on whoâ€™s more honest and trustworthy has eased in this poll, produced for ABC by <a href=\"http://www.langerresearch.com\" target=\"_blank\">Langer Research Associates</a>. It was Trump +8 points immediately post-Comey, Trumpâ€™s first significant lead on this attribute, but has narrowed to a non-significant Trump +4 now.\n</p><p itemprop=\"articleBody\">\n</p><div class=\"t_markup \"><img src=\"http://a.abcnews.com/images/Politics/HonestTrustworthy.png\" width=\"100%\"></div>\n<p itemprop=\"articleBody\">\n</p>\n<p itemprop=\"articleBody\">\nThese results signal how, with so much reluctant support for both unpopular candidates, vote intention and preferences are vulnerable to events. Trump suffered after the height of sexual misconduct allegations against him, then recovered; initial signs of damage to Clinton after the FBI announcement, now, likewise, seem to be pulling back.\n</p><p itemprop=\"articleBody\">\nThereâ€™s a little time for further influence, but not for 30 percent of likely voters: Theyâ€™ve already voted, by 50-44 percent, Clinton-Trump, in the ABC/Post tracking estimate.\n</p><p itemprop=\"articleBody\">\n<strong></strong></p><h2>Enthusiasm</h2>\n<p itemprop=\"articleBody\">\nEnthusiasm has followed a far more variable path in Clintonâ€™s case than in Trumpâ€™s. As few as 36 percent of her supporters, in mid-September, were very enthusiastic about their choice. That advanced to 52 percent by the start of tracking, apparently motivated by controversy over Trumpâ€™s sexual conduct. Clintonâ€™s strong enthusiasm then lost 7 points after the Comey letter announcing a renewed email investigation, only to rebound now.\n</p><p itemprop=\"articleBody\">\nStrong enthusiasm for Trump among his supporters has followed a steadier path recently, after peaking at 55 percent, in mid-September and sliding to 47 percent three weeks later. Itâ€™s held between 49 and 53 percent since.\n</p><p itemprop=\"articleBody\">\n</p><div class=\"t_markup \"><img src=\"http://a.abcnews.com/images/Politics/StrongEnthusiasm.png\" width=\"100%\"></div>\n<p itemprop=\"articleBody\">\n</p>\n<p itemprop=\"articleBody\">\n<strong></strong></p><h2>Groups</h2>\n<p itemprop=\"articleBody\">\nSupport for Trump has weakened a bit among Republicans and Republican-leaning independents, down to 82 percent support in this group, near his low; 6 percent are going to Gary Johnson, the Libertarian candidate. Clinton, by contrast, has support from 87 percent of leaned Democrats, with just 2 percent to Johnson.\n</p><p itemprop=\"articleBody\">\nBy region, Clinton is unusually competitive in the South, 46-45 percent, a region Mitt Romney won by 10 points in 2012 and John McCain won by 9 in 2008. Women and minorities are boosting there. (Bill Clinton ran about evenly in the South with his opponents in 1992 and â€™96.) Itâ€™s also close in the Midwest, 43-46 percent, Clinton-Trump; Obama won this region by 10 points in 2008, and ran evenly there with Romney in 2012.\n</p><p itemprop=\"articleBody\">\nNotable, too, is that Trumpâ€™s advantage among white women who donâ€™t hold a four-year college degree has advanced to 29-63 percent, Clinton-Trump, his widest margin in this group since mid-October, and even numerically exceeding his margin among his mainstay group, non-college white men, 29-59 percent.\n</p><p itemprop=\"articleBody\">\nClinton, for her part, has a 25-point lead among college-educated white women, 58-33 percent, while the contest among college-educated white men is essentially a tie. In all, itâ€™s a 38-52 percent race, Clinton-Trump, among whites, while itâ€™s 75-17 percent among nonwhites.\n</p><p itemprop=\"articleBody\">\nAlso of note is the battleground suburbs, now 47-43 percent overall, with Clinton boosted by suburban women, 54-38 percent.\n</p><p itemprop=\"articleBody\">\nFinally, given its size, the tracking poll -- now with 4,613 interviews of likely voters since Oct. 20 -- can be used to evaluate preferences in groups too small for analysis in most surveys. One such group is nonwhites who are neither black nor Hispanic, 6 percent of likely voters. After a lukewarm result for Clinton earlier in tracking, theyâ€™ve moved to 62-28 percent support for her, nearer where they were for Obama in the 2012 exit poll.\n</p><p itemprop=\"articleBody\">\nAnother is Jews, just 2 percent of likely voters. They favor Clinton by 73-18 percent, a wider gap for the Democrat than in 2012 (69-30 percent) but about the same as in 2008. Thatâ€™s fairly similar to results among non-religious voters, 63-25 percent, with evangelical white Protestants across the spectrum, 16-78 percent, Clinton-Trump.\n</p><p itemprop=\"articleBody\">\nSample sizes are inadequate for other small religious groups, e.g. Mormons and Muslims.\n</p><p itemprop=\"articleBody\">\n<strong></strong></p><h2>Methodology</h2>\n<p itemprop=\"articleBody\">\nThis ABC News/Washington Post poll was conducted by landline and cellular telephone Oct. 31-Nov. 3, 2016, in English and Spanish, among a random national sample of 1,419 likely voters. Results have a <a href=\"http://abcnews.go.com/PollingUnit/sampling-error-means/story?id=5984818&nfo=/desktop_newsfeed_ab_refer_homepage\" target=\"_blank\">margin of sampling error</a> of 3 points, including the design effect. Partisan divisions are 37-30-29 percent, Democrats-Republicans-independents.\n</p><p itemprop=\"articleBody\">\nThe survey was produced for ABC News by <a href=\"http://www.langerresearch.com\" target=\"_blank\">Langer Research Associates</a> of New York, N.Y., with sampling, data collection and tabulation by Abt-SRBI of New York, N.Y. See details on the surveyâ€™s methodology <a href=\"http://abcnews.go.com/US/PollVault/abc-news-polling-methodology-standards/story?id=145373&nfo=/desktop_newsfeed_ab_refer_homepage\" target=\"_blank\">here</a>.</p>\n</div>\n</div>\n<footer class=\"article-footer\"><div class=\"outbrain-container\" data-src=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" data-ob-template=\"abc\"></div>\n<div class=\"social-footer-wrapper\">\n<ul class=\"article-social footer\" data-content-id=\"43309964\" data-src=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\">\n<li class=\"share-count\"><span>0</span> Shares</li><li class=\"btn-social-facebook\">\n<a class=\"btn-social facebook footer\" href=\"https://www.facebook.com/sharer.php?u=http%3A%2F%2Fabcnews.go.com%2FPolitics%2Fclinton-rebounds-enthusiasm-trump-slips-tight-race-poll%2Fstory%3Fid%3D43309964%26cid%3Dshare_facebook_widget\" name=\"lpos=widget[share_facebook_widget]&lid=link[footer]\" data-social=\"true\" target=\"_new\">\n<span class=\"icon-facebook\"></span>\n</a>\n</li><li class=\"btn-social-twitter\">\n<a class=\"btn-social twitter footer\" href=\"http://twitter.com/intent/tweet?text=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29+-+ABC+News+-+http%3A%2F%2Fabcn.ws%2F2e9Spia&via=ABC\" name=\"lpos=widget[share_twitter_widget]&lid=link[footer]\" data-social=\"true\" target=\"_new\">\n<span class=\"icon-twitter\"></span>\n</a>\n</li><li class=\"btn-social-whatsapp\">\n<a class=\"btn-social whatsapp footer\" href=\"whatsapp://send?text=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29 website:http%3A%2F%2Fabcnews.go.com%2FPolitics%2Fclinton-rebounds-enthusiasm-trump-slips-tight-race-poll%2Fstory%3Fid%3D43309964%26cid%3Dshare_whatsapp_widget\" name=\"lpos=widget[share_whatsapp_widget]&lid=link[footer]\" data-social=\"true\" target=\"_new\">\n<span class=\"icon-whatsapp\"></span>\n</a>\n</li><li class=\"internal send-email\">\n<div class=\"btn-social footer\">\n<a class=\"page-action email\" href=\"http://api.addthis.com/oexchange/0.8/forward/email/offer?url=http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=share_addthis_widget&title=Clinton+Rebounds+on+Enthusiasm%3B+Trump+Slips+in+a+Still-Tight+Race+%28POLL%29\" name=\"lpos=widget[share_addthis_widget]&lid=link[footer]\" data-social=\"true\">\nEmail <span class=\"icon-mail\"></span>\n</a>\n</div>\n</li>\n<li class=\"internal\">\n<div class=\"page-action native-star\" data-alert-tag=\"Elections\" data-social=\"true\" data-alert-tag-callback=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\">\nStar <span class=\"icon-star\"></span>\n</div>\n</li>\n</ul>\n</div><div class=\"internal comments\">\n<div class=\"page-action comment button-alt lg\" data-src=\"http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" data-content-id=\"43309964\">Comments</div>\n</div></footer>\n</div>\n</article>\n</section>\n<!-- news feed -->\n<section id=\"news-feed\" class=\"col-c chk-height\" data-behavior=\"desktop_story_news_feed\">\n<div id=\"news-feed-content\" class=\"sidebar\">\n<div class=\"container-wrapper\">\n<div class=\"container\">\n<article data-id=\"43309964\" class=\"news-feed-item w-images\" data-index=\"0\"> <a class=\"story-link\" data-id=\"43309964\" name=\"lpos=newsfeed[story_43309964]&lid=[image]\" href=\"/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_43309964]&lid=[headline]\" href=\"/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964\" data-redirect=\"false\">Clinton Rebounds on Enthusiasm; Trump Slips Overall in Latest Poll</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article><div data-str-native-key=\"eda65e14\" style=\"display: none;\"></div></article> <article data-id=\"44173919\" class=\"news-feed-item w-images\" data-index=\"4\"> <a class=\"story-link\" data-id=\"44173919\" name=\"lpos=newsfeed[story_44173919]&lid=[image]\" href=\"/Politics/donald-trump-invites-tech-ceos-york-tech-summit/story?id=44173919\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Politics/GTY-donald-trump-jt-161210_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Politics/GTY-donald-trump-jt-161210_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44173919]&lid=[headline]\" href=\"/Politics/donald-trump-invites-tech-ceos-york-tech-summit/story?id=44173919\" data-redirect=\"false\">Trump to Hold 'Tech Summit' in New York</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44190652\" class=\"news-feed-item w-images\" data-index=\"3\"> <a class=\"story-link\" data-id=\"44190652\" name=\"lpos=newsfeed[story_44190652]&lid=[image]\" href=\"/Politics/trump-transition-backs-controversial-questionnaire-energy-department/story?id=44190652\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Politics/gty-forrestal-building-dept-of-energy-jc-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Politics/gty-forrestal-building-dept-of-energy-jc-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44190652]&lid=[headline]\" href=\"/Politics/trump-transition-backs-controversial-questionnaire-energy-department/story?id=44190652\" data-redirect=\"false\">Trump Team Backs Away From Controversial Questionnaire to Energy Dept.</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article class=\"ad-300\"><div class=\"ad-slot ad-wrapper ad-slot-incontent-strip ad-slot-incontent\" data-rain-drop=\"Rectangle\"><!-- ad --></div></article> <article data-id=\"44186423\" class=\"news-feed-item w-images\" data-index=\"7\"> <a class=\"story-link\" data-id=\"44186423\" name=\"lpos=newsfeed[story_44186423]&lid=[image]\" href=\"/Business/fed-hikes-key-interest-rate-time-decade/story?id=44186423\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Business/GTY_federal_reserve_as_160817_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Business/GTY_federal_reserve_as_160817_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44186423]&lid=[headline]\" href=\"/Business/fed-hikes-key-interest-rate-time-decade/story?id=44186423\" data-redirect=\"false\">Fed Hikes Key Interest Rate for 2nd Time in a Decade</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44191194\" class=\"news-feed-item w-images\" data-index=\"6\"> <a class=\"story-link\" data-id=\"44191194\" name=\"lpos=newsfeed[story_44191194]&lid=[image]\" href=\"/US/tragedy-strikes-small-ny-town-boy-dies-buried/story?id=44191194\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/abc-snowbank-er-161214_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/abc-snowbank-er-161214_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44191194]&lid=[headline]\" href=\"/US/tragedy-strikes-small-ny-town-boy-dies-buried/story?id=44191194\" data-redirect=\"false\">Tragedy Strikes NY Town When Boy Dies After Being Buried in Snow</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44185475\" class=\"news-feed-item no-images\" data-index=\"7\"> <a class=\"story-link\" data-id=\"44185475\" name=\"lpos=newsfeed[story_44185475]&lid=[image]\" href=\"/Politics/wireStory/democrats-cite-govt-trump-divest-dc-hotel-44185475\" data-redirect=\"false\"></a><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44185475]&lid=[headline]\" href=\"/Politics/wireStory/democrats-cite-govt-trump-divest-dc-hotel-44185475\" data-redirect=\"false\">Democrats Cite Govt: Trump Must Divest From DC Hotel</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44160145\" class=\"news-feed-item w-images\" data-index=\"17\"> <a class=\"story-link\" data-id=\"44160145\" name=\"lpos=newsfeed[story_44160145]&lid=[image]\" href=\"/Politics/trump-expected-rick-perry-energy-secretary/story?id=44160145\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Politics/AP-rick-perry1-ml-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Politics/AP-rick-perry1-ml-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44160145]&lid=[headline]\" href=\"/Politics/trump-expected-rick-perry-energy-secretary/story?id=44160145\" data-redirect=\"false\">Trump Names Rick Perry as Pick for Energy Secretary </a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44176270\" class=\"news-feed-item w-images\" data-index=\"9\"> <a class=\"story-link\" data-id=\"44176270\" name=\"lpos=newsfeed[story_44176270]&lid=[image]\" href=\"/US/details-emerge-pizzagate-shooting-suspect-faces-federal-charges/story?id=44176270\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/AP-pizzagate-01-as-161208_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/AP-pizzagate-01-as-161208_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44176270]&lid=[headline]\" href=\"/US/details-emerge-pizzagate-shooting-suspect-faces-federal-charges/story?id=44176270\" data-redirect=\"false\">New Details Emerge in 'Pizzagate' Shooting</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44175802\" class=\"news-feed-item w-images\" data-index=\"10\"> <a class=\"story-link\" data-id=\"44175802\" name=\"lpos=newsfeed[story_44175802]&lid=[image]\" href=\"/Lifestyle/wirecutters-top-picks-winter-boots/story?id=44175802\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/HT-sorel-madison-original-boots-float-jt-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/HT-sorel-madison-original-boots-float-jt-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44175802]&lid=[headline]\" href=\"/Lifestyle/wirecutters-top-picks-winter-boots/story?id=44175802\" data-redirect=\"false\">The Wirecutter's Top Picks for Winter Boots</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44159456\" class=\"news-feed-item w-images\" data-index=\"10\"> <a class=\"story-link\" data-id=\"44159456\" name=\"lpos=newsfeed[story_44159456]&lid=[image]\" href=\"/Entertainment/lebron-james-humbled-si-sportsperson-year-award/story?id=44159456\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Sports/_OS_0137_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Sports/_OS_0137_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44159456]&lid=[headline]\" href=\"/Entertainment/lebron-james-humbled-si-sportsperson-year-award/story?id=44159456\" data-redirect=\"false\">LeBron James 'Humbled' by SI Sportsperson of the Year Award</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44140641\" class=\"news-feed-item w-images\" data-index=\"12\"> <a class=\"story-link\" data-id=\"44140641\" name=\"lpos=newsfeed[story_44140641]&lid=[image]\" href=\"/International/moose-rescued-icy-river-firefighters-canada/story?id=44140641\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/International/AP-moose-rescue2-cf-161212_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/International/AP-moose-rescue2-cf-161212_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44140641]&lid=[headline]\" href=\"/International/moose-rescued-icy-river-firefighters-canada/story?id=44140641\" data-redirect=\"false\">Moose Rescued From Icy River by Firefighters in Canada</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44059784\" class=\"news-feed-item w-images\" data-index=\"13\"> <a class=\"story-link\" data-id=\"44059784\" name=\"lpos=newsfeed[story_44059784]&lid=[image]\" href=\"/Health/grieving-mom-hides-hot-wheels-town-honor-son/story?id=44059784\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Lifestyle/ht-brooks-3-er-161208_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Lifestyle/ht-brooks-3-er-161208_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44059784]&lid=[headline]\" href=\"/Health/grieving-mom-hides-hot-wheels-town-honor-son/story?id=44059784\" data-redirect=\"false\">Grieving Mom Hides Hot Wheels Around Town in Honor of Late Son</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44087882\" class=\"news-feed-item w-images\" data-index=\"14\"> <a class=\"story-link\" data-id=\"44087882\" name=\"lpos=newsfeed[story_44087882]&lid=[image]\" href=\"/Lifestyle/secret-santa-pays-off-overdue-lunch-balances-kids/story?id=44087882\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Lifestyle/HT-kdka-lunch-balances-1-jt-161209_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Lifestyle/HT-kdka-lunch-balances-1-jt-161209_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44087882]&lid=[headline]\" href=\"/Lifestyle/secret-santa-pays-off-overdue-lunch-balances-kids/story?id=44087882\" data-redirect=\"false\">'Secret Santa' Pays Off Overdue Lunch Balances for Kids at Pennsylvania School </a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44185981\" class=\"news-feed-item w-images\" data-index=\"17\"> <a class=\"story-link\" data-id=\"44185981\" name=\"lpos=newsfeed[story_44185981]&lid=[image]\" href=\"/US/amazon-completes-drone-delivery/story?id=44185981\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/HT-Amazon-Prime-Air-Private-Trial-Ground-MEM-161214_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/HT-Amazon-Prime-Air-Private-Trial-Ground-MEM-161214_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44185981]&lid=[headline]\" href=\"/US/amazon-completes-drone-delivery/story?id=44185981\" data-redirect=\"false\">Amazon Completes First Drone Delivery</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44185060\" class=\"news-feed-item no-images\" data-index=\"16\"> <a class=\"story-link\" data-id=\"44185060\" name=\"lpos=newsfeed[story_44185060]&lid=[image]\" href=\"/Sports/wireStory/lawyer-slain-nfl-players-family-meets-da-44185060\" data-redirect=\"false\"></a><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44185060]&lid=[headline]\" href=\"/Sports/wireStory/lawyer-slain-nfl-players-family-meets-da-44185060\" data-redirect=\"false\">Lawyer: Slain Former NFL Player's Family Meets With DA</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44182871\" class=\"news-feed-item no-images\" data-index=\"17\"> <a class=\"story-link\" data-id=\"44182871\" name=\"lpos=newsfeed[story_44182871]&lid=[image]\" href=\"/International/wireStory/past-cia-director-british-premier-trump-spy-data-44182871\" data-redirect=\"false\"></a><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44182871]&lid=[headline]\" href=\"/International/wireStory/past-cia-director-british-premier-trump-spy-data-44182871\" data-redirect=\"false\">Past CIA Director, British Premier Say Trump Needs Spy Data</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44186884\" class=\"news-feed-item no-images\" data-index=\"20\"> <a class=\"story-link\" data-id=\"44186884\" name=\"lpos=newsfeed[story_44186884]&lid=[image]\" href=\"/US/wireStory/army-sergeant-texas-admits-funneling-weapons-cartel-44186884\" data-redirect=\"false\"></a><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44186884]&lid=[headline]\" href=\"/US/wireStory/army-sergeant-texas-admits-funneling-weapons-cartel-44186884\" data-redirect=\"false\">Army Sergeant in Texas Admits Funneling Weapons to Cartel</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44182199\" class=\"news-feed-item no-images\" data-index=\"19\"> <a class=\"story-link\" data-id=\"44182199\" name=\"lpos=newsfeed[story_44182199]&lid=[image]\" href=\"/Politics/wireStory/trump-rewards-michigan-party-chair-national-role-44182199\" data-redirect=\"false\"></a><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44182199]&lid=[headline]\" href=\"/Politics/wireStory/trump-rewards-michigan-party-chair-national-role-44182199\" data-redirect=\"false\">Trump Rewards Michigan Party Chair With National Role</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44185820\" class=\"news-feed-item w-images\" data-index=\"20\"> <a class=\"story-link\" data-id=\"44185820\" name=\"lpos=newsfeed[story_44185820]&lid=[image]\" href=\"/US/charleston-church-shooting-survivor-prayed-dylann-roof-gunned/story?id=44185820\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/AP-Dylann-Roof-Charleston-Church-Shooting-MEM-161212_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/AP-Dylann-Roof-Charleston-Church-Shooting-MEM-161212_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44185820]&lid=[headline]\" href=\"/US/charleston-church-shooting-survivor-prayed-dylann-roof-gunned/story?id=44185820\" data-redirect=\"false\">Shooting Survivor Says She Prayed as Roof Gunned Down Helpless Parishioners</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44138508\" class=\"news-feed-item w-images\" data-index=\"21\"> <a class=\"story-link\" data-id=\"44138508\" name=\"lpos=newsfeed[story_44138508]&lid=[image]\" href=\"/US/accused-charleston-church-shooter-dylann-roof-handwritten-note/story?id=44138508\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/AP-Dylann-Roof-Charleston-Church-Shooting-MEM-161212_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/AP-Dylann-Roof-Charleston-Church-Shooting-MEM-161212_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44138508]&lid=[headline]\" href=\"/US/accused-charleston-church-shooter-dylann-roof-handwritten-note/story?id=44138508\" data-redirect=\"false\">Accused Church Shooter Had Handwritten Note Listing Churches</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44070131\" class=\"news-feed-item w-images\" data-index=\"22\"> <a class=\"story-link\" data-id=\"44070131\" name=\"lpos=newsfeed[story_44070131]&lid=[image]\" href=\"/US/accused-charleston-church-shooter-dylann-roofs-video-confession/story?id=44070131\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/US/GTY-dylann-roof-01-as-161208_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/US/GTY-dylann-roof-01-as-161208_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44070131]&lid=[headline]\" href=\"/US/accused-charleston-church-shooter-dylann-roofs-video-confession/story?id=44070131\" data-redirect=\"false\">Accused Church Shooter Laughed During 'Confession'</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44184443\" class=\"news-feed-item w-images\" data-index=\"22\"> <a class=\"story-link\" data-id=\"44184443\" name=\"lpos=newsfeed[story_44184443]&lid=[image]\" href=\"/Weird/wireStory/christmas-trees-free-ohio-donor-buys-lot-44184443\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Lifestyle/NC-Xmas-Trees-Sale-MEM-161214_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Lifestyle/NC-Xmas-Trees-Sale-MEM-161214_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44184443]&lid=[headline]\" href=\"/Weird/wireStory/christmas-trees-free-ohio-donor-buys-lot-44184443\" data-redirect=\"false\">Christmas Trees for Free After Ohio Donor Buys the Lot</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44163626\" class=\"news-feed-item w-images\" data-index=\"24\"> <a class=\"story-link\" data-id=\"44163626\" name=\"lpos=newsfeed[story_44163626]&lid=[image]\" href=\"/Lifestyle/wife-creatively-includes-deployed-air-force-husband-family/story?id=44163626\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Lifestyle/HT_ashley-sistrunk-family-christmas-card-3-float-jt-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Lifestyle/HT_ashley-sistrunk-family-christmas-card-3-float-jt-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44163626]&lid=[headline]\" href=\"/Lifestyle/wife-creatively-includes-deployed-air-force-husband-family/story?id=44163626\" data-redirect=\"false\">Wife Creatively Includes Deployed Air Force Husband in Family Christmas Card</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44163328\" class=\"news-feed-item w-images\" data-index=\"25\"> <a class=\"story-link\" data-id=\"44163328\" name=\"lpos=newsfeed[story_44163328]&lid=[image]\" href=\"/Lifestyle/year-fighting-brain-cancer-holds-toy-drive-friends/story?id=44163328\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Lifestyle/HT-toy-drive1-ml-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Lifestyle/HT-toy-drive1-ml-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44163328]&lid=[headline]\" href=\"/Lifestyle/year-fighting-brain-cancer-holds-toy-drive-friends/story?id=44163328\" data-redirect=\"false\">4-Year-Old Fighting Brain Cancer Holds Toy Drive for Friends Still in Hospital </a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44183246\" class=\"news-feed-item w-images\" data-index=\"26\"> <a class=\"story-link\" data-id=\"44183246\" name=\"lpos=newsfeed[story_44183246]&lid=[image]\" href=\"/Technology/wireStory/uber-driving-cars-hit-streets-san-francisco-44183246\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Technology/WireAP_38d3c3826bbe4872935a760bec056943_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Technology/WireAP_38d3c3826bbe4872935a760bec056943_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44183246]&lid=[headline]\" href=\"/Technology/wireStory/uber-driving-cars-hit-streets-san-francisco-44183246\" data-redirect=\"false\">Uber Self-Driving Cars Hit the Streets of San Francisco</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44163270\" class=\"news-feed-item w-images\" data-index=\"27\"> <a class=\"story-link\" data-id=\"44163270\" name=\"lpos=newsfeed[story_44163270]&lid=[image]\" href=\"/International/inside-controversial-president-philippines-war-drugs-left-thousands/story?id=44163270\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/International/AP-President-Rodrigo-Duterte-MEM-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/International/AP-President-Rodrigo-Duterte-MEM-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44163270]&lid=[headline]\" href=\"/International/inside-controversial-president-philippines-war-drugs-left-thousands/story?id=44163270\" data-redirect=\"false\">Inside the Philippines President's War on Drugs</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44183106\" class=\"news-feed-item w-images\" data-index=\"28\"> <a class=\"story-link\" data-id=\"44183106\" name=\"lpos=newsfeed[story_44183106]&lid=[image]\" href=\"/Entertainment/wireStory/shannen-doherty-glimpse-breast-cancer-treatment-44183106\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Entertainment/ht-shannen-doherty-cancer-treatment-instagram-float-jc-161214_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Entertainment/ht-shannen-doherty-cancer-treatment-instagram-float-jc-161214_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44183106]&lid=[headline]\" href=\"/Entertainment/wireStory/shannen-doherty-glimpse-breast-cancer-treatment-44183106\" data-redirect=\"false\">Shannen Doherty Gives Glimpse of Breast Cancer Treatment</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article> <article data-id=\"44168932\" class=\"news-feed-item w-images\" data-index=\"29\"> <a class=\"story-link\" data-id=\"44168932\" name=\"lpos=newsfeed[story_44168932]&lid=[image]\" href=\"/Entertainment/ben-affleck-matt-damons-jealous-play-batman/story?id=44168932\" data-redirect=\"false\"></a><figure class=\"feed-item-figure\"><div class=\"img-wrap\">\"<picture> <source data-srcset=\"http://a.abcnews.com/images/Entertainment/GTY-Affleck-Damon-MEM-161213_16x9t_240.jpg\"><img data-sizes=\"auto\" data-default-src=\"http://a.abcnews.com/images/Entertainment/GTY-Affleck-Damon-MEM-161213_16x9t_240.jpg\" class=\"lazyload\" data-image-container=\".feed-item-figure\" /></picture></div></figure><div class=\"text-container\"> <div class=\"item-info-wrap\"><h1> <a class=\"realStory\" name=\"lpos=newsfeed[story_44168932]&lid=[headline]\" href=\"/Entertainment/ben-affleck-matt-damons-jealous-play-batman/story?id=44168932\" data-redirect=\"false\">Ben Affleck Says Matt Damon's Jealous He Gets to Play Batman</a> </h1><div class=\"news-feed_item-meta\"> </div> </div> </div> </article>\n</div>\n</div>\n</div>\n</section>\n</div>\n</section>\n</section>\n</div>\n<script>\nwindow.abcnvideo = window.abcnvideo || {};\nwindow.abcnvideo.storysection = \"politics\";\nwindow.abcnvideo.storyid = \"43309964\";\nwindow.abcnvideo.show = \"wn\";\nwindow.abcnvideo.url = \"/WNT/video/final-push-election-day-43317313\";\nwindow.abcnvideo.playlist = [43317313, 43318151, 43297573, 43297571, 43297572];\nwindow.abcnvideo.editorautostart = \"true\";\nwindow.abcnvideo.featuredvideo = \"The Final Push Before Election Day\";\nwindow.abcnvideo.featuredimage = \"http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_12x5_1600.jpg\";\nwindow.abcnvideo.uniUrl = \"http://once.unicornmedia.com/now/od/auto/98330877-5095-4ac9-9a8c-7cdcd3944274/15a750c8-e7be-4371-b5c3-dd911c0d8bb0/wnt-43317313/content.once?UMADPARAMcsid=nws_smartphone_politics&UMADPARAMcaid=news-43317313&UMADPARAMusernum=272916&UMXBeacon=http%3A%2F%2Fw88.go.com%2Fb%2Fss%2Fwdgnewabcnews%2Cwdgasec%2F5%2FH.16%2F55584%3Fevents%3Devent1%26pe%3Dlnk_o%26pev2%3DvideoStart%26c4%3Dvideo%26ch%3Dabcn_app%3Awnt%26c3%3D43317313%7C161104_wn_vega_630_video%7Csec_wnt%7Esec_wn%7Cthe-final-push-before-election-day%26v2%3D43317313%7C161104_wn_vega_630_video%7Csec_wnt%7Esec_wn%7Cthe-final-push-before-election-day%26c18%3Dplayer%7Cstorypage%26v15%3Dplayer%7Cstorypage%26c25%3D43317313%26v12%3D43317313%26c16%3Dvideoadtree%7CNews%2FPolitics%26v20%3Dvideoadtree%7CNews%2FPolitics\"\nwindow.leadStoryAnalytics = \"{\\\"site\\\":\\\"site\\\",\\\"pageName\\\":\\\"abcn|sec_politics|||20161104|43309964|story|langer_trackingpoll14_20161105\\\",\\\"pageURL\\\":\\\"\\\",\\\"pageType\\\":\\\"\\\",\\\"server\\\":\\\"replaceMe\\\",\\\"prop4\\\":\\\"story\\\",\\\"prop1\\\":\\\"abcn\\\",\\\"channel\\\":\\\"abcn:politics\\\",\\\"prop5\\\":\\\"abcn:politics\\\",\\\"prop6\\\":\\\"abcn:politics::\\\",\\\"prop13\\\":\\\"langer,gary\\\",\\\"prop16\\\":\\\"abcnews\\\",\\\"prop37\\\":\\\"storypage-hasvideo\\\",\\\"prop41\\\":\\\"elections\\\",\\\"prop18\\\":\\\"43309964:langer_trackingpoll14_20161105\\\",\\\"prop24\\\":\\\"43309964|Clinton Rebounds on Enthusiasm; Trump Slips...\\\",\\\"prop25\\\":\\\"\\\",\\\"prop26\\\":\\\"\\\",\\\"hier1\\\":\\\"abcn:politics\\\",\\\"eVar20\\\":\\\"langer,gary\\\",\\\"eVar16\\\":\\\"abcn|sec_politics|||20161104|43309964|story|langer_trackingpoll14_20161105\\\",\\\"eVar17\\\":\\\"story:abcn:politics\\\",\\\"varnish_device\\\":\\\"site\\\",\\\"storyID\\\":43309964}\";\nwindow.leadTQ = \"{\\\"realsection\\\":\\\"\\\",\\\"id\\\":\\\"43309964\\\",\\\"othersubs\\\":\\\"\\\",\\\"altsection\\\":\\\"default\\\",\\\"byline\\\":\\\"gary langer\\\",\\\"objType\\\":\\\"story\\\",\\\"keywords\\\":\\\"\\\",\\\"subsection\\\":\\\"\\\",\\\"recipes\\\":\\\"\\\",\\\"path\\\":\\\"\\/News\\/Politics\\/story\\/\\\",\\\"show\\\":\\\"\\\",\\\"caid\\\":\\\"News\\/Politics\\\",\\\"section\\\":\\\"politics\\\"}\";\nwindow.chartbeatConfig = \"{\\\"location\\\":\\\"\\/Politics\\/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll\\/story?id=43309964\\\",\\\"pageName\\\":\\\"Clinton Rebounds on Enthusiasm; Trump Slips in a Still-Tight Race (POLL)\\\"}\";\n</script>\n<script src=\"http://a.abcnews.com/assets/beta/js/abcn.js?v=162\"></script>\n<script type=\"text/javascript\" src=\"http://abcnewsplayer-a.akamaihd.net/player/2.53.0.0004/amp.premier/amp.premier.min.js?v=2\"></script>\n<script src=\"http://a.abcnews.com/assets/beta/js/custom/pages/trident_story.js?v=162\"></script>\n<!-- SiteCatalyst code version: H.15.1 Copyright 1997-2007 Omniture, Inc. More info available at http://www.omniture.com -->\n<script language=\"JavaScript\">\nvar s_account = \"wdgnewabcnews,wdgasec\";\n</script>\n<script language=\"JavaScript\" src=\"http://a.abcnews.com/assets/js/s_code_15.js?v=4\"></script>\n<script language=\"JavaScript\">\n// Optimizely SiteCatalyst Integration\nwindow.optimizely = window.optimizely || [];\nwindow.optimizely.push(['activateSiteCatalyst', {\"sVariable\": s_omni}]);\ns_omni.pageName = \"abcn|sec_politics|||20161104|43309964|story|langer_trackingpoll14_20161105\"; //content name\ns_omni.pageURL = \"\"; //content url\ns_omni.pageType = \"\"; //page type\ns_omni.server = window.document.location.hostname; //reporting domain\ns_omni.prop4 = \"story\"; //content type\ns_omni.prop1 = \"abcn\"; //site name\ns_omni.channel = \"abcn:politics\"; //level1\ns_omni.prop5 = \"abcn:politics\"; //level2\ns_omni.prop6 = \"abcn:politics::\"; //level3\ns_omni.prop13 = \"langer,gary\";\ns_omni.prop16 = \"abcnews\";\ns_omni.prop18 = \"43309964:langer_trackingpoll14_20161105\";\ns_omni.prop24 = \"43309964|Clinton Rebounds on Enthusiasm; Trump Slips Overall in Latest Poll\"; //top story\ns_omni.prop25 = \"\"; //top video\ns_omni.prop26 = \"\"; //top slideshow\ns_omni.prop37 = \"storypage-hasvideo\";\ns_omni.prop41 = \"elections\";\ns_omni.hier1 = \"abcn:politics\"; //directory structure\ns_omni.eVar20 = s_omni.prop13; //columnist\ns_omni.eVar16 = s_omni.pageName; //content name conversion\ns_omni.eVar17 = s_omni.prop4+\":\"+s_omni.channel;var arecookiesEnabled = navigator.cookieEnabled;\nvar tryLocalStorage = function() {\ntry {\nlocalStorage.setItem(\"testLS\", \"test\");\nlocalStorage.removeItem(\"testLS\");\nreturn true;\n} catch(e) {\nreturn false;\n}\n}\nvar thirtyMinutesLater = new Date();\nthirtyMinutesLater.setMinutes(thirtyMinutesLater.getMinutes() + 30);\nvar setTrackID = function() {\n// set setTime for protection\nsetTimeout(function() {\nif (s_omni.prop14) {\nvar prevPageTrack = s_omni.prop14;\nif (tryLocalStorage) {\nmemcachejs.set(\"abcnd-prev-page\", prevPageTrack, 1800);\n//localStorage.setItem('abcnd-prev-page', prevPageTrack);\n} else if (arecookiesEnabled) {\ncreateCookie('abcnd-prev-page',prevPageTrack,1);\n}\n} else {\n// clear\nif (tryLocalStorage) {\nmemcachejs.remove(\"abcnd-prev-page\");\n} else if (arecookiesEnabled) {\ndocument.cookie = 'abcnd-prev-page=; expires='+thirtyMinutesLater.toGMTString()+';';\n}\n}\n}, 1000);\n}\n$(document).ready(function(){\n$(document).on(\"click\", 'a[name^=lpos]', function(e) {\nvar n = $(this).attr(\"name\");\nif (tryLocalStorage) {\nmemcachejs.set(\"abcnd-link-track\", n, 1800);\n} else if (arecookiesEnabled) {\ncreateCookie('abcnd-link-track',n,1);\n}\n});\n});\nvar linkTrack = false;\nif (tryLocalStorage) {\nlinkTrack = memcachejs.get(\"abcnd-link-track\");\n} else if (arecookiesEnabled) {\nlinkTrack = readCookie('abcnd-link-track');\n}\nif (linkTrack) {\nvar lpos = linkTrack.split(\"lpos=\");\nif (lpos.length == 2) {\nif(typeof s_omni != \"undefined\"){\n// lpos[1] is the name= property in the anchor tag.\ns_omni.prop9 = lpos[1];\n}\n}\n}\n// do this again for prop12, even if click tracking doesn't occur (back button, forward button)\nif (tryLocalStorage) {\nmemcachejs.remove(\"abcnd-link-track\");\n// if previous page is set, add to to prop12\nif (memcachejs.get('abcnd-prev-page')) {\ns_omni.prop12 = memcachejs.get('abcnd-prev-page')\nmemcachejs.remove(\"abcnd-prev-page\");\n}\n} else if (arecookiesEnabled) {\ndocument.cookie = 'abcnd-link-track=; expires='+thirtyMinutesLater.toGMTString()+';';\n// if previous page is set, add to to prop12\nif (readCookie('abcnd-prev-page')) {\ns_omni.prop12 = readCookie('abcnd-prev-page');\ndocument.cookie = 'abcnd-prev-page=; expires='+thirtyMinutesLater.toGMTString()+';';\n}\n}\n// set the current page in ls/cookie format\nsetTrackID();\nfunction slideLoadJS(u, c) {\nvar d = document, t = 'script',\no = d.createElement(t),\ns = d.getElementsByTagName(t)[0];\no.src = '//' + u;\nif (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }\ns.parentNode.insertBefore(o, s);\n}\nwindow.bkInit = function(s_omni_override) {\ntry{\nif(typeof s_omni !='undefined'){\nif(typeof s_omni_override != \"undefined\"){\nvar bkprop4 = (typeof s_omni_override.prop4 != 'undefined' ? s_omni_override.prop4 : '');\nvar bkprop5 = (typeof s_omni_override.prop5 != 'undefined' ? s_omni_override.prop5 : '');\nvar bkprop15 = (typeof s_omni_override.prop15 != 'undefined' ? s_omni_override.prop15 : '');\nvar bkeVar2 = (typeof s_omni_override.eVar2 != 'undefined' ? s_omni_override.eVar2 : '');\nvar bkpeVar20 = (typeof s_omni_override.eVar20 != 'undefined' ? s_omni_override.eVar20 : '');\nvar bkchannel = (typeof s_omni_override.channel != 'undefined' ? s_omni_override.channel : '');\n}else{\nvar bkprop4 = (typeof s_omni.prop4 != 'undefined' ? s_omni.prop4 : '');\nvar bkprop5 = (typeof s_omni.prop5 != 'undefined' ? s_omni.prop5 : '');\nvar bkprop15 = (typeof s_omni.prop15 != 'undefined' ? s_omni.prop15 : '');\nvar bkeVar2 = (typeof s_omni.eVar2 != 'undefined' ? s_omni.eVar2 : '');\nvar bkpeVar20 = (typeof s_omni.eVar20 != 'undefined' ? s_omni.eVar20 : '');\nvar bkchannel = (typeof s_omni.channel != 'undefined' ? s_omni.channel : '');\n}\nbk_addPageCtx(\"prop4\", bkprop4);\nbk_addPageCtx(\"prop5\", bkprop5);\nbk_addPageCtx(\"prop15\", bkprop15);\nbk_addPageCtx(\"eVar2\", bkeVar2);\nbk_addPageCtx(\"eVar20\", bkpeVar20);\nbk_addPageCtx(\"channel\", bkchannel);\n/*placeholder for ID to be used for offline match.\nfor example, the lines below assume the ID for offline match is in s_omni.prop2.\nto activate the offline match id, remove the comments from the lines below and\nreplace the s_omni.prop2 with the correct variable for the offline ID to be used.*/\n//var bkid = (typeof s_omni.prop2 != 'undefined' ? s_omni.prop2 : '');\n//bk_addPageCtx(\"id\", bkid);\n}\n}\ncatch(e){\n}\nbk_allow_multiple_calls = true;\nbk_use_multiple_iframes = true;\nBKTAG.doTag(25193, 10);\n};\nslideLoadJS(\"tags.bkrtx.com/js/bk-coretag.js\", function() {\nwindow.bkInit();\n});\nvar s_code=s_omni.t();if(s_code)document.write(s_code);\n</script>\n<!-- End SiteCatalyst code version: H.15.1 -->\n<script>\nwindow.captions = [];\nvar initId = $(\".col-b article\").data(\"id\");\nvar initEl = $('.col-b article[data-id='+initId+']');\nwindow.abcn_ui.Helpers.captions.init(initEl);\n// ad tracking\nif (s_omni !== \"undefined\") {\nwindow.abcn_ui.Helpers.tracking.preInit(s_omni);\n}\n</script>\n<script async defer src=\"//cdn.unid.go.com/js/unid.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\" src=\"https://s.abcnews.com/assets/js/merlin-core.js?v=3.55\"></script>\n<script type=\"text/javascript\" src=\"https://s.abcnews.com/assets/js/merlin-ext.js?v=3.55\"></script>\n<script type=\"text/javascript\">\nvar merlinObj = new Merlin({\n\"contentId\": \"43309964\",\n\"productId\": \"NewsWeb\",\n\"source\": \"news\",\n\"traceId\": \"null\",\n\"template\": \"story\",\n\"parentSource\": \"null\",\n\"parentId\": \"43309964\",\n\"grandParentId\": \"null\",\n\"grandParentSource\": \"null\",\n\"recName\": \"null\",\n\"recId\": \"null\"\n});\nmerlinObj.registerBasic(true,true);\n</script>\n<script type=\"text/javascript\">\nvar merlinVideoObj = MerlinTemplateHandlers.beta_story(\"43309964\");\n</script>\n<noscript><div><img src=\"//secure-us.imrworldwide.com/cgi-bin/m?ci=us-704476h&cg=0&cc=1&ts=noscript\" width=\"1\" height=\"1\" alt=\"\" /></div></noscript>\n<!-- Google Code for ABC News - Site - 365 Remarketing List -->\n<script type=\"text/javascript\">\nvar google_conversion_id = 1005826543;\nvar google_conversion_language = \"en\";\nvar google_conversion_format = \"3\";\nvar google_conversion_color = \"ffffff\";\nvar google_conversion_label = \"1GPKCOHYjwMQ7-PO3wM\";\nvar google_conversion_value = 0;\n</script>\n<script type=\"text/javascript\" src=\"http://www.googleadservices.com/pagead/conversion.js\" async></script>\n<noscript><div style=\"display:inline;\"><img height=\"1\" width=\"1\" style=\"border-style:none;\" alt=\"\" src=\"http://www.googleadservices.com/pagead/conversion/1005826543/?value=0&amp;label=1GPKCOHYjwMQ7-PO3wM&amp;guid=ON&amp;script=0\"/></div></noscript>\n<!-- Nielsen Online SiteCensus V6.0, Copyright 2010 Nielsen Online-->\n<script type=\"text/javascript\">\n(function () {\nvar nielsenImg = new Image(1, 1);\nnielsenImg.onerror = nielsenImg.onload = function () {\nnielsenImg.onerror = nielsenImg.onload = null;\n};\nnielsenImg.src = [\"//secure-us.imrworldwide.com/cgi-bin/m?ci=us-704476h&cg=0&cc=1&si=\", escape(window.location.href), \"&rp=\", escape(document.referrer), \"&ts=compact&rnd=\", (new Date()).getTime()].join('');\n})();\n</script>\n<div class=\"ad_container\"><script type=\"text/javascript\">digGetAd(\"PopUnder\");</script></div><div class=\"ad_container\"><script type=\"text/javascript\">digGetAd(\"Survey\");</script></div><div class=\"ad_container\"><script type=\"text/javascript\">digGetAd(\"OverPage\");</script></div><div class=\"ad_container\"><script type=\"text/javascript\">digGetAd(\"Footer\");</script></div>\n<div class=\"ad_container\"><script type=\"text/javascript\">digGetAd(\"RevenueScience\");</script></div><script type=\"text/javascript\">\nvar _sf_async_config={};\n/** CONFIGURATION START **/\n_sf_async_config.uid =12240 ;//28332\n_sf_async_config.domain = location.hostname;\n_sf_async_config.useCanonical = 'true';\nif (typeof tq != 'undefined' && tq.section) {\n_sf_async_config.sections = tq.section;\n} else if (typeof abcnewsSite != 'undefined' && abcnewsSite.section) {\n_sf_async_config.sections = abcnewsSite.section;\n} else {\n_sf_async_config.sections = '';\n}\nif (typeof tq != 'undefined' && tq.byline) {\n_sf_async_config.authors = tq.byline;\n} else {\n_sf_async_config.authors = '';\n}\n/** CONFIGURATION END **/\n(function(){\nfunction loadChartbeat() { window._sf_endpt=(new Date()).getTime(); var e = document.createElement('script'); e.setAttribute('language', 'javascript'); e.setAttribute('type', 'text/javascript'); e.setAttribute('src', (('https:' == document.location.protocol) ? 'https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/' : 'http://static.chartbeat.com/') + 'js/chartbeat.js'); document.body.appendChild(e); }\naddOnload(loadChartbeat);\n})();\n</script>\n<script type=\"text/javascript\" src=\"//js.pusher.com/2.2/pusher.min.js\"></script>\n<!-- FastCast -->\n<script>\nif (typeof TinyCast === \"undefined\") {\n// fallback to long polling\nabcn_ui.Helpers.live_alerts_render.liveListen();\n}\n</script>\n</body>\n</html>"
          },
          "redirectURL": "",
          "headersSize": 366,
          "bodySize": 94064
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 97,
          "send": 0,
          "wait": 437,
          "receive": 1
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.618-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://fonts.abcnews.com/kyb8pht.js",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "fonts.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 371
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.618-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/beta/_sass/css/icons.css?v=56",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "56"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 408
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.618-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/beta/css/page-types/story_.css?v=56",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "56"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 414
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.636-06:00",
        "time": 0,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://widgets.outbrain.com/outbrain.js",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "widgets.outbrain.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Cookie",
              "value": "obuid=8631fe92-469f-43e1-939a-da915c304383; _fcap_CAM4=AHAAZgBjAGEAcAACAAAAADufOn8AZAMBkOMAWgQ7n8w1AGQEO5x0nABkAwHrAABQAwIKBwBkAwP4IABkAwf8WABkAwfRBgBkAwLqwgBkAs1lAFACCUIAUAMBgi0AZAMBC4cAZALsAQDIAqKgAGQDBAeGAFo=; _ofcap_DOC1=AG8AZgBjAGEAcAACAAAAAFr7+/kAYgMBFwcAYgMhkiAAYgQPq8GrAGQEZiXPZwBjBGnAagAAZANro2AAYgREBMxGAGQERwbShgBkBAMCZsIAZAQMPqjlAGQEDH9vMgBiA+to6gBkA41XDgBiBAKYiRwAyAQC/b59AGMEFlGUrgBiBBY6UzwAYwNzfL0AYgQQ78lrAGQEdJzm3wBkBGftE/MAZAQD+Ot5AGQEDFbYkwBiBAxDEYIAYwQQ/ARwAGQEGeG7JQBjBAR8q/8AZARtkqBTAGI=; _utastes_1=AFUAVABBAFMAVABFAFP/////AQasABsDAAAAAABWCQQACAAAAAAAA909AAoAAAAAAFHhBgAI; recs-5c9e9ef0a176e3a2ae1983244a97eaa5=\"0:1480699999,861237266,1405752439,1524083490,1524091312,1522273826,-|1\"; recs-3f51dd0916a3c7f8e72b0739b6ba478c=\"0:1522688563,1480699999,519730484,1244376914,1509730226,1526645104,-1:1515482701,1497008458,1519720978,1471594376,1433452405,1455450517,1054317241,1246461030,-|1\""
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [
            {
              "name": "obuid",
              "value": "8631fe92-469f-43e1-939a-da915c304383"
            },
            {
              "name": "_fcap_CAM4",
              "value": "AHAAZgBjAGEAcAACAAAAADufOn8AZAMBkOMAWgQ7n8w1AGQEO5x0nABkAwHrAABQAwIKBwBkAwP4IABkAwf8WABkAwfRBgBkAwLqwgBkAs1lAFACCUIAUAMBgi0AZAMBC4cAZALsAQDIAqKgAGQDBAeGAFo="
            },
            {
              "name": "_ofcap_DOC1",
              "value": "AG8AZgBjAGEAcAACAAAAAFr7+/kAYgMBFwcAYgMhkiAAYgQPq8GrAGQEZiXPZwBjBGnAagAAZANro2AAYgREBMxGAGQERwbShgBkBAMCZsIAZAQMPqjlAGQEDH9vMgBiA+to6gBkA41XDgBiBAKYiRwAyAQC/b59AGMEFlGUrgBiBBY6UzwAYwNzfL0AYgQQ78lrAGQEdJzm3wBkBGftE/MAZAQD+Ot5AGQEDFbYkwBiBAxDEYIAYwQQ/ARwAGQEGeG7JQBjBAR8q/8AZARtkqBTAGI="
            },
            {
              "name": "_utastes_1",
              "value": "AFUAVABBAFMAVABFAFP/////AQasABsDAAAAAABWCQQACAAAAAAAA909AAoAAAAAAFHhBgAI"
            },
            {
              "name": "recs-5c9e9ef0a176e3a2ae1983244a97eaa5",
              "value": "\"0:1480699999,861237266,1405752439,1524083490,1524091312,1522273826,-|1\""
            },
            {
              "name": "recs-3f51dd0916a3c7f8e72b0739b6ba478c",
              "value": "\"0:1522688563,1480699999,519730484,1244376914,1509730226,1526645104,-1:1515482701,1497008458,1519720978,1471594376,1433452405,1455450517,1054317241,1246461030,-|1\""
            }
          ],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 0
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Server",
              "value": "Apache"
            },
            {
              "name": "Etag",
              "value": "\"ba3d6a4f93fca2e8bd5ede1b57c42666:1481632246\""
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 13 Dec 2016 12:30:46 GMT"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=604800"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:32:24 GMT"
            },
            {
              "name": "Content-Length",
              "value": "21087"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 57629,
            "text": "window.OBR = window.OBR||{};(function(OBR){OBR.error=function(c){if(!0!==c){var a,b=document,e=window.OB_releaseVer;if(!b.getElementById(\"obMntor\")){var d=function(){a=b.createElement(\"iframe\");a.setAttribute(\"id\",\"obMntor\");a.style.display=\"none\";b.body.appendChild(a);a.src=\"https://widgets.outbrain.com/widgetMonitor/monitor.html?name=\"+encodeURIComponent(c.name)+\"&message=\"+encodeURIComponent(c.message)+\"&stack=\"+encodeURIComponent(c.stack)+\"&ver=\"+encodeURIComponent(e)};b.body?d():setTimeout(function(){b.body&&d()},1E4)}}};\n;try{\nif(window.OB_releaseVer&&\"01001128\"!==window.OB_releaseVer)throw!0;window.OB_releaseVer=\"01001128\";window.OBR=window.OBR||{};OBR.j=OBR.j||[];OBR.Qa=OBR.Qa||{};window.OBR$=function(c){return document.getElementById(c)};OBR.e=OBR.e||function(){var c={},a={B:function(){return c},i:function(a){c.W=a;c.rb=[];c.startTime=(new Date).getTime()},startTime:function(){return c.startTime},log:function(a){var f=((new Date).getTime()-c.startTime)/1E3;1E3>c.rb.length&&c.rb.push(f+\" >\"+a)},printLog:function(){if(c.W.c.Uj)window.console.log(c.rb.join(\"\\n\"));else{var a=c.W.b.Na();a&&(a.innerHTML=c.rb.join(\"<br>\"),a.style.display=\"block\")}return c.rb.join(\"\\n\")}};a.i(OBR);return a}();OBR.printLog=OBR.e.printLog;OBR.F=function(){this.L=[]};OBR.F.prototype.add=function(c,a){var d;\"string\"===typeof c&&\"function\"===typeof a&&(d={},d.name=c,d.cb=a,this.L.push(d))};OBR.F.prototype.qg=function(c){var a,d;OBR.e.log(\"remove event :\"+c);a=0;for(d=this.L.length;a<d;a+=1)if(this.L[a]&&this.L[a].name&&this.L[a].name===c)try{this.L.splice(a,1)}catch(f){OBR.e.log(\"rm evnt err: \"+f),OBR.error(ex)}};\nOBR.F.prototype.n=function(c,a,d,f){var b,e,h;a=a||[];d=!!d;this.bk||OBR.nd.Ni(c,f);OBR.e.log(\"event fire:\"+c);f=0;for(b=this.L.length;f<b;f+=1)if(e=this.L&&this.L[f]?this.L[f].name:\"\",h=this.L&&this.L[f]?this.L[f].cb:null,e===c&&h)try{h.apply(this,a)}catch(g){OBR.e.log(\"fire event *\"+c+\"* error: \"+g),OBR.error(g)}!0===d&&this.qg(c)};OBR.F.prototype.ak=function(){this.bk=!0};OBR.F.prototype.wa=function(){this.L=[]};\nOBR.nd=OBR.nd||function(){var c,a,d={},f,b={onHtmlReturn:\"widgetDataReturned\",afterRender:\"widgetRendered\"},e;d.i=function(b,d,k){c=d;a=b;e=k;e.ak();f={}};d.Ni=function(h,d){var k=b[h];if(d&&k){var l=c.OBREvents;if(l&&!(1>l.length))for(var m=0,p=l.length;m<p;m+=1){var n=l.shift();n&&n.event&&\"string\"===typeof n.widgetId&&\"function\"===typeof n.func?(e.add(n.event+\"_\"+n.widgetId,n.func),f[n.event]=!0):a.e.log(\"Bad global event\"+n)}f[k]&&e.n(k+\"_\"+d.q(),[{idx:d.H(),widgetId:d.q(),container:OBR.b.C(d.H()),\nrecsNumber:d.g(\"tcr\",-1)}])}};d.A=function(){d.i(OBR,window,new OBR.F)};d.i(OBR,window,new OBR.F);return d}();OBR.b=OBR.b||function(){var c={},a={},d=document,f=OBR,b=null;c.sf=\"function\"===typeof window.URLSearchParams;a.B=function(){c.W=f;return c};a.i=function(e){f=e;c.sf&&(c.ic=new window.URLSearchParams(window.location.search.slice(1)))};a.Ga=function(){return function(){}};a.qf=function(){var e=window.jQuery;return void 0!==e?!(/1\\.(0|1|2|3|4)\\.(0|1)/.test(e.fn.jquery)||/^1\\.1/.test(e.fn.jquery)||/^1\\.2/.test(e.fn.jquery)||/^1\\.3/.test(e.fn.jquery)):!1};a.C=function(e){return null===e||isNaN(e)?null:\nf.p(\"outbrain_widget_\"+e)};a.Na=function(){return f.p(\"ob_holder\")};a.Fe=function(e){var b=a.Na();null===b&&(b=f.b.createElement(\"div\",\"ob_holder\"),b.style.display=\"none\",e?f.b.insertBefore(b,e):document.body.appendChild(b));return b};a.qd=function(e){var b=f.p(e);b||(b=f.b.createElement(\"iframe\",e),e=b.style,e.display=\"none\",e.width=\"1px\",e.height=\"1px\",b.src=\"about:blank\",(e=a.Na())||(e=a.fb()),f.b.S(b,e))};a.fb=function(){if(d.body)return d.body;var e;e=f.b.M(\"\",\"\",\"body\",!0);return 0>=e.length?\nd.lastChild:e[0]};a.createElement=function(e,b,a,c){var f;e=d.createElement(e);\"string\"===typeof b&&e.setAttribute(\"id\",b);\"string\"===typeof a&&(e.style.cssText=a);for(f in c)c.hasOwnProperty(f)&&e.setAttribute(f,c[f]);return e};a.J=function(e){if(f.c.te===f.c.ke)try{d.createStyleSheet().cssText=e}catch(b){OBR.e.log(b)}else{var a=d.createElement(\"style\"),c=d.body?\"string\"===typeof d.body.style.WebkitAppearance:!1;a.type=\"text/css\";d.getElementsByTagName(\"head\")[0].appendChild(a);a[c?\"innerText\":\"innerHTML\"]=\ne}};a.K=function(e,b,a,c,l){e=d.createElement(\"script\");e.type=f.c.pk;e.src=b;e.charset=\"UTF-8\";e.async=!!a;e.defer=!1;c&&f.b.u(e,\"load\",function(e){var b=e.target;b&&setTimeout(function(){b.parentNode.removeChild(b)},3E3)});typeof l===f.c.cb&&f.b.u(e,\"load\",l);return e};a.Im=function(e,b){var a=f.b.createElement(\"link\",e);a.setAttribute(\"rel\",\"stylesheet\");a.setAttribute(\"type\",f.c.ri);b&&a.setAttribute(\"href\",b);return a};a.Uh=function(e){var b=f.p(\"ob_iframe\");b&&(b.src=e)};a.gg=function(){var e;\ne=isNaN(e)?1E5:e;return Math.floor(Math.random()*e)};a.pl=function(e,b,a){return e.replace(b,a)};a.Sm=function(){var e;if(e=OBR.p(\"objsonpp\"))if(a.ck())a.Pa(e.parentNode)&&e.parentNode.removeChild(e);else return OBR.p(\"objsonpp\");e=d.createElement(\"iframe\");e.id=\"objsonpp\";e.vl&&(e.vl=\"seamless\");(e.frameElement||e).style.cssText=\"width: 0; height: 0; border: 0\";e.src=\"\";d.body.appendChild(e);return e};a.R=function(e){var b,a;a=d.getElementsByTagName(\"head\");try{a&&0<a.length?a[0].insertBefore(e,\na[0].firstChild):(b=d.getElementsByTagName(\"script\"),b[0].insertBefore(e,b[0].firstChild))}catch(c){f.e.log(\"Err insertToHead:\"+c)}};a.Rm=function(e){e=e||OBR;return\"function\"!==typeof e.F?(OBR.e.log(\"namespace.EventManager not function\"),null):new e.F};a.Q=function(e){return encodeURIComponent(e)};a.Pa=function(e){return null!==e};a.hk=function(e){var b,c=!1;if(a.ud(e))return!1;b=e.kb().recMode||\"\";e=e.kb().dynamicWidgetLayout||\"\";b=f.c.tl[b]||\"\";\"2\"===b&&\"1\"===(f.c.ul[e]||\"\")&&(c=!0);c||\"1\"!==b&&\n\"3\"!==b||(c=!0);return c};a.ud=function(e){return void 0===e||null===e};a.mk=function(e){return a.ud(e)||\"\"===e};a.getElementsByClassName=function(e,b){b||(b=document);return b.getElementsByClassName?b.getElementsByClassName(e):a.M(\"class\",e,\"*\",!0,!0,b)};a.M=function(e,b,c,f,l,m){var p,n,q;p=[];c=c||\"*\";f=!!f;l=!!a.mk(l);c=m?m.getElementsByTagName(c):d.getElementsByTagName(c);m=0;for(n=c.length;m<n;m+=1)q=\"class\"===e?c[m].className:c[m].getAttribute(e),null!==q&&(!1===l&&(q=q.toLowerCase(),b=b.toLowerCase()),\n(q=\"\"===e?!0:f?-1<q.indexOf(b):q===b)&&p.push(c[m]));return p};a.Ta=function(e,b,a){e.removeEventListener?e.removeEventListener(b,a,!0):e.detachEvent&&e.detachEvent(\"on\"+b,a)};a.u=function(e,b,a){e.addEventListener?e.addEventListener(b,a,!0):e.attachEvent&&typeof e.attachEvent===f.c.cb&&e.attachEvent(\"on\"+b,function(){a.call(e)})};a.S=function(e,b){try{b.appendChild(e)}catch(a){f.e.log(\"Fail insert into Dom:\"+a)}};a.zb=function(e){e=f.p(e);!a.ud(e)&&a.Pa(e.parentNode)&&e.parentNode.removeChild(e)};\na.insertBefore=function(e,b){return b.parentNode.insertBefore(e,b)};a.isArray=function(e){return e instanceof Array?!0:\"[object Array]\"===Object.prototype.toString.call(e)};a.Hb=function(e,b){var a=/htt(p|ps)?:\\/\\/127\\.0\\.0\\.1(:\\d\\d\\d\\d)?/i;return/^htt(p|ps)?:\\/\\/([\\w\\-]*|[\\w\\-]*\\.[\\w\\-]*)\\.outbrain\\.com(:\\d\\d\\d\\d)?/i.test(e)||a.test(e)?e:b};a.hm=function(e){e=e.replace(/^(\\s*)/g,\"\");var b=d.createElement(\"div\");b.innerHTML=e;return b.childNodes};a.eb=function(e,b){return e?e.getAttribute(b):null};\na.ra=function(e,b,a){e&&e.setAttribute(b,a)};a.P=function(e,b){var a=RegExp(\"[ '\\\"|]\"+b+\"[ '\\\"|]\");e&&!a.test(\"|\"+e.className+\"|\")&&(e.className+=\" \"+b)};a.za=function(e,b){e&&typeof b===f.c.gm&&(e.classList?e.classList.remove(b):e.className=e.className.replace(RegExp(\"(^|\\\\b)\"+b+\"(\\\\b|$)\",\"gi\"),\" \"))};a.ea=function(e,b){if(c.sf&&\"function\"===typeof c.ic.has&&\"function\"===typeof c.ic.get)return c.ic.has(e)?c.ic.get(e):b;e=e.replace(/[\\[]/,\"\\\\[\").replace(/[\\]]/,\"\\\\]\");var a,d;try{return a=RegExp(\"[\\\\?&]\"+\ne+\"=([^&#]*)\",\"i\"),d=a.exec(decodeURIComponent(window.location.href.replace(/\\+/g,\" \"))),null===d?b:d[1]}catch(f){return b}};a.di=function(e){\"string\"===typeof e&&0<e.indexOf(\"#\")&&(e=e.substr(0,e.lastIndexOf(\"#\")));return e};a.Be=function(e){var b=f.c.ba+\"/strip_default.png\";e.src!==b&&(e.alt=\"\",e.title=\"\",e.src=b,e.parentElement&&(e.parentElement.style.overflow=\"hidden\"))};a.Ei=function(){var e=null,b,a,c=null;if(\"string\"===typeof window.OB_MP_feed)e=window.OB_MP_feed;else if((b=d.getElementsByTagName(\"head\"))&&\n0<b.length)for(a=b[0].getElementsByTagName(\"link\"),b=0;b<a.length;b+=1)if(c=a[b],null!==c.type&&(\"application/rss+xml\"===c.type||\"application/atom+xml\"===c.type)&&null!==c.href&&\"\"!==c.href){e=c.href;break}return e};a.G=function(e,b){var a=null;e.currentStyle?a=e.currentStyle[b]:window.getComputedStyle&&(a=document.defaultView.getComputedStyle(e,null).getPropertyValue(b));return a};a.Cl=function(){var e=a.Na(),b,c;a.Pa(e)&&(b=f.b.createElement(\"span\",\"ob_a\"),a.insertBefore(b,e),b.innerHTML=\".\",c=\na.G(b,\"color\"),a.zb(\"ob_a\"),b=f.b.createElement(\"a\",\"ob_a\"),b.setAttribute(\"href\",\"void(0)\"),b.innerHTML=\".\",a.insertBefore(b,e),e=a.G(b,\"color\"),a.zb(\"ob_a\"),c=\"rgb(0, 0, 0)\"===c||\"#000000\"===c?\"#555\":c,a.J(\".ob-tcolor{color:\"+c+\"} .ob-lcolor{color:\"+e+\"} .ob-bgtcolor{background-color:\"+c+\"} .item-link-container:hover .ob-tcolor{border-color:\"+c+\"} \"+(document.addEventListener?\"\":\".odb_li:hover .ob-zapping-icon,.odb_div:hover .ob-zapping-icon,.item-container:hover .ob-zapping-icon,.ob-dynamic-rec-container:hover .ob-zapping-icon,.odb_li:hover .ob-textual-zapping-icon,.odb_div:hover .ob-textual-zapping-icon,.item-container:hover .ob-textual-zapping-icon,.ob-dynamic-rec-container:hover .ob-textual-zapping-icon{display:none !important;}\")))};\na.ef=function(e){var b=a.bf(\"property\",\"og:url\",\"meta\",\"content\");null===b&&(b=a.bf(\"rel\",\"canonical\",\"link\",\"href\"));null!==b||e||(b=window.location.href);null===b&&(b=\"\");return b};a.bf=function(e,b,c,d){var f=null;e=a.M(e,b,c,!1);null!==e&&0<e.length&&(f=e[0].getAttribute(d));return f};a.Vh=function(e){var b,c,d,l;b=e.h(\"tracking\",!1);l=e.h(\"isDMPEnabled\",!0)&&!e.g(\"oo\",!1);c=e.h(\"comScoreEnabled\",!0);d=f.c.Vf;!1===b&&((!0===c||!0===l)&&!1===d&&!e.hf())&&(a.qd(f.c.mb),b=e.g(\"enu\",\"\"),d=e.g(\"pid\",\n\"\"),e=f.p(f.c.mb))&&(e.src=f.c.ba+\"/nanoWidget/externals/obFrame/obFrame.htm#pid=\"+d+\"&dmpenabled=\"+l+\"&csenabled=\"+c+\"&d=\"+b,f.c.Vf=!0)};a.uj=function(){var e=a.jb(8);\"string\"===typeof window.name&&(\"\"===window.name||-1<window.name.indexOf(\"frame\"))?(window.name=e,e=window.name):\"string\"===typeof window.name&&\"\"!==window.name&&(e=window.name);return e=f.b.Q(e.substring(0,9))};a.jb=function(e){var b,a;b=[];e=\"number\"===typeof e?e:8;for(a=0;a<e;a+=1)b.push(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\".charAt(Math.floor(61*\nMath.random())));return b.join(\"\")};a.Ee=function(e){for(var b=\"\",a=0;a<e.length;a++)b=b.concat(e[a]?\"1\":\"0\");return parseInt(b,2)};a.sd=function(e){var b=e.getElementsByTagName(\"a\")[0];if(null===e.offsetParent||0===e.offsetHeight||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth||\"none\"===a.G(e,\"display\")||\"hidden\"===a.G(e,\"visibility\"))return!1;var c=parseInt(a.G(e,\"padding-top\"),10)+parseInt(a.G(e,\"padding-bottom\"),10);return 0===e.clientHeight-c||b&&\"none\"===a.G(b,\"display\")?!1:!0};a.gd=\nfunction(e){for(var b in f.Qa)if(f.Qa.hasOwnProperty(b)&&f.Qa[b].m===e)return f.Qa[b];return null};a.Ym=function(b){for(var a in b)if(b.hasOwnProperty(a))return!1;return!0};a.La=function(b,a){return\"function\"!==typeof b?null:void 0===a?b():b(a)};a.ck=function(){return\"Microsoft Internet Explorer\"===navigator.appName};a.ti=function(b,a){return b*a};a.Ze=function(b){if(!b||\"\"===b)return[];b=b.replace(\"\",\"\").replace(\"http://\",\"\").replace(\"https://\",\"\").replace(\"www.\",\"\").replace(\"www2.\",\"\").split(\"/\");\nb.pop();return 0<b.length?b:[]};a.$i=function(b,c){var d=a.Ze(b),f=[],l=\"\";if(c>=d.length)l=d.join(\".\");else{f[0]=d[0];for(l=1;l<=c;l+=1)f[l]=d[l];l=f.join(\".\")}return l};a.jj=function(){return\"http\"+(\"https:\"===d.location.protocol?\"s\":\"\")};a.ij=function(){var b,c;b=d.getElementById(\"widgetVersionSync\");null===b&&(b=a.createElement(\"iframe\",\"widgetVersionSync\"),c=a.createElement(\"div\",null,\"display:none; height:0px; width:0px; border:none;\"),c.appendChild(b),a.fb().appendChild(c));return b};a.xm=\nfunction(b){var c;c=window.OB_releaseVer;isNaN(c)||(isNaN(b)||c>=b)||(b=a.jj()+\"://widgets.outbrain.com/external/sync/outbrainjs.html?needToBeVer=\"+b.toString(),c=a.ij(),c.src=b)};a.Ch=function(b){b=b.h(\"widgetVersionSync\",0);isNaN(b)||\"\"===b||(b=parseInt(b,10)||0,a.xm(b))};c.ld=function(){if(b)return b;var e;try{var a=window.localStorage;a.setItem(\"OBtst\",\"\");a.removeItem(\"OBtst\");e=a}catch(c){e={pc:{},setItem:function(b,e){this.pc[b]=e},removeItem:function(b){this.pc[b]=void 0},getItem:function(b){return\"undefined\"!==\ntypeof this.pc[b]?this.pc[b]:null}}}return b=e};a.Ig=function(b,a){c.ld().setItem(b,a)};a.kd=function(b){return(b=c.ld().getItem(b))?b:null};a.ui=function(){c.ld().removeItem(\"OB-USER-TOKEN\")};a.sm=function(b){var a={};a.cpv=b[0];a.convPerc=b[1];a.convPixel=b[2];a.vidId=b[3];a.player=b[4];a.pos=b[5];a.adId=b[6];a.docEncId=b[7];a.origUrl=b[8];a.trafficUrl=b[9];a.duration=b[10];a.widgetIdx=b[11];a.title=b[12];a.sourceName=b[13];a.reqId=b[14];a.platform=b[15];a.lang=b[16];a.uuid=b[17];a.publisherId=\nb[18];a.sourceId=b[19];a.widgetNumberId=b[20];a.campaignId=b[21];a.location=b[22];a.timestamp=b[23];return a};a.i(OBR);return a}();OBR.Ba=function(c,a,d,f,b,e,h,g,k){var l,m;l=this;m=0;k=\"function\"===typeof k?k:OBR.b.ti;l.start=function(){var p;m+=1;OBR.b.La(c,m)?OBR.b.La(a,m):(p=OBR.b.La(g,m))?OBR.b.La(f,m):(p=m===e&&1E3!==e)?OBR.b.La(f,m):(OBR.b.La(d,m),p=h?k(m,b):b,setTimeout(function(){l.start()},p))};l.start()};OBR.Ke=OBR.Ke||{Wj:function(){return\"complete\"===document.readyState}};\nOBR.bd=function(){var c={},a=[];c.add=function(c){a.push(c)};c.remove=function(c){a.splice(c,1)};c.top=function(){return 0<a.length?a.shift():null};c.$j=function(){return 0>=a.length};c.Pm=function(){return a};c.bi=function(){a=[]};return c};\nOBR.Ya=function(){function c(c,b){a.Fb=\"resolve\"===c?function(a){a&&a(b)}:function(a,e){e&&e(b)};a.Va=a.kl=function(){throw Error(\"Promise already completed.\");};for(var e,h=0;e=d[h++];)e[c]&&e[c](b);delete d}var a={},d=[];a.Fb=function(a,b){d.push({resolve:a,reject:b})};a.Va=function(a){c(\"resolve\",a)};a.kl=function(a){c(\"reject\",a)};return a};\nOBR.gh=function(c){var a={},d=null,f,b;a.onClickOrAutoplay=void 0;a.onDisplayReady=void 0;a.onError=void 0;a.fetch=function(a){null===d?(d=a,b&&b(d,this),b=null):(d=a,OBR.Ia.Nf([this]))};a.shown=function(b){f=b;OBR.Ia&&OBR.Ia.wm(c.widgetId,c.playerId,f)};a.stopTimer=function(){if(this.Sg){window.clearInterval(this.Sg);var b=document.querySelector('[data-ob-player-id=\"'+c.playerId+'\"] .timerNumber');b&&(b.textContent=b.parentElement.getAttribute(\"data-time\"))}};a.fullscreenChange=function(b){OBR.Ia.vj(b,\nc.playerId)};a.placed=function(){OBR.Ia.vm(c.playerId)};a.nk=function(a){b=a;d&&b(d,this)};a.lb=function(){return c};a.Nm=function(){return f};a.Um=function(){return c.when};return a};OBR.nh=function(){var c={},a=\"00.000\",d=null,f=null,b=0;c.start=function(){null===d&&(d=new Date);null!==f&&(b+=new Date-f)};c.stop=function(){var e=new Date(new Date-d-b),c=e.getUTCSeconds(),e=e.getUTCMilliseconds();f=new Date;return a=(9<c?c:\"0\"+c)+\".\"+(99<e?e:9<e?\"0\"+e:\"00\"+e)};return c};\nOBR.Pd=OBR.Pd||function(){function c(){var b=window;b.googletag=b.googletag||{};b.googletag.cmd=b.googletag.cmd||[]}function a(a,c,d,f,l){var m=window;m.$revee&&m.googletag.cmd.push(function(){m.$revee.track({obpid:a,obsid:c,obdid:d,obpu:f,obmisc:l});b.e.log(\"revee fire:\"+f);b.e.log(\"revee fire id:\"+d)})}var d={},f=!0,b;d.i=function(a){b=a;d.rc={}};d.nc=function(e){if(e&&!1!==e.h(\"activateRevee\",!1)){c();var h=e.g(\"pid\",0),g=e.g(\"sid\",0),k=e.g(\"did\",0),l=e.pa(),m=e.g(\"lsd\",\"NA\"),p=e.g(\"pvId\",\"NA\"),\nn=e.g(\"preqid\",\"NA\"),q=e.g(\"pdid\",0),r=e.g(\"ppos\",0),s=e.g(\"pwid\",0),v=e.g(\"readerPlatform\",\"NA\"),w=e.g(\"ref\",0),u=e.g(\"prevpid\",0),t=e.g(\"prevsid\",0),y=e.g(\"gl\",\"NA\");e=e.g(\"revenueopt\",\"NA\");var x={obuuid:m,obpvid:p,obprevreqid:n,obprevdocid:q,prevpos:r,obprevwid:s,obplatf:v,obref:w,obprevpid:u,obprevsid:t,obgeo:y,obrevenueopt:e,obprmurl:l};f||d.rc[k]?f&&(f=!1,m=b.b.K(0,b.c.I+\"rva.outbrain.com/analytics-v1.js\",!0,!0,function(){l=document.location.href;a(h,g,k,l,x)}),b.b.R(m)):a(h,g,k,l,x);d.rc[k]||\n(d.rc[k]=!0)}};d.A=function(){f=!0;d.rc={}};d.i(OBR);return d}();OBR.c=OBR.c||function(){var c={},a={},d=OBR,f,b;a.jh=\"opera\";a.ke=\"msie\";a.eh=\"firefox\";a.Yg=\"chrome\";a.lh=\"safari\";a.ih=\"mozilla\";a.Hm=\"boolean\";a.gm=\"string\";a.bn=\"object\";a.nm=\"undefined\";a.an=\"number\";a.cb=\"function\";a.mb=\"ob_iframe\";a.Af=!0;a.eg=0;a.tc=\"outbrain_widget_\";a.pk=\"text/javascript\";a.ri=\"text/css\";a.Km=document;a.If=void 0!==document.createElement(\"script\").async;a.Vg=d.b.uj();a.el=document.referrer;a.dl=d.b.Q(document.referrer);a.uk=document.location.href;a.$m=d.b.Q(a.uk);a.Rb=!1;\na.Yd=\"\";a.Oc=navigator.userAgent.toLowerCase();a.Nk=navigator.platform.toLowerCase();b=a.Oc;a.te=/opera/.test(b)?a.jh:/msie/.test(b)?a.ke:/firefox/.test(b)?a.eh:/chrome/.test(b)?a.Yg:/safari/.test(b)?a.lh:a.ih;a.cc=!!/(iphone|ipod|symbian|android|windows ce|blackberry|palm|ipad)/.test(b);a.jc=\"\";a.Ef=\"Microsoft Internet Explorer\"===navigator.appName||\"Netscape\"===navigator.appName&&null!==/Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);a.Ff=a.Oc.match(/msie 8/)||a.Oc.match(/msie 7/);\na.Vk=window.OB_platformType||null;a.dc=\"number\"===typeof a.Vk;a.yg=null;a.Pe=null;a.em=function(){a.dc&&(a.yg&&a.Pe)&&(a.yg(),a.Pe())};a.Ib=\"string\"===typeof window.OB_releaseVer?window.OB_releaseVer:\"0\";a.Ck=!0===window.OB_disable_odbl;a.Cd=\"nanoWidget/\";a.Hg=function(b){a.I=(\"https:\"===b?\"https\":\"http\")+\"://\";a.Aj=d.b.Hb(d.b.ea(\"wiodb\",a.I+\"hpr.\"+f),a.I+\"hpr.\"+f);a.Dd=d.b.Hb(d.b.ea(\"wiodb\",a.I+\"odb.\"+f),a.I+\"odb.\"+f);a.Th=a.I+\"storage.outbrain.com/\";a.ba=d.b.Hb(d.b.ea(\"wihost\",a.I+\"widgets.\"+f),\na.I+\"widgets.\"+f);a.Pk=d.b.Hb(d.b.ea(\"wiout\",a.I+f),a.I+f);a.cg=a.I+\"log.\"+f+\"/\";a.Ok=a.I+\"eventlog.\"+f+\"/\";a.yk=a.ba+\"/\"+a.Cd+a.Ib+(a.dc?\"/moduleLT\":\"/module\");a.Tf=a.ba+\"/\"+a.Cd+\"3rd\";a.zk=a.ba+\"/nativeVideoPlayer\"};f=\"outbrain.com\";a.Hg(document.location.protocol);a.Sh=\"/blogutils/ExcludeRec.action?bocr=\";a.cn=\"html\";a.Vj=\"true\"===d.b.ea(\"widebug\",\"false\");a.Ne=d.b.ea(\"wixp\",null);a.Sk=a.dc?\"NANOWDGTLT13\":\"NANOWDGT01\";a.Uj=\"object\"===typeof window.console;a.Ng=d.b.di(d.b.Ei());a.Mg=null===a.Ng?\n\"\":d.b.Q(a.Ng);a.Vf=!1;a.Dk=\"true\"===d.b.ea(\"obdraft\",!1)?\"&obdraft=true\":\"\";a.ph=!1!==d.b.ea(\"obabtest\",!1)?\"&obabtest=\"+d.b.ea(\"obabtest\",\"\"):\"\";a.ki=\"true\"===d.b.ea(\"obcrdraft\",\"false\")?\"&crdraft=true\":\"\";a.fc=0;a.tb=null;a.xg=\"data-obscrollable\";a.tl={touch_strip:\"1\",odb_dynamic:\"2\",\"odb_dynamic_touch-strip\":\"3\"};a.ul={\"touch-strip\":\"1\"};a.Bh=!!window.OB_ampMode;a.km=!!window.OB_testMode;a.Bm={KALTURA:\"kaltura\",BRIGHTCOVE:\"brightcove\"};a.V={fh:\"get\",ma:\"post\",hh:\"jsonp\"};a.B=function(){c.W=d;\nreturn c};return a}();OBR.d=OBR.d||function(){var c={},a,d;c.i=function(f,b){a=f;d=b?b:c.al()};c.f={Ac:\"POPUPDESCRIPTION\",ne:\"STATISTICS\",Pb:\"WHATIS\",xc:\"FLYTHROUGH\",Mc:\"VIDEOPLUGIN\",Lc:\"VIDEO\",Bc:\"POSCUL\",Gc:\"SCROLL\",Hc:\"SCROLLEXTERNAL\",Dc:\"RECINIFRAME\",me:\"REGISTER\",vc:\"D2C\",wc:\"D2CPROXY\",Ec:\"REFRESHWIDGET\",Ic:\"SKYLANDER\",Nb:\"LOADMORE\",Am:\"DYNAMICTEXTTRUNCATION\",Jc:\"TOPBOX\",yc:\"PAGER\",zc:\"PAGEREXTERNAL\",Kc:\"USERZAPPING\",Mb:\"INPLAYERWIDGET\",Cc:\"READMORE\",Xa:\"NATIVEVIDEOPLAYER\"};c.kh=function(a,b){var e={Jm:a,url:b,version:-1,\nstate:0,Sb:[],Ce:this,ai:function(){if(2===e.state)e.Mf();else if(0===e.state){var b=OBR.b.K(0,e.url,!0);e.state=1;OBR.b.R(b)}},Mf:function(){e.state=2;for(var b=0;b<e.Sb.length;b+=1){var a=e.Sb[b];\"function\"===typeof a.we&&a.we.call(e.Ce,a.Dh)}e.Sb=[]}};return e};c.al=function(){function d(b){return a.c.yk+\"/\"+b}function b(b,a){e[b]||(e[b]=new c.kh(b,a))}var e={};b(c.f.Ac,d(\"popupDescription.js\"));b(c.f.ne,d(\"statistics.js\"));b(c.f.Pb,d(\"whatis.js\"));b(c.f.Kc,d(\"userZapping.js\"));b(c.f.xc,d(\"flyThrough.js\"));\nb(c.f.Mc,d(\"videoPlugin.js\"));b(c.f.Lc,d(\"video.js\"));b(c.f.Bc,d(\"positionCalculation.js\"));b(c.f.Dc,d(\"recInIframe.js\"));b(c.f.me,d(\"registration.js\"));b(c.f.Ec,d(\"refreshWidget.js\"));b(c.f.Ic,d(\"skyLander.js\"));b(c.f.Jc,d(\"topBox.js\"));b(c.f.Nb,d(\"loadMore.js\"));b(c.f.Mb,d(\"inPlayerWidget.js\"));b(c.f.Cc,d(\"readMore.js\"));b(c.f.wc,d(\"d2cProxy.js\"));b(c.f.vc,a.c.I+\"libs.sphere.com/d2c/dist/js/d2c.js\");b(c.f.Gc,d(\"scroll.js\"));b(c.f.Hc,a.c.Tf+\"/scroll/scrollExternal.js\");b(c.f.yc,d(\"pager.js\"));b(c.f.zc,\na.c.Tf+\"/pager/pagerExternal.js\");b(c.f.Xa,a.c.zk+\"/NVPInjector.min.js\");return e};c.ej=function(a){return d[a]};c.s=function(a,b,e,d){if(a=c.ej(a))a.Sb.push({we:b||OBR.b.Ga(),Dh:d}),a.Ce=e,a.ai()};c.fj=function(a){return d[a].state};c.v=function(c){if(\"-1\"!==a.c.Ib)try{d[c].Mf()}catch(b){throw a.error({name:\"obm-MakeHandShakeError\",message:\"Error in module: \"+c+\", Err: \"+b,stack:b.stack||\"None\"}),b;}};c.i(OBR);return c}();OBR.i=OBR.i||void 0;OBR.p=function(c){return document.getElementById(c)};OBR.ia=OBR.ia||function(){var c={},a={},d,f;a.i=function(b){d=b=b||OBR;c.wb=new d.F;f=!1};a.B=function(){return c};c.Pj=function(){var b,a;b=d.b.createElement(\"iframe\",\"ob_ping\");b.setAttribute(\"id\",\"ob_ping\");b.style.border=\"0px\";b.style.width=\"0px\";b.style.height=\"0px\";b.setAttribute(\"src\",d.c.Dd+\"/utils/ping.html?r=\"+d.b.gg());d.b.u(b,\"load\",function(){d.e.log(\"ping returned\");d.c.eg=2;c.wb.n(\"success\");d.ia.sg()});a=d.b.Na();null!==a&&(d.e.log(\"ping inserted\"),d.b.S(b,a))};c.Uk=function(){d.e.log(\"ping Wait\");\nnew d.Ba(function(){return 2===d.c.eg},function(){},d.b.Ga(),function(){c.wb.n(\"fail\");d.ia.sg()},50,200,!1)};a.sg=function(){d.b.zb(\"ob_ping\")};a.Lk=function(b){c.wb.add(\"success\",b)};a.Kk=function(b){c.wb.add(\"fail\",b)};a.fk=function(){return f};a.Gg=function(){f=!0};a.Tk=function(){c.Pj();c.Uk()};a.A=function(){c.wb.wa()};a.i(OBR);return a}();OBR.Ma=OBR.Ma||function(){var c,a={},d={},f;a.i=function(b){c=b=b||OBR;f=new c.F};a.B=function(){return d};d.Uc=function(b){var a,d;a=0;for(d=b.length;a<d;a+=1)c.b.ra(b[a],\"data-ob-mark\",\"true\"),c.b.ra(b[a],\"data-browser\",c.c.te),c.b.ra(b[a],\"data-os\",c.c.Nk),f.n(\"find\",[b[a]])};d.Ve=function(){return c.b.M(\"class\",\"OUTBRAIN\",\"div\",!0)};d.Zi=function(b){var a,d=[],f=[];for(a=0;a<b.length;a++){var k=b[a];if(\"string\"===typeof k.containerId)if(c.p(k.containerId)){var l=c.p(k.containerId);OBR.ua.mi(k,\nl);f.push(l)}else d.push(b[a])}window.OB_elements=d;return f};d.hj=function(){var b=[];\"object\"===typeof window.OB_elements&&0<window.OB_elements.length&&(b=window.OB_elements);return b};d.gj=function(){var b=[],a=d.Ve(),h,f;h=0;for(f=a.length;h<f;h+=1){var k=c.b.eb(a[h],\"data-ob-mark\");null!==k&&\"true\"===k||!a[h]||b.push(a[h])}h=d.hj();if(0<h.length)for(c.e.log(\"Array of elements found!\"),a=d.Zi(h),h=0,f=a.length;h<f;h+=1)b.push(a[h]);return b};a.Em=function(b){d.Re(b)};d.Re=function(b){if(void 0===\nb){var a=!1;c.e.log(\"searching for containers\");new c.Ba(function(){return a},c.b.Ga(),function(){a=c.Ke.Wj();var b=d.gj();a&&c.e.log(\"checking:(\"+a+\")\");0<b.length&&d.Uc(b)},f.n(\"stopSearch\"),50,1E3,!1)}else 0<(b.length||0)&&d.Uc(b)};a.Xm=function(){return 0<d.Ve().length};a.Jk=function(b){f.add(\"find\",b)};a.gn=function(b){f.add(\"stopSearch\",b)};a.Qe=function(){d.Re()};a.Ki=function(b){var a=[],f,g;f=0;for(g=c.j.length;f<g;f+=1){var k=c.b.C(f);null!==k&&(\"string\"===typeof b&&c.b.ra(k,\"data-src\",\nb),c.b.ra(k,\"data-ob-mark\",\"false\"),a.push(k))}0<a.length&&(c.j=[],d.Uc(a))};a.A=function(){f.wa();c.j=[]};a.i(OBR);return a}();OBR.ca=OBR.ca||function(){var c={},a={},d=OBR,f;a.i=function(b){d=b;c.O=d.b.kd(\"OB-AD-BLOCKER-STAT\");null!==c.O&&d.e.log(\"AdBlock - status from local storage is: \"+c.O);c.re=0;c.Rc=0;c.pe=!1;f=d.c.Ef?1500:300;c.Nc=new d.F;a.da={Kd:0,$c:3,ae:6,Xd:7,wf:8};null===c.O&&a.Og()};a.Md=function(b){c.Nc.add(\"onAdBlockStatusReady\",b)};a.Og=function(){c.vi()};c.vi=function(){document.body?c.Oj():(OBR.e.log(\"AdBlock - Don't have body. Stop full check\"),c.O=c.O?c.O:\"false\",c.Nc.n(\"onAdBlockStatusReady\",[c.O]))};\nc.Oj=function(){var b;b=d.b.createElement(\"div\",\"ob_ad\",\"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important; border:none; padding: 0 0 0 0;\");b.className=\"Ads_4 AD_area ADBox AdsRec\";document.body.appendChild(b);var a=c.rh();a.push(b);OBR.e.log(\"AdBlock - Start long status check for Ad Blocker existence\");setTimeout(function(){c.wi(a);c.O=(0<c.Rc).toString();d.e.log(\"AdBlock - finish long status check. adBlock = \"+c.O);\nc.pe=!0;d.b.Ig(\"OB-AD-BLOCKER-STAT\",c.O);c.Nc.n(\"onAdBlockStatusReady\",[c.O])},f)};c.rh=function(){for(var b=[\"abp_ob_exist\",\"abp_ob_wl\"],a=[],c=d.b.fb(),f=0;f<b.length;f+=1)a.push(d.b.createElement(\"div\",b[f],\"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important; border:none; padding: 0 0 0 0;\",{\"class\":b[f]})),a[f].innerHTML=\".\",d.b.S(a[f],c);return a};c.wi=function(b){for(var a=[],f=[],g=0;g<b.length;g+=2){var k=b[g]?!d.b.sd(b[g]):\n!1,l=b[g+1]?d.b.sd(b[g+1]):!1;f.push(k);k&&b.length>g+1&&a.push(l)}a.push(!1);for(g=0;g<b.length;g++)d.b.zb(b[g].id);c.re=d.b.Ee(a);c.Rc=d.b.Ee(f)};a.sj=function(){return c.re};a.Vi=function(){return c.Rc};c.xj=function(b,e){if(e===a.da.Xd||e===a.da.ae)return!1;var c=d.b.getElementsByClassName(\"ob-p\",d.b.C(b));if(0<c.length)for(var f=0;f<c.length;f+=1)if(10<c[f].offsetHeight&&d.b.sd(c[f]))return!0;return!1};a.Zh=function(b,a,f){var g=d.j[b];\"undefined\"===typeof g.Gf()&&g.Ol(0<a?c.xj(b,f):!1)};a.Qj=\nfunction(){return c.O};a.Rj=function(){return null!==c.O};a.Vm=function(){return c.pe};a.B=function(){c.W=d;return c};a.i(OBR);return a}();OBR.D=OBR.D||function(){var c={},a={},d;a.i=function(a){d=a=a||OBR;c.Gd=new d.bd;c.ub=new d.F;c.ob=!1;c.Fm=null;c.Te=!0};c.Ti=function(a){var b,e,h=a.H(),g=d.b.pl;b=a.tj();var k=d.b.kd(\"OB-USER-TOKEN\"),l=d.w.Z(),l=\"&winW=\"+l.width+\"&winH=\"+l.height,m=\"\"!==d.c.Yd&&0!==h?\"&t=\"+d.c.Yd:\"\",p=!0===d.c.km||!0===a.hf(),n=a.kf()?\"&videoId=\"+a.kf():\"\",q=a.gf()?\"&playerSrcId=\"+a.gf():\"\",r=a.Ue()?\"&api_user_id=\"+a.Ue():\"\",s=d.c.Ne?\"&xp=\"+d.b.Q(d.c.Ne):\"\",v=d.c.Vj?\"&wrDebug=true\":\"\",w=\"true\"===d.ca.Qj()?\"&adblck=true\":\n\"&adblck=false\",u=a.cf()?a.cf():d.c.Sk,t=\"https://\"===d.c.I?\"&secured=true\":\"\";b=b&&\"hp\"===b?d.c.Aj+\"/utils/get?url=$LNK$SRC$VDOID$PLYSRCID&settings=$SET&recs=$REC&widgetJSId=$WID&key=$KEY$INSTYPE$APPVER&idx=$IDX&version=$VER&ref=$REF&apv=$APV&sig=$SIG&format=$FRT&rand=$RND$LSD$DRFT$ABTEST$XP$TOKEN$WINDOWSIZE$TST$USRID$CRDRFT$WRDBG$ADBLCK$SECURED\":d.c.Dd+\"/utils/get?url=$LNK$SRC$VDOID$PLYSRCID&settings=$SET&recs=$REC&widgetJSId=$WID&key=$KEY$INSTYPE$APPVER&idx=$IDX&version=$VER&ref=$REF&apv=$APV&sig=$SIG&format=$FRT&rand=$RND$LSD$DRFT$ABTEST$XP$TOKEN$WINDOWSIZE$TST$USRID$CRDRFT$WRDBG$ADBLCK$SECURED\";\ne=a.ed();b=g(b+(\"\"!==e&&null!==e?\"&fbk=\"+e:\"\"),\"$LNK\",d.b.Q(a.pa()));b=g(b,\"$SRC\",c.oj(a));b=g(b,\"$IDX\",h);b=g(b,\"$SET\",!0);b=g(b,\"$REC\",!0);b=g(b,\"$KEY\",u);b=g(b,\"$INSTYPE\",a.df()?\"&installationType=\"+a.df():\"\");b=g(b,\"$APPVER\",a.We()?\"&app_ver=\"+a.We():\"\");b=g(b,\"$WID\",a.q());b=g(b,\"$VER\",d.c.Ib);b=g(b,\"$REF\",d.c.dl);b=g(b,\"$SIG\",d.c.Vg);b=g(b,\"$APV\",d.c.Rb);b=g(b,\"$FRT\",a.aj());b=g(b,\"$RND\",d.b.gg());b=g(b,\"$DRFT\",d.c.Dk);b=g(b,\"$ABTEST\",d.c.ph);b=g(b,\"$CRDRFT\",d.c.ki);b=g(b,\"$XP\",s);b=g(b,\"$LSD\",\nk?\"&lsd=\"+d.b.Q(k):\"\");b=g(b,\"$TOKEN\",m);b=g(b,\"$WINDOWSIZE\",l);b=g(b,\"$TST\",p?\"&testMode=true\":\"\");b=g(b,\"$USRID\",r);b=g(b,\"$VDOID\",n);b=g(b,\"$PLYSRCID\",q);b=g(b,\"$WRDBG\",v);b=g(b,\"$ADBLCK\",w);return b=g(b,\"$SECURED\",t)};c.oj=function(a){var b=\"&srcUrl=\";a=a.pj();return b=null!==a&&\"string\"===typeof a&&0<a.length?b+d.b.Q(a):0<d.c.Mg.length?b+d.c.Mg:\"\"};c.Fj=function(a,b){var e=b.m,h=b.q(),g=d.b.K(0,a,!0);d.b.u(g,\"error\",function(){c.ub.n(\"onOdbFail_\"+e+\"_\"+h,[b],!0)});d.b.R(g);c.ub.n(\"onOdbFire_\"+\ne+\"_\"+h,[b],!0);d.e.log(\"fire this src \"+a)};c.Nl=function(a){d.c.If&&setTimeout(function(){c.rg(a.m,a.q())},1E4)};c.rg=function(a,b){d.b.zb(\"ob_odbCall_\"+a+b)};c.Sj=function(){var f=d.ca.Rj();if(c.Te)if(c.Te=!1,f)d.e.log(\"AdBlock ODB detected immediately\");else{var b=new d.nh;d.e.log(\"AdBlock ODB start stopwatch\");b.start();d.ca.Md(function(){d.e.log(\"AdBlock ODB detected after \"+b.stop());a.n()})}return f};a.n=function(){if(!0!==c.ob&&!0===d.ia.fk()&&c.Sj()){c.ob=!0;var a=c.Gd.top(),b;a?(d.e.log(\"fire odb for \"+\na.pa()),b=c.Ti(a),c.Fj(b,a),c.Nl(a)):c.ob=!1}};a.ag=function(a,b){c.ub.add(\"onOdbFire_\"+a.m+\"_\"+a.q(),b)};a.$f=function(a,b){c.ub.add(\"onOdbFail_\"+a.m+\"_\"+a.q(),b)};a.be=function(a,b){c.ob=!1;c.rg(a,b)};a.Bl=function(a){!0===a&&(OBR.c.Rb=a)};a.Ul=function(a){a&&(d.c.Yd=a)};a.Dj=function(){d.c.Rb=!1};a.Ld=function(f){c.Gd.add(f);d.e.log(\"register odb for \"+f.pa());a.n()};a.Mh=function(c){a.be(c.m,c.q());a.n()};a.A=function(){c.Gd.bi();c.ub.wa();c.ob=!1};a.B=function(){c.W=d;return c};a.i(OBR);return a}();OBR.k=OBR.k||function(){function c(){d.e.log(\"ping fail\")}function a(){d.e.log(\"ping success\");d.ia.Gg();d.D.n()}var d,f={},b={},e;f.gc=\"manualDataReady\";f.Pf=\"manualEditorialDataReady\";f.xd=\"manualClickReady\";f.i=function(b){d=b=b||OBR;e=new d.F};f.B=function(){return b};f.hn=function(b){e.add(\"onHtmlReturn\",b)};f.il=function(b){e.add(\"noRecs\",b)};b.Za=function(a){d.e.log(\"rec \"+a+\" was rendered\");var e=d.j[a];e.sa(!0);0===a&&d.b.Cl();b.ue(e);d.b.Ch(e);d.display.Kj(e);b.Rk(e);b.si(e)};b.si=function(b){!0===\nb.h(\"d2cFunnelEnabled\",!1)&&OBR.d.s(OBR.d.f.wc,function(b){OBR.Ie.sk(b)},this,b)};b.Rk=function(b){var a=b.h(\"recMode\",\"\"),e=b.h(\"dynamicWidgetLayout\",\"\");(-1<a.indexOf(\"top-box\")||-1<a.indexOf(\"bottom-box\")&&-1===a.indexOf(\"bottom-box-vertical\")||\"odb_dynamic\"===a&&-1<e.indexOf(\"top-box\"))&&OBR.d.s(OBR.d.f.yc,function(b){OBR.vb.Ad(b)},this,b)};b.Tm=function(b){return Math.floor(Math.random()*b)+1};b.ue=function(b){b.h(\"globalWidgetStatistics\",!0)&&d.ta&&d.ta.yh(b)};b.um=function(a){d.e.log(\"widget was found\");\na=d.Jb.xh(a);0===a.m&&b.Nh();!0===a.Xj()?d.e.log(\"Dynamic loader - stop odb!\"):d.D.Ld(a)};f.Wf=function(b,a){var e=\"NA\",c=b&&b.response?b.response:null,m;m=d.b.gd(a);m.pb()||(c&&(c.request&&c.request.widgetJsId)&&(e=c.request.widgetJsId),d.D.be(a,e),m&&(c&&c.documents)&&(m.sa(!0),m.zf()?f.Wb(f.Pf,a,m.q(),b):f.Wb(f.gc,a,m.q(),b.response.documents)),d.D.n())};f.Wb=function(b,a,c,d){e.n(b+a+c,[d,a],!0)};f.og=function(b,a,c,d){e.add(b+a+c,d)};f.yd=function(b,a){if(null!==b){var e=0,e=b.permalink,c=b.widgetId,\nm=d.ua.qi(b);(b.videoId||e&&\"string\"===typeof e)&&(c&&\"string\"===typeof c)&&(d.e.log(\"manual Odb call\"),e=f.xk(b),m.idx=e,m.isManualWidget=!0,m=d.Jb.Ge(m),m.Hl(),d.Qa[e]=m,m.Zj()&&d.xa.Hh(m),f.og(f.gc,e,m.q(),a),d.ia.Gg(),d.D.Ld(m))}};f.xk=function(b){var a=0,e=d.c;if(b.videoId)return 0;b=b.permalink;null===e.tb&&(e.tb=0<d.j.length?d.j[0].pa():null);e.tb===b?(0===e.fc&&(e.fc=100),a=e.fc+1):e.tb=b;return e.fc=a};f.sb=function(a,c){var f=OBR.p(d.c.mb);d.b.Pa(f)&&d.b.Pa(f.parentNode)&&f.parentNode.removeChild(f);\nd.b.qd(d.c.mb);\"function\"===typeof c&&e.add(b.xd,c);if(null!==a&&(f=a.link)&&\"string\"===typeof f){d.e.log(\"manual Click\");if(null!==f.match(/http:\\/\\/.+outbrain.com/i))d.b.Uh(f+\"&noRedirect=true\");else throw\"Wrong redirect link: \"+f;e.n(b.xd);e.qg(b.xd)}};b.Hf=function(b){return b.h(\"stopRater\",!1)};b.Nh=function(){d.c.Ck||d.c.If?(d.e.log(\"async - no ping\"),a()):d.ia.Tk()};f.Ed=function(a,c){var k,l;OBR.e.log(\"HTML returned\");c=b.Uf(c);(k=d.j[c])?(0>=k.mj(a)&&e.n(\"noRecs\",[k]),k.pb()||(k.setData(a),\nd.D.Ul(k.g(\"t\",null)),d.c.cc=\"mobile\"===k.g(\"readerPlatform\",\"desktop\"),d.c.jc=k.g(\"readerPlatform\",\"desktop\"),l=k.q(),e.n(\"odbRtn_\"+l,[k]),e.n(\"odbRtn_\"+c,[k]),e.n(\"onHtmlReturn\",[k],!1,k),b.Hf(k)||k.td()||b.ok(k.fd())?b.ue(k):(d.D.Bl(k.h(\"apv\",!1)),f.gk(k)?f.Ua(c):f.wj(k),b.Yh(k),b.Xh(k))),f.Oi(k)):d.e.log(\"odbHtmlReturned : Widget not found\")};b.Uf=function(b){return 1E3>b?b:b%1E3};b.ok=function(b){var a=!1;null!==b.match(/(<\\/?met|<\\/?scr)/i)&&(a=!0,d.e.log(\"SECURITY\"));return a};f.Oi=function(a){b.Hf(a)||\n(d.D.be(a.m,a.q()),d.D.n())};b.Yh=function(b){!d.c.cc&&b.lk()&&b.ik()?d.d.s(d.d.f.Ic,function(b){d.Lg.i(b)},this,b):b.kk()&&d.d.s(d.d.f.Jc,function(b){d.Wa.i(b)},this,b)};b.Xh=function(b){d.c.cc&&!0===b.h(\"isReadMoreEnabled\",!1)&&d.d.s(d.d.f.Cc,function(b){d.hg.i(b)},this,b)};f.gk=function(b){var a=!0;if(b.Kf()||b.Cf()||b.r&&b.r.reason&&b.r.reason===OBR.xa.Da.le)a=!1;return a};f.wj=function(b){var a=b.m;b.Kf()?d.d.s(d.d.f.Mc,function(){d.sc.oi(a)},this):b.Cf()&&d.display.Hj(b)};f.Ua=function(b){b=\nd.j[b];d.display.Ua(b);d.e.log(\"HTML - Render\");f.Yk(b);f.ol(b)};f.ol=function(b){if(!0===b.dj()){var a={};a.platform=d.c.jc;a.lang=b.g(\"lang\",\"en\");a.uuid=b.g(\"lsd\",null);a.publisherId=b.g(\"pid\",null);a.sourceId=b.g(\"sid\",null);a.widgetNumberId=b.g(\"wnid\",null);a.location=b.g(\"gl\",\"\");a.timestamp=b.md();d.d.s(d.d.f.Xa,function(){window.NVPInjector.main.widgetLoad(d.b.C(b.H()),b.kb(),a)})}};f.Yk=function(b){d.b.Vh(b);d.Pd.nc(b);d.Ub.od(b.H())};f.jg=function(b,a){d.b.P(a,\"ob_clicked\");var e=d.b.eb(a,\n\"data-redirect\");null!==e&&(a.href=e);return!0};f.Sa=function(a){b.ci();d.Ma.Ki(a);return!0};f.A=function(){e.wa()};f.nc=function(){d.Ma.Jk(b.um);d.display.Ra(b.Za);d.ia.Lk(a);d.ia.Kk(c);d.c.dc?d.c.em():d.Ma.Qe()};f.Rh=function(b,a,e){if(window.confirm(\"Removing this recommendation will remove it permanently for this section and will refresh the recommendations.\\n Are you sure you want to remove this recommendation?\")){var c=\"https://my.outbrain.com/manage/\",c=!1===e?c+(\"add-zapped-document?publisherId=\"+\na+\"&docUrl=\"+d.b.Q(b)):c+(\"add-rule?publisherId=\"+a+\"&ruleValue=\"+d.b.Q(b)+\"&ruleType=\"+e);b=d.b.K(0,c,!0);d.b.R(b)}};f.Qh=function(b){window.confirm(\"Removing this recommendation will remove it permanently for this section and will refresh the recommendations.\\n Are you sure you want to remove this recommendation?\")&&(b=d.b.K(0,d.c.Dd+d.c.Sh+b+\"&index=1&templateIndex=1&sig=\"+d.c.Vg,!0),d.b.R(b))};f.rl=function(b){b&&(b.ob_exclude_resp&&\"number\"===typeof b.ob_exclude_resp.code&&1!==b.ob_exclude_resp.code)&&\nf.Sa()};f.hl=function(b,a){if(a&&\"function\"===typeof a){var c=\"odbRtn_\"+b;e.add(c,a);var f=d.ua.nf(b);f&&f.yf()&&e.n(c,[f])}};f.gl=function(b,a){if(a&&\"function\"===typeof a){var c=\"odbRtn_\"+b;e.add(c,a);var f=d.ua.lf(b);f&&f.yf()&&e.n(c,[f])}};f.Wi=function(b){return(b=d.ua.nf(b))?b.g(\"tcr\",-1):null};f.Ab=function(){d.Ma.Qe()};f.wa=function(){d.display.A();d.D.A();d.ia.A();this.A();d.Ma.A();d.ta.A();d.Pd.A();d.nd.A();d.xa&&d.xa.A();d.Wa&&d.Wa.A();d.c.Rb=!1};f.ll=function(){this.wa();this.nc()};b.ci=\nfunction(){d.D.Dj();d.ta.A()};f.mg=function(a,e){a=b.Uf(a);var c=d.j[a];c.fl(e);OBR.Sa&&OBR.Sa.Ud(c);d.D.Ld(c)};f.Qf=function(b,a,c,d,m){a&&b&&(f.sb({link:a},null),e.n(\"videoClick_\"+b,[{videoUrl:c,videoId:d,widgetId:b,widgetIdx:m}]))};f.Zf=function(b,a){e.add(\"videoClick_\"+b,a)};f.i(OBR);return f}();OBR.display=OBR.display||function(){var c,a={},d;a.i=function(a){c=a=a||OBR;d=new c.F};a.uf=function(d,b){var e=c.b.hm(d),h=c.b.C(b.m);h&&(e&&0<e.length)&&(0<b.jd()?a.Gi(h,e[0],b.m,b):a.Bg(e[0],h,b.m,b),c.e.log(\"element inserted\"))};a.Gi=function(d,b,e,h){function g(){a.yj(d).Fb(function(c){a.Ml(c,b,e,h).Fb(function(b){a.Fi(b)})})}var k=new c.Ya;k.Fb(function(){a.Hi(d).Fb(g)});k.Va()};a.Hi=function(a){var b=new c.Ya,e=1,d=setInterval(function(){0.1>=e?(clearInterval(d),b.Va(a)):(a.style.opacity=e,\nc.c.Ff?e=0:(a.style.filter=\"alpha(opacity=\"+100*e+\")\",e-=0.1*e))},10);return b};a.yj=function(a){var b=new c.Ya;a.style.opacity=0;setTimeout(function(){b.Va(a)},0);return b};a.Ml=function(d,b,e,h){var g=new c.Ya;a.Bg(b,d,e,h);setTimeout(function(){g.Va(d)},0);return g};a.Bg=function(a,b,e,h){b.innerHTML=\"\";c.b.S(a,b);d.n(\"afterRender\",[e],!1,h)};a.Fi=function(a){var b=new c.Ya,e=0.1,d=setInterval(function(){1<=e?(clearInterval(d),a.removeAttribute(\"style\"),b.Va(a)):(a.style.opacity=e,c.c.Ff?e=1:(a.style.filter=\n\"alpha(opacity=\"+100*e+\")\",e+=1.6*e))},50)};a.dn=function(a){d.add(\"beforeRender\",a)};a.Ra=function(a){d.add(\"afterRender\",a)};a.Kj=function(a){c.b.hk(a)&&OBR.d.s(OBR.d.f.Gc,function(b){OBR.scroll.Ad(b)},this,a)};a.Hj=function(d){OBR.d.s(OBR.d.f.Bc,c.b.Ga(),this);OBR.d.s(OBR.d.f.xc,function(){a.Ri(d)},this)};a.Ri=function(c){a.uf(OBR.Xb.Cj(c),c);OBR.Xb.i()};a.Ua=function(d){c.e.log(\"HTML - render widget\");a.uf(d.fd(),d);d.sa(!0)};a.A=function(){d.wa()};a.i(OBR);return a}();OBR.oe=OBR.oe||function(c){var a={},d=OBR,f={},b={},e={},h=\"\",g=null,k=null,l=null,m=null,p=!1,n=0,q=\"html\",r=!1,s=4E3,v=\"nano\",w=!1,u=!1,t=0,y=!1,x=null,z=null,A=null,B=null,C=null,D=null,E=!1,F=!1,G;a.Dm=0;a.Cm=1E3;a.zm=2;a.m=c;a.Vb=\"\";a.r={};a.Ji={slow:7E3,normal:5E3,fast:3E3,qa:5};a.setData=function(c){c&&c.response&&(c=c.response,c.request&&(b=c.request),c.settings&&(f=c.settings),c.meta&&(e=c.meta),c.timestamp&&(g=c.timestamp),c.html&&(h=c.html),r=!0);a.Ah()};a.kb=function(){return f};a.Qm=\nfunction(){return e};a.h=function(b,a){var c;c=f[b];return\"undefined\"!==typeof c&&null!==c?c:a};a.dj=function(){var b;b=e.inlineNVP;return\"undefined\"!==typeof b&&null!==b?b:!1};a.Ah=function(){a.Wl()};a.mj=function(b){var a={};return b&&(b.response&&b.response.request)&&(a=b.response.request,b=a.tcr)?b:-1};a.g=function(a,c){var e=b[a];return e?e:c};a.fd=function(){return h};a.md=function(){return g};a.Zl=function(b){a.Fg(b.permalink);a.am(b.widgetId);a.Fl(b.dynLoad);a.bm(b.widgetType);a.$l(b.fbk);\na.Gl(b.timeout);a.Sl(b.srcUrl);a.Tl(b.testMode);a.Jl(b.installationKey);a.Kl(b.installationType);a.Al(b.appVer);a.zl(b.userId);a.Yl(b.videoId);a.Ql(b.playerSrcId);a.Il(b.inPlayer);\"boolean\"===typeof b.isManualWidget&&a.Ll(b.isManualWidget)};a.q=function(){return k};a.am=function(b){k=\"string\"===typeof b?b:\"NA\"};a.Hl=function(){q=\"vjapi\"};a.aj=function(){return q};a.mn=function(b){n=b};a.Mm=function(){return n};a.pa=function(){return l};a.Fg=function(b){l=b};a.kf=function(){return C};a.Yl=function(b){C=\nb};a.gf=function(){return D};a.Ql=function(b){D=b};a.Il=function(b){E=b};a.Df=function(){return E};a.Tl=function(b){y=\"true\"===b||!0===b};a.hf=function(){return y};a.Jl=function(b){x=b};a.Kl=function(b){z=b};a.Al=function(b){A=b};a.zl=function(b){B=b};a.Ue=function(){return B};a.Sl=function(b){m=b};a.pj=function(){return m};a.Xj=function(){return p};a.Fl=function(b){p=\"true\"===b||!0===b};a.Cf=function(){return\"flyThrough\"===a.h(\"displayMode\",\"\")};a.Kf=function(){return\"video\"===a.h(\"displayMode\",\n\"\")};a.Zm=function(){return\"recInIframe\"===a.h(\"displayMode\",\"\")};a.td=function(){return!0===a.h(\"stopRater\",!1)||!0===a.h(\"stopWidget\",!1)};a.yf=function(){return r};a.ik=function(){return!0===a.h(\"isSkylandersInjectionEnabled\",!1)};a.kk=function(){return!0===a.h(\"isTopBoxInjectionEnabled\",!1)};a.lk=function(){return!0===a.h(\"isUIExperimentsEnabled\",!1)};a.tj=function(){return v};a.cf=function(){return x};a.df=function(){return z};a.We=function(){return A};a.bm=function(b){\"string\"===typeof b&&(v=\nb.toLowerCase())};a.Cg=function(){F=!0};a.Ol=function(b){G=b};a.Gf=function(){return G};a.Zj=function(){return!!F};a.$l=function(b){\"string\"===typeof b&&\"\"!==b&&(a.Vb=b)};a.zf=function(){return\"\"!==a.ed()};a.Yj=function(){return!isNaN(parseInt(a.Vb,10))};a.ed=function(){var b;b=parseInt(a.Vb,10);return a.Yj()&&\"number\"===typeof b&&0<=b&&10>b?OBR.b.$i(l,b):a.Vb};a.pb=function(){return w};a.sa=function(b){w=!!b};a.Wm=function(){return\"hp\"===v};a.Om=function(){return a.r};a.nn=function(b){\"object\"===\ntypeof b&&(a.r=b)};a.dk=function(){return u};a.af=function(){return s};a.Gl=function(b){s=a.Ji[b]||6E3};a.Ll=function(b){u=!!b};a.Wl=function(){var b=a.g(\"lsd\",null),c=!0===a.g(\"oo\",!1),e=\"string\"===typeof b&&0<b.length,f=!0===a.h(\"isUseLocalStorageForUUID\",!0);f&&!c&&e?d.b.Ig(\"OB-USER-TOKEN\",b):f||d.b.ui()};a.H=function(){return 0===t?a.m:1E3*t+a.m};a.fl=function(b){\"string\"===typeof b?(OBR.b.ra(OBR.b.C(a.m),\"data-src\",b),a.Fg(b),t=0):t+=1;a.sa(!1)};a.jd=function(){return t};return a};\nOBR.Jb=OBR.Jb||function(){var c=OBR,a={},d=new c.F;a.Ge=function(a){a.idx=a.idx||0;var b=new c.oe(a.idx);b.Zl(a);return b};a.xh=function(f){var b,e,h=c.ua.pi(f);c.b.ra(f,\"data-dynLoad\",\"\");h.permalink=c.ua.$h(h.permalink);b=0===c.j.length&&c.c.tb===h.permalink?1:c.j.length;h.idx=b;e=a.Ge(h);c.j[b]=e;c.b.ra(f,\"data-idx\",b);!0===h.isSecured&&\"https://\"!==c.c.I&&(c.c.Hg(\"https:\"),c.d.i(OBR));0===b&&(c.b.Fe(f),c.b.qd(c.c.mb));f.id=c.c.tc+b;d.n(\"onWidgetCreate\",[e]);return e};a.bg=function(a){d.add(\"onWidgetCreate\",\na)};return a}();\nOBR.ua=OBR.ua||function(){var c=OBR,a={X:{widgetId:{a:\"data-widget-id\",t:\"string\"},permalink:{a:\"data-src\",t:\"string\"},srcUrl:{a:\"data-ob-srcUrl\",t:\"string\"},dynLoad:{a:\"data-dynLoad\",t:\"boolean\"},widgetType:{a:\"data-widget-type\",t:\"string\"},timeout:{a:\"data-timeout\",t:\"string\"},fbk:{a:\"data-fbk\",t:\"string\"},testMode:{a:\"data-ob-test\",t:\"boolean\"},installationKey:{a:\"data-ob-installation-key\",t:\"string\"},userId:{a:\"data-ob-user-id\",t:\"string\"},videoId:{a:\"data-ob-video-id\",t:\"string\"},playerSrcId:{a:\"data-ob-player-src-id\",\nt:\"string\"},inPlayer:{a:\"data-ob-in-player\",t:\"boolean\"},installationType:{a:\"data-ob-installation-type\",t:\"string\"},appVer:{a:\"data-ob-app-ver\",t:\"string\"},isSecured:{a:\"data-is-secured\",t:\"boolean\"}},nf:function(a){var f,b,e;if(c.j)for(b=c.j.length,f=0;f<b;f+=1)if((e=c.j[f])&&e.q()===a)return e;return null},lf:function(a){return c.j[a]?c.j[a]:null},qi:function(c){var f={},b;for(b in a.X)a.X.hasOwnProperty(b)&&typeof c[b]===a.X[b].t&&(f[b]=c[b]);return f},pi:function(d){var f={},b;for(b in a.X)if(a.X.hasOwnProperty(b)){var e=\nc.b.eb(d,a.X[b].a);\"true\"===e||\"false\"===e?f[b]=\"true\"===e:typeof e===a.X[b].t&&\"null\"!==e&&(f[b]=e)}return f},$h:function(a){if(\"string\"!==typeof a||\"null\"===a)a=c.b.ef(!1);else if(0===a.length||0===a.indexOf(\"DROP\")||0===a.indexOf(\"INSERT\"))a=c.b.ef(!0);return a},mi:function(d,f){for(var b in a.X)a.X.hasOwnProperty(b)&&typeof d[b]===a.X[b].t&&c.b.ra(f,a.X[b].a,d[b])}};return a}();OBR.xa=OBR.xa||function(){var c={},a=OBR,d={},f=new a.F;c.Da={Fc:0,TIMEOUT:1,bh:2,le:3};d.Gh=function(b){b.zf()&&(b.Cg(),d.qe(b),OBR.D.$f(b,function(){d.Dg(b)}),OBR.D.ag(b,function(){d.Eg(b)}),OBR.k.gl(b.H(),d.Ik))};c.Hh=function(b){b.Cg();d.qe(b);a.D.$f(b,function(){d.Dg(b)});a.D.ag(b,function(){d.Eg(b)});a.k.og(a.k.Pf,b.H(),b.q(),function(b,a){d.Hk(a,b)})};d.qe=function(b){b.r={reason:c.Da.Fc,Tc:!1,Xf:!1,ye:0,ze:0}};d.Dg=function(b){b&&b.r.reason===c.Da.Fc&&(a.e.log(\"ODB failed - using IronDome \"),\nb.r.reason=c.Da.bh,d.Qd(b))};d.Ik=function(b){clearTimeout(b.r.Fd);OBR.e.log(\"Editorial ODB returned for \"+b.H());b.r.Tc||(!0===b.h(\"ispartialrecs\",!1)?(a.e.log(\"ODB partial - using IronDome \"),b.r.reason=c.Da.le,d.Qd(b)):b.r.Xf=!0)};d.Qd=function(b){clearTimeout(b.r.Fd);if(b.td())a.e.log(\"CDN canceled stop setting\");else{var c=d.Si(b);d.Gj(c,b)}};d.Si=function(b){var c;c=a.c.Th;b=b.ed()+\"_\"+b.q()+\"_\"+b.m;return c+b};d.Gj=function(b,c){var d=a.b.K(0,b,!1);c.r.ze=(new Date).getTime();a.b.R(d);a.e.log(\"Inject CDN call: \"+\nb)};d.Eg=function(b){b.r.Fd=setTimeout(function(){d.Gk(b)},b.af())};d.Gk=function(b){b.r.reason=c.Da.TIMEOUT;a.e.log(\"ODB Timeout - using IronDome \");d.Qd(b)};c.xe=function(b,c){var f;if(b&&b.response){OBR.e.log(\"Cdn response returned\");f=a.ua.lf(c);if(!f&&(f=a.b.gd(c),!f))return;f.r.ye=(new Date).getTime()-f.r.ze;a.D.Mh(f);d.ml(f,b);d.Ij(f)}};d.ml=function(b,c){b.r.Tc=!0;c.response&&c.response.request&&(c.response.request.req_id=\"\");b.r.Xf||(b.dk()&&c.response.documents?a.k.Wb(OBR.k.gc,b.m,b.pn,\nc.response.documents):(b.setData(c),OBR.k.Ua(b.m)),b.sa(!0))};d.Ij=function(b){var c=a.b.Q(b.pa()),d=b.h(\"irdfb\",\"\");\"\"!==d&&(d+=\"&reason=\"+b.r.reason,d=d+(\"&url=\"+c)+(\"&at=\"+b.r.ye),d+=\"&to=\"+b.af()||\"\",d+=\"&ir=\"+(b.r.Tc?1:0),b=OBR.b.K(0,d,!1,!0),OBR.b.R(b))};d.Hk=function(b,c){clearTimeout(f.r.Fd);var f=a.b.gd(b);c&&c.settings&&!0===c.settings.ispartialrecs?d.jn(f):a.k.Wb(a.k.gc,b,f.q(),c.response.documents)};a.Jb.bg(d.Gh);c.A=function(){f.wa()};c.B=function(){return d};return c}();OBR.w=OBR.w||function(){var c={},a=OBR,d={height:0,width:0},f=300;c.$=function(b){a=b};c.B=function(){var b={};b.W=a;return b};c.hd=function(){return new OBR.Ob({})};c.Jg=function(){var b,a,c;c={height:0,width:0};b=void 0!==window.innerWidth;a=void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth;b?(c.height=window.innerHeight,c.width=window.innerWidth):a?(c.height=document.documentElement.clientHeight,c.width=document.documentElement.clientWidth):\n!1===b&&!1===a&&(c.height=document.getElementsByTagName(\"body\")[0].clientHeight,c.width=document.getElementsByTagName(\"body\")[0].clientWidth);d=c};c.Z=function(){return d};c.Ag=function(){document&&document.body&&(f=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)))};c.Ye=function(){return f};c.$e=function(b){var a=\n0;if(!b)return c.Hd.je;try{if(b.offsetParent)for(;;){a+=b.offsetTop;if(!b.offsetParent)break;b=b.offsetParent}else b.y&&(a+=b.y)}catch(d){return OBR.error(d),c.Hd.je}return parseInt(a,10)};c.jf=function(){return document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};c.ek=function(){return OBR.w.Z().height+10>=OBR.w.Ye()};OBR.b.u(window,\"resize\",function(){c.Jg();c.Ag()});c.Jg();c.Ag();return c}();\nOBR.Ob=OBR.Ob||function(c){var a,d={Hd:{je:1E4}};if(c)for(a in c)c.hasOwnProperty(a)&&(d.Hd[a]=c[a]);d.ab=function(a,b){if(!a||0>b||100<b)return!1;var c=a.getBoundingClientRect(),d=OBR.w.Z().height,g;g=Math.round(a.clientHeight*b/100);g=g>d?d-1:g;return c.top+g<=d&&0<=c.bottom-g};return d};OBR.d.v(OBR.d.f.Bc);OBR.ta=OBR.ta||function(){var c={},a={},d=OBR,f=(new Date).getTime(),b;a.i=function(e){d=e;c.xb=null;c.hc=null;c.pf=\"function\"===typeof window.IntersectionObserver;c.T=!1;c.Kb=[];c.Id=new d.Ob;c.Tb=new d.bd;c.Qb=!1;c.Me=0;c.Bf=!0;a.da={Kd:0,$c:3,ae:6,Xd:7,wf:8};b=\"loggerServices/widgetGlobalEvent?\";c.xf=d.c.Bh};c.start=function(){c.Bf&&(c.Bf=!1,OBR.e.log(\"Starting Statistics\"),c.Ui(),!0!==c.xf&&(c.pf||d.b.u(window,\"scroll\",c.vd)))};c.Ui=function(){d.ca.Md(function(){c.Qb=!0});OBR.e.log(\"AdBlock - Start full check for stats\");\nd.ca.Og()};a.yh=function(b){OBR.e.log(\"Adding stats for: \"+b.H());var f=b.r;c.start();b.h(\"tracking\",!1)?c.Cb(b,a.da.ae,!1):b.td()?c.Cb(b,a.da.Xd,!1):-1<b.h(\"recMode\",\"\").indexOf(\"top-box\")||-1<b.h(\"recMode\",\"\").indexOf(\"bottom-box\")?c.Cb(b,a.da.Kd,!1):f&&f.reason&&f.reason!==d.xa.Da.Fc?c.Cb(b,a.da.wf,!0):c.Cb(b,a.da.Kd,!0)};c.pg=function(b){b=b.H();c.Kb[b]||(c.Kb[b]=d.b.C(b))};c.Cb=function(b,a,f){function k(){f&&(c.xf?c.pg(b):c.pf?(OBR.e.log(\"Observe \"+b.H()),c.Ek(b)):(c.pg(b),c.vd()))}c.Qb?(c.De(b.H(),\na),k()):d.ca.Md(function(){c.Qb=!0;c.De(b.H(),a);k()})};c.De=function(b,a){var d;d=c.He(b,a);c.vg(d)};a.oc=function(){var b,d,f=c.Kb,k=f.length||0;for(b=0;b<k;b+=1)void 0!==f[b]&&f[b]&&(d=c.Id.ab(f[b],0),!0===d&&a.uc(b));return null};a.uc=function(b){var d=c.He(b,a.da.$c);c.vg(d);c.Kb[b]=null};a.Di=function(){c.vd()};c.vg=function(b){OBR.e.log(\"Stats waiting list: \"+b);c.Tb.add(b);c.Qb&&c.Mi()};c.Mi=function(){var b=d.b.Na(),a;for(b||(b=d.b.fb());!c.Tb.$j();)a=c.Tb.top(),a+=\"&ab=\"+d.ca.Vi()+\"&wl=\"+\nd.ca.sj(),a=d.b.K(0,a,!0,!1),d.b.S(a,b)};c.kj=function(b,a){var f=b.g(\"pvId\",\"\"),k=f,l=0<f.length;0===a&&null===c.hc&&null===c.xb?k=l?c.hc=f:c.xb=\"irondome\"+d.b.jb(24):f?c.xb&&(k=c.xb):k=c.hc?c.hc:c.xb;return k};c.He=function(e,h){var g=d.j[e],k=c.kj(g,e),l=g.g(\"org\",\"0\"),m=g.g(\"pad\",\"0\");d.ca.Zh(e,m,h);var p=g.Gf()?\"1\":\"0\",n=[];n.push(d.c.cg+b);n.push(\"eT=\"+h);n.push(\"&tm=\");n.push((new Date).getTime()-f);n.push(\"&pid=\"+g.g(\"pid\",-1));n.push(\"&sid=\"+g.g(\"sid\",-1));n.push(\"&wId=\"+g.g(\"wnid\",-1));\nn.push(\"&wRV=\"+d.c.Ib);n.push(\"&rId=\"+g.g(\"req_id\",-1));n.push(\"&idx=\"+g.m);n.push(\"&pvId=\"+k);n.push(\"&org=\"+l);n.push(\"&pad=\"+m);n.push(\"&pVis=\"+p);n.push(\"&eIdx=\");h===a.da.$c&&n.push(c.Me++);return n.join(\"\")};c.vd=function(){c.T||(a.oc(),setTimeout(function(){c.T=!1},150),c.T=!0)};c.Ek=function(b){b=d.b.C(b.H());(new window.IntersectionObserver(c.Fk,{ln:\"0px\",on:[0]})).observe(b)};c.Fk=function(b,c){var d;b.forEach(function(b){d=b.target.dataset.idx;c.unobserve(b.target);c.disconnect()});d&&\n!isNaN(d)&&(a.uc(d),OBR.e.log(\"Callback Observe \"+d))};a.A=function(){c.T=!1;c.Kb=[];c.Tb=new d.bd;c.Me=0;f=(new Date).getTime()};a.i(OBR);return a}();OBR.d.v(OBR.d.f.ne);OBR.Ub=OBR.Ub||function(){var c={},a={},d=OBR;c.$=function(a){d=a};a.vk=function(c,b){var e=c.style;e.fontSize=a.G(b,\"font-size\");e.fontWeight=a.G(b,\"font-weight\");e.fontFamily=a.G(b,\"font-family\");e.lineHeight=a.G(b,\"line-height\");e.textTransform=a.G(b,\"text-transform\");e.letterSpacing=a.G(b,\"letter-spacing\");var d=a.G(b,\"padding-right\").replace(\"px\",\"\"),g=a.G(b,\"padding-left\").replace(\"px\",\"\");e.display=\"block\";e.visibility=\"hidden\";e.width=b.clientWidth-g-d+\"px\"};a.Yb=function(a){return a.innerText||\na.textContent};a.mm=function(c,b){for(var e=a.Yb(c),d;0<b&&c.offsetHeight>b&&0<e.length;)e=e.substring(0,e.length-1),c.innerHTML=e,d=!0;if(0===e.length)d=!1;else{var g=c.offsetHeight;a.ug(c,d);g<c.offsetHeight&&(e=e.substring(0,e.length-1),c.innerHTML=e,a.ug(c,d))}return d};a.indexOf=function(a,b){a.indexOf||\"indexOf\"in Array.prototype||(Array.prototype.indexOf=function(b,a){void 0===a&&(a=0);0>a&&(a+=this.length);0>a&&(a=0);for(var c=this.length;a<c;a++)if(a in this&&this[a]===b)return a;return-1});\nreturn a.indexOf(b)};a.Bi=function(c){var b=!1;-1<a.indexOf(\".,-_' \".split(\"\"),c.substring(c.length-1,c.length))&&(b=!0);return b};a.G=function(a,b){var c=\"\";document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,\"\").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\\-(\\w)/g,function(b,a){return a.toUpperCase()}),c=a.currentStyle[b]);return c};a.ug=function(c,b){if(b){var e=a.Yb(c),e=0<e.lastIndexOf(\" \")?e.substring(0,e.lastIndexOf(\" \")):e.substring(0,\ne.length-3);a.Bi(e)&&(e=e.substring(0,e.length-1));c.innerHTML=e+\"&hellip;\"}};a.li=function(){var a=document.createElement(\"div\");a.style.position=\"absolute\";a.style.top=\"-1000px\";a.style.left=\"-1000px\";document.body.appendChild(a);return a};a.lm=function(c){function b(){for(var b=0;b<e.length;b++){var c=e[b];c.title=a.Yb(c);var d=c.clientHeight,f=parseInt(a.G(c,\"max-height\").replace(\"px\",\"\"));if(!(d<f)){var d=c.cloneNode(!0),m=a.li();a.vk(d,c);m.appendChild(d);f=a.mm(d,f);!0===f?c.innerHTML=a.Yb(d):\n!1===f&&(OBR.e.log(\"Truncation - External CSS broke the calculation, truncation is canceled.\"),OBR.error({name:\"obm-TruncationError\",message:\"External CSS broke the calculation, truncation is canceled.\"}));m.parentNode.removeChild(m)}}}var e=d.b.getElementsByClassName(\"ob-rec-text\",c);0===d.b.getElementsByClassName(\"ob-touch-strip-layout\",c).length?b():setTimeout(b,1E3)};a.yi=function(a){var b=!1;a=d.b.getElementsByClassName(\"ob-widget\",a);0<a.length&&(a=a[0],a.attributes[\"data-dynamic-truncate\"]&&\n\"true\"===a.attributes[\"data-dynamic-truncate\"].value&&(b=!0));return b};c.od=function(c){(c=d.b.C(c))&&a.yi(c)&&function(b){setTimeout(function(){a.lm(b)},500)}(c)};return c}();OBR.$a=OBR.$a||function(){var c={},a={},d;a.i=function(a){d=a=a||OBR};c.of=function(){if(\"undefined\"!==typeof XMLHttpRequest)return new XMLHttpRequest;for(var a=[\"MSXML2.XmlHttp.6.0\",\"MSXML2.XmlHttp.3.0\"],b,c=0;c<a.length;c++)try{b=new ActiveXObject(a[c]);break}catch(d){}return b};c.send=function(a,b,c,h,g,k){void 0===k&&(k=!0);a.addEventListener(\"error\",function(){d.error({name:\"obm-AjaxError\",message:\"Ajax error failed, method:\"+h+\" With data: \"+g})});a.open(h,b,k);a.onreadystatechange=function(){4===\na.readyState&&typeof c===d.c.cb&&c(a.responseText)};h===d.c.V.ma&&a.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");a.send(g)};c.Zc=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+\"=\"+encodeURIComponent(a[c]));return b.join(\"&\")};a.get=function(a,b,e,d){var g=c.of();b=c.Zc(b);c.send(g,a+(b.length?\"?\"+b:\"\"),e,\"GET\",null,d)};a.Xk=function(a,b,e){var h=c.of();b=c.Zc(b);c.send(h,a,e,d.c.V.ma,b,!0)};a.qk=function(a,b,e){b=c.Zc(b);a=d.b.K(\"dataBI\"+\nd.b.jb(),a+(b.length?\"?\"+b:\"\"),!0,!0,e);d.b.R(a)};a.jk=function(){return\"withCredentials\"in new XMLHttpRequest?!0:\"undefined\"!==typeof XDomainRequest};a.B=function(){c.W=d;return c};a.i(OBR);return a}();OBR.Y=function(c,a){this.N=c;this.Ci=a;this.Yc=OBR.c.Ok+\"logger/v1/widget/\";this.yl=this.N.g(\"req_id\",-1)+(new Date).getTime()};\nOBR.Y.prototype.n=function(c,a,d,f){var b={},e;if(\"undefined\"!==typeof c&&(d=OBR.$a.jk()?d:OBR.c.V.hh,e=f&&f.callback?f.callback:function(){},b.sessionId=this.yl,b.eventGroup=this.Ci,b.eventTypeId=c.ID,b.requestId=f&&f.requestId?f.requestId:this.N.g(\"req_id\",-1),a.ajaxMethod=d,a.clientTimestamp=Date.now(),b.attributes=JSON.stringify(a),c.FIRED=c.FIRED?c.FIRED:0,!(c.LIMIT&&c.FIRED>=c.LIMIT)))switch(c.FIRED+=1,d){case OBR.c.V.fh:OBR.$a.get(this.Yc,b,e,!0);break;case OBR.c.V.ma:OBR.$a.Xk(this.Yc,b,e);\nbreak;default:OBR.$a.qk(this.Yc,b,e)}};OBR.extern=OBR.extern||function(){var c=OBR,a={nb:[],getStat:function(){},showDescription:function(a,f){c.d.s(OBR.d.f.Ac,function(){OBR.fg.rk(a,f)},this)},returnedHtmlData:function(a,f){c.k.Ed(a,f)},returnedIrdData:function(a,f){c.xa.xe(a,f)},returnedJsonData:function(a,f){c.k.Wf(a,f)},returnedError:function(a){OBR.e.log(\"Call made using extern class\");c.e.log(\"Callback error\"+a)},callRecs:function(a,f){OBR.e.log(\"Call made using extern class\");c.k.yd(a,f)},callClick:function(a,f){OBR.e.log(\"Call made using extern class\");\nc.k.sb(a,f)},callWhatIs:function(a,c,b,e,h,g){OBR.d.s(OBR.d.f.Pb,function(){OBR.ge.ve(a,c,b,e,h,g)},this);return!1},callUserZapping:function(a,c,b,e,h){OBR.d.s(OBR.d.f.Kc,function(){OBR.ce.Oh(a,c,b,e,h)},this);return!1},zappingFormAction:function(a,c,b,e,h){OBR.ce.Wg(a,c,b,e,h);return!1},userZappingMessage:function(a){OBR.e.log(a.message)},recClicked:function(a,f){OBR.e.log(\"Call made using extern class\");c.k.jg(a,f)},imageError:function(a){OBR.e.log(\"Call made using extern class\");OBR.error({name:\"obm-ImageError\",\nmessage:\"Error loading as image: \"+a.src});c.b.Be(a)},showRecInIframe:function(a,f,b,e,h){c.d.s(c.d.f.Dc,function(){c.kg.cm(a,f,b,e,h)},this)},openNativeVideoPlayer:function(a,f,b,e,h,g,k,l,m,p,n,q,r,s,v,w,u){c.d.s(c.d.f.Xa,function(){u=u?u:c.j[q].g(\"req_id\",null);var t=c.j[q].g(\"lang\",\"en\"),y=c.j[q].g(\"lsd\",null),x=c.j[q].g(\"pid\",null),z=c.j[q].g(\"sid\",null),A=c.j[q].g(\"wnid\",null),B=c.j[q].g(\"gl\",\"\");window.NVPInjector.main.init(c.b.sm([a,f,b,e,h,g,k,l,m,p,n,q,r,s,u,c.c.jc,t,y,x,z,A,v,B,c.j[q].md()]),\nc.j[q].kb(),w)},this);return!1},openOverlay:function(a){c.d.s(c.d.f.Xa,function(){var f=a.getAttribute(\"data-nvp\");if(null!==f&&\"string\"===typeof f){var f=window.JSON.parse(a.getAttribute(\"data-nvp\").replace(/\\\"/g,\"#$#\").replace(/'/g,'\"').replace(/\\\\\\\"/g,\"'\").replace(\"#$#\",'\\\\\"')),b=c.j[f.widgetIdx];f.platform=c.c.jc;f.lang=b.g(\"lang\",\"en\");f.uuid=b.g(\"lsd\",null);f.publisherId=b.g(\"pid\",null);f.sourceId=b.g(\"sid\",null);f.widgetNumberId=b.g(\"wnid\",null);f.location=b.g(\"gl\",\"\");f.timestamp=b.md();window.NVPInjector.main.recClicked(f,\nb.kb())}else c.error({name:\"obm-nvpError\",message:\"Error parsing data-nvp: \"+f,stack:\"None\"})},this);return!1},handshakeNVP:function(){c.d.v(OBR.d.f.Xa)},onVideoClick:function(a,f){c.k.Zf(a,f)},manualVideoClicked:function(a,f,b,e,h){c.k.Qf(a,f,b,e,h)},errorInjectionHandler:function(a){OBR.j[a].Lm(a)},reloadWidget:function(){OBR.e.log(\"reload widget\");c.k.ll()},researchWidget:function(){OBR.e.log(\"research widget\");c.k.Ab()},cancelRecommendation:function(a){OBR.e.log(\"cancel recommendation with bocr \"+\na);c.k.Qh(a)},cancelRecs:function(a,f,b){OBR.e.log(\"cancel recommendation by doc url \"+a+\" publisher id = \"+f+\" isAd = \"+b);c.k.Rh(a,f,b)},refreshWidget:function(a){OBR.e.log(\"refresh widget\");c.k.Sa(a)},refreshSpecificWidget:function(a,f){OBR.e.log(\"refresh SPECIFIC widget\");\"string\"!==typeof f?c.d.s(c.d.f.Ec,function(){OBR.k.mg(a,f)},this):OBR.k.mg(a,f)},getCountOfRecs:function(a){return c.k.Wi(a)},onOdbReturn:function(a,f){c.k.hl(a,f)},closeCard:function(){c.Xb.ei()},closeModal:function(){try{c.modal.hideModal()}catch(a){OBR.error(a)}},\nscrollLoad:function(){try{OBR.d.v(OBR.d.f.Hc)}catch(a){OBR.error(a)}},pagerLoad:function(){try{OBR.d.v(OBR.d.f.zc)}catch(a){OBR.error(a)}},callLoadMore:function(a,c){OBR.d.s(OBR.d.f.Nb,function(){OBR.wd.vf(c)},this)},closeTbx:function(){OBR.Wa.fi()},scrollIntoView:function(){OBR.ta.Di()},video:{}};a.video.getVideoRecs=function(a,c,b,e,h,g,k){OBR.d.s(OBR.d.f.Lc,function(){OBR.ee.rj(a,c,b,e,h,g,k)},this)};a.video.videoClicked=function(a){OBR.ee.tm(a)};a.video.initInPlayerWidget=function(d){d=new OBR.gh(d);\na.nb.push(d);1!==c.d.fj(c.d.f.Mb)&&c.d.s(c.d.f.Mb,function(){c.Ia.Nf(a.nb)},this);return d};return a}();window.outbrain=window.outbrain||{};window.outbrain.returnedHtmlData=function(c,a){OBR.k.Ed(c,a)};window.outbrain.returnedIrdJsonData=function(c,a){OBR.xa.xe(c,a)};window.outbrain.returnedJsonData=function(c,a){OBR.k.Wf(c,a)};window.outbrain.returnedError=function(c){OBR.e.log(\"Callback error\"+c)};window.outbrain.callRecs=function(c,a){OBR.k.yd(c,a)};\nwindow.outbrain.callClick=function(c,a){OBR.k.sb(c,a)};window.outbrain.callWhatIs=function(c,a,d,f,b,e){OBR.d.s(OBR.d.f.Pb,function(){OBR.ge.ve(c,a,d,f,b,e)},this)};window.outbrain.callLoadMore=function(c,a){OBR.d.s(OBR.d.f.Nb,function(){OBR.wd.vf(a)},this)};window.outbrain.recClicked=function(c,a){OBR.k.jg(c,a)};window.outbrain.imageError=function(c){OBR.b.Be(c)};window.outbrain.closeModal=function(){try{OBR.modal.hideModal()}catch(c){OBR.error(c)}};window.outbrain_rater=window.outbrain_rater||{};\nwindow.outbrain_rater.returnedHtmlData=function(c,a){OBR.k.Ed(c,a)};window.outbrain_rater.returnedCancelOdbData=function(c){OBR.k.rl(c)};!0===OBR.c.Af&&(OBR.e.log(\"Widget Start!\"),OBR.c.Af=!1,\"boolean\"===typeof window.OB_PASSIVE_MODE&&!0===window.OB_PASSIVE_MODE?OBR.e.log(\"passive\"):OBR.k.nc());}\ncatch(ex){\nOBR.error(ex);}})(window.OBR);\n"
          },
          "redirectURL": "",
          "headersSize": 0,
          "bodySize": 21087
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 0,
          "receive": 0
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.619-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/beta/js/lib.js?v=162",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "162"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 384
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.619-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "https://cdn.registerdisney.go.com/v2/outer/DisneyID.js",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "cdn.registerdisney.go.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 393
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.619-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/js/adCallOverride.js?v=1",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "1"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 388
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.620-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/js/min/fw.js?v=43.5",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "43.5"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 383
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.620-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "https://s.abcnews.com/assets/js/prebid.min.js?v=1",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "s.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "1"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 388
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.620-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/beta/js/abcn-head.js?v=162",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "162"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 390
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.620-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/images/Politics/ap-gty-donald-trump-hillary-clinton-split-jc-161104_12x5_1600.jpg",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 438
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.620-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/images/Politics/VotePreference110416.png",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 397
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.621-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/images/Politics/HonestTrustworthy.png",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 394
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.621-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/images/Politics/StrongEnthusiasm.png",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 393
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.621-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/beta/js/abcn.js?v=162",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "162"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 385
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.621-06:00",
        "time": 303,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://abcnewsplayer-a.akamaihd.net/player/2.53.0.0004/amp.premier/amp.premier.min.js?v=2",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "abcnewsplayer-a.akamaihd.net"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "2"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 425
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Server",
              "value": "Apache"
            },
            {
              "name": "Content-Type",
              "value": "application/x-javascript"
            },
            {
              "name": "Etag",
              "value": "\"e44c39ad2660b26504f5e3070c494c4c:1481735667\""
            },
            {
              "name": "Access-Control-Allow-Origin",
              "value": "*"
            },
            {
              "name": "Access-Control-Allow-Methods",
              "value": "GET, POST"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=74718"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:34:24 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive, Transfer-Encoding"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "application/x-javascript",
            "size": 474688,
            "text": "Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('\"this\" is null or not defined');var c=this.length>>>0;for(b=+b||0,1/0===Math.abs(b)&&(b=0),0>b&&(b+=c,0>b&&(b=0));b<c;b++)if(this[b]===a)return b;return-1}),Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(\"function\"!=typeof a)throw new TypeError;for(var d=[],e=2<=arguments.length?arguments[1]:void 0,f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Date.now||(Date.now=function(){return+new Date}),Function.prototype.bind||(Function.prototype.bind=function(a){function b(){}if(\"function\"!=typeof this)throw new TypeError(\"Bind must be called on a function\");var c=[].slice,d=c.call(arguments,1),e=this,f=function(){return e.apply(this instanceof b?this:a||{},d.concat(c.call(arguments)))};return b.prototype=e.prototype,f.prototype=new b,f}),\"object\"!=typeof JSON&&(JSON={}),function(){function f(a){return a<10?\"0\"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'\"'+a.replace(escapable,function(a){var b=meta[a];return\"string\"==typeof b?b:\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+a+'\"'}function str(a,b){var c,d,e,f,h,g=gap,i=b[a];switch(i&&\"object\"==typeof i&&\"function\"==typeof i.toJSON&&(i=i.toJSON(a)),\"function\"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case\"string\":return quote(i);case\"number\":return isFinite(i)?String(i):\"null\";case\"boolean\":case\"null\":return String(i);case\"object\":if(!i)return\"null\";if(gap+=indent,h=[],\"[object Array]\"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)h[c]=str(c,i)||\"null\";return e=0===h.length?\"[]\":gap?\"[\\n\"+gap+h.join(\",\\n\"+gap)+\"\\n\"+g+\"]\":\"[\"+h.join(\",\")+\"]\",gap=g,e}if(rep&&\"object\"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)\"string\"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?\": \":\":\")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?\": \":\":\")+e));return e=0===h.length?\"{}\":gap?\"{\\n\"+gap+h.join(\",\\n\"+gap)+\"\\n\"+g+\"}\":\"{\"+h.join(\",\")+\"}\",gap=g,e}}\"function\"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+f(this.getUTCMonth()+1)+\"-\"+f(this.getUTCDate())+\"T\"+f(this.getUTCHours())+\":\"+f(this.getUTCMinutes())+\":\"+f(this.getUTCSeconds())+\"Z\":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},rep;\"function\"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap=\"\",indent=\"\",\"number\"==typeof c)for(d=0;d<c;d+=1)indent+=\" \";else\"string\"==typeof c&&(indent=c);if(rep=b,b&&\"function\"!=typeof b&&(\"object\"!=typeof b||\"number\"!=typeof b.length))throw new Error(\"JSON.stringify\");return str(\"\",{\"\":a})}),\"function\"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&\"object\"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return\"\\\\u\"+(\"0000\"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))return j=eval(\"(\"+text+\")\"),\"function\"==typeof reviver?walk({\"\":j},\"\"):j;throw new SyntaxError(\"JSON.parse\")})}(),function(a){function b(a,b){this.setNotifyMethod(a),this.setNotifyContext(b)}function c(a,b,c){this.name=a,this.body=b,this.type=c}function d(){}function e(){}function f(){this.subCommands=[],this.initializeMacroCommand()}function g(a,b){this.mediatorName=a||this.constructor.NAME,this.viewComponent=b}function h(a,b){this.proxyName=a||this.constructor.NAME,null!=b&&this.setData(b)}function i(a){if(null!=i.instanceMap[a])throw Error(i.MULTITON_MSG);this.initializeNotifier(a),i.instanceMap[a]=this,this.initializeFacade()}function j(a){if(null!=j.instanceMap[a])throw Error(j.MULTITON_MSG);this.multitonKey=a,j.instanceMap[this.multitonKey]=this,this.mediatorMap=[],this.observerMap=[],this.initializeView()}function k(a){if(k.instanceMap[a])throw Error(k.MULTITON_MSG);this.multitonKey=a,k.instanceMap[a]=this,this.proxyMap=[],this.initializeModel()}function l(a){if(null!=l.instanceMap[a])throw Error(l.MULTITON_MSG);this.multitonKey=a,l.instanceMap[this.multitonKey]=this,this.commandMap=[],this.initializeController()}function m(a,b,c){for(var d,e,a=a.split(\".\"),c=c||n.global,f=0,g=a.length;f<g;f++)d=c,e=a[f],c=null==c[e]?c[e]={}:c[e];return null==b?c:d[e]=b}if(null==a&&(a=window),!a.puremvc){b.prototype.setNotifyMethod=function(a){this.notify=a},b.prototype.setNotifyContext=function(a){this.context=a},b.prototype.getNotifyMethod=function(){return this.notify},b.prototype.getNotifyContext=function(){return this.context},b.prototype.notifyObserver=function(a){this.getNotifyMethod().call(this.getNotifyContext(),a)},b.prototype.compareNotifyContext=function(a){return a===this.context},b.prototype.notify=null,b.prototype.context=null,c.prototype.getName=function(){return this.name},c.prototype.setBody=function(a){this.body=a},c.prototype.getBody=function(){return this.body},c.prototype.setType=function(a){this.type=a},c.prototype.getType=function(){return this.type},c.prototype.toString=function(){var a=\"Notification Name: \"+this.getName(),a=a+(\"\\nBody:\"+(null==this.body?\"null\":this.body.toString()));return a+=\"\\nType:\"+(null==this.type?\"null\":this.type)},c.prototype.name=null,c.prototype.type=null,c.prototype.body=null,d.prototype.sendNotification=function(a,b,c){var d=this.getFacade();d&&d.sendNotification(a,b,c)},d.prototype.initializeNotifier=function(a){this.multitonKey=\"\"+a,this.facade=this.getFacade()},d.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(d.MULTITON_MSG);return i.getInstance(this.multitonKey)},d.prototype.multitonKey=null,d.MULTITON_MSG=\"multitonKey for this Notifier not yet initialized!\",e.prototype=new d,e.prototype.constructor=e,e.prototype.execute=function(){},f.prototype=new d,f.prototype.constructor=f,f.prototype.subCommands=null,f.prototype.initializeMacroCommand=function(){},f.prototype.addSubCommand=function(a){this.subCommands.push(a)},f.prototype.execute=function(a){for(;0<this.subCommands.length;){var b=new(this.subCommands.shift());b.initializeNotifier(this.multitonKey),b.execute(a)}},g.NAME=\"Mediator\",g.prototype=new d,g.prototype.constructor=g,g.prototype.getMediatorName=function(){return this.mediatorName},g.prototype.setViewComponent=function(a){this.viewComponent=a},g.prototype.getViewComponent=function(){return this.viewComponent},g.prototype.listNotificationInterests=function(){return[]},g.prototype.handleNotification=function(){},g.prototype.onRegister=function(){},g.prototype.onRemove=function(){},g.prototype.mediatorName=null,g.prototype.viewComponent=null,h.NAME=\"Proxy\",h.prototype=new d,h.prototype.constructor=h,h.prototype.getProxyName=function(){return this.proxyName},h.prototype.setData=function(a){this.data=a},h.prototype.getData=function(){return this.data},h.prototype.onRegister=function(){},h.prototype.onRemove=function(){},h.prototype.proxyName=null,h.prototype.data=null,i.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},i.getInstance=function(a){return null==a?null:(null==i.instanceMap[a]&&(i.instanceMap[a]=new i(a)),i.instanceMap[a])},i.prototype.initializeController=function(){null==this.controller&&(this.controller=l.getInstance(this.multitonKey))},i.prototype.initializeModel=function(){null==this.model&&(this.model=k.getInstance(this.multitonKey))},i.prototype.initializeView=function(){null==this.view&&(this.view=j.getInstance(this.multitonKey))},i.prototype.registerCommand=function(a,b){this.controller.registerCommand(a,b)},i.prototype.removeCommand=function(a){this.controller.removeCommand(a)},i.prototype.hasCommand=function(a){return this.controller.hasCommand(a)},i.prototype.registerProxy=function(a){this.model.registerProxy(a)},i.prototype.retrieveProxy=function(a){return this.model.retrieveProxy(a)},i.prototype.removeProxy=function(a){var b=null;return null!=this.model&&(b=this.model.removeProxy(a)),b},i.prototype.hasProxy=function(a){return this.model.hasProxy(a)},i.prototype.registerMediator=function(a){null!=this.view&&this.view.registerMediator(a)},i.prototype.retrieveMediator=function(a){return this.view.retrieveMediator(a)},i.prototype.removeMediator=function(a){var b=null;return null!=this.view&&(b=this.view.removeMediator(a)),b},i.prototype.hasMediator=function(a){return this.view.hasMediator(a)},i.prototype.sendNotification=function(a,b,d){this.notifyObservers(new c(a,b,d))},i.prototype.notifyObservers=function(a){null!=this.view&&this.view.notifyObservers(a)},i.prototype.initializeNotifier=function(a){this.multitonKey=a},i.hasCore=function(a){return null!=i.instanceMap[a]},i.removeCore=function(a){null!=i.instanceMap[a]&&(k.removeModel(a),j.removeView(a),l.removeController(a),delete i.instanceMap[a])},i.prototype.controller=null,i.prototype.model=null,i.prototype.view=null,i.prototype.multitonKey=null,i.instanceMap=[],i.MULTITON_MSG=\"Facade instance for this Multiton key already constructed!\",j.prototype.initializeView=function(){},j.getInstance=function(a){return null==a?null:(null==j.instanceMap[a]&&(j.instanceMap[a]=new j(a)),j.instanceMap[a])},j.prototype.registerObserver=function(a,b){null!=this.observerMap[a]?this.observerMap[a].push(b):this.observerMap[a]=[b]},j.prototype.notifyObservers=function(a){if(null!=this.observerMap[a.getName()]){for(var d,b=this.observerMap[a.getName()],c=[],e=0;e<b.length;e++)d=b[e],c.push(d);for(e=0;e<c.length;e++)d=c[e],d.notifyObserver(a)}},j.prototype.removeObserver=function(a,b){for(var c=this.observerMap[a],d=0;d<c.length;d++)if(1==c[d].compareNotifyContext(b)){c.splice(d,1);break}0==c.length&&delete this.observerMap[a]},j.prototype.registerMediator=function(a){if(null==this.mediatorMap[a.getMediatorName()]){a.initializeNotifier(this.multitonKey),this.mediatorMap[a.getMediatorName()]=a;var c=a.listNotificationInterests();if(0<c.length)for(var d=new b(a.handleNotification,a),e=0;e<c.length;e++)this.registerObserver(c[e],d);a.onRegister()}},j.prototype.retrieveMediator=function(a){return this.mediatorMap[a]},j.prototype.removeMediator=function(a){var b=this.mediatorMap[a];if(b){for(var c=b.listNotificationInterests(),d=0;d<c.length;d++)this.removeObserver(c[d],b);delete this.mediatorMap[a],b.onRemove()}return b},j.prototype.hasMediator=function(a){return null!=this.mediatorMap[a]},j.removeView=function(a){delete j.instanceMap[a]},j.prototype.mediatorMap=null,j.prototype.observerMap=null,j.instanceMap=[],j.prototype.multitonKey=null,j.MULTITON_MSG=\"View instance for this Multiton key already constructed!\",k.prototype.initializeModel=function(){},k.getInstance=function(a){return null==a?null:(null==k.instanceMap[a]&&(k.instanceMap[a]=new k(a)),k.instanceMap[a])},k.prototype.registerProxy=function(a){a.initializeNotifier(this.multitonKey),this.proxyMap[a.getProxyName()]=a,a.onRegister()},k.prototype.retrieveProxy=function(a){return this.proxyMap[a]},k.prototype.hasProxy=function(a){return null!=this.proxyMap[a]},k.prototype.removeProxy=function(a){var b=this.proxyMap[a];return b&&(this.proxyMap[a]=null,b.onRemove()),b},k.removeModel=function(a){delete k.instanceMap[a]},k.prototype.proxyMap=null,k.instanceMap=[],k.MULTITON_MSG=\"Model instance for this Multiton key already constructed!\",l.prototype.initializeController=function(){this.view=j.getInstance(this.multitonKey)},l.getInstance=function(a){return null==a?null:(null==this.instanceMap[a]&&(this.instanceMap[a]=new this(a)),this.instanceMap[a])},l.prototype.executeCommand=function(a){var b=this.commandMap[a.getName()];null!=b&&(b=new b,b.initializeNotifier(this.multitonKey),b.execute(a))},l.prototype.registerCommand=function(a,c){null==this.commandMap[a]&&this.view.registerObserver(a,new b(this.executeCommand,this)),this.commandMap[a]=c},l.prototype.hasCommand=function(a){return null!=this.commandMap[a]},l.prototype.removeCommand=function(a){this.hasCommand(a)&&(this.view.removeObserver(a,this),this.commandMap[a]=null)},l.removeController=function(a){delete this.instanceMap[a]},l.prototype.view=null,l.prototype.commandMap=null,l.prototype.multitonKey=null,l.instanceMap=[],l.MULTITON_MSG=\"controller key for this Multiton key already constructed\";var n={global:function(){return this}(),extend:function(a,b){if(\"function\"!=typeof a)throw new TypeError(\"#extend- child should be Function\");if(\"function\"!=typeof b)throw new TypeError(\"#extend- parent should be Function\");if(b!==a){var c=new Function;return c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},decorate:function(a,b){for(var c in b)a[c]=b[c];return a}};a.puremvc={View:j,Model:k,Controller:l,SimpleCommand:e,MacroCommand:f,Facade:i,Mediator:g,Observer:b,Notification:c,Notifier:d,Proxy:h,define:function(a,b,c){a||(a={});var d=a.name,e=a.parent,f=\"function\"==typeof e,g=a.scope||null;if(\"parent\"in a&&!f)throw new TypeError(\"Class parent must be Function\");if(a.hasOwnProperty(\"constructor\")){if(a=a.constructor,\"function\"!=typeof a)throw new TypeError(\"Class constructor must be Function\")}else a=f?function(){e.apply(this,arguments)}:new Function;if(f&&n.extend(a,e),b&&(f=a.prototype,n.decorate(f,b),f.constructor=a),c&&n.decorate(a,c),d){if(\"string\"!=typeof d)throw new TypeError(\"Class name must be primitive string\");m(d,a,g)}return a},declare:m}}}(this);var swfobject=function(){function a(){if(!E){try{var a=t.getElementsByTagName(\"body\")[0].appendChild(t.createElement(\"span\"));a.parentNode.removeChild(a)}catch(a){return}E=!0;for(var a=w.length,b=0;b<a;b++)w[b]()}}function b(a){E?a():w[w.length]=a}function c(a){if(\"undefined\"!=typeof s.addEventListener)s.addEventListener(\"load\",a,!1);else if(\"undefined\"!=typeof t.addEventListener)t.addEventListener(\"load\",a,!1);else if(\"undefined\"!=typeof s.attachEvent)n(s,\"onload\",a);else if(\"function\"==typeof s.onload){var b=s.onload;s.onload=function(){b(),a()}}else s.onload=a}function d(){var a=t.getElementsByTagName(\"body\")[0],b=t.createElement(\"object\");b.setAttribute(\"type\",\"application/x-shockwave-flash\");var c=a.appendChild(b);if(c){var d=0;!function(){if(\"undefined\"!=typeof c.GetVariable){var f=c.GetVariable(\"$version\");f&&(f=f.split(\" \")[1].split(\",\"),J.pv=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,e()}()}else e()}function e(){var a=x.length;if(0<a)for(var b=0;b<a;b++){var c=x[b].id,d=x[b].callbackFn,e={success:!1,id:c};if(0<J.pv[0]){var j=m(c);if(j)if(!o(x[b].swfVersion)||J.wk&&312>J.wk)if(x[b].expressInstall&&g()){e={},e.data=x[b].expressInstall,e.width=j.getAttribute(\"width\")||\"0\",e.height=j.getAttribute(\"height\")||\"0\",j.getAttribute(\"class\")&&(e.styleclass=j.getAttribute(\"class\")),j.getAttribute(\"align\")&&(e.align=j.getAttribute(\"align\"));for(var k={},j=j.getElementsByTagName(\"param\"),l=j.length,n=0;n<l;n++)\"movie\"!=j[n].getAttribute(\"name\").toLowerCase()&&(k[j[n].getAttribute(\"name\")]=j[n].getAttribute(\"value\"));h(e,k,c,d)}else i(j),d&&d(e);else q(c,!0),d&&(e.success=!0,e.ref=f(c),d(e))}else q(c,!0),d&&((c=f(c))&&\"undefined\"!=typeof c.SetVariable&&(e.success=!0,e.ref=c),d(e))}}function f(a){var b=null;return(a=m(a))&&\"OBJECT\"==a.nodeName&&(\"undefined\"!=typeof a.SetVariable?b=a:(a=a.getElementsByTagName(\"object\")[0])&&(b=a)),b}function g(){return!F&&o(\"6.0.65\")&&(J.win||J.mac)&&!(J.wk&&312>J.wk)}function h(a,b,c,d){F=!0,C=d||null,D={success:!1,id:c};var e=m(c);e&&(\"OBJECT\"==e.nodeName?(A=j(e),B=null):(A=e,B=c),a.id=\"SWFObjectExprInst\",(\"undefined\"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))&&(a.width=\"310\"),(\"undefined\"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))&&(a.height=\"137\"),t.title=t.title.slice(0,47)+\" - Flash Player Installation\",d=J.ie&&J.win?\"ActiveX\":\"PlugIn\",d=\"MMredirectURL=\"+encodeURI(s.location).toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+d+\"&MMdoctitle=\"+t.title,b.flashvars=\"undefined\"!=typeof b.flashvars?b.flashvars+(\"&\"+d):d,J.ie&&J.win&&4!=e.readyState&&(d=t.createElement(\"div\"),c+=\"SWFObjectNew\",d.setAttribute(\"id\",c),e.parentNode.insertBefore(d,e),e.style.display=\"none\",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()),k(a,b,c))}function i(a){if(J.ie&&J.win&&4!=a.readyState){var b=t.createElement(\"div\");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(j(a),b),a.style.display=\"none\",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(j(a),a)}function j(a){var b=t.createElement(\"div\");if(J.win&&J.ie)b.innerHTML=a.innerHTML;else if((a=a.getElementsByTagName(\"object\")[0])&&(a=a.childNodes))for(var c=a.length,d=0;d<c;d++)1==a[d].nodeType&&\"PARAM\"==a[d].nodeName||8==a[d].nodeType||b.appendChild(a[d].cloneNode(!0));return b}function k(a,b,c){var d,e=m(c);if(J.wk&&312>J.wk)return d;if(e)if(\"undefined\"==typeof a.id&&(a.id=c),J.ie&&J.win){var g,f=\"\";for(g in a)a[g]!=Object.prototype[g]&&(\"data\"==g.toLowerCase()?b.movie=a[g]:\"styleclass\"==g.toLowerCase()?f+=' class=\"'+a[g]+'\"':\"classid\"!=g.toLowerCase()&&(f+=\" \"+g+'=\"'+a[g]+'\"'));g=\"\";for(var h in b)b[h]!=Object.prototype[h]&&(g+='<param name=\"'+h+'\" value=\"'+b[h]+'\" />');e.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+f+\">\"+g+\"</object>\",y[y.length]=a.id,d=m(a.id)}else{h=t.createElement(\"object\"),h.setAttribute(\"type\",\"application/x-shockwave-flash\");for(var i in a)a[i]!=Object.prototype[i]&&(\"styleclass\"==i.toLowerCase()?h.setAttribute(\"class\",a[i]):\"classid\"!=i.toLowerCase()&&h.setAttribute(i,a[i]));for(f in b)b[f]!=Object.prototype[f]&&\"movie\"!=f.toLowerCase()&&(a=h,g=f,i=b[f],c=t.createElement(\"param\"),c.setAttribute(\"name\",g),c.setAttribute(\"value\",i),a.appendChild(c));e.parentNode.replaceChild(h,e),d=h}return d}function l(a){var b=m(a);b&&\"OBJECT\"==b.nodeName&&(J.ie&&J.win?(b.style.display=\"none\",function(){if(4==b.readyState){var c=m(a);if(c){for(var d in c)\"function\"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function m(a){var b=null;try{b=t.getElementById(a)}catch(a){}return b}function n(a,b,c){a.attachEvent(b,c),z[z.length]=[a,b,c]}function o(a){var b=J.pv;return a=a.split(\".\"),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||0,a[2]=parseInt(a[2],10)||0,b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]}function p(a,b,c,d){if(!J.ie||!J.mac){var e=t.getElementsByTagName(\"head\")[0];e&&(c=c&&\"string\"==typeof c?c:\"screen\",d&&(H=G=null),G&&H==c||(d=t.createElement(\"style\"),d.setAttribute(\"type\",\"text/css\"),d.setAttribute(\"media\",c),G=e.appendChild(d),J.ie&&J.win&&\"undefined\"!=typeof t.styleSheets&&0<t.styleSheets.length&&(G=t.styleSheets[t.styleSheets.length-1]),H=c),J.ie&&J.win?G&&\"object\"==typeof G.addRule&&G.addRule(a,b):G&&\"undefined\"!=typeof t.createTextNode&&G.appendChild(t.createTextNode(a+\" {\"+b+\"}\")))}}function q(a,b){if(I){var c=b?\"visible\":\"hidden\";E&&m(a)?m(a).style.visibility=c:p(\"#\"+a,\"visibility:\"+c)}}function r(a){return null!=/[\\\\\\\"<>\\.;]/.exec(a)&&\"undefined\"!=typeof encodeURIComponent?encodeURIComponent(a):a}var A,B,C,D,G,H,s=window,t=document,u=navigator,v=!1,w=[function(){v?d():e()}],x=[],y=[],z=[],E=!1,F=!1,I=!0,J=function(){var a=\"undefined\"!=typeof t.getElementById&&\"undefined\"!=typeof t.getElementsByTagName&&\"undefined\"!=typeof t.createElement,b=u.userAgent.toLowerCase(),c=u.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),c=c?/mac/.test(c):/mac/.test(b),b=!!/webkit/.test(b)&&parseFloat(b.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")),e=!1,f=[0,0,0],g=null;if(\"undefined\"!=typeof u.plugins&&\"object\"==typeof u.plugins[\"Shockwave Flash\"])!(g=u.plugins[\"Shockwave Flash\"].description)||\"undefined\"!=typeof u.mimeTypes&&u.mimeTypes[\"application/x-shockwave-flash\"]&&!u.mimeTypes[\"application/x-shockwave-flash\"].enabledPlugin||(v=!0,e=!1,g=g.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\"),f[0]=parseInt(g.replace(/^(.*)\\..*$/,\"$1\"),10),f[1]=parseInt(g.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10),f[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0);else if(\"undefined\"!=typeof s.ActiveXObject)try{var h=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");h&&(g=h.GetVariable(\"$version\"))&&(e=!0,g=g.split(\" \")[1].split(\",\"),f=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)])}catch(a){}return{w3:a,pv:f,wk:b,ie:e,win:d,mac:c}}();return function(){J.w3&&((\"undefined\"!=typeof t.readyState&&\"complete\"==t.readyState||\"undefined\"==typeof t.readyState&&(t.getElementsByTagName(\"body\")[0]||t.body))&&a(),E||(\"undefined\"!=typeof t.addEventListener&&t.addEventListener(\"DOMContentLoaded\",a,!1),J.ie&&J.win&&(t.attachEvent(\"onreadystatechange\",function(){\"complete\"==t.readyState&&(t.detachEvent(\"onreadystatechange\",arguments.callee),a())}),s==top&&function(){if(!E){try{t.documentElement.doScroll(\"left\")}catch(a){return void setTimeout(arguments.callee,0)}a()}}()),J.wk&&function(){E||(/loaded|complete/.test(t.readyState)?a():setTimeout(arguments.callee,0))}(),c(a)))}(),function(){J.ie&&J.win&&window.attachEvent(\"onunload\",function(){for(var a=z.length,b=0;b<a;b++)z[b][0].detachEvent(z[b][1],z[b][2]);for(a=y.length,b=0;b<a;b++)l(y[b]);for(var c in J)J[c]=null;J=null;for(var d in swfobject)swfobject[d]=null;swfobject=null})}(),{registerObject:function(a,b,c,d){if(J.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,x[x.length]=e,q(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(J.w3)return f(a)},embedSWF:function(a,c,d,e,f,i,j,l,m,n){var p={success:!1,id:c};J.w3&&!(J.wk&&312>J.wk)&&a&&c&&d&&e&&f?(q(c,!1),b(function(){d+=\"\",e+=\"\";var b={};if(m&&\"object\"==typeof m)for(var r in m)b[r]=m[r];if(b.data=a,b.width=d,b.height=e,r={},l&&\"object\"==typeof l)for(var s in l)r[s]=l[s];if(j&&\"object\"==typeof j)for(var t in j)r.flashvars=\"undefined\"!=typeof r.flashvars?r.flashvars+(\"&\"+t+\"=\"+j[t]):t+\"=\"+j[t];if(o(f))s=k(b,r,c),b.id==c&&q(c,!0),p.success=!0,p.ref=s;else{if(i&&g())return b.data=i,void h(b,r,c,n);q(c,!0)}n&&n(p)})):n&&n(p)},switchOffAutoHideShow:function(){I=!1},ua:J,getFlashPlayerVersion:function(){return{major:J.pv[0],minor:J.pv[1],release:J.pv[2]}},hasFlashPlayerVersion:o,createSWF:function(a,b,c){if(J.w3)return k(a,b,c)},showExpressInstall:function(a,b,c,d){J.w3&&g()&&h(a,b,c,d)},removeSWF:function(a){J.w3&&l(a)},createCSS:function(a,b,c,d){J.w3&&p(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,callDomLoadFunctions:a,getQueryParamValue:function(a){var b=t.location.search||t.location.hash;if(b){if(/\\?/.test(b)&&(b=b.split(\"?\")[1]),null==a)return r(b);for(var b=b.split(\"&\"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf(\"=\"))==a)return r(b[c].substring(b[c].indexOf(\"=\")+1))}return\"\"},expressInstallCallback:function(){if(F){var a=m(\"SWFObjectExprInst\");a&&A&&(a.parentNode.replaceChild(A,a),B&&(q(B,!0),J.ie&&J.win&&(A.style.display=\"block\")),C&&C(D)),F=!1}}}}();!function(){function AkamaiSDKManager(){var a,b,c,d=this;b=null,this.getSDK=function(){return b},this.setSDK=function(c){var d,e;b=c,a();for(d in b)e=b[d],window[d]=e;return b},this.saveSDK=function(a,b){var d,e,f;if(null!=b&&null!=a&&\"\"!==a){if(null==b.main)for(d in b)if(e=b[d],(null!=e?e.VERSION:void 0)===a){b.main=e;break}return null==(f=b.version)&&(b.version=a),c.push(b),this[a]=b,b}},c=[],this.getVersions=function(){return c.slice()},this.getVersion=function(a){return this[a]},this.setVersion=function(a){return b=this.getVersion(a),null==b?null:(this.setSDK(b),b)},this.revert=function(){return this.setSDK(c[0])},this.noConflict=function(){var a;return a=this.getSDK(),this.revert(),a},this.create=function(){var a;return a=function(a,b){return this.prototype=a.prototype,a.apply(this,b)},function(c){return new a(b.main,arguments)}}(),(a=function(){var a,c,e,f,g;if(null!=(f=window.com)&&null!=(g=f.akamai)?g.amp:void 0)for(a in window)if(e=window[a],(e===window.AMP||e===window.AMPremier)&&null!=(null!=e?e.VERSION:void 0)&&\"\"!==e.VERSION&&e.VERSION!==(null!=b?b.version:void 0)&&null==d[e.VERSION]){c={},c.main=e,c.com=window.com,window.AMP&&(c.AMP=window.AMP),window.AMPPremier&&(c.AMPremier=window.AMPPremier),window.Utils&&(c.Utils=window.Utils),window.QueryString&&(c.QueryString=window.QueryString),window.QueryParams&&(c.QueryParams=window.QueryParams),d.saveSDK(e.VERSION,c);break}})()}function __hasProp(a){return{}.hasOwnProperty(a)}function __extends(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a}function __indexOf(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1}function __bind(a,b){return function(){return a.apply(b,arguments)}}function QueryString(){}function ModuleProxy(a,b){this.config=a,ModuleProxy.__super__.constructor.call(this,b)}function Module(a){this.viewComponent=a,Module.__super__.constructor.call(this,this.getModuleName()+\"-\"+Date.now()),this.dispatcher=new EventDispatcher(this),this.logger=Logger,this.moduleMap={}}function EventDispatcher(a,b){this.target=null!=a?a:this,this.catchErrors=null==b||b,this.listenerMap={}}function TrackList(a){this.list=null!=a?a:[],TrackList.__super__.constructor.call(this),this.handlers={change:this.changeHandler.bind(this)}}function InstallPlayer(a){var b,c,d,e;a.className=Namespace.PREFIX+\"player\",c=UI.create(\"install-flash\",a),e=UI.create(null,c,\"p\",\"To view this page ensure that Adobe Flash Player version 10.2.0 or greater is installed.\"),b=UI.create(null,c,\"a\"),b.href=\"http://www.adobe.com/go/getflashplayer\",d=UI.create(null,b,\"img\"),d.src=\"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif\",d.alt=\"Get Adobe Flash player\"}function Manager(){this.map={}}function ResourceManager(){ResourceManager.__super__.constructor.call(this)}function PluginsInitializedCommand(){PluginsInitializedCommand.__super__.constructor.call(this)}function PlayerCommand(){PlayerCommand.__super__.constructor.call(this)}function TogglePlayPauseCommand(){TogglePlayPauseCommand.__super__.constructor.call(this)}function ToggleFullScreenCommand(){ToggleFullScreenCommand.__super__.constructor.call(this)}function PlayerEventCommand(){PlayerEventCommand.__super__.constructor.call(this)}function PlayingCommand(){PlayingCommand.__super__.constructor.call(this)}function PauseCommand(){PauseCommand.__super__.constructor.call(this)}function ChangeAutoplayCommand(){ChangeAutoplayCommand.__super__.constructor.call(this)}function ChangeLoopCommand(){ChangeLoopCommand.__super__.constructor.call(this)}function ChangeVolumeCommand(){ChangeVolumeCommand.__super__.constructor.call(this)}function MediaValidatedCommand(){MediaValidatedCommand.__super__.constructor.call(this)}function SeekCommand(){SeekCommand.__super__.constructor.call(this)}function SeekingCommand(){SeekingCommand.__super__.constructor.call(this)}function SeekedCommand(){SeekedCommand.__super__.constructor.call(this)}function ReplayCommand(){ReplayCommand.__super__.constructor.call(this)}function EndCommand(){EndCommand.__super__.constructor.call(this)}function EndedCommand(){EndedCommand.__super__.constructor.call(this)}function StartCommand(){StartCommand.__super__.constructor.call(this)}function IsUserActiveCommand(){IsUserActiveCommand.__super__.constructor.call(this)}function WaitingCommand(){WaitingCommand.__super__.constructor.call(this)}function ChangeMutedCommand(){ChangeMutedCommand.__super__.constructor.call(this)}function CheckAuthorizationCommand(){CheckAuthorizationCommand.__super__.constructor.call(this)}function AuthorizedCommand(){AuthorizedCommand.__super__.constructor.call(this)}function InitializedCommand(){InitializedCommand.__super__.constructor.call(this)}function RegisterPlaybackCoreCommand(){RegisterPlaybackCoreCommand.__super__.constructor.call(this)}function RecordContentChangeCommand(){RecordContentChangeCommand.__super__.constructor.call(this)}function TimeUpdateCommand(){TimeUpdateCommand.__super__.constructor.call(this)}function ToggleMutedCommand(){ToggleMutedCommand.__super__.constructor.call(this)}function PlayRequestCommand(){PlayRequestCommand.__super__.constructor.call(this)}function EnableVideoEventsCommand(){EnableVideoEventsCommand.__super__.constructor.call(this)}function DisableVideoEventsCommand(){DisableVideoEventsCommand.__super__.constructor.call(this)}function VolumeChangeCommand(){VolumeChangeCommand.__super__.constructor.call(this)}function ModuleMediator(a){null==this.cssPrefix&&(this.cssPrefix=Namespace.PREFIX),ModuleMediator.__super__.constructor.call(this,this.mediatorName,a)}function LocalizedMediator(a){LocalizedMediator.__super__.constructor.call(this,a)}function ComponentMediator(a,b,c,d){this.componentName=null!=a?a:this.componentName,this.componentType=null!=b?b:this.componentType,this.parent=c,this.element=d,null==this.mediatorName&&(this.mediatorName=this.createMediatorName()),ComponentMediator.__super__.constructor.call(this,this.viewComponent)}function OverlayMediator(){OverlayMediator.__super__.constructor.call(this,null,null,null,null)}function contextMenuMediator(){contextMenuMediator.__super__.constructor.call(this)}function EndSlateMediator(){EndSlateMediator.__super__.constructor.call(this)}function WaitingOverlayMediator(){WaitingOverlayMediator.__super__.constructor.call(this)}function LoadingOverlayMediator(){LoadingOverlayMediator.__super__.constructor.call(this)}function LocalizationConstants(){}function ReplayOverlayMediator(){ReplayOverlayMediator.__super__.constructor.call(this)}function ChangeActiveStateCommand(){ChangeActiveStateCommand.__super__.constructor.call(this)}function ChangeDisplayStateCommand(){ChangeDisplayStateCommand.__super__.constructor.call(this),this.keyHandler=this.keypress.bind(this)}function PlayCommand(){PlayCommand.__super__.constructor.call(this)}function ToggleActiveCommand(){ToggleActiveCommand.__super__.constructor.call(this)}function Track(a){this.data=null!=a?a:{},Track.__super__.constructor.call(this)}function XMLUtils(){}function TracksProxy(){TracksProxy.__super__.constructor.call(this,null,{}),this.data.audioTracks=new TrackList,this.data.videoTracks=new TrackList,this.data.textTracks=new TrackList}function Player(a){Player.__super__.constructor.call(this,a)}function HTMLPlayer(a){HTMLPlayer.__super__.constructor.call(this,a)}function SecurityProxy(){SecurityProxy.__super__.constructor.call(this,this.constructor.NAME,{}),this.setupHDN1()}function DataBoundConfigurationProxy(a){DataBoundConfigurationProxy.__super__.constructor.call(this,a)}function FlashStartCommand(){FlashStartCommand.__super__.constructor.call(this)}function ChangePlaybackTargetCommand(){ChangePlaybackTargetCommand.__super__.constructor.call(this)}function PlaybackTargetChangeCommand(){PlaybackTargetChangeCommand.__super__.constructor.call(this)}function LocalizationWrapper(a,b){this.player=a,this.config=b,LocalizationWrapper.__super__.constructor.call(this,this.constructor.NAME),this.proxy=new LocalizationProxy(this.config),this.player.registerProxy(this.proxy)}function MediaElementMediator(a,b){this.mediatorName=\"\"+this.componentType+\"-mediator\",MediaElementMediator.__super__.constructor.call(this,a,null,null,b)}function LayerMediator(){LayerMediator.__super__.constructor.call(this)}function VideoLayerMediator(){VideoLayerMediator.__super__.constructor.call(this);\n}function PlayerMediator(a,b){this.componentName=a,this.layers=[],PlayerMediator.__super__.constructor.call(this,null,null,null,b)}function FlashPlayerMediator(a){FlashPlayerMediator.__super__.constructor.call(this,this.type,a)}function SecuritySetKeyCommand(){SecuritySetKeyCommand.__super__.constructor.call(this)}function SecuritySetTokenCommand(){SecuritySetTokenCommand.__super__.constructor.call(this)}function PluginCommand(){PluginCommand.__super__.constructor.call(this)}function AISEndedCommand(){AISEndedCommand.__super__.constructor.call(this)}function Cookies(){}function AISPauseCommand(){AISPauseCommand.__super__.constructor.call(this)}function AISTimeUpdateCommand(){AISTimeUpdateCommand.__super__.constructor.call(this)}function PluginProxy(a){PluginProxy.__super__.constructor.call(this,a)}function AISProxy(a){AISProxy.__super__.constructor.call(this,a)}function PlaybackProxy(){PlaybackProxy.__super__.constructor.call(this,PlaybackProxy.NAME),this.data={core:null,muted:!1,started:!1,volume:1,currentTime:0,duration:0,src:null,ended:!1,paused:!1,seeking:!1,loading:!1},\"desktop\"===Utils.getDevice()&&(this.initialized=!0),this.handlers={timeupdate:this.ontimeupdate.bind(this),durationchange:this.ondurationchange.bind(this),play:this.onplay.bind(this),playing:this.onplaying.bind(this),pause:this.onpause.bind(this),loadeddata:this.onloadeddata.bind(this),waiting:this.onwaiting.bind(this),seeking:this.onseeking.bind(this),seeked:this.onseeked.bind(this),ended:this.onended.bind(this),progress:this.onprogress.bind(this),error:this.onerror.bind(this),loadstart:this.onloadstart.bind(this),canplay:this.oncanplay.bind(this),canplaythrough:this.oncanplaythrough.bind(this),loadedmetadata:this.onloadedmetadata.bind(this)},this.resumeHandlers={seeked:this.resumeseeked.bind(this),loadedmetadata:this.resumeloadedmetadata.bind(this)}}function FlashAuthorizedCommand(){FlashAuthorizedCommand.__super__.constructor.call(this)}function PlaybackCoreProxy(a,b){this.supportedTypes=null!=a?a:this.supportedTypes,this.config=b,PlaybackCoreProxy.__super__.constructor.call(this),this.temporalTypes=[\"vod\",\"live\",\"ondemand\"]}function FlashPlaybackProxy(a){this.player=a,FlashPlaybackProxy.__super__.constructor.call(this)}function FlashPlayer(a){this.flashObjectID+=Date.now(),this.plugins={},this.displayState=DisplayState.NORMAL,this.debug=/debug\\=true/.test(location.search),FlashPlayer.__super__.constructor.call(this,a)}function ModuleAdapter(a){this.module=a,ModuleAdapter.__super__.constructor.call(this,a.getModuleName(),this)}function DataBinding(){}function DispatchEventCommand(){DispatchEventCommand.__super__.constructor.call(this)}function ITokenized(){}function TokenizedBase(a){null!=a&&this.parse(a)}function TokenizedArray(a){TokenizedArray.__super__.constructor.call(this,a)}function DataBindingContext(){DataBindingContext.__super__.constructor.call(this),null==this.contextName&&(this.contextName=this.constructor.NAME)}function ExternalPlaybackProxy(){ExternalPlaybackProxy.__super__.constructor.call(this)}function ChangePlayStateCommand(){ChangePlayStateCommand.__super__.constructor.call(this)}function SetMediaCommand(){SetMediaCommand.__super__.constructor.call(this)}function ChangeDurationCommand(){ChangeDurationCommand.__super__.constructor.call(this)}function ErrorCommand(){ErrorCommand.__super__.constructor.call(this)}function ReadyCommand(){ReadyCommand.__super__.constructor.call(this)}function UpdateDataBindingsCommand(){UpdateDataBindingsCommand.__super__.constructor.call(this)}function ChangeParamsCommand(){ChangeParamsCommand.__super__.constructor.call(this)}function MediaChangeCommand(){MediaChangeCommand.__super__.constructor.call(this)}function ChangeMediaCommand(){ChangeMediaCommand.__super__.constructor.call(this)}function OverlayLayerMediator(){OverlayLayerMediator.__super__.constructor.call(this)}function PosterMediator(){PosterMediator.__super__.constructor.call(this)}function ErrorLayerMediator(){ErrorLayerMediator.__super__.constructor.call(this)}function TitleBarMediator(){TitleBarMediator.__super__.constructor.call(this)}function Plugin(){Plugin.__super__.constructor.call(this)}function PluginAdapter(){this.plugins=[],this.registered=0,PluginAdapter.__super__.constructor.call(this,this.constructor.NAME,{})}function ClassList(a){this.element=a}function LocalizationProxy(a){var b,c;if(LocalizationProxy.__super__.constructor.call(this),this.data={language:navigator.language||navigator.browserLanguage,locales:Config.defaults.locales},null!=a&&(null!=a.language&&(this.data.language=a.language),null!=a.locales))for(c in a.locales)if(null!=this.data.locales[c])for(b in a.locales[c])this.data.locales[c][b]=a.locales[c][b];else this.data.locales[c]=a.locales[c]}function UI(){}function ExternalPlayCommand(){ExternalPlayCommand.__super__.constructor.call(this)}function TokenizationError(a){this.message=TokenizationError.MESSAGE+a}function Literal(a){Literal.__super__.constructor.call(this,a)}function Token(a){Token.__super__.constructor.call(this,a)}function TokenizedValue(a){this.token=new RegExp(this.tokenStart.source+\"([^#]*)\"+this.tokenEnd.source,\"g\"),TokenizedValue.__super__.constructor.call(this,a)}function TokenizedObject(a){TokenizedObject.__super__.constructor.call(this,a)}function Config(a){var b,c,d;null==a&&(a={}),b=Utils.override(Config.defaults,a),/amp\\-debug\\=true/.test(location.search.toLowerCase())===!0&&(b.debug=!0),b.mode=Utils.getPlaybackMode(b.mode),b.version=AMP.getVersion();for(c in b)d=b[c],this[c]=d}function ParamsProxy(a){ParamsProxy.__super__.constructor.call(this,a)}function DataBindingProxy(){DataBindingProxy.__super__.constructor.call(this,this.constructor.NAME,{}),this.data={},this.contextMap={},this.configurationMap={}}function ApplicationStateProxy(){ApplicationStateProxy.__super__.constructor.call(this),this.device=Utils.getDevice()}function ConfigurationProxy(a){this.defaults=Config.defaults,ConfigurationProxy.__super__.constructor.call(this,a)}function AudioPlaybackProxy(){AudioPlaybackProxy.__super__.constructor.call(this)}function EventHandler(a,b,c){var d;this.target=a,this.type=b,this.handler=c,this.trigger=__bind(this.trigger,this),EventHandler.instances.push(this),this.types=[],d=this.type,__indexOf.call(EventHandler.EVENTS,d)>=0?Utils.isTouchDevice()?(this.types.push(EventHandler.TOUCH_EVENTS[this.type]),this.type===EventHandler.TOUCH_EVENTS[1]&&this.types.push(EventHandler.TOUCH_EVENTS[4])):this.types.push(EventHandler.MOUSE_EVENTS[this.type]):this.type instanceof Array?this.types=this.type:this.types.push(this.type),this.bind()}function DVRPlaybackProxy(){DVRPlaybackProxy.__super__.constructor.call(this)}function PlayerProxy(a,b){this.defaultPlaybackCore=a,this.getPlaybackOrder=b,PlayerProxy.__super__.constructor.call(this),this.playbackCoreMap=[]}function MediaProxy(){this.data={metadata:{}},MediaProxy.__super__.constructor.call(this)}function ExternalMediaProxy(){ExternalMediaProxy.__super__.constructor.call(this)}function ExternalPlayer(a,b,c){ExternalPlayer.__super__.constructor.call(this,a,b,c)}function FeedVO(){this.item=[],this.metadata={}}function MediaVO(){this.metadata={}}function Event(a,b){this.type=a,null!=b&&(this.detail=this.data=b)}function MRSSHelper(){}function Logger(){}function XHR(){XHR.__super__.constructor.call(this)}function Utils(){}function AMPConfig(){AMPConfig.__super__.constructor.call(this,this,!1)}function ButtonMediator(a,b,c,d,e){this.labelText=a,this.onclick=null!=e?e:this.onclick,ButtonMediator.__super__.constructor.call(this,d,null,b,c)}function IdleUtil(a,b){this.element=a,this.timeout=b,IdleUtil.__super__.constructor.call(this),this.resetHandler=this.reset.bind(this)}function LogoMediator(a){LogoMediator.__super__.constructor.call(this,null,null,a)}function PluginWrapper(a,b){this.player=a,this.config=b,PluginWrapper.__super__.constructor.call(this),this.dispatcher=new EventDispatcher(this),this.createDefaults()}function ControlsPlayCommand(){ControlsPlayCommand.__super__.constructor.call(this)}function ControlsPauseCommand(){ControlsPauseCommand.__super__.constructor.call(this)}function ControlsActiveStateChangeCommand(){ControlsActiveStateChangeCommand.__super__.constructor.call(this)}function ControlsAdBreakStartCommand(){ControlsAdBreakStartCommand.__super__.constructor.call(this)}function ControlsAdBreakEndCommand(){ControlsAdBreakEndCommand.__super__.constructor.call(this)}function ControlsMediaValidatedCommand(){ControlsMediaValidatedCommand.__super__.constructor.call(this)}function ControlsStartedCommand(){ControlsStartedCommand.__super__.constructor.call(this)}function ControlsStartCommand(){ControlsStartCommand.__super__.constructor.call(this)}function ControlsWrapper(a,b){ControlsWrapper.__super__.constructor.call(this,a,b)}function ControlsProxy(a){ControlsProxy.__super__.constructor.call(this,a)}function FullScreenMediator(a){FullScreenMediator.__super__.constructor.call(this,null,a)}function SliderMediator(a,b){this.direction=null!=b?b:this.direction,SliderMediator.__super__.constructor.call(this,null,null,a)}function TimeDisplayMediator(a){TimeDisplayMediator.__super__.constructor.call(this,null,null,a)}function GoLiveMediator(a){GoLiveMediator.__super__.constructor.call(this,null,a)}function PanelsMediator(a){this.panels=[],this.closeHandler=this.mouseupHandler.bind(this),PanelsMediator.__super__.constructor.call(this,null,null,a)}function ProgressMediator(a){ProgressMediator.__super__.constructor.call(this,a,\"horizontal\")}function PlayPauseMediator(a){PlayPauseMediator.__super__.constructor.call(this,null,a)}function ControlsMediator(){ControlsMediator.__super__.constructor.call(this)}function AMP(){}function PlayOverlayWrapper(){return PlayOverlayWrapper.__super__.constructor.apply(this,arguments)}function PlayOverlayMediator(){PlayOverlayMediator.__super__.constructor.call(this)}function ControlsPlugin(){ControlsPlugin.__super__.constructor.call(this)}function AdContentStartedCommand(){AdContentStartedCommand.__super__.constructor.call(this)}function AdContentEndedCommand(){AdContentEndedCommand.__super__.constructor.call(this)}function PluginEventCommand(){PluginEventCommand.__super__.constructor.call(this)}function MediaAnalyticsChangeMediaCommand(){MediaAnalyticsChangeMediaCommand.__super__.constructor.call(this)}function MediaAnalyticsAdBreakStartCommand(){MediaAnalyticsAdBreakStartCommand.__super__.constructor.call(this)}function MediaAnalyticsAdBreakEndCommand(){MediaAnalyticsAdBreakEndCommand.__super__.constructor.call(this)}function MediaAnalyticsAdLoadedCommand(){MediaAnalyticsAdLoadedCommand.__super__.constructor.call(this)}function MediaAnalyticsAdStartCommand(){MediaAnalyticsAdStartCommand.__super__.constructor.call(this)}function MediaAnalyticsAdTimeUpdateCommand(){MediaAnalyticsAdTimeUpdateCommand.__super__.constructor.call(this)}function MediaAnalyticsAdEndCommand(){MediaAnalyticsAdEndCommand.__super__.constructor.call(this)}function MediaAnalyticsSetDimensionsCommand(){MediaAnalyticsSetDimensionsCommand.__super__.constructor.call(this)}function MediaAnalyticsContentChangedCommand(){MediaAnalyticsContentChangedCommand.__super__.constructor.call(this)}function AdPlayCommand(){AdPlayCommand.__super__.constructor.call(this)}function AdPauseCommand(){AdPauseCommand.__super__.constructor.call(this)}function AdTogglePlayPauseCommand(){AdTogglePlayPauseCommand.__super__.constructor.call(this)}function AdVolumeChangeCommand(){AdVolumeChangeCommand.__super__.constructor.call(this)}function AdStartCommand(){AdStartCommand.__super__.constructor.call(this)}function MediaAnalyticsWrapper(a,b){MediaAnalyticsWrapper.__super__.constructor.call(this,a,b)}function AdVO(a,b,c,d,e,f,g,h,i,j,k,l){this.id=a,this.title=b,this.duration=c,this.position=d,this.type=e,this.partner=f,this.advertiser=g,this.companions=h,this.request=i,this.metadata=j,this.totalAds=k,this.currentTime=l}function IMAOverlayProxy(a){IMAOverlayProxy.__super__.constructor.call(this,a)}function AdProxy(a){AdProxy.__super__.constructor.call(this,a)}function IMAProxy(a){IMAProxy.__super__.constructor.call(this,a),this.intervals=[],this.loadedmetadata=this.onLoadedMetadata.bind(this)}function MediaAnalyticsProxy(a){MediaAnalyticsProxy.__super__.constructor.call(this,a)}function MediaAnalyticsReadyCommand(){MediaAnalyticsReadyCommand.__super__.constructor.call(this)}function PlayOverlayPlugin(){PlayOverlayPlugin.__super__.constructor.call(this)}function CaptionCue(a,b,c){this.startTime=a,this.endTime=b,this.id=c}function MediaAnalyticsPlugin(){MediaAnalyticsPlugin.__super__.constructor.call(this)}function SRTParser(){}function WebVTTParser(){}function SMPTETTParser(){}function LiveCaptionProxy(){var a,b=this;this.captions=[],this.head=document.getElementsByTagName(\"head\")[0],a=window.com||{},a.akamai=a.akamai||{},a.akamai.amp=a.akamai.amp||{},a.akamai.amp.plugins=a.akamai.amp.plugins||{},a.akamai.amp.plugins.subply=a.akamai.amp.plugins.subply||{},a.akamai.amp.plugins.subply.response=function(a){b.parse(a),b.poll()},null==window.com&&(window.com=a),LiveCaptionProxy.__super__.constructor.call(this,this.constructor.NAME)}function CaptioningWrapper(a,b){CaptioningWrapper.__super__.constructor.call(this,a,b)}function CaptioningTimeUpdateCommand(){CaptioningTimeUpdateCommand.__super__.constructor.call(this)}function CaptioningChangeMediaCommand(){CaptioningChangeMediaCommand.__super__.constructor.call(this)}function CaptioningVisibilityChangeCommand(){CaptioningVisibilityChangeCommand.__super__.constructor.call(this)}function CaptioningStartedCommand(){CaptioningStartedCommand.__super__.constructor.call(this)}function CaptionTrack(a,b){var c,d=this;this.kind=a.kind,this.type=a.type,this.src=a.src,this.language=a.srclang,this.label=a.label||this.srclang||this.kind,this.cues=a.cues||[],this.styles=a.styles||{},this.activeCues=[],this.isLive=/live-subply/.test(this.type),null==this.src||\"\"===this.src||this.isLive?setTimeout(b,1):c=Utils.get(this.src,{onload:function(){try{CaptionParsers[d.type].parse(d,c.response)}catch(a){return void Logger.error(\"Could not parse caption track: \"+d.src)}\"function\"==typeof b&&b()},onerror:function(){Logger.error(\"Could not load caption track: \"+d.src)}})}function PluginComponentMediator(a,b,c,d){PluginComponentMediator.__super__.constructor.call(this,a,b,c,d)}function CaptioningProxy(a){this.activeCaptions=[],this.providers={},this.tracks=[],this.rendererMap=[],this.settings={},CaptioningProxy.__super__.constructor.call(this,a)}function CaptioningHTMLMediator(a){CaptioningHTMLMediator.__super__.constructor.call(this,null,null,a,null)}function CaptioningNativeMediator(a){CaptioningNativeMediator.__super__.constructor.call(this,a)}function CaptioningSettingsMediator(a){CaptioningSettingsMediator.__super__.constructor.call(this,null,null,a,null)}function PluginMediator(){PluginMediator.__super__.constructor.call(this)}function CaptioningMediator(a){CaptioningMediator.__super__.constructor.call(this,a)}function Feature(){Feature.__super__.constructor.call(this)}function CaptioningPlugin(){CaptioningPlugin.__super__.constructor.call(this)}function ControlPlugin(){ControlPlugin.__super__.constructor.call(this)}function PanelControlMediator(a){PanelControlMediator.__super__.constructor.call(this,null,null,null,a,onclick)}function PanelMediator(a){PanelMediator.__super__.constructor.call(this,a,null,null,null)}function ControlProxy(a){ControlProxy.__super__.constructor.call(this,a)}function ControlPanelProxy(a){ControlPanelProxy.__super__.constructor.call(this,a)}function VolumePanelProxy(a){VolumePanelProxy.__super__.constructor.call(this,a)}function VolumePanelWrapper(a,b){null==b&&(b={}),VolumePanelWrapper.__super__.constructor.call(this,a,b)}function VolumePanelControlMediator(a){VolumePanelControlMediator.__super__.constructor.call(this,a)}function VolumeMediator(a,b){VolumeMediator.__super__.constructor.call(this,a,b)}function ControlPanelMediator(){ControlPanelMediator.__super__.constructor.call(this),this.controls={}}function VolumePanelMediator(){VolumePanelMediator.__super__.constructor.call(this)}function ControlPanelPlugin(){ControlPanelPlugin.__super__.constructor.call(this)}function FeedProxy(a){FeedProxy.__super__.constructor.call(this,a),this.helper=new MRSSHelper}function LoadFeedCommand(){LoadFeedCommand.__super__.constructor.call(this)}function ChangeFeedCommand(){ChangeFeedCommand.__super__.constructor.call(this)}function FeedChangedCommand(){FeedChangedCommand.__super__.constructor.call(this)}function FeedInitializedCommand(){FeedInitializedCommand.__super__.constructor.call(this)}function FeedWrapper(a,b){null==b&&(b={}),FeedWrapper.__super__.constructor.call(this,a,b),null!=b.url&&(this.url=b.url),null!=b.data&&(this.data=b.data),this.player.load=function(){}}function VolumePanelPlugin(){VolumePanelPlugin.__super__.constructor.call(this)}function OmnitureWrapper(a,b){b.heartbeat.enabled!==!0&&b.useJS!==!0||(this.createXML=function(){},this.flashPlugins=[],this.plugin=new OmniturePlugin,this.plugin.oninitialized=a.registerModule.bind(a,this.plugin),this.plugin.initialize(b,a)),OmnitureWrapper.__super__.constructor.call(this,a,b)}function OmnitureProxy(a){OmnitureProxy.__super__.constructor.call(this,a)}function HeartbeatProxy(a){HeartbeatProxy.__super__.constructor.call(this,a)}function OmnitureStartCommand(){OmnitureStartCommand.__super__.constructor.call(this)}function OmniturePlayCommand(){OmniturePlayCommand.__super__.constructor.call(this)}function OmniturePauseCommand(){OmniturePauseCommand.__super__.constructor.call(this)}function OmnitureSeekingCommand(){OmnitureSeekingCommand.__super__.constructor.call(this)}function OmnitureSeekedCommand(){OmnitureSeekedCommand.__super__.constructor.call(this)}function OmnitureEndedCommand(){OmnitureEndedCommand.__super__.constructor.call(this)}function OmnitureContentChangedCommand(){OmnitureContentChangedCommand.__super__.constructor.call(this)}function OmnitureAdLoadedCommand(){OmnitureAdLoadedCommand.__super__.constructor.call(this)}function OmnitureAdStartedCommand(){OmnitureAdStartedCommand.__super__.constructor.call(this)}function OmnitureAdPlayCommand(){OmnitureAdPlayCommand.__super__.constructor.call(this)}function OmnitureAdPauseCommand(){OmnitureAdPauseCommand.__super__.constructor.call(this)}function OmnitureAdBreakEndCommand(){OmnitureAdBreakEndCommand.__super__.constructor.call(this)}function OmnitureAdTimeUpdateCommand(){OmnitureAdTimeUpdateCommand.__super__.constructor.call(this)}function OmnitureMediaChangeCommand(){OmnitureMediaChangeCommand.__super__.constructor.call(this)}function FeedPlugin(){FeedPlugin.__super__.constructor.call(this)}function OmniturePlugin(){OmniturePlugin.__super__.constructor.call(this)}function InfoWrapper(a,b){null==b&&(b={}),InfoWrapper.__super__.constructor.call(this,a,b)}function InfoMediator(){InfoMediator.__super__.constructor.call(this)}function InfoProxy(a){InfoProxy.__super__.constructor.call(this,a)}function CaptioningPlugin(){CaptioningPlugin.__super__.constructor.call(this)}function ComscoreProxy(a){ComscoreProxy.__super__.constructor.call(this,a)}function ComscoreWrapper(){return ComscoreWrapper.__super__.constructor.apply(this,arguments)}function ComscoreAdStartCommand(){ComscoreAdStartCommand.__super__.constructor.call(this)}function ComscoreStartCommand(){ComscoreStartCommand.__super__.constructor.call(this)}function InfoPlugin(){InfoPlugin.__super__.constructor.call(this)}function ComscoreStreamsenseWrapper(){return ComscoreStreamsenseWrapper.__super__.constructor.apply(this,arguments)}function ComscoreStreamsenseProxy(a){ComscoreStreamsenseProxy.__super__.constructor.call(this,a)}function ComscoreStreamsenseStartedCommand(){ComscoreStreamsenseStartedCommand.__super__.constructor.call(this)}function ComscoreStreamsenseAdStartedCommand(){ComscoreStreamsenseAdStartedCommand.__super__.constructor.call(this)}function ComscoreStreamsenseStopCommand(){ComscoreStreamsenseStopCommand.__super__.constructor.call(this)}function ComscoreStreamsenseAdErrorCommand(){ComscoreStreamsenseAdErrorCommand.__super__.constructor.call(this)}function ComscoreStreamsenseChangeMediaCommand(){ComscoreStreamsenseChangeMediaCommand.__super__.constructor.call(this)}function ComscoreStreamsenseEndedCommand(){ComscoreStreamsenseEndedCommand.__super__.constructor.call(this)}function ComscorePlugin(){ComscorePlugin.__super__.constructor.call(this)}function AdMediator(){AdMediator.__super__.constructor.call(this)}function AdMediaChangeCommand(){AdMediaChangeCommand.__super__.constructor.call(this)}function AdLoadedCommand(){AdLoadedCommand.__super__.constructor.call(this)}function AdBreakStartCommand(){AdBreakStartCommand.__super__.constructor.call(this)}function AdBreakEndCommand(){AdBreakEndCommand.__super__.constructor.call(this)}function AdSeekCommand(){AdSeekCommand.__super__.constructor.call(this)}function AdContainerCreatedCommand(){AdContainerCreatedCommand.__super__.constructor.call(this)}function ComscoreStreamsensePlugin(){ComscoreStreamsensePlugin.__super__.constructor.call(this)}function FreeWheelProxy(a){this.media={},this.handlers={onRequestComplete:this.onRequestComplete.bind(this),onSlotStarted:this.onSlotStarted.bind(this),onSlotEnded:this.onSlotEnded.bind(this),onAdImpression:this.onAdImpression.bind(this),onAdImpressionEnd:this.onAdImpressionEnd.bind(this),onAdClick:this.onAdClick.bind(this),adtimeupdate:this.adTimeupdate.bind(this),timeupdate:this.midrollCheck.bind(this),seekupdate:this.seekingHandler.bind(this)},FreeWheelProxy.__super__.constructor.call(this,a)}function AdWrapper(a,b){AdWrapper.__super__.constructor.call(this,a,b)}function FreeWheelWrapper(){return FreeWheelWrapper.__super__.constructor.apply(this,arguments)}function AdPlugin(){AdPlugin.__super__.constructor.call(this)}function NielsenProxy(a){NielsenProxy.__super__.constructor.call(this,a)}function NielsenWrapper(){return NielsenWrapper.__super__.constructor.apply(this,arguments)}function NielsenEndCommand(){NielsenEndCommand.__super__.constructor.call(this)}function NielsenStartCommand(){NielsenStartCommand.__super__.constructor.call(this)}function FreeWheelPlugin(){FreeWheelPlugin.__super__.constructor.call(this)}function ShareWrapper(a,b){null==b&&(b={}),ShareWrapper.__super__.constructor.call(this,a,b)}function ShareMediator(){ShareMediator.__super__.constructor.call(this)}function ShareProxy(a){ShareProxy.__super__.constructor.call(this,a)}function ShareMediaChangeCommand(){ShareMediaChangeCommand.__super__.constructor.call(this)}function NielsenPlugin(){NielsenPlugin.__super__.constructor.call(this)}function RecommendationVO(a,b,c,d,e,f,g,h,i){this.guid=a,this.link=b,this.title=c,this.description=d,this.thumbnail=e,this.duration=f,this.pubDate=g,this.target=h,this.metadata=null!=i?i:{}}function RecommendationsWrapper(a,b){null==b&&(b={}),RecommendationsWrapper.__super__.constructor.call(this,a,b),null!=b.url&&(this.url=b.url),null!=b.target&&(this.target=b.target)}function RecommendationSelectedCommand(){RecommendationSelectedCommand.__super__.constructor.call(this)}function RecommendationsPlayCommand(){RecommendationsPlayCommand.__super__.constructor.call(this)}function RecommendationsPlayStateChangeCommand(){RecommendationsPlayStateChangeCommand.__super__.constructor.call(this)}function RecommendationsProxy(a){RecommendationsProxy.__super__.constructor.call(this,a),this.helper=new MRSSHelper}function RecommendationsMediator(){RecommendationsMediator.__super__.constructor.call(this)}function SharePlugin(){SharePlugin.__super__.constructor.call(this)}function RecommendationsGridMediator(){RecommendationsGridMediator.__super__.constructor.call(this)}function RecommendationsPlugin(){RecommendationsPlugin.__super__.constructor.call(this)}function RecommendationsGridPlugin(){RecommendationsGridPlugin.__super__.constructor.call(this)}function OutbrainProxy(a){OutbrainProxy.__super__.constructor.call(this,a)}function OutbrainWrapper(a,b){null==b&&(b={}),OutbrainWrapper.__super__.constructor.call(this,a,b)}function NielsenPlugin(){NielsenPlugin.__super__.constructor.call(this)}function AutoAdvanceWrapper(a,b){null==b&&(b={}),AutoAdvanceWrapper.__super__.constructor.call(this,a,b),null!=b.interval&&(this.interval=b.interval),null!=b.handler&&(this.handler=b.handler)}function AutoAdvanceProxy(a){AutoAdvanceProxy.__super__.constructor.call(this,a)}function AutoAdvanceStartCommand(){AutoAdvanceStartCommand.__super__.constructor.call(this)}function AutoAdvanceAdvanceCommand(){AutoAdvanceAdvanceCommand.__super__.constructor.call(this)}function AutoAdvanceEndedCommand(){AutoAdvanceEndedCommand.__super__.constructor.call(this)}function AutoAdvanceStopCommand(){AutoAdvanceStopCommand.__super__.constructor.call(this)}function AutoAdvanceAdsInfoCommand(){AutoAdvanceAdsInfoCommand.__super__.constructor.call(this)}function AutoAdvanceMediator(){AutoAdvanceMediator.__super__.constructor.call(this)}function OutbrainPlugin(){OutbrainPlugin.__super__.constructor.call(this)}function PlaylistMediator(a){PlaylistMediator.__super__.constructor.call(this,a)}function AutoAdvancePlugin(){AutoAdvancePlugin.__super__.constructor.call(this)}function RaptPlaybackProxy(a){this.name=this.playbackCoreName+\"-\"+Date.now(),RaptPlaybackProxy.__super__.constructor.call(this,a.types)}function RaptHTML5Video(a){var b,c=this;this.name=a,this.data={paused:!1,ended:!1,error:null,duration:0,currentTime:0,src:null},this.startNode=null,this.iframe=document.querySelector(\"iframe[name=\"+this.name+\"]\"),this.iframe.video=this,this.iframe.onload=function(){raptor.api.init(c.iframe)},raptor.api.on(\"ready\",function(a,b){raptor.settings(\"defaultIFrame\",c.name),raptor.api.load()}),raptor.api.on(\"play\",function(a,b){b.frameName===c.name&&(c.data.paused=!1,c.dispatchEvent(\"play\"),c.dispatchEvent(\"playing\"))}),raptor.api.on(\"pause\",function(a,b){b.frameName===c.name&&(c.updateData(),c.data.paused=!0,c.dispatchEvent(\"pause\"))}),raptor.api.on(\"error\",function(a,b){b.frameName===c.name&&(c.data.error=b,c.dispatchEvent(\"error\"))}),raptor.api.on(\"inboundReady\",function(a,b){b&&b.frameName!==c.name||(c.updateData(),c.dispatchEvent(\"loadedmetadata\"))}),raptor.api.on(\"timeUpdate\",function(a,b){b&&b.frameName!==c.name||c.updateData(b)}),raptor.api.on(\"clipEnd\",function(a,b){b&&b.frameName!==c.name||c.dispatchEvent(\"interactivebreakstart\")}),raptor.api.on(\"clipStart\",function(a,b){b&&b.frameName!==c.name||(\"true\"===b.isStart&&(c.startNode=raptor.api.nodes(c.name)[b.clipname]),c.dispatchEvent(\"interactivebreakend\"))}),raptor.api.on(\"projectEnd\",function(a,b){b&&b.frameName!==c.name||(c.data.ended=!0,c.dispatchEvent(\"ended\"))}),b=function(a,b){console.log(\"RAPT: \",a.type,a,b)},raptor.api.on(\"inboundReady\",b),raptor.api.on(\"play\",b),raptor.api.on(\"pause\",b),raptor.api.on(\"error\",b),raptor.api.on(\"clipStart\",b),raptor.api.on(\"clipEnd\",b),raptor.api.on(\"clipSwitch\",b),raptor.api.on(\"projectStart\",b),raptor.api.on(\"projectEnd\",b),raptor.api.on(\"progress\",b),raptor.api.on(\"button\",b),raptor.api.on(\"windowed\",b),raptor.api.on(\"userTimed\",b),raptor.api.on(\"fullscreen\",b),raptor.api.on(\"volume\",b),raptor.api.on(\"mute\",b),raptor.api.on(\"unmute\",b)}function RaptProxy(a){RaptProxy.__super__.constructor.call(this,a)}function PlaylistPlugin(){PlaylistPlugin.__super__.constructor.call(this)}function HLSWrapper(a,b){HLSWrapper.__super__.constructor.call(this,a,b),Utils.flashTypes.push(Utils.mimeTypes.m3u8)}function HLSPlaybackProxy(a){this.hlsConfig=a.data,a.withCredentials===!0&&(this.hlsConfig.xhrSetup=function(a,b){a.withCredentials=!0}),HLSPlaybackProxy.__super__.constructor.call(this,a.types,a),this.temporalTypes=[\"vod\",\"live\",\"dvr\"]}function HLSChangeDisplayStateCommand(){HLSChangeDisplayStateCommand.__super__.constructor.call(this)}function PlaybackPluginProxy(a){PlaybackPluginProxy.__super__.constructor.call(this,a)}function HLSProxy(a){HLSProxy.__super__.constructor.call(this,a)}function RaptPlugin(){RaptPlugin.__super__.constructor.call(this)}function AdChoicesWrapper(){return AdChoicesWrapper.__super__.constructor.apply(this,arguments)}function AdChoicesMediator(){AdChoicesMediator.__super__.constructor.call(this)}function AdChoicesProxy(a){AdChoicesProxy.__super__.constructor.call(this,a)}function HLSPlugin(){HLSPlugin.__super__.constructor.call(this)}function AdChoicesPlugin(){AdChoicesPlugin.__super__.constructor.call(this)}var global,version,_ref;if(null==(_ref=window.AKAMAI_MEDIA_PLAYER)&&(window.AKAMAI_MEDIA_PLAYER=new AkamaiSDKManager),version=\"AMP Premier - ABC News v2.53.0.0004\",null==window.AKAMAI_MEDIA_PLAYER[version]){global=window.AKAMAI_MEDIA_PLAYER[version]={},QueryString.construct=function(){var a,b,c;c=this.deserialize(window.location.search);for(a in c)b=c[a],QueryString[a]=b;return!0},QueryString.serialize=function(a,b){var c,d,e,f;e=[];for(d in a)f=a[d],null!=f&&(c=b?b+\"[\"+d+\"]\":d,e.push(\"object\"==typeof f?this.serialize(f,c):encodeURIComponent(c)+\"=\"+encodeURIComponent(f)));return e.join(\"&\")},QueryString.deserialize=function(a){var b;return null!=a&&(b={},a=a.replace(/^[^?]*\\?/,\"\"),a.replace(new RegExp(\"([^?=&]+)(=([^&]*))?\",\"g\"),function(a,c,d,e){b[decodeURIComponent(c)]=decodeURIComponent(e)})),b},QueryString.constructed=QueryString.construct(),__extends(ModuleProxy,puremvc.Proxy),ModuleProxy.NAME=\"ModuleProxy\",ModuleProxy.prototype.defaults=null,ModuleProxy.prototype.config=null,ModuleProxy.prototype.initializeNotifier=function(a){ModuleProxy.__super__.initializeNotifier.call(this,a),this.createData()},ModuleProxy.prototype.createData=function(){this.setData(this.config)},ModuleProxy.prototype.setData=function(a){var b,c,d,e,f;null==a&&(a={}),d={},f=this.defaults;for(c in f)b=f[c],e=c in a?a[c]:b,d[c]=e;return ModuleProxy.__super__.setData.call(this,d),a},ModuleProxy.prototype.destroy=function(){},__extends(Module,puremvc.Facade),Module.prototype.logger=null,Module.prototype.config=null,Module.prototype.moduleName=null,Module.prototype.moduleMap=null,Module.prototype.viewComponent=null,Module.prototype.dispatcher=null,Module.prototype.oninitialized=null,Module.prototype.onerror=null,Module.prototype.parentModule=null,Module.prototype.initialize=function(a,b){this.config=a,this.parentModule=b,this.loadResources()},Module.prototype.loadResources=function(){var a,b,c,d,e;if(!(null!=(d=this.config.resources)?d.length:void 0)>0)return void this.resourcesLoaded();for(e=this.config.resources,b=0,c=e.length;b<c;b++)a=e[b],a.src=this.evaluatePaths(a.src),null!=a.debug&&(a.debug=this.evaluatePaths(a.debug));AMP.addResources(this.config.resources,this.resourcesLoaded.bind(this),this.resourcesError.bind(this))},Module.prototype.evaluatePaths=function(a){var b,c,d;if(null!=a)return b=this.config.paths||(null!=(c=this.parentModule)&&null!=(d=c.config)?d.paths:void 0),null!=b&&(a=a.replace(/#{paths\\.[^}]*}/g,function(a){return DataBinding.eval(a,null,null,null,b)})),a},Module.prototype.resourcesError=function(a){\"function\"==typeof this.onerror&&this.onerror(this)},Module.prototype.resourcesLoaded=function(){this.createFramework(),\"function\"==typeof this.oninitialized&&this.oninitialized(this)},Module.prototype.createFramework=function(){this.createModel(),this.createController(),this.createView()},Module.prototype.createModel=function(){this.registerProxy(new ModuleProxy(this.config))},Module.prototype.createView=function(){},Module.prototype.createController=function(){this.registerCommand(Notifications.DISPATCH_EVENT,DispatchEventCommand)},Module.prototype.getModuleName=function(){return this.moduleName},Module.prototype.getConfig=function(){return this.config},Module.prototype.hasModule=function(a){return null!=this.moduleMap[a]},Module.prototype.getModules=function(){var a,b,c,d;b={},d=this.moduleMap;for(a in d)c=d[a],b[a]=c.module;return b},Module.prototype.registerModule=function(a){var b,c;c=a.getModuleName(),null!=a&&null==this.moduleMap[c]&&(b=new ModuleAdapter(a),this.moduleMap[c]=b,this.registerMediator(b),a.onRegister())},Module.prototype.retrieveModule=function(a){return this.moduleMap[a].module;\n},Module.prototype.removeModule=function(a){var b,c;if(b=this.moduleMap[a],null!=b)return delete this.moduleMap[a],this.removeMediator(a),c=b.module,c.onRemove.call(c),c},Module.prototype.listNotificationInterests=function(){return[]},Module.prototype.listNotificationPublications=function(){return[]},Module.prototype.getViewComponent=function(){return this.viewComponent},Module.prototype.setViewComponent=function(a){return this.viewComponent=a,a},Module.prototype.onRegister=function(){},Module.prototype.onRemove=function(){},Module.prototype.destroy=function(){var a,b,c,d;if(null!=this.getModules()){c=this.getModules();for(a in c)b=c[a],this.removeModule(a),b.destroy()}null!=(d=this.retrieveProxy(ModuleProxy.NAME))&&\"function\"==typeof d.destroy&&d.destroy(),puremvc.Facade.removeCore(this.multitonKey),null!=this.viewComponent&&(this.viewComponent.innerHTML=\"\",this.viewComponent.className=\"\");for(a in this)this[a]=null,delete this[a]},Module.prototype.addEventListener=function(a,b){this.dispatcher.addEventListener(a,b)},Module.prototype.logEvent=function(a){var b;/(timeupdate|progress)/.test(a.type)!==!0&&(b=this.getModuleName().toUpperCase(),a.dispatcher&&(b+=\" \"+a.dispatcher),this.logger.log(\"[\"+b+\" EVENT] \"+a.type,a))},Module.prototype.dispatchEvent=function(a){this.logEvent(a),this.dispatcher.dispatchEvent(a)},Module.prototype.removeEventListener=function(a,b){this.dispatcher.removeEventListener(a,b)},EventDispatcher.prototype.addEventListener=function(a,b,c){null!=b&&null!=a&&(null==this.listenerMap[a]&&(this.listenerMap[a]=[]),this.listenerMap[a].indexOf(b)===-1&&this.listenerMap[a].push(b))},EventDispatcher.prototype.dispatchEvent=function(a){var b,c,d,e;if(c=this.listenerMap[a.type],b=this.target[\"on\"+a.type],a.target=this.target,null!=b&&b.apply(this.target,[a]),null!=c)for(d=0,e=c.length;d<e;d++)b=c[d],b.apply(this.target,[a])},EventDispatcher.prototype.callListener=function(a,b){try{b.apply(this.target,[a])}catch(c){if(this.catchErrors!==!0)throw c;this.processEventError(c,a,b)}},EventDispatcher.prototype.processEventError=function(a,b,c){var d,e,f;e=a.fileName||a.sourceURL,f=a.lineNumber||a.line,d={message:a.message,name:\"AMP Event Listener Error\",file:e,fileName:e,line:f,lineNumber:f,error:a,event:b,listener:c,functionName:c.name,toString:function(){var a;return a=\"\"+this.name+\":\",a+=\"\\n\\t\"+this.error.toString(),null!=this.event&&(a+=\"\\n\\t\\tevent: \"+this.event.type),null!=this.listener&&(a+=\"\\n\\t\\tfunction: \"+this.listener.name),null!=this.file&&(a+=\"\\n\\t\\tfile: \"+this.file),null!=this.line&&(a+=\"\\n\\t\\tline: \"+this.line),a}},setTimeout(function(a){throw a},0,d)},EventDispatcher.prototype.removeEventListener=function(a,b,c){var d,e;if(null!=b&&null!=a&&(e=this.listenerMap[a],null!=e&&(d=null!=e?e.indexOf(b):void 0,d!==-1)))return e.splice(d,1)},__extends(TrackList,EventDispatcher),TrackList.prototype.onchange=null,TrackList.prototype.list=null,TrackList.prototype.changeHandler=function(a){this.dispatchEvent(a)},TrackList.prototype.add=function(a,b){null==b&&(b=!0),this.list.push(a),a.addEventListener(\"change\",this.handlers.change),b===!0&&this.dispatchEvent({type:\"addtrack\"})},TrackList.prototype.set=function(a){var b,c,d,e;if(this.clear(),null!=a&&0!==a.length){for(b=d=0,e=a.length;d<e;b=++d)c=a[b],this.add(c,!1),this[b]=null,delete this[b];this.dispatchEvent({type:\"addtrack\"})}},TrackList.prototype.item=function(a){return this.list[a]},TrackList.prototype.remove=function(a,b){var c;if(null==b&&(b=!0),__indexOf.call(this,a)>=0)return c=this.list.splice(a,1),c.removeEventListener(\"change\",this.handlers.change),b===!0&&this.dispatchEvent({type:\"removetrack\"}),c},TrackList.prototype.clear=function(){var a,b,c,d;if(0!==this.list.length){for(a=c=0,d=this.length;c<d;a=++c)b=this[a],this.remove(b,!1),this.list[a]=null,delete this.list[a];this.dispatchEvent({type:\"removetrack\"})}},TrackList.prototype.forEach=function(a,b){var c,d,e,f,g;if(null!=a)for(g=this.list,c=e=0,f=g.length;e<f;c=++e)d=g[c],a.call(b,d,c,this.list)},TrackList.prototype.getTrackById=function(a){var b,c,d,e;for(e=this.list,c=0,d=e.length;c<d;c++)if(b=e[c],b.id===a)return b},TrackList.prototype.getLength=function(){return this.list.length},InstallPlayer.prototype.initialize=function(){},InstallPlayer.prototype.getModules=function(){return[]},Manager.prototype.map=null,Manager.prototype.add=function(a,b){this.map[a]=b},Manager.prototype.item=function(a){return this.map[a]},Manager.prototype.remove=function(a){var b;return b=this.map[a],null!=b&&(this.map[a]=null,delete this.map[a]),b},__extends(ResourceManager,Manager),ResourceManager.prototype.add=function(a,b,c){var d,e,f;return f=Logger.enabled&&null!=a.debug?a.debug:a.src,d=this.item(f),a.enabled===!1||(null!=d?d.loaded:void 0)===!0?void b():(null!=d?d.loaded:void 0)===!1?void d.callbacks.push(b):(a.loaded=!1,a.callbacks=[b],e=this.resourceLoaded.bind(a),ResourceManager.__super__.add.call(this,f,a),a.type===Utils.mimeTypes.js?void Utils.loadScript(f,e,document.body,c):(a.type===Utils.mimeTypes.css&&Utils.loadStyleSheet(f),void e()))},ResourceManager.prototype.resourceLoaded=function(){var a,b,c,d;for(this.loaded=!0,b=this.callbacks,this.callbacks=null,delete this.callbacks,c=0,d=b.length;c<d;c++)(a=b[c])();b=null},ResourceManager.prototype.addResources=function(a,b,c){var d,e,f,g=this;return!(null!=a?a.length:void 0)>0?void b():(e=0,f=function(){g.add(a[e],d,c)},d=function(){e++,e>=a.length?b():f()},void f())},__extends(PluginsInitializedCommand,puremvc.SimpleCommand),PluginsInitializedCommand.prototype.execute=function(a){var b,c;this.sendNotification(Notifications.READY,this.facade.config),b=null!=(c=this.facade.config)?c.media:void 0,null!=b&&this.sendNotification(Notifications.SET_MEDIA,b)},__extends(PlayerCommand,puremvc.SimpleCommand),PlayerCommand.prototype.applicationState=null,PlayerCommand.prototype.media=null,PlayerCommand.prototype.player=null,PlayerCommand.prototype.playback=null,PlayerCommand.prototype.config=null,PlayerCommand.prototype.logger=null,PlayerCommand.prototype.bindings=null,PlayerCommand.prototype.params=null,PlayerCommand.prototype.playerCore=null,PlayerCommand.prototype.security=null,PlayerCommand.prototype.tracks=null,PlayerCommand.prototype.initializeNotifier=function(a){var b;PlayerCommand.__super__.initializeNotifier.call(this,a),this.player=this.facade.player||this.facade,this.applicationState=this.player.appState,this.media=this.player.media,this.config=this.player.configuration,this.logger=this.player.logger,this.bindings=this.player.bindings,this.params=this.player.params,this.playerCore=this.player.playerCore,this.security=this.player.security,this.tracks=this.player.tracks,this.playback=(null!=(b=this.player.playerCore)?b.getActivePlaybackCore():void 0)||this.player.playback},__extends(TogglePlayPauseCommand,PlayerCommand),TogglePlayPauseCommand.prototype.execute=function(a){var b;switch(this.applicationState.getPlayState()){case PlayState.ENDED:b=Notifications.REPLAY;break;case PlayState.PAUSED:case PlayState.READY:b=Notifications.PLAY;break;case PlayState.PLAYING:b=Notifications.PAUSE;break;case PlayState.WAITING:this.facade.getMediaElement().paused===!0&&(b=Notifications.PLAY)}this.sendNotification(b,!0)},__extends(ToggleFullScreenCommand,PlayerCommand),ToggleFullScreenCommand.prototype.execute=function(a){var b;b=this.applicationState.getDisplayState()===DisplayState.FULL_SCREEN?DisplayState.NORMAL:DisplayState.FULL_SCREEN,this.sendNotification(Notifications.CHANGE_DISPLAY_STATE,b)},__extends(PlayerEventCommand,PlayerCommand),PlayerEventCommand.prototype.dispatchEvent=function(a,b){var c;\"string\"!=typeof a&&(b=null!=a.getBody()?a.getBody():{},a=a.getName()),c=new Event(a,b),this.sendNotification(Notifications.DISPATCH_EVENT,c)},PlayerEventCommand.prototype.dispatchEventAfterCommand=function(a,b){setTimeout(this.dispatchEvent.bind(this,a,b),0)},PlayerEventCommand.prototype.execute=function(a){this.dispatchEvent(a)},__extends(PlayingCommand,PlayerEventCommand),PlayingCommand.prototype.execute=function(a){this.applicationState.getIsUserActive()!==!0&&(this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PLAYING),PlayingCommand.__super__.execute.call(this,a))};var FullscreenMode={EXTERNAL:\"external\"},ControlsMode={AUTO:\"auto\",PERSISTENT:\"persistent\",NONE:\"none\"};__extends(PauseCommand,PlayerEventCommand),PauseCommand.prototype.execute=function(a){this.playback.pause(),this.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE),PauseCommand.__super__.execute.call(this,a)},__extends(ChangeAutoplayCommand,PlayerCommand),ChangeAutoplayCommand.prototype.execute=function(a){this.config.setAutoplay(a.getBody())},__extends(ChangeLoopCommand,PlayerCommand),ChangeLoopCommand.prototype.execute=function(a){this.config.setLoop(a.getBody())},__extends(ChangeVolumeCommand,PlayerCommand),ChangeVolumeCommand.prototype.execute=function(a){this.playback.setVolume(a.getBody())},__extends(MediaValidatedCommand,puremvc.SimpleCommand),MediaValidatedCommand.prototype.execute=function(a){var b;b=a.getBody(),this.sendNotification(Notifications.MEDIA_CHANGE,b),this.facade.getAutoplay()===!0&&this.sendNotification(Notifications.PLAY)},__extends(SeekCommand,PlayerCommand),SeekCommand.prototype.execute=function(a){var b,c,d,e=this;c=a.getBody(),0===c&&this.media.getType()===Utils.mimeTypes.m3u8&&(c=.25),c!==this.playback.getCurrentTime()&&(this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.WAITING),this.sendNotification(Notifications.DISPLAY_TIME,{currentTime:c,duration:this.playback.getDuration()}),this.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE),d=this.facade.getMediaElement(),this.applicationState.pausedBeforeSeek=d.paused,0===d.readyState?(b=function(a){d.removeEventListener(\"loadedmetadata\",b,!1),e.playback.setCurrentTime(c)},d.addEventListener(\"loadedmetadata\",b,!1)):this.playback.setCurrentTime(c))},__extends(SeekingCommand,PlayerEventCommand),SeekingCommand.prototype.execute=function(a){this.applicationState.getSeeking()!==!0&&(this.applicationState.setSeeking(!0),SeekingCommand.__super__.execute.call(this,a))},__extends(SeekedCommand,PlayerEventCommand),SeekedCommand.prototype.execute=function(a){var b=this;return this.applicationState.getIsUserActive()===!0?void setTimeout(this.sendNotification.bind(this,a.getName(),a.getBody()),100):void setTimeout(function(){var c;b.applicationState.setSeeking(!1),b.dispatchEvent(a),c=b.applicationState.pausedBeforeSeek===!0?PlayState.PAUSED:PlayState.PLAYING,b.sendNotification(Notifications.CHANGE_PLAY_STATE,c)},1)},__extends(ReplayCommand,PlayerCommand),ReplayCommand.prototype.execute=function(a){\"function\"==typeof this.playback.replay?this.playback.replay():this.media.getType()===Utils.mimeTypes.m3u8?this.playback.setCurrentTime(.25):this.playback.setCurrentTime(0),this.sendNotification(Notifications.PLAY),this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PLAYING)},__extends(EndCommand,PlayerCommand),EndCommand.prototype.execute=function(a){this.playback.pause(),this.playback.getCurrentTime()!==this.playback.getDuration()&&this.playback.setCurrentTime(this.playback.getDuration())},__extends(EndedCommand,PlayerEventCommand),EndedCommand.prototype.execute=function(a){this.config.getLoop()===!0?(EndedCommand.__super__.execute.call(this,a),this.sendNotification(Notifications.REPLAY)):(this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.ENDED),this.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE),EndedCommand.__super__.execute.call(this,a))},__extends(StartCommand,PlayerCommand),StartCommand.prototype.execute=function(a){this.sendNotification(Notifications.PLAY_REQUEST),this.sendNotification(Notifications.DISPLAY_TIME,{currentTime:0,duration:this.media.getDuration()}),this.sendNotification(Notifications.STARTED,a.getBody())},__extends(IsUserActiveCommand,PlayerCommand),IsUserActiveCommand.prototype.execute=function(a){this.applicationState.setIsUserActive(a.getBody())},__extends(WaitingCommand,PlayerEventCommand),WaitingCommand.prototype.execute=function(a){this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.WAITING),WaitingCommand.__super__.execute.call(this,a)},__extends(ChangeMutedCommand,PlayerCommand),ChangeMutedCommand.prototype.execute=function(a){this.playback.setMuted(a.getBody())},__extends(CheckAuthorizationCommand,PlayerEventCommand),CheckAuthorizationCommand.prototype.execute=function(a){var b;b=a.getBody(),this.security.setMedia(b),this.security.getAuthorized()===!1?this.sendNotification(SecurityNotifications.AUTHORIZE,b):this.sendNotification(Notifications.MEDIA_VALIDATED,b),CheckAuthorizationCommand.__super__.execute.call(this,a)},__extends(AuthorizedCommand,PlayerEventCommand),AuthorizedCommand.prototype.execute=function(a){var b;this.media.authorized=!0,b=this.security.createURL(this.media.getSrc()),this.media.setSrc(b),this.sendNotification(Notifications.MEDIA_VALIDATED,this.media.getData()),AuthorizedCommand.__super__.execute.call(this,a)},__extends(InitializedCommand,PlayerCommand),InitializedCommand.prototype.execute=function(a){this.playback.initialized=!0},__extends(RegisterPlaybackCoreCommand,PlayerCommand),RegisterPlaybackCoreCommand.prototype.execute=function(a){this.playerCore.registerPlaybackCore(a.getBody())},__extends(RecordContentChangeCommand,PlayerCommand),RecordContentChangeCommand.prototype.execute=function(a){var b;b=a.getBody(),this.sendNotification(Notifications.CHANGE_CONTENT,{from:this.media.getData(),to:b}),this.media.updateData(b),this.sendNotification(Notifications.UPDATE_DATA_BINDINGS),this.sendNotification(Notifications.CHANGE_CONTENT,this.media.getData())},__extends(TimeUpdateCommand,PlayerEventCommand),TimeUpdateCommand.prototype.execute=function(a){this.sendNotification(Notifications.DISPLAY_TIME,{currentTime:this.playback.getCurrentTime(),duration:this.playback.getDuration()}),TimeUpdateCommand.__super__.execute.call(this,a)},__extends(ToggleMutedCommand,PlayerCommand),ToggleMutedCommand.prototype.execute=function(a){this.playback.setMuted(!this.playback.getMuted())},__extends(PlayRequestCommand,PlayerEventCommand),PlayRequestCommand.prototype.execute=function(a){this.media.started!==!0&&(this.media.started=!0,PlayRequestCommand.__super__.execute.call(this,a))},__extends(EnableVideoEventsCommand,PlayerCommand),EnableVideoEventsCommand.prototype.execute=function(a){var b,c,d,e,f;for(d=this.player.getMediaElement(),c=a.getBody(),e=0,f=c.length;e<f;e++)b=c[e],d.addEventListener(b,this.playback.handlers[b])},__extends(DisableVideoEventsCommand,PlayerCommand),DisableVideoEventsCommand.prototype.execute=function(a){var b,c,d,e,f;for(d=this.player.getMediaElement(),c=a.getBody(),e=0,f=c.length;e<f;e++)b=c[e],d.removeEventListener(b,this.playback.handlers[b])},__extends(VolumeChangeCommand,PlayerEventCommand),VolumeChangeCommand.prototype.execute=function(a){this.applicationState.setVolume(a.getBody()),VolumeChangeCommand.__super__.execute.call(this,a)},__extends(ModuleMediator,puremvc.Mediator),ModuleMediator.prototype.config=null,ModuleMediator.prototype.cssPrefix=null,ModuleMediator.prototype.classList=null,ModuleMediator.prototype.initializeNotifier=function(a){var b;ModuleMediator.__super__.initializeNotifier.call(this,a),b=this.facade.player||this.facade,this.config=b.retrieveProxy(ModuleProxy.NAME),this.classList=this.classList=new ClassList(this.viewComponent)},__extends(LocalizedMediator,ModuleMediator),LocalizedMediator.prototype.localizationManager=null,LocalizedMediator.prototype.initializeNotifier=function(a){var b;LocalizedMediator.__super__.initializeNotifier.call(this,a),b=this.facade.player||this.facade,this.localizationManager=b.retrieveProxy(LocalizationProxy.NAME)},__extends(ComponentMediator,LocalizedMediator),ComponentMediator.prototype.componentName=null,ComponentMediator.prototype.componentType=null,ComponentMediator.prototype.parent=null,ComponentMediator.prototype.element=null,ComponentMediator.prototype.classList=null,ComponentMediator.prototype.state=null,ComponentMediator.prototype.disabled=!1,ComponentMediator.prototype.onRegister=function(){this.viewComponent=this.createViewComponent(this.parent,this.element),this.classList=this.viewComponent._classList,UI.bindEvents(this.viewComponent,this)},ComponentMediator.prototype.createViewComponent=function(a,b){var c;return c=this.getTypeList(),UI.create(c,a,b)},ComponentMediator.prototype.createMediatorName=function(){var a;return a=this.getTypeList(),a.push(\"mediator\"),a.push(UI.createUID()),a.join(\"-\")},ComponentMediator.prototype.getTypeList=function(){var a;return a=[],null!=this.componentName&&a.push(this.componentName),null!=this.componentType&&(a=a.concat(this.componentType)),a},ComponentMediator.prototype.create=function(a,b,c,d){return null==b&&(b=this),b===!1&&(b=null),UI.create(a,b,c,d)},ComponentMediator.prototype.createText=function(a,b,c,d){return null==c&&(c=this),UI.create(a,c,d,b)},ComponentMediator.prototype.setState=function(a){if(a!==this.state)return null!=this.state&&this.classList.remove(this.state),this.state=a,null!=this.state&&this.classList.add(this.state),a},ComponentMediator.prototype.getState=function(){return this.state},ComponentMediator.prototype.setDisabled=function(a){if(a!==this.disabled)return this.disabled=a,this.disabled?this.classList.add(\"disabled\"):this.classList.remove(\"disabled\"),a},ComponentMediator.prototype.getDisabled=function(){return this.disabled},__extends(OverlayMediator,ComponentMediator),OverlayMediator.prototype.componentType=\"overlay\",OverlayMediator.prototype.onRegister=function(){OverlayMediator.__super__.onRegister.call(this),this.registerOverlay()},OverlayMediator.prototype.onRemove=function(){OverlayMediator.__super__.onRemove.call(this),this.removeOverlay()},OverlayMediator.prototype.registerOverlay=function(){this.sendNotification(Notifications.ADD_OVERLAY,this.viewComponent)},OverlayMediator.prototype.removeOverlay=function(){this.sendNotification(Notifications.REMOVE_OVERLAY,this.viewComponent)},__extends(contextMenuMediator,OverlayMediator),contextMenuMediator.prototype.componentName=\"context-menu\",contextMenuMediator.prototype.contextMenu=null,contextMenuMediator.prototype.onRegister=function(){var a=this;contextMenuMediator.__super__.onRegister.call(this),EventHandler.create(this.facade.viewComponent,EventHandler.CONTEXTMENU,function(b){return b.preventDefault(),a.contextMenuHandler(b),!1})},contextMenuMediator.prototype.contextMenuHandler=function(a){var b,c=this;this.contextMenu&&this.removeContextMenu(),this.contextMenu=UI.create(\"context-menu\",document.body,\"ul\"),b=UI.create(\"context-item\",this.contextMenu,\"li\",this.facade.getVersion()),this.contextMenu.style.top=a.pageY+\"px\",this.contextMenu.style.left=a.pageX+\"px\",EventHandler.create(document.body,EventHandler.CLICK,function(a){return c.removeContextMenu(a),!1})},contextMenuMediator.prototype.removeContextMenu=function(a){try{EventHandler.clear(document.body,EventHandler.CLICK),document.body.removeChild(this.contextMenu),this.contextMenu=null}catch(a){}},__extends(EndSlateMediator,OverlayMediator),EndSlateMediator.prototype.componentName=\"end-slate\",EndSlateMediator.prototype.onRegister=function(){null!=this.config.getEndSlate()&&EndSlateMediator.__super__.onRegister.call(this)},EndSlateMediator.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE]},EndSlateMediator.prototype.handleNotification=function(a){var b,c,d,e,f;switch(a.getName()){case Notifications.MEDIA_CHANGE:d=a.getBody(),b=this.config.getEndSlate(),f=this.getViewComponent(),c=\"\",null!=b&&(e=b.usePoster===!0?d.poster:b.url,null!=e&&\"\"!==e&&(c='<img src=\"'+e+'\" class=\"end-slate-image\" />')),null!=f&&(f.innerHTML=c)}},__extends(WaitingOverlayMediator,OverlayMediator),WaitingOverlayMediator.prototype.componentName=\"waiting\",WaitingOverlayMediator.prototype.bar=null,WaitingOverlayMediator.prototype.text=null,WaitingOverlayMediator.prototype.onRegister=function(){WaitingOverlayMediator.__super__.onRegister.call(this),this.bar=this.create(\"waiting-bar\"),this.text=this.createText(\"waiting-text\",this.localizationManager.getString(LocalizationConstants.MSG_BUFFERING))},__extends(LoadingOverlayMediator,OverlayMediator),LoadingOverlayMediator.prototype.componentName=\"loading\",LocalizationConstants.MSG_LIVE=\"MSG_LIVE\",LocalizationConstants.MSG_REPLAY=\"MSG_REPLAY\",LocalizationConstants.MSG_BUFFERING=\"MSG_BUFFERING_TEXT\",LocalizationConstants.MSG_CC=\"MSG_CC\",LocalizationConstants.MSG_CC_TITLE=\"MSG_CC_TITLE\",LocalizationConstants.MSG_CC_LANGUAGE=\"MSG_CC_LANGUAGE\",LocalizationConstants.MSG_CC_PRESETS=\"MSG_CC_PRESETS\",LocalizationConstants.MSG_CC_FONT=\"MSG_CC_FONT\",LocalizationConstants.MSG_CC_EDGE=\"MSG_CC_EDGE\",LocalizationConstants.MSG_CC_SIZE=\"MSG_CC_SIZE\",LocalizationConstants.MSG_CC_SCROLL=\"MSG_CC_SCROLL\",LocalizationConstants.MSG_CC_COLOR=\"MSG_CC_COLOR\",LocalizationConstants.MSG_CC_BACKGROUND=\"MSG_CC_BACKGROUND\",LocalizationConstants.MSG_CC_EDGE=\"MSG_CC_EDGE\",LocalizationConstants.MSG_CC_WINDOW=\"MSG_CC_WINDOW\",LocalizationConstants.MSG_CC_OPACITY=\"MSG_CC_OPACITY\",LocalizationConstants.MSG_CC_SHOW_ADVANCED=\"MSG_CC_SHOW_ADVANCED\",LocalizationConstants.MSG_CC_HIDE_ADVANCED=\"MSG_CC_HIDE_ADVANCED\",LocalizationConstants.MSG_CC_RESET=\"MSG_CC_RESET\",LocalizationConstants.MSG_CC_CANCEL=\"MSG_CC_CANCEL\",LocalizationConstants.MSG_CC_APPLY=\"MSG_CC_APPLY\",LocalizationConstants.MSG_CC_PREVIEW_TEXT=\"MSG_CC_PREVIEW_TEXT\",LocalizationConstants.MSG_SECONDS=\"MSG_SECONDS\",LocalizationConstants.MSG_RECOMMENDATIONS_TITLE=\"MSG_RECOMMENDATIONS_TITLE\",LocalizationConstants.MSG_NEXT_VIDEO=\"MSG_NEXT_VIDEO\",LocalizationConstants.MSG_NEXT_AD=\"MSG_NEXT_AD\",LocalizationConstants.MSG_TIME_SEPARATOR=\"MSG_TIME_SEPARATOR\",LocalizationConstants.MSG_VIEW_ALL=\"MSG_VIEW_ALL\",LocalizationConstants.MSG_VIDEO=\"MSG_VIDEO\",__extends(ReplayOverlayMediator,OverlayMediator),ReplayOverlayMediator.prototype.componentName=\"replay\",ReplayOverlayMediator.prototype.replay=null,ReplayOverlayMediator.prototype.icon=null,ReplayOverlayMediator.prototype.label=null,ReplayOverlayMediator.prototype.onRegister=function(){ReplayOverlayMediator.__super__.onRegister.call(this),this.replay=this.create(\"replay-button\"),this.replay.onclick=this.onclick.bind(this),this.icon=this.create(\"replay-icon\",this.replay),this.label=this.createText(\"replay-label\",this.localizationManager.getString(LocalizationConstants.MSG_REPLAY),this.replay)},ReplayOverlayMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),this.sendNotification(Notifications.REPLAY),!1},__extends(ChangeActiveStateCommand,PlayerCommand),ChangeActiveStateCommand.prototype.execute=function(a){var b;b=this.config.getControls().mode!==ControlsMode.PERSISTENT?a.getBody():ActiveState.ACTIVE,this.applicationState.setActiveState(b)},__extends(ChangeDisplayStateCommand,PlayerEventCommand),ChangeDisplayStateCommand.interval=null,ChangeDisplayStateCommand.keyHandler=null,ChangeDisplayStateCommand.prototype.keypress=function(a){switch(a.keyCode||a.which||a.charCode){case 27:break;case 32:this.facade.getEnded()||(this.facade.getPaused()?this.facade.play():this.facade.pause())}},ChangeDisplayStateCommand.prototype.execute=function(a){var b,c,d,e,f=this;return d=a.getBody(),this.applicationState.setDisplayState(d),this.config.getFullscreen().mode===FullscreenMode.EXTERNAL?void this.sendNotifications(d):(b=this.facade.getMediaElement(),e=this.facade.getViewComponent(),c={},null!=e.webkitRequestFullScreen?(c.enter=e.webkitRequestFullScreen.bind(e),c.exit=null!=document.webkitExitFullscreen?document.webkitExitFullscreen.bind(document):document.webkitCancelFullScreen.bind(document),c.event=\"onwebkitfullscreenchange\",c.element=\"webkitFullscreenElement\",c.error=\"webkitfullscreenerror\"):null!=e.requestFullscreen?(c.enter=e.requestFullscreen.bind(e),c.exit=null!=document.exitFullscreen?document.exitFullscreen.bind(document):document.cancelFullscreen.bind(document),c.event=\"onfullscreenchange\",c.element=\"fullscreenElement\",c.error=\"fullscreenerror\"):null!=e.mozRequestFullScreen?(c.enter=e.mozRequestFullScreen.bind(e),c.exit=document.mozCancelFullScreen.bind(document),c.event=\"onmozfullscreenchange\",c.element=\"mozFullscreenElement\",c.error=\"mozfullscreenerror\"):null!=e.msRequestFullscreen?(c.enter=e.msRequestFullscreen.bind(e),c.exit=document.msExitFullscreen.bind(document),c.event=\"MSFullscreenChange\",c.element=\"msFullscreenElement\",c.error=\"MSFullscreenError\"):null!=b.webkitEnterFullscreen&&(c.enter=b.webkitEnterFullscreen.bind(b),c.exit=b.webkitExitFullscreen.bind(b),c.event=null,c.error=null),d===DisplayState.FULL_SCREEN?(null!=c.event?e[c.event]=function(a){null==document[c.element]&&f.sendNotification(Notifications.CHANGE_DISPLAY_STATE,DisplayState.NORMAL)}:(clearInterval(ChangeDisplayStateCommand.interval),ChangeDisplayStateCommand.interval=setInterval(function(){b.webkitDisplayingFullscreen!==!0&&(f.sendNotification(Notifications.CHANGE_DISPLAY_STATE,DisplayState.NORMAL),clearInterval(ChangeDisplayStateCommand.interval))},100)),null!=c.error&&document.addEventListener(c.error,this.facade.logger.error.bind(this.facade.logger)),c.enter(),this.playback.keyHandler=this.keypress.bind(this),window.addEventListener(\"keypress\",this.playback.keyHandler)):d===DisplayState.NORMAL&&(window.removeEventListener(\"keypress\",this.playback.keyHandler),this.playback.keyHandler=null,null!=c&&\"function\"==typeof c.exit&&c.exit(),b[c.event]=null,clearInterval(ChangeDisplayStateCommand.interval)),void this.sendNotifications(d))},ChangeDisplayStateCommand.prototype.sendNotifications=function(a){setTimeout(this.sendNotification.bind(this,Notifications.FULL_SCREEN_CHANGE,a),100),this.dispatchEvent(\"fullscreenchange\",a===DisplayState.FULL_SCREEN)},__extends(PlayCommand,PlayerEventCommand),PlayCommand.prototype.execute=function(a){var b;b=a.getBody(),b&&this.playback.initialized!==!0&&this.sendNotification(Notifications.INITIALIZED),this.playback.initialized===!0&&(this.media.getSrc()||this.media.getSource())&&(this.playback.getStarted()||this.sendNotification(Notifications.START),this.playback.play(),PlayCommand.__super__.execute.call(this,a))},__extends(ToggleActiveCommand,PlayerCommand),ToggleActiveCommand.prototype.execute=function(a){var b;b=this.applicationState.getActiveState()===ActiveState.ACTIVE?ActiveState.INACTIVE:ActiveState.ACTIVE,this.sendNotification(Notifications.CHANGE_ACTIVE_STATE,b)},__extends(Track,EventDispatcher),Track.prototype.getKind=function(){return this.data.kind},Track.prototype.getLabel=function(){return this.data.label},Track.prototype.getLanguage=function(){return this.data.language},Track.prototype.getId=function(){return this.data.id},Track.prototype.setEnabled=function(a){a!==this.data.enabled&&(this.data.enabled=a,this.changeEnabled(a),this.dispatchEvent(\"change\"))},Track.prototype.changeEnabled=function(a){},Track.prototype.getEnabled=function(){return this.data.enabled},XMLUtils.createTextContent=function(a,b){var c;return c=/[\\&<>]/.test(b)?a.createCDATASection(b):a.createTextNode(b)},XMLUtils.updateTextContent=function(a,b){var c;return c=XMLUtils.createTextContent(a.ownerDocument,b),a.removeChild(a.childNodes[0]),a.appendChild(c),a},XMLUtils.serialize=function(a){var b;if(null!=a){if(\"string\"==typeof a)return a;try{return b=new XMLSerializer,b.serializeToString(a)}catch(c){try{return b=document.implementation.createLSSerializer(),xmlSerializer.writeToString(a)}catch(b){try{return a.xml}catch(a){}}}}},XMLUtils.parse=function(a){var b,c;return window.DOMParser?(b=new DOMParser,c=b.parseFromString(a,\"text/xml\")):(c=new ActiveXObject(\"Microsoft.XMLDOM\"),c.async=!1,c.loadXML(a)),c},__extends(TracksProxy,puremvc.Proxy),TracksProxy.NAME=\"TracksProxy\",TracksProxy.prototype.clear=function(){this.data.audioTracks.clear(),this.data.videoTracks.clear(),this.data.textTracks.clear()},TracksProxy.prototype.getAudioTracks=function(){return this.data.audioTracks},TracksProxy.prototype.getVideoTracks=function(){return this.data.videoTracks},TracksProxy.prototype.getTextTracks=function(){return this.data.textTracks},__extends(Player,Module),Player.prototype.moduleName=\"amp\",Player.prototype.playerType=null,Player.prototype.config=null,Player.prototype.mediaElement=null,Player.prototype.hidden=!1,Player.prototype.l10n=null,Player.prototype.setViewComponent=function(a){return a.amp=this,Player.__super__.setViewComponent.call(this,a)},Player.prototype.setMediaElement=function(a){return this.mediaElement=a,a},Player.prototype.getPlayerType=function(){return this.playerType},Player.prototype.getVersion=function(){return AMP.getVersion()},Player.prototype.createPlugins=function(){this.sendNotification(PluginNotifications.REGISTER_PLUGINS,this.config)},Player.prototype.createMediaElement=function(){return null},Player.prototype.createFramework=function(){Player.__super__.createFramework.call(this),this.mediaElement=this.createMediaElement(),this.createPlugins()},Player.prototype.getLanguage=function(){return this.retrieveProxy(LocalizationProxy.NAME).getLanguage()},Player.prototype.setLanguage=function(a){return this.retrieveProxy(LocalizationProxy.NAME).setLanguage(a),a},Player.prototype.getMediaElement=function(){return this.mediaElement},Player.prototype.getContainer=function(){return this.getViewComponent()},Player.prototype.getAudioTracks=function(){},Player.prototype.evaluateBinding=function(a){},Player.prototype.canPlayType=function(a){},Player.prototype.load=function(){},Player.prototype.play=function(){},Player.prototype.replay=function(){},Player.prototype.pause=function(){},Player.prototype.end=function(){},Player.prototype.setParams=function(a){},Player.prototype.getParams=function(){},Player.prototype.setAutoplay=function(a){},Player.prototype.getAutoplay=function(){},Player.prototype.setLoop=function(a){},Player.prototype.getLoop=function(){};Player.prototype.setMuted=function(a){};Player.prototype.getMuted=function(){},Player.prototype.mute=function(){return this.setMuted(!0)},Player.prototype.unmute=function(){return this.setMuted(!1)},Player.prototype.setMedia=function(a){var b,c,d,e;if(c=a.src,b=null!=(d=a.source)&&null!=(e=d[0])?e.src:void 0,!(null!=c&&\"\"!==c||null!=b&&\"\"!==b))throw new Error(\"[AMP ERROR] Invalid Media\")},Player.prototype.getMedia=function(){},Player.prototype.setCurrentTime=function(a){},Player.prototype.getCurrentTime=function(){},Player.prototype.getCurrentTimeUTC=function(){},Player.prototype.getDuration=function(){},Player.prototype.setSrc=function(a){},Player.prototype.getSrc=function(){},Player.prototype.setSource=function(a){},Player.prototype.getSource=function(){},Player.prototype.setVolume=function(a){},Player.prototype.getVolume=function(){},Player.prototype.getSeeking=function(){},Player.prototype.getPaused=function(){},Player.prototype.getEnded=function(){},Player.prototype.setDisplayState=function(a){},Player.prototype.getDisplayState=function(){},Player.prototype.enterFullScreen=function(){},Player.prototype.exitFullScreen=function(){},Player.prototype.setHidden=function(a){var b;a!==this.hidden&&(this.hidden=a,b=this.viewComponent.style,this.hidden?(this.hiddenData={width:b.width,height:b.height,paused:this.getPaused()},b.width=b.height=\"0px\",this.hiddenData.paused===!1&&this.pause()):(b.width=this.hiddenData.width,b.height=this.hiddenData.height,this.hiddenData.paused===!1&&this.play(),this.hiddenData=null))},Player.prototype.getHidden=function(){return this.hidden},Player.prototype.recordContentChange=function(a){},Player.prototype.setPlaybackRate=function(){},Player.prototype.getPlaybackRate=function(){},__extends(HTMLPlayer,Player),HTMLPlayer.prototype.playerType=\"html\",HTMLPlayer.prototype.media=null,HTMLPlayer.prototype.bindings=null,HTMLPlayer.prototype.configuration=null,HTMLPlayer.prototype.params=null,HTMLPlayer.prototype.appState=null,HTMLPlayer.prototype.security=null,HTMLPlayer.prototype.playerCore=null,HTMLPlayer.prototype.tracks=null,HTMLPlayer.prototype.mediator=null,HTMLPlayer.prototype.createMediaElement=function(){\nvar a;return this.mediator=new MediaElementMediator(\"html5\",\"video\"),this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,this.mediator),a=this.mediator.getViewComponent(),null==a.dataset&&(a.dataset={}),a},HTMLPlayer.prototype.createModel=function(){var a;this.bindings=new DataBindingProxy,this.registerProxy(this.bindings),this.security=new SecurityProxy,this.registerProxy(this.security),this.configuration=new ConfigurationProxy(this.config),this.registerProxy(this.configuration),this.registerProxy(new LocalizationProxy(this.config)),this.appState=new ApplicationStateProxy,this.registerProxy(this.appState),this.appState.setRenderMode(RenderMode.HTML),a=new PlaybackCoreProxy,this.registerProxy(a),this.media=new MediaProxy,this.registerProxy(this.media),this.playerCore=new PlayerProxy(a,this.config.getPlaybackOrder),this.registerProxy(this.playerCore),this.params=new ParamsProxy(this.config.params),this.registerProxy(this.params),this.tracks=new TracksProxy,this.registerProxy(this.tracks),this.bindings.initialize()},HTMLPlayer.prototype.createView=function(){var a,b,c,d,e;this.registerMediator(new PlayerMediator(\"html5\",this.getViewComponent())),this.registerMediator(new PluginAdapter),this.registerMediator(new VideoLayerMediator),this.registerMediator(new PosterMediator),a=new OverlayLayerMediator,this.registerMediator(a),this.registerMediator(new LoadingOverlayMediator),this.config.debug!==!0&&this.config.controls&&this.config.controls.native!==!0&&\"none\"!==this.config.controls.mode&&this.registerMediator(new contextMenuMediator),(null!=(b=this.config.controls)?b.enabled:void 0)!==!1&&(null!=(c=this.config.controls)?c.native:void 0)!==!0&&\"none\"!==(null!=(d=this.config.controls)?d.mode:void 0)&&this.registerMediator(new WaitingOverlayMediator),this.registerMediator(new ReplayOverlayMediator),this.registerMediator(new EndSlateMediator),(null!=(e=this.config.titlebar)?e.enabled:void 0)===!0&&this.registerMediator(new TitleBarMediator),this.registerMediator(new ErrorLayerMediator)},HTMLPlayer.prototype.createController=function(){HTMLPlayer.__super__.createController.call(this),this.registerCommand(PluginNotifications.PLUGINS_INITIALIZED,PluginsInitializedCommand),this.registerCommand(Notifications.PLAY,PlayCommand),this.registerCommand(Notifications.PLAYING,PlayingCommand),this.registerCommand(Notifications.PAUSE,PauseCommand),this.registerCommand(Notifications.CHANGE_PLAY_STATE,ChangePlayStateCommand),this.registerCommand(Notifications.TOGGLE_FULL_SCREEN,ToggleFullScreenCommand),this.registerCommand(Notifications.CHANGE_DISPLAY_STATE,ChangeDisplayStateCommand),this.registerCommand(Notifications.TOGGLE_ACTIVE,ToggleActiveCommand),this.registerCommand(Notifications.CHANGE_ACTIVE_STATE,ChangeActiveStateCommand),this.registerCommand(Notifications.SET_MEDIA,SetMediaCommand),this.registerCommand(Notifications.CHANGE_MEDIA,ChangeMediaCommand),this.registerCommand(Notifications.MEDIA_VALIDATED,MediaValidatedCommand),this.registerCommand(Notifications.MEDIA_CHANGE,MediaChangeCommand),this.registerCommand(Notifications.UPDATE_DATA_BINDINGS,UpdateDataBindingsCommand),this.registerCommand(Notifications.START,StartCommand),this.registerCommand(Notifications.SEEK,SeekCommand),this.registerCommand(Notifications.SEEKING,SeekingCommand),this.registerCommand(Notifications.SEEKED,SeekedCommand),this.registerCommand(Notifications.CHANGE_VOLUME,ChangeVolumeCommand),this.registerCommand(Notifications.CHANGE_MUTED,ChangeMutedCommand),this.registerCommand(Notifications.CHANGE_AUTOPLAY,ChangeAutoplayCommand),this.registerCommand(Notifications.CHANGE_LOOP,ChangeLoopCommand),this.registerCommand(Notifications.END,EndCommand),this.registerCommand(Notifications.ENDED,EndedCommand),this.registerCommand(Notifications.REPLAY,ReplayCommand),this.registerCommand(Notifications.ERROR,ErrorCommand),this.registerCommand(Notifications.READY,ReadyCommand),this.registerCommand(Notifications.WAITING,WaitingCommand),this.registerCommand(Notifications.CHANGE_DURATION,ChangeDurationCommand),this.registerCommand(Notifications.CHANGE_PARAMS,ChangeParamsCommand),this.registerCommand(Notifications.IS_USER_ACTIVE,IsUserActiveCommand),this.registerCommand(SecurityNotifications.CHECK_AUTHORIZATION,CheckAuthorizationCommand),this.registerCommand(SecurityNotifications.AUTHORIZED,AuthorizedCommand),this.registerCommand(SecurityNotifications.SET_KEY,SecuritySetKeyCommand),this.registerCommand(SecurityNotifications.SET_TOKEN,SecuritySetTokenCommand),this.registerCommand(Notifications.INITIALIZED,InitializedCommand),this.registerCommand(Notifications.REGISTER_PLAYBACK_CORE,RegisterPlaybackCoreCommand),this.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE,TogglePlayPauseCommand),this.registerCommand(UserNotifications.SEEK,SeekCommand),this.registerCommand(Notifications.CHANGE_PLAYBACK_TARGET,ChangePlaybackTargetCommand),this.registerCommand(Notifications.PLAYBACK_TARGET_CHANGE,PlaybackTargetChangeCommand),this.registerCommand(Notifications.RECORD_CONTENT_CHANGE,RecordContentChangeCommand),this.registerCommand(Notifications.TIME_UPDATE,TimeUpdateCommand),this.registerCommand(Notifications.TOGGLE_MUTED,ToggleMutedCommand),this.registerCommand(Notifications.VOLUME_CHANGE,VolumeChangeCommand),this.registerCommand(Notifications.PLAY_REQUEST,PlayRequestCommand),this.registerCommand(Notifications.PLAY_STATE_CHANGE,PlayerEventCommand),this.registerCommand(Notifications.PROGRESS,PlayerEventCommand),this.registerCommand(Notifications.CAN_PLAY,PlayerEventCommand),this.registerCommand(Notifications.CAN_PLAY_THROUGH,PlayerEventCommand),this.registerCommand(Notifications.LOAD_START,PlayerEventCommand),this.registerCommand(Notifications.STARTED,PlayerEventCommand),this.registerCommand(Notifications.LOADED_METADATA,PlayerEventCommand),this.registerCommand(Notifications.DURATION_CHANGE,PlayerEventCommand),this.registerCommand(Notifications.MEDIUM_CHANGE,PlayerEventCommand),this.registerCommand(Notifications.TEMPORAL_TYPE_CHANGE,PlayerEventCommand),this.registerCommand(Notifications.LANGUAGE_CHANGE,PlayerEventCommand),this.registerCommand(Notifications.PLAYBACK_TARGET_AVAILABLE,PlayerEventCommand),this.registerCommand(SecurityNotifications.AUTHORIZE,PlayerEventCommand),this.registerCommand(SecurityNotifications.AUTHORIZATION_FAILED,PlayerEventCommand),this.registerCommand(Notifications.FAIL_OVER_ATTEMPT,PlayerEventCommand),this.registerCommand(Notifications.IS_LIVE,PlayerEventCommand),this.registerCommand(Notifications.TIMED_METADATA,PlayerEventCommand),this.registerCommand(Notifications.PAUSED,PlayerEventCommand),this.registerCommand(Notifications.ENABLE_VIDEO_EVENTS,EnableVideoEventsCommand),this.registerCommand(Notifications.DISABLE_VIDEO_EVENTS,DisableVideoEventsCommand)},HTMLPlayer.prototype.evaluateBinding=function(a){return this.bindings.evaluateBinding(a)},HTMLPlayer.prototype.recordContentChange=function(a){this.sendNotification(Notifications.RECORD_CONTENT_CHANGE,a)},HTMLPlayer.prototype.canPlayType=function(a){return this.retrieveProxy(PlaybackProxy.NAME).canPlayType(a)},HTMLPlayer.prototype.getAudioTracks=function(){return this.retrieveProxy(TracksProxy.NAME).getAudioTracks()},HTMLPlayer.prototype.load=function(){this.sendNotification(Notifications.LOAD)},HTMLPlayer.prototype.play=function(){this.sendNotification(Notifications.PLAY,!0)},HTMLPlayer.prototype.replay=function(){this.sendNotification(Notifications.REPLAY)},HTMLPlayer.prototype.pause=function(){this.sendNotification(Notifications.PAUSE)},HTMLPlayer.prototype.end=function(){this.sendNotification(Notifications.END)},HTMLPlayer.prototype.setParams=function(a){return this.sendNotification(Notifications.CHANGE_PARAMS,a),a},HTMLPlayer.prototype.getParams=function(){return this.params.getData()},HTMLPlayer.prototype.setAutoplay=function(a){return this.sendNotification(Notifications.CHANGE_AUTOPLAY,a),a},HTMLPlayer.prototype.getAutoplay=function(){var a,b,c;return b=this.retrieveProxy(PlaybackProxy.NAME),a=b.initialized&&(this.configuration.getAutoplay()||(null!=(c=this.getMedia())?c.autoplay:void 0)===!0)},HTMLPlayer.prototype.setLoop=function(a){return this.sendNotification(Notifications.CHANGE_LOOP,a),a},HTMLPlayer.prototype.getLoop=function(){return this.configuration.getLoop()},HTMLPlayer.prototype.setMuted=function(a){return this.sendNotification(Notifications.CHANGE_MUTED,a),a},HTMLPlayer.prototype.getMuted=function(){return this.retrieveProxy(PlaybackProxy.NAME).getMuted()},HTMLPlayer.prototype.setMedia=function(a){return HTMLPlayer.__super__.setMedia.call(this,a),this.sendNotification(Notifications.SET_MEDIA,a),a},HTMLPlayer.prototype.getMedia=function(){return this.media.getData()},HTMLPlayer.prototype.setCurrentTime=function(a){return this.sendNotification(Notifications.SEEK,a),a},HTMLPlayer.prototype.getCurrentTime=function(){return this.retrieveProxy(PlaybackProxy.NAME).getCurrentTime()},HTMLPlayer.prototype.getDuration=function(){return this.media.getDuration()},HTMLPlayer.prototype.setSrc=function(a){return this.sendNotification(Notifications.SET_MEDIA,{src:a}),a},HTMLPlayer.prototype.getSrc=function(){return this.retrieveProxy(PlaybackProxy.NAME).getSrc()},HTMLPlayer.prototype.setSource=function(a){return this.sendNotification(Notifications.SET_MEDIA,{source:a}),a},HTMLPlayer.prototype.getSource=function(){return this.media.getSource()},HTMLPlayer.prototype.setVolume=function(a){return this.sendNotification(Notifications.CHANGE_VOLUME,a),a},HTMLPlayer.prototype.getVolume=function(){return this.retrieveProxy(PlaybackProxy.NAME).getVolume()},HTMLPlayer.prototype.getSeeking=function(){return this.retrieveProxy(PlaybackProxy.NAME).getSeeking()},HTMLPlayer.prototype.getPaused=function(){return this.retrieveProxy(PlaybackProxy.NAME).getPaused()},HTMLPlayer.prototype.getEnded=function(){return this.retrieveProxy(PlaybackProxy.NAME).getEnded()},HTMLPlayer.prototype.setDisplayState=function(a){this.sendNotification(Notifications.CHANGE_DISPLAY_STATE,a)},HTMLPlayer.prototype.getDisplayState=function(a){return this.appState.getDisplayState()},HTMLPlayer.prototype.enterFullScreen=function(){this.sendNotification(Notifications.CHANGE_DISPLAY_STATE,DisplayState.FULL_SCREEN)},HTMLPlayer.prototype.exitFullScreen=function(){this.sendNotification(Notifications.CHANGE_DISPLAY_STATE,DisplayState.NORMAL)},HTMLPlayer.prototype.setPlaybackRate=function(a){this.mediaElement.playbackRate=a},HTMLPlayer.prototype.getPlaybackRate=function(){return this.mediaElement.playbackRate},HTMLPlayer.prototype.getQualityLevels=function(){return this.retrieveProxy(PlaybackProxy.NAME).getQualityLevels()},HTMLPlayer.prototype.setQuality=function(a){return this.retrieveProxy(PlaybackProxy.NAME).setQuality(a)},HTMLPlayer.prototype.getQuality=function(){return this.retrieveProxy(PlaybackProxy.NAME).getQuality()};var FlashNotifications={READY:\"jsApiReady\",RESET:\"mediaPlayerReset\",LOADING:\"mediaPlayerLoading\",PLAYER_ERROR:\"mediaPlayerError\",MEDIA_ERROR:\"mediaError\",ERROR_STREAM_NOT_FOUND:\"mediaPlayerErrorStreamNotFound\",CAPABILITY_CHANGE:\"mediaPlayerCapabilityChange\",PLAYBACK_OPEN:\"mediaPlayerPlaybackOpen\",PLAYBACK_CLOSE:\"mediaPlayerPlaybackClose\",PLAYING:\"mediaPlayerPlaying\",ENDED:\"mediaPlayerPlaybackSequenceComplete\",PAUSED:\"mediaPlayerPaused\",BUFFERING:\"mediaPlayerBuffering\",DURATION_CHANGE:\"mediaPlayerDurationChange\",TIME_UPDATE:\"mediaPlayerPlayheadUpdate\",SEEKING_CHANGE:\"mediaPlayerSeekingChange\",ERROR:\"error\",VOLUME_CHANGE:\"mediaPlayerVolumeChanged\",PLAY_STATE_CHANGE:\"mediaPlayerPlayStateChange\",STATE_CHANGE:\"mediaPlayerStateChange\",CAPTION_DATA_CHANGE:\"mediaPlayerCaptiondataChange\",FAIL_OVER_ATTEMPT:\"mediaPlayerFailoverAttempt\",ELEMENT_EVENT:\"mediaPlayerElementEvent\",PLAY:\"mediaPlayerResumeOrPausePlayback\",APPLICATION_STATE_CHANGE:\"mediaPlayerApplicationStateChange\",INITIALIZED:\"mediaPlayerInitialized\",FULLSCREEN_CHANGE:\"mediaPlayerFullscreenChange\",AUTHORIZE:\"mediaPlayerAuthenticate\",CAPTIONING_REQUEST:\"mediaPlayerCaptioningRequest\",CAPTION_LANG_CHANGE:\"mediaPlayerCaptionLangChange\",RECOMMENDATIONS_LOADED:\"mediaPlayerRecommendationsLoaded\",RECOMMENDATION_SELECTED:\"mediaPlayerRecommendationSelected\",SHARE:\"mediaPlayerShare\",SHARE_REQUEST:\"mediaPlayerShareRequest\",AUTO_ADVANCE:\"mediaPlayerAutoAdvance\",CREATE_FLASH_VARS:\"createFlashVars\",CREATE_XML:\"createXML\",FLASH_CREATED:\"flashCreated\",PLAY_REQUEST:\"mediaPlayerPlaybackSequenceInitiated\",LOAD_FEED:\"mediaPlayerDataFeedRequested\",FEED_UPDATED:\"mediaPlayerDataFeedUpdated\",FEED_LOADED:\"mediaPlayerFeedLoaded\",TIMED_METADATA:\"mediaPlayerSendCuePoint\"};__extends(SecurityProxy,puremvc.Proxy),SecurityProxy.NAME=\"SecurityProxy\",SecurityProxy.prototype.setupHDN1=function(){var a=this;return window.retrieveToken=function(b,c){var d;try{a.facade.logger.debug(\"[AMP AUTH] HDN1: Token Requested\",b,c),d=a.getToken(),null!=d?a.facade.getMediaElement().tokenRetrievalSuccess(\"&primaryToken=\"+d):a.sendNotification(SecurityNotifications.AUTHORIZE)}catch(b){a.facade.logger.error(\"[AMP AUTH ERROR]: Token Retrival Error\",b)}return!0}},SecurityProxy.prototype.getKey=function(){return this.data.key},SecurityProxy.prototype.setKey=function(a){return this.data.key=a,a},SecurityProxy.prototype.getToken=function(){return this.data.token},SecurityProxy.prototype.setToken=function(a){return this.data.token=a,a},SecurityProxy.prototype.getSecret=function(){var a;return null==this.data.token?null:(a=\"\",null!=this.data.key&&(a+=\"\"+this.data.key+\"=\"),a+=this.data.token)},SecurityProxy.prototype.createURL=function(a){var b;return b=this.getSecret(),null!=b&&(a+=/\\?/.test(a)?\"&\":\"?\",a+=b),a},SecurityProxy.prototype.getAuthorized=function(){return this.data.authorized},SecurityProxy.prototype.setAuthorized=function(a){return this.data.authorized=a,a},SecurityProxy.prototype.getProvider=function(){return this.data.provider},SecurityProxy.prototype.setProvider=function(a){return this.data.provider=a,a},__extends(DataBoundConfigurationProxy,ModuleProxy),DataBoundConfigurationProxy.NAME=ModuleProxy.NAME,DataBoundConfigurationProxy.prototype.bindings=null,DataBoundConfigurationProxy.prototype.configurationName=null,DataBoundConfigurationProxy.prototype.configurationData=null,DataBoundConfigurationProxy.prototype.contextName=null,DataBoundConfigurationProxy.prototype.contextData=null,DataBoundConfigurationProxy.prototype.value=null,DataBoundConfigurationProxy.prototype.getConfigurationName=function(){return this.configurationName},DataBoundConfigurationProxy.prototype.getConfigurationData=function(){return this.configurationData.value||{}},DataBoundConfigurationProxy.prototype.getContextName=function(){return this.contextName},DataBoundConfigurationProxy.prototype.getContextData=function(){return this.contextData},DataBoundConfigurationProxy.prototype.onRegister=function(){var a;a=this.facade.player||this.facade,null==this.getConfigurationName()&&(this.configurationName=this.facade.moduleName),this.bindings=a.retrieveProxy(DataBindingProxy.NAME),this.bindings.registerConfiguration(this),null!=this.getContextName()&&this.bindings.registerContext(this)},DataBoundConfigurationProxy.prototype.setData=function(a){var b,c,d;null==a&&(a={}),this.data={},d=this.defaults;for(b in d)c=d[b],this.data[b]=b in a?a[b]:c;return this.configurationData=new TokenizedObject(this.data),this.data},DataBoundConfigurationProxy.prototype.getValue=function(a){var b;return this.bindings.update(),this.value[a]=null!=(b=this.configurationData.data[a])?b.compile(this.bindings.getData()):void 0,this.value[a]},DataBoundConfigurationProxy.prototype.compile=function(a,b){return null==b&&(b=!1),null==this.configurationData?null:(null==a&&(a=this.bindings.getData()),null!=this.contextName&&null!=this.contextData&&(a=Utils.clone(a),a[this.contextName]=this.contextData),this.configurationData.compile(a,b),this.value=this.configurationData.value,this.configurationData.value)};var MediaAnalyticsNotifications={SET_DIMENSIONS:\"mediaanalytics:setDimensions\"};__extends(FlashStartCommand,PlayerCommand),FlashStartCommand.prototype.execute=function(a){this.player.started=!0,this.sendNotification(Notifications.STARTED,a.getBody()),this.sendNotification(Notifications.PLAY,a.getBody())},__extends(ChangePlaybackTargetCommand,PlayerCommand),ChangePlaybackTargetCommand.prototype.execute=function(a){var b;b=a.getBody(),this.applicationState.setPlaybackTarget(b),\"amp\"!==b?this.applicationState.getPlayState()!==PlayState.PAUSED&&this.facade.pause():this.applicationState.getPlayState()===PlayState.PLAYING&&this.facade.play()},__extends(PlaybackTargetChangeCommand,PlayerEventCommand),PlaybackTargetChangeCommand.prototype.execute=function(a){var b,c;c=a.getBody().value,b=\"amp\"===c?Notifications.REMOVE_APPLICATION_STATE:Notifications.ADD_APPLICATION_STATE,this.sendNotification(b,\"remote-playback\"),PlaybackTargetChangeCommand.__super__.execute.call(this,a)},__extends(LocalizationWrapper,puremvc.Mediator),LocalizationWrapper.prototype.player=null,LocalizationWrapper.prototype.config=null,LocalizationWrapper.prototype.proxy=null,LocalizationWrapper.NAME=\"LocalizationWrapper\",LocalizationWrapper.prototype.getString=function(a){return this.proxy.getString(a)},LocalizationWrapper.prototype.listNotificationInterests=function(){return[FlashNotifications.CREATE_FLASH_VARS,FlashNotifications.CREATE_XML]},LocalizationWrapper.prototype.handleNotification=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;switch(LocalizationWrapper.__super__.handleNotification.call(this,a),k=a.getName(),c=a.getBody(),k){case FlashNotifications.CREATE_FLASH_VARS:f=c.flashvars,d=c.config,f.locale_setting=this.proxy.getLocaleId();break;case FlashNotifications.CREATE_XML:o=c.xml,b=o.firstChild,j=o.getElementsByTagName(\"locales\")[0],null==j&&(j=o.createElement(\"locales\"),b.appendChild(j)),p=this.proxy.getLocales();for(h in p){i=p[h],e=o.createElement(\"locale\"),e.setAttribute(\"id\",h),j.appendChild(e);for(g in i)n=i[g],l=o.createElement(\"property\"),l.setAttribute(\"key\",g),m=XMLUtils.createTextContent(o,n),l.appendChild(m),e.appendChild(l)}}},__extends(MediaElementMediator,ComponentMediator),MediaElementMediator.prototype.componentType=\"media-element\",MediaElementMediator.prototype.created=!1,MediaElementMediator.prototype.onRegister=function(){this.created!==!0&&(this.created=!0,MediaElementMediator.__super__.onRegister.call(this))},__extends(LayerMediator,ComponentMediator),LayerMediator.prototype.componentType=\"layer\",LayerMediator.prototype.onRegister=function(){LayerMediator.__super__.onRegister.call(this),this.registerLayer()},LayerMediator.prototype.onRemove=function(){LayerMediator.__super__.onRemove.call(this),this.removeLayer()},LayerMediator.prototype.registerLayer=function(){this.sendNotification(Notifications.ADD_LAYER,this.viewComponent)},LayerMediator.prototype.removeLayer=function(){this.sendNotification(Notifications.REMOVE_LAYER,this.viewComponent)},__extends(VideoLayerMediator,LayerMediator),VideoLayerMediator.prototype.componentName=\"video\",VideoLayerMediator.prototype.listNotificationInterests=function(){return[Notifications.PLAYBACK_CORE_CHANGE]},VideoLayerMediator.prototype.mediator=null,VideoLayerMediator.prototype.mediaElement=null,VideoLayerMediator.prototype.handleNotification=function(a){var b,c,d;switch(d=a.getName(),b=a.getBody(),d){case Notifications.PLAYBACK_CORE_CHANGE:null!=this.mediaElement&&this.viewComponent.removeChild(this.mediaElement),null!=this.mediator&&this.facade.removeMediator(this.mediator.getMediatorName()),c=null!=(null!=b?b.getViewComponent:void 0),c?(this.facade.registerMediator(b),this.mediator=b,this.mediaElement=this.mediator.getViewComponent()):(this.mediator=null,this.mediaElement=b),this.facade.setMediaElement(this.mediaElement),null!=this.mediaElement&&this.viewComponent.appendChild(this.mediaElement)}},__extends(PlayerMediator,ComponentMediator),PlayerMediator.prototype.componentType=\"player\",PlayerMediator.prototype.core=null,PlayerMediator.prototype.medium=null,PlayerMediator.prototype.layers=null,PlayerMediator.prototype.ready=!1,PlayerMediator.prototype.onRegister=function(){var a;PlayerMediator.__super__.onRegister.call(this),a=Utils.getDevice(),null!=a&&this.classList.add(a)},PlayerMediator.prototype.listNotificationInterests=function(){return[Notifications.DISPLAY_STATE_CHANGE,Notifications.ACTIVE_STATE_CHANGE,Notifications.PLAY_STATE_CHANGE,Notifications.ADD_APPLICATION_STATE,Notifications.REMOVE_APPLICATION_STATE,Notifications.MEDIUM_CHANGE,Notifications.DURATION_CHANGE,Notifications.TEMPORAL_TYPE_CHANGE,Notifications.IS_LIVE,Notifications.ADD_LAYER,Notifications.REMOVE_LAYER,Notifications.READY]},PlayerMediator.prototype.handleNotification=function(a){var b,c,d,e,f,g;switch(c=a.getName(),b=a.getBody(),c){case Notifications.ACTIVE_STATE_CHANGE:case Notifications.PLAY_STATE_CHANGE:case Notifications.DISPLAY_STATE_CHANGE:case Notifications.MEDIUM_CHANGE:f=b,g=f.value,d=f.previous,null!=d&&this.classList.contains(d)&&this.classList.remove(d),null!=g&&this.classList.add(g);break;case Notifications.ADD_APPLICATION_STATE:e=b,this.classList.add(e);break;case Notifications.REMOVE_APPLICATION_STATE:e=b,this.classList.remove(e);break;case Notifications.TEMPORAL_TYPE_CHANGE:b.previous&&this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,b.previous),b.value&&this.sendNotification(Notifications.ADD_APPLICATION_STATE,b.value);break;case Notifications.IS_LIVE:b===!0?this.sendNotification(Notifications.ADD_APPLICATION_STATE,\"is-live\"):this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"is-live\");break;case Notifications.DURATION_CHANGE:b>3600?this.sendNotification(Notifications.ADD_APPLICATION_STATE,\"long-form\"):this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"long-form\");break;case Notifications.ADD_LAYER:this.addLayer(b);break;case Notifications.REMOVE_LAYER:this.removeLayer(b);break;case Notifications.READY:this.initialize()}},PlayerMediator.prototype.initialize=function(){var a,b,c,d;for(this.ready=!0,d=this.layers,b=0,c=d.length;b<c;b++)a=d[b],this.viewComponent.contains(a)||this.viewComponent.appendChild(a)},PlayerMediator.prototype.addLayer=function(a){this.layers.push(a),this.ready&&this.viewComponent.appendChild(a)},PlayerMediator.prototype.removeLayer=function(a){var b;this.viewComponent.contains(a)&&this.viewComponent.removeChild(a),b=this.layers.indexOf(a),b>=0&&this.layers.splice(b,1)},__extends(FlashPlayerMediator,PlayerMediator),FlashPlayerMediator.NAME=\"FlashPlayerMediator\",FlashPlayerMediator.prototype.type=\"flash\",FlashPlayerMediator.prototype.listNotificationInterests=function(){return FlashPlayerMediator.__super__.listNotificationInterests.call(this).concat([PluginNotifications.PLUGINS_INITIALIZED])},FlashPlayerMediator.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case Notifications.READY:return;case PluginNotifications.PLUGINS_INITIALIZED:return void this.initialize()}FlashPlayerMediator.__super__.handleNotification.call(this,a)},__extends(SecuritySetKeyCommand,PlayerEventCommand),SecuritySetKeyCommand.prototype.execute=function(a){this.security.setKey(a.getBody()),SecuritySetKeyCommand.__super__.execute.call(this,a)},__extends(SecuritySetTokenCommand,PlayerEventCommand),SecuritySetTokenCommand.prototype.execute=function(a){this.security.setToken(a.getBody()),this.security.setAuthorized(!0),SecuritySetTokenCommand.__super__.execute.call(this,a)};var AISNotifications={START_AUTHENTICATION:\"aisauthenticationstarted\",AUTHENTICATED:\"aisauthenticated\",AUTHENTICATING:\"aisauthenticating\",AUTHENTICATION_COMPLETE:\"aisauthenticationcomplete\",CHOOSE_AUTH_PROVIDER:\"aischooseprovider\",CHOOSE_PLAY_OPTIONS:\"aischooseplayoptions\",LAUNCH_IDP_LOGIN:\"aislaunchidplogin\"};__extends(PluginCommand,PlayerCommand),PluginCommand.prototype.plugin=null,PluginCommand.prototype.proxy=null,PluginCommand.prototype.initializeNotifier=function(a){PluginCommand.__super__.initializeNotifier.call(this,a),this.proxy=this.facade.retrieveProxy(ModuleProxy.NAME),this.plugin=this.facade},__extends(AISEndedCommand,PluginCommand),AISEndedCommand.prototype.execute=function(a){this.proxy.vcsSet(0)},Cookies.setCookie=function(a,b,c,d,e){var f;return b=escape(b),null!=c&&(f=new Date,f.setDate(f.getDate()+c),b+=\"; expires=\"+f.toUTCString()),null!=e&&(b+=\"; domain=\"+e),null!=d&&(b+=\"; path=\"+d),document.cookie=a+\"=\"+b},Cookies.getCookie=function(a){var b,c,d,e,f,g,h;for(c=document.cookie.split(\";\"),g=0,h=c.length;g<h;g++)if(b=c[g],d=b.indexOf(\"=\"),e=b.substr(0,d).replace(/^\\s+|\\s+$/g,\"\"),f=unescape(b.substr(d+1)),e===a)return f},Cookies.deleteCookie=function(a){return this.setCookie(a,\"\",-1)},__extends(AISPauseCommand,PluginCommand),AISPauseCommand.prototype.execute=function(a){this.proxy.vcsSet(this.proxy.currentTime)},__extends(AISTimeUpdateCommand,PluginCommand),AISTimeUpdateCommand.prototype.execute=function(a){var b;b=Math.floor(a.getBody()),0!==b&&b%30===0&&b!==this.proxy.currentTime&&this.proxy.vcsSet(b),this.proxy.currentTime=b},__extends(PluginProxy,DataBoundConfigurationProxy),PluginProxy.NAME=ModuleProxy.NAME,PluginProxy.prototype.enabled=!0,PluginProxy.prototype.plugin=null,PluginProxy.prototype.setEnabled=function(a){return this.enabled=a,a},PluginProxy.prototype.getEnabled=function(){return this.enabled},PluginProxy.prototype.createPlugin=function(){},PluginProxy.prototype.initialize=function(){this.plugin=this.createPlugin()},PluginProxy.prototype.error=function(a){this.facade.logger.error(\"[AMP \"+this.facade.getModuleName().toUpperCase()+\" Error]\",a)},__extends(AISProxy,PluginProxy),AISProxy.NAME=ModuleProxy.NAME,AISProxy.prototype.client=null,AISProxy.prototype.currentTime=null,AISProxy.prototype.idps=null,AISProxy.prototype.idp=null,AISProxy.prototype.token=null,AISProxy.prototype.authz=null,AISProxy.prototype.defaults={platformID:null,resourceID:null,contentID:null,responseTargets:null,query:\"hdnts\",logos:{base:null,group:null,key:\"full\"}},AISProxy.prototype.getScript=function(){return this.value.plugin},AISProxy.prototype.initialize=function(){this.client=window.ais_client,this.client.setLogging(this.facade.logger.enabled),this.client.setPlatformId(this.value.platformID),this.client.setUseCache(!/MSIE [7-8]/.test(navigator.userAgent)),this.client.assignhandler(\"bounce\",this.bounceHandler.bind(this)),this.client.assignhandler(\"chooser\",this.chooserHandler.bind(this)),this.client.assignhandler(\"init\",this.initHandler.bind(this)),this.client.assignhandler(\"authz_query\",this.authz_queryHandler.bind(this)),this.client.assignhandler(\"identity\",this.identityHandler.bind(this)),this.client.assignhandler(\"logout_result\",this.logoutHandler.bind(this)),this.client.assignhandler(\"vcs\",this.vcsHandler.bind(this)),window.onunload=function(){}},AISProxy.prototype.authorize=function(){this.authz=null,this.token=null,this.disengage(),this.sendNotification(AISNotifications.START_AUTHENTICATION)},AISProxy.prototype.authorized=function(a){null==a&&(a=this.token),this.engage(),this.sendNotification(AISNotifications.AUTHENTICATION_COMPLETE),this.sendNotification(SecurityNotifications.AUTHORIZED,a)},AISProxy.prototype.play=function(a){if(this.sendNotification(Notifications.INITIALIZED),this.sendNotification(Notifications.PLAY),null!=a)return this.sendNotification(Notifications.SEEK,a)},AISProxy.prototype.engage=function(){this.facade.registerCommand(Notifications.TIME_UPDATE,AISTimeUpdateCommand),this.facade.registerCommand(Notifications.PAUSE,AISPauseCommand),this.facade.registerCommand(Notifications.ENDED,AISEndedCommand)},AISProxy.prototype.disengage=function(){this.facade.removeCommand(Notifications.TIME_UPDATE),this.facade.removeCommand(Notifications.PAUSE),this.facade.removeCommand(Notifications.ENDED)},AISProxy.prototype.logout=function(){var a,b,c,d,e;switch(b=(null!=(e=this.idp.window_display)?e.method:void 0)||\"redirect\",c=this.getTarget(b),this.setRedirect(b),b){case\"redirect\":window.open(this.client.logoutFormat(c),\"_top\");break;case\"popup\":d=this.idp.window_display.width||320,a=this.idp.window_display.height||240,window.open(this.client.logoutFormat(c),\"ais_popup\",\"width=\"+d+\",height=\"+a)}},AISProxy.prototype.bounce=function(a){this.client.bounce()},AISProxy.prototype.init=function(a){this.client.init()},AISProxy.prototype.choose=function(){this.client.chooser()},AISProxy.prototype.resourceAccess=function(a){null==a&&(a=this.value.resourceID),this.client.resourceAccess(a)},AISProxy.prototype.vcsSet=function(a){a=Utils.formatTimecode(a),this.client.vcsSet(this.value.contentID,a)},AISProxy.prototype.bounceHandler=function(a,b){var c;c=\"true\"===b.authenticated.toString(),c===!1?(this.sendNotification(Notifications.DISPATCH_EVENT,new Event(\"authenticationfailed\")),this.choose()):c===!0&&this.init()},AISProxy.prototype.initHandler=function(a,b){var c,d,e,f,g;this.idp=b.idps,this.facade.idps={},g=b.idps;for(c in g){e=g[c],this.facade.idps.key=c;for(d in e)f=e[d],this.facade.idps[d]=f;break}for(c in b)e=b[c],\"idps\"!==c&&null!=e&&(this.facade[c]=e);this.facade.idps.logo=this.value.logos.base+this.facade.idps.logos[this.value.logos.key],this.facade.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"authenticating\"),this.sendNotification(AISNotifications.AUTHENTICATED,this.facade.idps),this.resourceAccess(this.value.resourceID)},AISProxy.prototype.chooserHandler=function(a,b){this.facade.sendNotification(Notifications.ADD_APPLICATION_STATE,\"authenticating\"),b.possible_idps=this.idps=this.sort(b.possible_idps,\"value\",\"display_name\"),this.sendNotification(AISNotifications.CHOOSE_AUTH_PROVIDER,b)},AISProxy.prototype.launchIDPLogin=function(a){var b,c,d,e,f,g;switch(this.sendNotification(AISNotifications.AUTHENTICATING,!0),c=this.idps[a],d=(null!=(g=c.window_display)?g.method:void 0)||\"redirect\",e=this.getTarget(d),this.setRedirect(d),d){case\"redirect\":window.open(this.client.loginFormat(a,e),\"_top\");break;case\"popup\":d=c.window_display.method||\"popup\",f=c.window_display.width||320,b=c.window_display.height||240,window.open(this.client.loginFormat(a,e),\"ais_popup\",\"width=\"+f+\",height=\"+b)}},AISProxy.prototype.identityHandler=function(a,b){var c;c=b.identity.attributes.aisuid},AISProxy.prototype.authz_queryHandler=function(a,b){var c,d,e;c=\"true\"===b.authorization.toString(),c===!1?this.sendNotification(SecurityNotifications.AUTHORIZATION_FAILED,b):c===!0&&(this.authz=b,d={mvpdName:this.facade.idps.name,viewerId:this.client.aisuid,\"std:viewerId\":this.client.aisuid},this.facade.player.setParams({mvpdname:d.mvpdName}),this.facade.player.sendNotification(MediaAnalyticsNotifications.SET_DIMENSIONS,d),this.facade.viewerId=this.client.aisuid,e=b.resource,null!=e&&(this.facade.resource=e),this.sendNotification(SecurityNotifications.SET_KEY,this.value.query||this.defaults.query),this.sendNotification(SecurityNotifications.SET_TOKEN,b.security_token),this.token=this.facade.player.security.getSecret(),this.sendNotification(AISNotifications.AUTHENTICATING,!1),null!=this.value.contentID?this.client.vcsGet(this.value.contentID):this.authorized(this.token))},AISProxy.prototype.logoutHandler=function(a,b){top.location.href=top.location.href},AISProxy.prototype.vcsHandler=function(a,b){\"get\"===b.operation&&(\"00:00:00\"===b.ph_pos||\"00:00\"===b.ph_pos?(this.client.vcsSet(this.value.contentID,b.ph_pos),this.authorized(this.token)):this.sendNotification(AISNotifications.CHOOSE_PLAY_OPTIONS,Utils.flattenTimecode(b.ph_pos)))},AISProxy.prototype.sort=function(a,b,c){var d,e,f,g,h,i,j,k;h={},d=[],e=0;for(g in a)i=a[g],d[e]={key:g,value:i[c]},e++;for(d.sort(function(a,c){var d,e;return d=\"value\"===b?a.value.toLowerCase():a.key.toLowercase(),e=\"value\"===b?c.value.toLowerCase():c.key.toLowercase(),d<e?-1:d>e?1:0}),e=j=0,k=d.length;j<k;e=++j)f=d[e],h[f.key]=a[f.key];return h},AISProxy.prototype.setRedirect=function(a){var b,c,d;try{b=/\\/dev\\./,d=window.top.location.href||window.top.location,c=b.test(d)?d.replace(b,\"/\"):null,Cookies.setCookie(this.getTarget(a),d,1,\"/\",c)}catch(a){}},AISProxy.prototype.getTarget=function(a){return null==a&&(a=\"redirect\"),this.value.responseTargets[a]},__extends(PlaybackProxy,puremvc.Proxy),PlaybackProxy.NAME=\"PlaybackProxy\",\nPlaybackProxy.prototype.data=null,PlaybackProxy.prototype.initialized=!1,PlaybackProxy.prototype.enabled=null,PlaybackProxy.prototype.handlers=null,PlaybackProxy.prototype.resumeHandlers=null,PlaybackProxy.prototype.playWhenLoaded=!1,PlaybackProxy.prototype.metadataloaded=!1,PlaybackProxy.prototype.mediaProxy=null,PlaybackProxy.prototype.setMediaProxy=function(a){this.mediaProxy=a},PlaybackProxy.prototype.getMediaProxy=function(){return this.mediaProxy},PlaybackProxy.prototype.getEnabled=function(){return this.enabled},PlaybackProxy.prototype.setEnabled=function(a){if(a!==this.enabled)return this.enabled=a,this.enabled===!0?this.load():this.applyHandlers(!1),a},PlaybackProxy.prototype.applyHandlers=function(a){var b,c,d,e,f;null==a&&(a=!0),e=this.getMediaElement(),b=a?\"addEventListener\":\"removeEventListener\",f=this.handlers;for(d in f)c=f[d],e[b](d,c)},PlaybackProxy.prototype.resumeloadedmetadata=function(a){var b;b=this.getMediaElement(),b.removeEventListener(\"loadedmetadata\",this.resumeHandlers.loadedmetadata),this.handlers.durationchange(a),this.data.currentTime>0?(b.addEventListener(\"seeked\",this.resumeHandlers.seeked),setTimeout(this.seek.bind(this),50)):this.resumecomplete()},PlaybackProxy.prototype.resumeseeked=function(a){this.getMediaElement().removeEventListener(\"seeked\",this.resumeHandlers.seeked),this.resumecomplete()},PlaybackProxy.prototype.resumecomplete=function(){var a,b=this;this.data.loading=!1,this.applyHandlers(!0),null!=(a=this.getMediaElement().textTracks)&&a.addEventListener(\"addtrack\",function(a){var c;c=a.track,\"metadata\"===c.kind&&(c.mode=\"hidden\",c.addEventListener(\"cuechange\",function(a){var c,d;c=a.target.activeCues[0],d={startTime:c.startTime,endTime:c.endTime,key:c.value.key,info:c.value.info,data:c.value},b.sendNotification(Notifications.TIMED_METADATA,d)}))}),this.playWhenLoaded===!0&&setTimeout(this.play.bind(this),0)},PlaybackProxy.prototype.ontimeupdate=function(a){this.data.currentTime=a.target.currentTime,this.sendNotification(Notifications.TIME_UPDATE,this.data.currentTime)},PlaybackProxy.prototype.ondurationchange=function(a){var b;b=a.target.duration,b===this.data.duration||0===b||isNaN(b)||(this.data.duration=b,/Android [4-6]/.test(navigator.userAgent)&&this.getMediaElement().src.indexOf(\".m3u8\")!==-1&&b===1/0||this.sendNotification(Notifications.CHANGE_DURATION,b))},PlaybackProxy.prototype.onplay=function(a){this.data.paused=!1},PlaybackProxy.prototype.onplaying=function(a){this.data.paused=!1,this.data.seeking=!1,this.sendNotification(Notifications.PLAYING)},PlaybackProxy.prototype.onpause=function(a){this.data.seeking!==!0&&(this.data.paused=!0,a.target.readyState>0&&(this.sendNotification(Notifications.PAUSED),this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PAUSED)))},PlaybackProxy.prototype.onloadeddata=function(a){this.sendNotification(Notifications.LOADED_DATA)},PlaybackProxy.prototype.onwaiting=function(a){this.sendNotification(Notifications.WAITING)},PlaybackProxy.prototype.onseeking=function(a){this.getMediaElement().removeEventListener(\"timeupdate\",this.handlers.timeupdate),this.data.seeking=!0,this.sendNotification(Notifications.SEEKING)},PlaybackProxy.prototype.onseeked=function(a){this.data.seeking=!1,this.sendNotification(Notifications.SEEKED),this.getMediaElement().addEventListener(\"timeupdate\",this.handlers.timeupdate)},PlaybackProxy.prototype.onended=function(a){this.data.ended=!0,this.sendNotification(Notifications.ENDED)},PlaybackProxy.prototype.onprogress=function(a){var b,c;try{c=this.getMediaElement(),b=c.buffered,this.sendNotification(Notifications.PROGRESS,b.end(b.length-1)/c.duration)}catch(a){}},PlaybackProxy.prototype.onerror=function(a){this.sendNotification(Notifications.ERROR,this.getMediaElement().error)},PlaybackProxy.prototype.onloadstart=function(a){this.sendNotification(Notifications.LOAD_START)},PlaybackProxy.prototype.oncanplay=function(a){this.sendNotification(Notifications.CAN_PLAY)},PlaybackProxy.prototype.oncanplaythrough=function(a){this.sendNotification(Notifications.CAN_PLAY_THROUGH),this.sendNotification(Notifications.PROGRESS,this.getDuration())},PlaybackProxy.prototype.onloadedmetadata=function(a){this.metadataloaded=!0,this.createTracks(),this.sendNotification(Notifications.ENABLE_FULL_SCREEN),this.sendNotification(Notifications.LOADED_METADATA)},PlaybackProxy.prototype.createTracks=function(){var a,b,c,d,e,f,g;if(a=this.getMediaElement().audioTracks,e=this.facade.retrieveProxy(TracksProxy.NAME).getAudioTracks(),null!=a)for(b=a.length||0,c=f=0,g=a.length;f<g;c=++f)d=a[c],e.add(new Track(d),c+1===b)},PlaybackProxy.prototype.reset=function(){this.data.currentTime=0,this.data.duration=0,this.data.src=null,this.data.ended=!1,this.data.paused=!1,this.data.seeking=!1,this.data.started=!1,this.data.loading=!1},PlaybackProxy.prototype.getStarted=function(){return this.data.started},PlaybackProxy.prototype.getMediaElement=function(){return this.facade.getMediaElement()},PlaybackProxy.prototype.canPlayTemporalType=function(a){return\"dvr\"!==a},PlaybackProxy.prototype.canPlayType=function(a){var b;return b=document.createElement(\"video\").canPlayType(a)||\"\",(/Android (4\\.[1-9]|[5-6])/.test(navigator.userAgent)||/Silk\\/3/.test(navigator.userAgent))&&a===Utils.mimeTypes.m3u8&&(b=\"maybe\"),\"probably\"===b&&/video\\/f4m|x-flv/.test(a)&&/UCBrowser/.test(navigator.userAgent)&&(b=\"\"),b},PlaybackProxy.prototype.getPaused=function(){return this.data.paused},PlaybackProxy.prototype.getEnded=function(){return this.data.ended},PlaybackProxy.prototype.getSeeking=function(){return this.data.seeking},PlaybackProxy.prototype.getCurrentTime=function(){return this.data.currentTime},PlaybackProxy.prototype.setCurrentTime=function(a){if(a!==this.data.currentTime)return this.data.currentTime=a,this.getStarted()&&this.seek(a),a},PlaybackProxy.prototype.seek=function(a){null==a&&(a=this.data.currentTime),this.getMediaElement().currentTime=a},PlaybackProxy.prototype.getSrc=function(){return this.data.src},PlaybackProxy.prototype.setSrc=function(a){return null!=a&&\"\"!==a||this.sendNotification(Notifications.ERROR,\"The value of src is not supported: \"+a),this.reset(),this.data.src=a,a},PlaybackProxy.prototype.getVolume=function(){return this.getMediaElement().volume},PlaybackProxy.prototype.setVolume=function(a){return 0<=a&&a<=1&&a!==this.getMediaElement().volume&&this.sendNotification(Notifications.VOLUME_CHANGE,this.getMediaElement().volume=a),a},PlaybackProxy.prototype.getMuted=function(){return this.data.muted},PlaybackProxy.prototype.setMuted=function(a){var b;return this.data.muted=a,this.data.muted===!0?(this.data.volume=this.getVolume(),b=0):b=this.data.volume,this.sendNotification(Notifications.CHANGE_VOLUME,b),a},PlaybackProxy.prototype.getDuration=function(){return this.data.duration},PlaybackProxy.prototype.play=function(){if(this.data.ended===!0&&this.data.currentTime!==this.data.duration&&(this.data.ended=!1),this.data.started!==!0){if(this.data.started=!0,this.setEnabled(!0),this.playWhenLoaded=!0,this.metadataloaded===!1)return}else if(this.data.loading===!0)return void(this.playWhenLoaded=!0);this.getMediaElement().play()},PlaybackProxy.prototype.pause=function(){this.data.paused=!0,this.getMediaElement().pause()},PlaybackProxy.prototype.load=function(){var a;this.sendNotification(Notifications.WAITING),this.data.loading=!0,this.playWhenLoaded=!1,this.metadataloaded=!1,a=this.getMediaElement(),a.addEventListener(\"loadedmetadata\",this.handlers.loadedmetadata),a.addEventListener(\"loadedmetadata\",this.resumeHandlers.loadedmetadata),a.addEventListener(\"durationchange\",this.handlers.durationchange),a.addEventListener(\"canplaythrough\",this.handlers.canplaythrough),a.addEventListener(\"error\",this.handlers.error),this.applySrc()},PlaybackProxy.prototype.applySrc=function(){var a,b;a=this.getMediaElement(),a.src=this.data.src,Utils.isIPad()&&(null!=(b=Utils.getIOSversion())?b[0]:void 0)<8?setTimeout(a.load.bind(a),100):a.load()},PlaybackProxy.prototype.setQuality=function(a){},PlaybackProxy.prototype.getQuality=function(){},PlaybackProxy.prototype.getQualityLevels=function(){return[]},PlaybackProxy.prototype.destroy=function(){},__extends(FlashAuthorizedCommand,puremvc.SimpleCommand),FlashAuthorizedCommand.prototype.execute=function(a){var b,c,d;b=this.facade.retrieveProxy(MediaProxy.NAME),c=this.facade.retrieveProxy(SecurityProxy.NAME),d=b.getSrc()||\"\",d.indexOf(\".smil\")===-1&&(d=c.createURL(d)),b.setSrc(d),this.facade.getMediaElement().authenticationComplete({media:b.getData()})},__extends(PlaybackCoreProxy,PlaybackProxy),PlaybackCoreProxy.prototype.temporalTypes=null,PlaybackCoreProxy.prototype.supportedTypes=null,PlaybackCoreProxy.prototype.playbackCoreName=\"default\",PlaybackCoreProxy.prototype.config=null,PlaybackCoreProxy.prototype.getPlaybackCoreName=function(){return this.playbackCoreName},PlaybackCoreProxy.prototype.getSupportedTypes=function(){return this.supportedTypes||[]},PlaybackCoreProxy.prototype.setSupportedTypes=function(a){return this.supportedTypes=a,a},PlaybackCoreProxy.prototype.getTemporalTypes=function(){return this.temporalTypes||[]},PlaybackCoreProxy.prototype.setTemporalTypes=function(a){return this.temporalTypes=a,a},PlaybackCoreProxy.prototype.canPlayTemporalType=function(a){return this.getTemporalTypes().indexOf(a)!==-1},PlaybackCoreProxy.prototype.canPlayType=function(a){return null!=this.supportedTypes?this.getSupportedTypes().indexOf(a)!==-1?\"maybe\":\"\":PlaybackCoreProxy.__super__.canPlayType.call(this,a)},__extends(FlashPlaybackProxy,PlaybackCoreProxy),FlashPlaybackProxy.NAME=PlaybackProxy.NAME,FlashPlaybackProxy.prototype.player=null,FlashPlaybackProxy.prototype.initialized=!0,FlashPlaybackProxy.prototype.playbackCoreName=\"flash\",FlashPlaybackProxy.prototype.supportedTypes=[\"video/mp4\",\"video/x-flv\",\"video/f4m\",\"application/smil\",\"application/smil+xml\"],FlashPlaybackProxy.prototype.getPaused=function(){return this.player.getPaused()},FlashPlaybackProxy.prototype.getEnded=function(){return this.player.getEnded()},FlashPlaybackProxy.prototype.getSeeking=function(){return this.player.getSeeking()},FlashPlaybackProxy.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},FlashPlaybackProxy.prototype.setCurrentTime=function(a){return this.player.setCurrentTime(a),a},FlashPlaybackProxy.prototype.getSrc=function(){return this.player.getSrc()},FlashPlaybackProxy.prototype.setSrc=function(a){return this.player.setSrc(a),a},FlashPlaybackProxy.prototype.getVolume=function(){return this.player.getVolume()},FlashPlaybackProxy.prototype.setVolume=function(a){return this.player.setVolume(a),a},FlashPlaybackProxy.prototype.getMuted=function(){return this.player.getMuted()},FlashPlaybackProxy.prototype.setMuted=function(a){return this.player.setMuted(a),a},FlashPlaybackProxy.prototype.getDuration=function(a){return this.player.getDuration()},FlashPlaybackProxy.prototype.play=function(){this.player.play()},FlashPlaybackProxy.prototype.pause=function(){this.player.pause()},FlashPlaybackProxy.prototype.load=function(){this.player.load()},__extends(FlashPlayer,Player),FlashPlayer.prototype.initialize=function(a,b){var c,d;this.config=a,this.parentModule=b,this.createDefaults(),this.logEvents=(null!=(c=this.config.flash)?c.logEvents:void 0)===!0||\"true\"===(null!=(d=QueryString[\"amp-flash-log\"])?d.toLowerCase():void 0),FlashPlayer.__super__.initialize.call(this,this.config,this.parentModule)},FlashPlayer.prototype.createFramework=function(){var a,b,c,d,e,f,g,h,i,j=this;FlashPlayer.__super__.createFramework.call(this),c=this.config.flash||{},f=(null!=(i=c.static)?i.enabled:void 0)===!0?c.static:c,e=this.debug&&null!=f.debug?f.debug:f.swf||\"amp.swf\",g=c.version||\"10.1\",b=this.evaluatePaths(c.expressInstallSWF)||\"playerProductInstall.swf\",d=this.createParams(c),a=this.createAttributes(c),this.flashvars=this.createFlashVars(c),null==this.flashvars.settings_url&&(h=this.createXML(this.config),null!=h&&(this.flashvars.settings_xml=h)),swfobject.embedSWF(this.evaluatePaths(e),this.flashObjectID,\"100%\",\"100%\",g,b,this.flashvars,d,a,function(a){j.createdHandler(a)})},FlashPlayer.prototype.playerType=\"flash\",FlashPlayer.prototype.flashObjectID=\"flashObject\",FlashPlayer.prototype.playState=null,FlashPlayer.prototype.loaded=!1,FlashPlayer.prototype.flashvars=null,FlashPlayer.prototype.paused=!1,FlashPlayer.prototype.ended=!1,FlashPlayer.prototype.muted=!1,FlashPlayer.prototype.plugins=null,FlashPlayer.prototype.debug=!1,FlashPlayer.prototype.started=!1,FlashPlayer.prototype.displayState=null,FlashPlayer.prototype.logEvents=!1,FlashPlayer.prototype.loop=!1,FlashPlayer.prototype.media=null,FlashPlayer.prototype.bindings=null,FlashPlayer.prototype.configuration=null,FlashPlayer.prototype.params=null,FlashPlayer.prototype.appState=null,FlashPlayer.prototype.security=null,FlashPlayer.prototype.playback=null,FlashPlayer.prototype.configuration=null,FlashPlayer.prototype.flashPlugins=[{id:\"AkamaiAdvancedStreamingPlugin\",src:\"http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.10/osmf2.0/AkamaiAdvancedStreamingPlugin.swf\",absolute:!0,host:\"osmf\",main:\"com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo\",type:\"application/x-shockwave-flash\"},{id:\"ErrorMessagingPlugin\",src:\"#{paths.resources}plugins/ErrorMessagingPlugin.swf\",blocking:!1,host:\"akamai\",main:\"ErrorMessagingPlugin\",type:\"application/x-shockwave-flash\"},{id:\"VideoMetricsViewPlugin\",src:\"#{paths.resources}plugins/VideoMetricsViewPlugin.swf\",blocking:!1,host:\"akamai\",main:\"VideoMetricsViewPlugin\",type:\"application/x-shockwave-flash\"},{id:\"VideoStatsInfoOverlayPlugin\",src:\"#{paths.resources}plugins/VideoStatsInfoOverlayPlugin.swf\",blocking:!1,host:\"akamai\",main:\"VideoStatsInfoOverlayPlugin\",type:\"application/x-shockwave-flash\"}],FlashPlayer.prototype.flashView=null,FlashPlayer.prototype.createModel=function(){this.appState=new ApplicationStateProxy,this.registerProxy(this.appState),this.bindings=new DataBindingProxy,this.registerProxy(this.bindings),this.security=new SecurityProxy,this.registerProxy(this.security),this.media=new MediaProxy,this.registerProxy(this.media),this.playback=new FlashPlaybackProxy(this),this.registerProxy(this.playback),this.configuration=new ConfigurationProxy(this.config),this.registerProxy(this.configuration)},FlashPlayer.prototype.createView=function(){this.registerMediator(new FlashPlayerMediator(this.getViewComponent())),this.registerMediator(new VideoLayerMediator),this.registerMediator(new OverlayLayerMediator),this.registerMediator(new LocalizationWrapper(this,this.config))},FlashPlayer.prototype.createController=function(){FlashPlayer.__super__.createController.call(this),this.registerCommand(SecurityNotifications.AUTHORIZED,FlashAuthorizedCommand),this.registerCommand(SecurityNotifications.SET_TOKEN,SecuritySetTokenCommand),this.registerCommand(SecurityNotifications.SET_KEY,SecuritySetKeyCommand),this.registerCommand(Notifications.CHANGE_PLAY_STATE,ChangePlayStateCommand),this.registerCommand(Notifications.PLAY_STATE_CHANGE,PlayerEventCommand),this.registerCommand(Notifications.START,FlashStartCommand),this.registerCommand(Notifications.STARTED,PlayerEventCommand),this.registerCommand(Notifications.PLAY,PlayerEventCommand),this.registerCommand(FlashNotifications.FLASH_CREATED,PlayerEventCommand),this.registerCommand(Notifications.CHANGE_PLAYBACK_TARGET,ChangePlaybackTargetCommand),this.registerCommand(Notifications.PLAYBACK_TARGET_CHANGE,PlaybackTargetChangeCommand)},FlashPlayer.prototype.createMediaElement=function(){var a,b;return a=new MediaElementMediator(\"flash\",\"div\"),this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,a),b=a.getViewComponent(),b.id=b.name=this.flashObjectID,b},FlashPlayer.prototype.createDefaults=function(){var a,b,c,d,e,f,g,h;if(!(!(null!=(f=this.flashPlugins)?f.length:void 0)>0)){for(b=this.config.resources||[],null!=(null!=(g=this.config.flash)?g.resources:void 0)&&(b=b.concat(this.config.flash.resources)),c=Utils.mimeTypes.swf,h=this.flashPlugins,d=0,e=h.length;d<e;d++)a=h[d],null!=a&&0===b.filter(function(b){return b.id===a.id}).length&&(null==a.type&&(a.type=c),b.push(a));this.config.resources=b}},FlashPlayer.prototype.createParams=function(a){var b;return b={allowFullScreen:!0,allowScriptAccess:\"always\",wmode:\"direct\",bgColor:\"#000000\"},null!=a.params&&(null!=a.params.allowFullScreen&&(b.allowFullScreen=a.params.allowFullScreen),null!=a.params.allowScriptAccess&&(b.allowScriptAccess=a.params.allowScriptAccess),null!=a.params.wmode&&(b.wmode=a.params.wmode),null!=a.params.bgColor&&(b.bgColor=a.params.bgColor)),\"direct\"===b.wmode&&/MSIE/.test(navigator.userAgent)&&(b.wmode=\"transparent\"),b},FlashPlayer.prototype.getModules=function(){return this.plugins},FlashPlayer.prototype.createPlugins=function(){var a,b,c,d,e,f;f=AMP.plugins;for(c in f)if(e=f[c],c in this.config&&null!=this.config[c]&&this.config[c].enabled!==!1)if(a=e[this.getPlayerType()],null!=a)try{d=this[c]=this.plugins[c]=new a(this,this.config[c]),this.registerMediator(this.plugins[c]),b=\"function\"==typeof d.getFeatureName?d.getFeatureName():void 0,null!=b&&(this[b]=d),null!=d.flashView&&(this.flashView=Utils.override(this.flashView,d.flashView)),this.logger.debug(\"[AMP] Plugin registered: \"+c)}catch(a){this.logger.error(\"[AMP] Plugin could not be created: \"+c+\". \"+a);continue}else this.logger.debug(\"[AMP] Plugin could not be found: \"+c);null!=this.config.flash.view&&(this.flashView=Utils.override(this.flashView,this.config.flash.view)),this.sendNotification(PluginNotifications.PLUGINS_INITIALIZED,this.plugins)},FlashPlayer.prototype.createAttributes=function(a){var b;return b={id:this.flashObjectID,name:this.flashObjectID},null!=a.attributes&&(null!=a.attributes.id&&(b.id=a.attributes.id),null!=a.attributes.name&&(b.name=a.attributes.name)),b},FlashPlayer.prototype.createFlashJSON=function(a,b){var c,d;return null==a&&(a=this.config),a=JSON.stringify(a),a=this.evaluatePaths(a),a=JSON.parse(a),d=function(a,b,d){switch(typeof d){case\"string\":a[b]=escape(d);break;case\"object\":c(d)}},c=function(a){var b,c,e,f;if(a instanceof Array)for(b=e=0,f=a.length;e<f;b=++e)c=a[b],d(a,b,c);else if(\"object\"==typeof a)for(b in a)c=a[b],d(a,b,c)},c(a),encodeURIComponent(JSON.stringify(a,null,b))},FlashPlayer.prototype.createFlashVars=function(a){var b,c,d,e,f,g,h,i,j,k,l;if(b={},e=JSON.parse(JSON.stringify(this.config)),e.flash=null,delete e.flash,e.locales=null,delete e.locales,e.params=null,delete e.params,e.rules=null,delete e.rules,b.settings_json=this.createFlashJSON(e),null!=this.config.autoplay&&(b.auto_play=this.config.autoplay),null!=this.config.rules&&Utils.mergeRules(this.config.rules),b.hinting_rules=escape(JSON.stringify(Utils.rules)),null!=this.config.volume&&(b.volume=Utils.clamp(this.config.volume,0,1)),null!=this.config.target&&(b.external_target=this.config.target),null!=this.config.name&&(b.core_player_name=this.config.name),null!=this.config.domain&&(b.embed_domain=b.domain=this.config.domain),this.loop=b.auto_replay=this.config.loop===!0,null!=this.config.fullscreen&&(b.fullscreen_enabled=this.config.fullscreen.enabled!==!1&&this.config.fullscreen.mode!==FullscreenMode.EXTERNAL),null!=this.config.titlebar&&(b.titlebar_enabled=this.config.titlebar.enabled!==!1),null!=this.config.params&&(b.params=escape(JSON.stringify(this.config.params))),null!=this.config.version&&(b.context_menu_label=this.config.version),null!=(null!=(f=this.config.controls)?f.displaySceneMarkers:void 0)&&(b.displaySceneMarkers=this.config.controls.displaySceneMarkers),null!=this.config.media&&(null!=this.config.media.src&&(this.setSrc(this.config.media.src),b.video_url=escape(this.config.media.src)),null!=this.config.media.source&&this.config.media.source.length>0&&(this.setSource(this.config.media.source),b.video_url=escape(this.media.getSrc())),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),b.medium=this.config.media.medium),null!=this.config.media.title&&(b.title=encodeURIComponent(this.config.media.title)),null!=this.config.media.poster&&(b.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&(b.temporalType=this.config.media.temporalType)),\"audio\"===this.getMedium()&&(b.controls=!0,b.auto_hide=-1),null!=(null!=(g=this.config.ima)&&null!=(h=g.overlay)?h.delay:void 0)&&(b.overlay_ad_delay=this.config.ima.overlay.delay),null!=this.config.ticker&&this.config.ticker.enabled!==!1&&(null!=this.config.ticker.url&&(b.ticker_text_url=this.config.ticker.url),null!=this.config.ticker.interval&&(b.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(b.ticker_speed=this.config.ticker.speed)),b.show_play_button_overlay=!1,b.auto_play_list=!1,b.next_video_timer=0,null==b.context_menu_mode&&(b.context_menu_mode=this.debug===!0?\"long\":\"short\"),null!=(null!=(i=this.config.flash)&&null!=(j=i.view)&&null!=(k=j.elements)&&null!=(l=k.loadingView)?l.attributes:void 0)){c=\"\";for(d in this.config.flash.view.elements.loadingView.attributes)c+=d+\":\"+this.config.flash.view.elements.loadingView.attributes[d]+\" \";b.loadingView=c}return this.sendNotification(FlashNotifications.CREATE_FLASH_VARS,{flashvars:b,config:this.config}),b=Utils.override(b,a.vars)},FlashPlayer.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(null==(null!=a&&null!=(w=a.flash)?w.xml:void 0)&&(null==a.flash&&(a.flash={}),a.flash.xml=\"<application></application>\"),r=XMLUtils.parse(a.flash.xml),r.childNodes.length>1&&r.removeChild(r.firstChild),this.sendNotification(FlashNotifications.CREATE_XML,{config:a,xml:r}),j=function(a){var b,c,d,f,g,h,i;if(f=a.resources,c=[],f instanceof Array&&(null!=f?f.length:void 0)>0)for(h=0,i=f.length;h<i;h++)d=f[h],d.type===o&&(d=Utils.clone(d),e===!0?null!=d.main&&\"\"!==d.main?(d.src=d.main,d.type=\"static\"):d.type=\"dynamic\":null!=d.src&&\"\"!==d.src?d.type=\"dynamic\":(d.src=d.main,d.type=\"static\"),delete d.main,c.push(d));for(b in a)g=a[b],\"flash\"!==b&&null!=(f=null!=g?g.resources:void 0)&&f instanceof Array&&f.length>0&&(c=c.concat(j(g)));return c},o=Utils.mimeTypes.swf,m=j(this.config),e=(null!=(x=a.flash.static)?x.enabled:void 0)===!0,(null!=m?m.length:void 0)>0)for(i=r.getElementsByTagName(\"plugins\"),i.length<1?(i=r.createElement(\"plugins\"),r.firstChild.appendChild(i)):i=i[0],s=0,u=m.length;s<u;s++)if(l=m[s],l.enabled!==!1){h=r.createElement(\"plugin\");for(f in l)p=l[f],\"loaded\"!==f&&(\"src\"!==f?h.setAttribute(f,\"\"+p):(\"id\"===f&&\"AkamaiAdvancedStreamingPlugin\"===p&&this.debug===!0&&(p=p.replace(\"AkamaiAdvancedStreamingPlugin.swf\",\"AkamaiAdvancedStreamingPlugin-logging.swf\")),h.appendChild(XMLUtils.createTextContent(r,p))));i.appendChild(h)}if(k=function(a,b){var c,d,e,f,g,h;if(null!=a.attributes){f=a.attributes;for(d in f)e=f[d],b.setAttribute(d,\"\"+e)}if(null!=a.elements){g=a.elements;for(d in g)e=g[d],null!=e&&(c=r.createElement(\"element\"),c.setAttribute(\"id\",d),\"state\"!==c.id&&(k(e,c),b.appendChild(c)))}if(null!=a.state){if(c=r.createElement(\"state\"),a.state.attributes){h=a.state.attributes;for(d in h)e=h[d],null!=e&&c.setAttribute(d,\"\"+e)}b.appendChild(c)}return b},q=r.getElementsByTagName(\"view\")[0],null==q&&(q=r.createElement(\"view\"),r.firstChild.appendChild(q)),k(this.flashView,q),g=null!=(y=this.config.fullscreen)?y.mode:void 0,null!=g)for(d=r.getElementsByTagName(\"element\"),t=0,v=d.length;t<v;t++)c=d[t],\"fullscreenBtn\"===c.getAttribute(\"id\")&&c.setAttribute(\"action\",\"external\");return n=XMLUtils.serialize(r),b=n.match(/<application>[\\w\\W\\s\\S\\d\\D]*<\\/application>/)[0]||n,b=b.replace(/[\\n\\r\\t]/g,\"\"),b=this.evaluatePaths(b),encodeURIComponent(b)},FlashPlayer.prototype.createdHandler=function(a){var b=this;this.mediaElement=a.ref,this.mediaElement.className=Namespace.PREFIX+MediaElementMediator.prototype.componentType,this.mediaElement.eventHandler=function(a,c){return b.eventHandler(a,c)},this.sendNotification(FlashNotifications.FLASH_CREATED),null!=this.getMedium()&&this.setMedium(this.getMedium())},FlashPlayer.prototype.eventHandler=function(a,b){var c,d,e,f,g,h;this.logEvents&&!this.excludedFlashEvents.test(a)&&this.logger.log(\"[AMP FLASH EVENT] \"+a,b);try{switch(a){case FlashNotifications.INITIALIZED:f=e=\"ready\";break;case FlashNotifications.RESET:null==b&&(e=\"ready\"),this.started=!1;break;case FlashNotifications.LOADING:f=\"loadstart\";break;case FlashNotifications.PLAYER_ERROR:f=e=\"error\";break;case FlashNotifications.MEDIA_ERROR:f=e=\"error\";break;case FlashNotifications.FEED_UPDATED:f=\"mediachange\";break;case FlashNotifications.ERROR_STREAM_NOT_FOUND:f=e=\"error\";break;case FlashNotifications.CAPABILITY_CHANGE:d=b.type,\"canPlayChange\"===d&&b.enabled===!0?(f=\"canplay\",this.loaded=!0):\"canSeekChange\"===d&&b.enabled===!0?f=\"canplaythrough\":\"temporalChange\"===d&&b.enabled===!0&&(f=\"loadedmetadata\",this.started||this.sendNotification(Notifications.START,b));break;case FlashNotifications.PLAYING:this.started||this.sendNotification(Notifications.START,b),f=e=\"playing\",this.ended=!1,this.paused=!1;break;case FlashNotifications.ELEMENT_EVENT:\"fullscreenBtn\"===b.element&&\"click\"===b.type&&(null!=(g=this.config)&&null!=(h=g.fullscreen)?h.mode:void 0)===FullscreenMode.EXTERNAL&&(e=this.getDisplayState()===DisplayState.FULL_SCREEN?DisplayState.NORMAL:DisplayState.FULL_SCREEN,this.setDisplayState(e));break;case FlashNotifications.PLAY_REQUEST:f=\"playrequest\",this.loaded=!0,this.ended=!1;break;case FlashNotifications.PLAY:\"paused\"!==this.playState&&this.started&&this.sendNotification(Notifications.PLAY,b);break;case FlashNotifications.ENDED:f=e=\"ended\",this.ended=!0;break;case FlashNotifications.PAUSED:f=\"pause\",e=\"paused\",this.paused=!0;break;case FlashNotifications.BUFFERING:\"ended\"!==this.className&&(f=e=\"waiting\");break;case FlashNotifications.DURATION_CHANGE:isNaN(b.time)||(f=\"durationchange\",b=b.time);break;case FlashNotifications.VOLUME_CHANGE:f=\"volumechange\";break;case FlashNotifications.TIME_UPDATE:f=\"timeupdate\";break;case FlashNotifications.SEEKING_CHANGE:if(this.appState.getSeeking()===!1&&b.seeking===!1)return;f=b.seeking?\"seeking\":\"seeked\",this.appState.setSeeking(b.seeking),b.seeking&&(e=\"seeking\");break;case FlashNotifications.FULLSCREEN_CHANGE:f=\"fullscreenchange\",b=\"fullScreen\"===b.displayState,this.applyDisplayState(b?DisplayState.FULL_SCREEN:DisplayState.NORMAL);break;case FlashNotifications.FAIL_OVER_ATTEMPT:f=\"failoverattempt\",b=b;break;case FlashNotifications.ERROR:a=null;break;case FlashNotifications.AUTHORIZE:f=SecurityNotifications.AUTHORIZE;break;case FlashNotifications.TIMED_METADATA:f=Notifications.TIMED_METADATA,b={startTime:b.time,endTime:b.time,data:b}}null!=a&&a!==f&&(d=new Event(a,b),d.dispatcher=\"FLASH\",this.sendNotification(Notifications.DISPATCH_EVENT,d),this.sendNotification(a,b)),null!=f&&(\"error\"===f&&(c=b.error||b,this.error(\"Flash Error\",c)),this.sendNotification(f,b),this.sendNotification(Notifications.DISPATCH_EVENT,new Event(f,b))),null!=e&&this.setPlayState(e)}catch(b){this.error(\"Event Error: \"+a,b)}},FlashPlayer.prototype.error=function(a,b){this.logger.error(\"[AMP FLASH ERROR]\",a,b)},FlashPlayer.prototype.excludedFlashEvents=/(mediaPlayerPlayheadUpdate|mediaPlayerElementEvent|adComponentPlaybackProgress)/,FlashPlayer.prototype.logFlashEvents=!1,FlashPlayer.prototype.logEvent=function(a){\"FLASH\"===a.dispatcher&&this.logFlashEvents===!1||this.excludedFlashEvents.test(a.type)===!0||FlashPlayer.__super__.logEvent.call(this,a)},FlashPlayer.prototype.setPlayState=function(a){if(a!==this.playState)return this.playState=a,this.sendNotification(Notifications.CHANGE_PLAY_STATE,this.playState),a},FlashPlayer.prototype.setMedia=function(a){return FlashPlayer.__super__.setMedia.call(this,a),null!=this.playState&&this.setPlayState(\"ready\"),this.media.setData(a),null!=a.src&&this.setSrc(a.src),null!=a.source&&a.source.length>0&&this.setSource(a.source),this.sendNotification(Notifications.MEDIA_CHANGE,a),this.loaded=!0,this.mediaElement.loadURL(this.media.getSrc(),this.media.getData()),a},FlashPlayer.prototype.getMedia=function(){return this.media.getData()},FlashPlayer.prototype.load=function(){this.loaded=!0,this.mediaElement.loadURL(this.media.getSrc())};FlashPlayer.prototype.play=function(){this.loaded||this.load(),this.mediaElement.unpause()};FlashPlayer.prototype.setMuted=function(a){this.muted=a;try{a===!0?this.mediaElement.mute():this.mediaElement.unmute()}catch(a){this.error(\"Flash muted error\",a)}return a},FlashPlayer.prototype.getMuted=function(){return this.muted},FlashPlayer.prototype.getLoop=function(){return this.loop},FlashPlayer.prototype.getSrc=function(a){return this.mediaElement.getURL()},FlashPlayer.prototype.setSrc=function(a){return this.media.setSrc(a),this.loaded=!1,this.setMedium(Utils.getMimeType(a)),a},FlashPlayer.prototype.setAutoplay=function(a){return this.mediaElement.setPlayerProperty(\"autoplay\",a),a},FlashPlayer.prototype.getAutoplay=function(){return this.mediaElement.getPlayerProperty(\"autoplay\")},FlashPlayer.prototype.getMedium=function(){return this.media.getData().medium},FlashPlayer.prototype.setMedium=function(a){var b,c;if(b=this.media.getData(),a!==b.medium)return null!=b.medium&&(c=\"medium-\"+b.medium),b.medium=/audio/.test(a)?\"audio\":\"video\",this.sendNotification(Notifications.MEDIUM_CHANGE,{value:\"medium-\"+b.medium,previous:c}),a},FlashPlayer.prototype.setSource=function(a){var b,c,d=this;if(!(null==a||a.length<1)){if(c=this.media.getData(),c.source=a,this.loaded=!1,b=Utils.selectSource(a,function(a){return d.canPlayType(a)}),null==(null!=b?b.src:void 0)||\"\"===b.src)throw new Error(\"No valid source could be found\");return this.setSrc(b.src),\"undefined\"!=typeof type&&null!==type&&this.setMedium(type),a}},FlashPlayer.prototype.getSource=function(){return this.media.getData().source},FlashPlayer.prototype.getSeeking=function(){return this.appState.getSeeking()},FlashPlayer.prototype.getPaused=function(){return this.paused},FlashPlayer.prototype.getEnded=function(){return this.ended},FlashPlayer.prototype.getFlashXML=function(){var a,b;b=decodeURIComponent(this.flashvars.settings_xml),a=XMLUtils.parse(b);try{a.toString=function(){return b}}catch(a){}return a},FlashPlayer.prototype.getFlashVars=function(){return this.flashvars},FlashPlayer.prototype.getFlashJSON=function(){return JSON.parse(decodeURIComponent(this.flashvars.settings_json))},FlashPlayer.prototype.evaluateBinding=function(a){var b;if(b=this.mediaElement.evaluateBinding(a),null!=b)try{b=JSON.parse(b)}catch(a){}return b},FlashPlayer.prototype.canPlayType=function(a){return __indexOf.call(Utils.flashTypes,a)>=0?\"maybe\":\"\"},FlashPlayer.prototype.replay=function(){this.mediaElement.replay()},FlashPlayer.prototype.pause=function(){this.mediaElement.pause()},FlashPlayer.prototype.end=function(){this.mediaElement.stopPlayer()},FlashPlayer.prototype.getCurrentTime=function(){return this.mediaElement.getCurrentTime()},FlashPlayer.prototype.setCurrentTime=function(a){return this.mediaElement.jumpToTime(a),a},FlashPlayer.prototype.getParams=function(){return this.mediaElement.getParams()},FlashPlayer.prototype.setParams=function(a){return this.mediaElement.setParams(a),a},FlashPlayer.prototype.getVolume=function(){return this.mediaElement.getVolume()},FlashPlayer.prototype.setVolume=function(a,b){return this.mediaElement.setVolume(a,b||\"\"),a},FlashPlayer.prototype.getDuration=function(){return this.mediaElement.getDuration()},FlashPlayer.prototype.getDisplayState=function(){return this.displayState},FlashPlayer.prototype.setDisplayState=function(a){var b;if(a!==this.displayState&&(this.applyDisplayState(a),(null!=(b=this.config.fullscreen)?b.mode:void 0)!==FullscreenMode.EXTERNAL))return this.displayState===DisplayState.FULL_SCREEN?this.mediaElement.enterFullScreen():this.mediaElement.exitFullScreen(),a},FlashPlayer.prototype.applyDisplayState=function(a){var b;a!==this.displayState&&(b={value:a,previous:this.displayState},this.displayState=a,this.sendNotification(Notifications.DISPLAY_STATE_CHANGE,b),this.sendNotification(Notifications.DISPATCH_EVENT,new Event(\"fullscreenchange\",this.displayState===DisplayState.FULL_SCREEN)));\n},FlashPlayer.prototype.enterFullScreen=function(){this.setDisplayState(DisplayState.FULL_SCREEN)},FlashPlayer.prototype.exitFullScreen=function(){this.setDisplayState(DisplayState.NORMAL)},FlashPlayer.prototype.recordContentChange=function(a){this.mediaElement.recordContentChange(a)},FlashPlayer.prototype.setQuality=function(a){return this.mediaElement.setQuality(a)},FlashPlayer.prototype.getQuality=function(){return this.mediaElement.getQuality()},FlashPlayer.prototype.getQualityLevels=function(){return this.mediaElement.getQualityLevels()},__extends(ModuleAdapter,puremvc.Mediator),ModuleAdapter.prototype.module=null,ModuleAdapter.prototype.mediator=null,ModuleAdapter.prototype.initializeNotifier=function(a){var b,c=this;ModuleAdapter.__super__.initializeNotifier.call(this,a),b=this.module.listNotificationPublications(),null!=b&&(this.mediator=new puremvc.Mediator(this.facade.getModuleName()),this.mediator.listNotificationInterests=function(){return b},this.mediator.handleNotification=function(a){c.facade.sendNotification(a.getName(),a.getBody(),a.getType())})},ModuleAdapter.prototype.onRegister=function(){null!=this.mediator&&this.module.registerMediator(this.mediator)},ModuleAdapter.prototype.onRemove=function(){null!=this.mediator&&this.module.removeMediator(this.mediator)},ModuleAdapter.prototype.listNotificationInterests=function(){return this.module.listNotificationInterests()},ModuleAdapter.prototype.handleNotification=function(a){this.module.sendNotification(a.getName(),a.getBody(),a.getType())};var Notifications={STARTUP:\"startup\",LOAD:\"load\",PAUSE_REQUEST:\"pauserequest\",TOGGLE_PLAY_PAUSE:\"togglePlayPause\",CHANGE_PLAY_STATE:\"chageplaystate\",PLAY_STATE_CHANGE:\"playstatechange\",TOGGLE_FULL_SCREEN:\"toggleFullScreen\",CHANGE_DISPLAY_STATE:\"chageDisplayState\",DISPLAY_STATE_CHANGE:\"displayStateChange\",FULL_SCREEN_CHANGE:\"fullscreenchange\",DISABLE_FULL_SCREEN:\"disableFullScreen\",ENABLE_FULL_SCREEN:\"enableFullScreen\",LANGUAGE_CHANGE:\"languagechange\",TOGGLE_ACTIVE:\"toggleActive\",CHANGE_ACTIVE_STATE:\"changeactivestate\",ACTIVE_STATE_CHANGE:\"activestatechange\",CHANGE_MEDIA:\"changeMedia\",SET_MEDIA:\"setmedia\",MEDIA_VALIDATED:\"mediavalidated\",UPDATE_DATA_BINDINGS:\"updatedatabindings\",CHANGE_VOLUME:\"changevolume\",CHANGE_MUTED:\"changemuted\",TOGGLE_MUTED:\"togglemuted\",SEEK:\"seek\",CHANGE_DURATION:\"changeduration\",CHANGE_AUTOPLAY:\"changeAutoplay\",CHANGE_LOOP:\"changeLoop\",PLAYBACK_CORE_CHANGE:\"playbackCoreChange\",START:\"start\",END:\"end\",REPLAY:\"replay\",REGISTER_PLUGIN:\"registerPlugin\",REGISTER_PLUGINS:\"registerPlugins\",PLUGIN_REGISTERED:\"pluginRegistered\",ADD_LAYER:\"addLayer\",REMOVE_LAYER:\"removeLayer\",ADD_OVERLAY:\"addOverlay\",REMOVE_OVERLAY:\"removeOverlay\",ADD_CONTROL:\"addControl\",REMOVE_CONTROL:\"removeControl\",ADD_CONTROL_STATE:\"addControlState\",REMOVE_CONTROL_STATE:\"removeControlState\",ADD_APPLICATION_STATE:\"addApplicationState\",REMOVE_APPLICATION_STATE:\"removeApplicationState\",DISPATCH_EVENT:\"dispatchEvent\",CHANGE_PARAMS:\"changeParams\",ADD_CUE_POINTS:\"addCuePoints\",REMOVE_CUE_POINTS:\"removeCuePoints\",INITIALIZED:\"initialized\",REGISTER_PLAYBACK_CORE:\"registerPlaybackCore\",REMOVE_PLAYBACK_CORE:\"removePlaybackCore\",DISPLAY_TIME:\"displaytime\",IS_USER_ACTIVE:\"isUserActive\",CHANGE_PLAYBACK_TARGET:\"changeplaybacktarget\",LOADED_METADATA:\"loadedmetadata\",READY:\"ready\",ERROR:\"error\",ENDED:\"ended\",STARTED:\"started\",DURATION_CHANGE:\"durationchange\",SEEKING:\"seeking\",SEEKED:\"seeked\",TIME_UPDATE:\"timeupdate\",LOAD_START:\"loadstart\",LOADED_DATA:\"loadeddata\",CAN_PLAY:\"canplay\",CAN_PLAY_THROUGH:\"canplaythrough\",PROGRESS:\"progress\",MEDIA_CHANGE:\"mediachange\",WAITING:\"waiting\",PLAY:\"play\",PLAYING:\"playing\",PAUSE:\"pause\",PAUSED:\"paused\",PLAY_REQUEST:\"playrequest\",MEDIUM_CHANGE:\"mediumchange\",TEMPORAL_TYPE_CHANGE:\"temporaltypechange\",VOLUME_CHANGE:\"volumechange\",FAIL_OVER_ATTEMPT:\"failoverattempt\",PLAYBACK_TARGET_CHANGE:\"playbacktargetchange\",PLAYBACK_TARGET_AVAILABLE:\"playbacktargetavailable\",RECORD_CONTENT_CHANGE:\"recordcontentchange\",IS_LIVE:\"islive\",CHANGE_CONTENT:\"changecontent\",CONTENT_CHANGED:\"contentchanged\",ENABLE_VIDEO_EVENTS:\"enablevideoevents\",DISABLE_VIDEO_EVENTS:\"disablevideoevents\",MEDIA_SEQUENCE_ENDED:\"mediasequenceended\",TIMED_METADATA:\"timedmetadata\"};DataBinding.SINGLE=/^\\s*#{([^#{}]+)}\\s*$/,DataBinding.TOKEN=/#{([^#}]*)}/g,DataBinding.RETURN=\"return \",DataBinding.EVENT=\"event\",DataBinding.ELEMENT=\"element\",DataBinding.PATHS=\"paths\",DataBinding.eval=function(a,b,c,d,e){var f,g,h;return null==a?a:(g=null!=(h=this.SINGLE.exec(a))?h[1]:null,f=null!=g?this.evalBinding(g,b,c,d,e):this.evalString(a,b,c,d,e))},DataBinding.evalString=function(a,b,c,d,e){return a.replace(this.TOKEN,this.replaceBinding.bind(this,b,c,d,e))},DataBinding.replaceBinding=function(a,b,c,d,e,f,g,h){return this.evalBinding(f,a,b,c,d)},DataBinding.evalBinding=function(a,b,c,d,e){var f;try{f=this.exec(a,b,c,d,e)}catch(b){f=\"#{\"+a+\"}\"}return f},DataBinding.exec=function(a,b,c,d,e){return new Function(this.EVENT,this.ELEMENT,this.PATHS,this.RETURN+a).bind(b)(c,d,e)},__extends(DispatchEventCommand,puremvc.SimpleCommand),DispatchEventCommand.prototype.execute=function(a){var b,c;c=this.facade.player||this.facade,b=a.getBody(),b.player=c,this.facade.dispatchEvent(b)},ITokenized.prototype.data=null,ITokenized.prototype.value=null,ITokenized.prototype.source=null,ITokenized.prototype.parse=function(a){},ITokenized.prototype.compile=function(a,b){null==a&&(a={}),null==b&&(b=!1)},__extends(TokenizedBase,ITokenized),TokenizedBase.prototype.data=null,TokenizedBase.prototype.value=null,TokenizedBase.prototype.source=null,TokenizedBase.prototype.parse=function(a){var b;return b=a instanceof Array?new TokenizedArray(a):a instanceof Object?new TokenizedObject(a):new TokenizedValue(a)},__extends(TokenizedArray,TokenizedBase),TokenizedArray.prototype.parse=function(a){var b,c,d,e;for(this.data=[],b=d=0,e=a.length;d<e;b=++d)c=a[b],this.data[b]=TokenizedArray.__super__.parse.call(this,c);return this.data},TokenizedArray.prototype.compile=function(a,b){var c,d,e,f,g;for(null==a&&(a={}),null==b&&(b=!1),this.value=[],g=this.data,c=e=0,f=g.length;e<f;c=++e){d=g[c];try{this.value[c]=d.compile(a,b)}catch(a){this.value[c]=null,b||Logger.error(a)}}return this.value},__extends(DataBindingContext,puremvc.Proxy),DataBindingContext.prototype.contextName=null,DataBindingContext.prototype.contextData=null,DataBindingContext.prototype.onRegister=function(){var a,b;null!=this.getContextName()&&(a=this.facade.player||this.facade,b=a.retrieveProxy(DataBindingProxy.NAME),b.registerContext(this))},DataBindingContext.prototype.getContextName=function(){return this.contextName},DataBindingContext.prototype.getContextData=function(){return this.contextData},__extends(ExternalPlaybackProxy,puremvc.Proxy),ExternalPlaybackProxy.NAME=\"PlaybackProxy\",ExternalPlaybackProxy.prototype.src=null,ExternalPlaybackProxy.prototype.canPlayType=function(a){return\"external\"===a},ExternalPlaybackProxy.prototype.canPlayTemporalType=function(a){return!0},ExternalPlaybackProxy.prototype.getSrc=function(){return this.src},ExternalPlaybackProxy.prototype.setSrc=function(a){return null!=a&&\"\"!==a||this.sendNotification(Notifications.ERROR,\"The value of src is not supported: \"+a),a!==this.src&&(this.src=a),a},ExternalPlaybackProxy.prototype.mediaProxy=null,ExternalPlaybackProxy.prototype.setMediaProxy=function(a){this.mediaProxy=a},ExternalPlaybackProxy.prototype.play=function(){window.open(this.getSrc(),\"_blank\")},ExternalPlaybackProxy.prototype.load=function(){},ExternalPlaybackProxy.prototype.setVolume=function(){},ExternalPlaybackProxy.prototype.pause=function(){},ExternalPlaybackProxy.prototype.setEnabled=function(){},ExternalPlaybackProxy.prototype.getCurrentTime=function(){return 0},ExternalPlaybackProxy.prototype.setCurrentTime=function(a){},ExternalPlaybackProxy.prototype.getDuration=function(){return 0};var UserNotifications={TOGGLE_PLAY_PAUSE:\"usertogglePlayPause\",PLAY:\"userplay\",PAUSE:\"userpause\",SEEK:\"userseek\"},Namespace={PREFIX:\"akamai-\"},SecurityNotifications={CHECK_AUTHORIZATION:\"authcheckAuthorization\",AUTHORIZATION_FAILED:\"authauthorizationfailed\",AUTHORIZE:\"authauthorize\",AUTHORIZED:\"authauthorized\",SET_TOKEN:\"authsettoken\",SET_KEY:\"authsetkey\"};__extends(ChangePlayStateCommand,PlayerCommand),ChangePlayStateCommand.prototype.execute=function(a){this.applicationState.setPlayState(a.getBody())},__extends(SetMediaCommand,PlayerCommand),SetMediaCommand.prototype.execute=function(a){var b;b=a.getBody(),this.sendNotification(Notifications.CHANGE_MEDIA,b),b=this.media.getData(),this.media.authorized===!0&&this.sendNotification(Notifications.MEDIA_VALIDATED,b)},__extends(ChangeDurationCommand,PlayerCommand),ChangeDurationCommand.prototype.execute=function(a){var b;b=a.getBody(),this.media.getDuration()!==b&&this.media.setDuration(b)},__extends(ErrorCommand,PlayerEventCommand),ErrorCommand.prototype.execute=function(a){var b;b=this.playback.getMediaElement(),EventHandler.clear(b),this.logger.error(\"[AMP ERROR]\",a.getBody()),this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.ERROR),ErrorCommand.__super__.execute.call(this,a)},__extends(ReadyCommand,PlayerEventCommand),ReadyCommand.prototype.execute=function(a){var b,c;b=null!=(c=this.facade.config)?c.volume:void 0,null!=b&&this.sendNotification(Notifications.CHANGE_VOLUME,b),this.playerCore.ready(),this.sendNotification(Notifications.CHANGE_DISPLAY_STATE,DisplayState.NORMAL),this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.READY),this.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE),this.dispatchEventAfterCommand(a)},__extends(UpdateDataBindingsCommand,PlayerCommand),UpdateDataBindingsCommand.prototype.execute=function(a){var b;b=a.getBody()||{},this.bindings.compile(b.contexts,b.suppressErrors)},__extends(ChangeParamsCommand,PlayerCommand),ChangeParamsCommand.prototype.execute=function(a){this.params.setData(a.getBody()),this.sendNotification(Notifications.UPDATE_DATA_BINDINGS,{suppressErrors:!0})},__extends(MediaChangeCommand,PlayerEventCommand),MediaChangeCommand.prototype.execute=function(a){var b;b=a.getBody(),this.playerCore.setPlaybackCore(b),this.playback.setSrc(b.src),this.playback.setCurrentTime(b.startTime||0),MediaChangeCommand.__super__.execute.call(this,a)},__extends(ChangeMediaCommand,PlayerCommand),ChangeMediaCommand.prototype.execute=function(a){var b;b=a.getBody(),this.playback.setEnabled(!1),this.playback.pause(),this.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.READY),this.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE);try{this.media.setData(b)}catch(a){this.sendNotification(Notifications.ERROR,a.message)}if(this.playback&&this.playback instanceof HLSPlaybackProxy){var c=this.facade.getMediaElement(),d=c.textTracks;if(0<d.length)for(var e=d.length-1;e>=0;e--){var f=d[e].cues;if(0<f.length)for(var g=f.length-1;g>=0;g--)d[e].removeCue(f[g])}this.playback.destroy()}this.sendNotification(Notifications.UPDATE_DATA_BINDINGS),this.sendNotification(SecurityNotifications.AUTHORIZE)},__extends(OverlayLayerMediator,LayerMediator),OverlayLayerMediator.prototype.componentName=\"overlays\",OverlayLayerMediator.NAME=\"OverlayLayerMediator\",OverlayLayerMediator.prototype.createMediatorName=function(){return OverlayLayerMediator.NAME},OverlayLayerMediator.prototype.listNotificationInterests=function(){return[Notifications.ADD_OVERLAY,Notifications.REMOVE_OVERLAY]},OverlayLayerMediator.prototype.handleNotification=function(a){var b,c;switch(b=a.getName(),c=a.getBody(),b){case Notifications.ADD_OVERLAY:this.viewComponent.appendChild(c);break;case Notifications.REMOVE_OVERLAY:this.viewComponent.removeChild(c)}},__extends(PosterMediator,LayerMediator),PosterMediator.prototype.componentName=\"poster\",PosterMediator.prototype.poster=null,PosterMediator.prototype.clickHandler=null,PosterMediator.prototype.onRegister=function(){PosterMediator.__super__.onRegister.call(this),this.poster=this.create(\"poster-content\"),this.poster.onclick=this.onclick.bind(this)},PosterMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),a.preventDefault(),this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE,!0),!1},PosterMediator.prototype.listNotificationInterests=function(){return[Notifications.CHANGE_MEDIA]},PosterMediator.prototype.handleNotification=function(a){var b,c;switch(a.getName()){case Notifications.CHANGE_MEDIA:c=a.getBody().poster,b=null!=c&&\"\"!==c?'<img src=\"'+c+'\" class=\"'+this.cssPrefix+'poster-image\" />':\"\",this.poster.innerHTML=b}},__extends(ErrorLayerMediator,LayerMediator),ErrorLayerMediator.prototype.message=null,ErrorLayerMediator.prototype.componentName=\"error\",ErrorLayerMediator.prototype.onRegister=function(){ErrorLayerMediator.__super__.onRegister.call(this),this.message=this.create(\"error-message\")},ErrorLayerMediator.prototype.listNotificationInterests=function(){return[Notifications.ERROR]},ErrorLayerMediator.prototype.handleNotification=function(a){var b,c;switch(a.getName()){case Notifications.ERROR:switch(b=a.getBody(),c=\"Error: \",b.code){case MediaError.MEDIA_ERR_ABORTED:c+=\"Media was aborted.\";break;case MediaError.MEDIA_ERR_DECODE:c+=\"Decode Error.\";break;case MediaError.MEDIA_ERR_NETWORK:c+=\"Network Error.\";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:c+=\"Source not supported.\";break;default:c+=b}this.message.textContent=c}},__extends(TitleBarMediator,OverlayMediator),TitleBarMediator.prototype.componentName=\"title-bar\",TitleBarMediator.prototype.title=null,TitleBarMediator.prototype.description=null,TitleBarMediator.prototype.onRegister=function(){TitleBarMediator.__super__.onRegister.call(this),this.title=this.create(\"title-text\"),this.description=this.create(\"description-text\")},TitleBarMediator.prototype.listNotificationInterests=function(){return[Notifications.CHANGE_MEDIA]},TitleBarMediator.prototype.handleNotification=function(a){var b,c;switch(a.getName()){case Notifications.CHANGE_MEDIA:b=a.getBody(),c=b.title,null==c||\"\"===c||\"undefined\"===c?this.classList.add(\"hidden\"):(this.title.innerHTML=c,this.description.innerHTML=b.description?b.description:\"\",this.classList.remove(\"hidden\"))}},__extends(Plugin,Module),Plugin.prototype.player=null,Plugin.prototype.proxy=null,Plugin.prototype.initialize=function(a,b){this.player=b,this.logger=this.player.logger,Plugin.__super__.initialize.call(this,a,b)},Plugin.prototype.isAvailable=function(){return!0},Plugin.prototype.loadResources=function(){return this.isAvailable()?void Plugin.__super__.loadResources.call(this):void this.resourcesLoaded()},Plugin.prototype.resourcesLoaded=function(){\"function\"==typeof this.oninitialized&&this.oninitialized(this)},Plugin.prototype.onRegister=function(){var a;this.isAvailable()&&(this.createFramework(),null!=(a=this.retrieveProxy(PluginProxy.NAME))&&\"function\"==typeof a.initialize&&a.initialize()),this.sendNotification(PluginNotifications.PLUGIN_REGISTERED,this)},Plugin.prototype.logEvent=function(a){var b;/(timeupdate|timeremaining)/.test(a.type)!==!0&&(b=this.player.getModuleName().toUpperCase()+\" \"+this.getModuleName().toUpperCase(),null!=a.dispatcher&&(b+=\" \"+a.dispatcher),this.logger.log(\"[\"+b+\" EVENT] \"+a.type,a))},Plugin.prototype.listNotificationPublications=function(){var a,b,c;return b=[Notifications.ADD_LAYER,Notifications.REMOVE_LAYER,Notifications.ADD_OVERLAY,Notifications.REMOVE_OVERLAY,Notifications.ADD_APPLICATION_STATE,Notifications.REMOVE_APPLICATION_STATE,Notifications.IS_USER_ACTIVE,Notifications.PLAYBACK_CORE_CHANGE],b.concat(function(){var b;b=[];for(a in PluginNotifications)c=PluginNotifications[a],b.push(c);return b}())},__extends(PluginAdapter,puremvc.Mediator),PluginAdapter.NAME=\"PluginAdapter\",PluginAdapter.prototype.plugins=null,PluginAdapter.prototype.registered=null,PluginAdapter.prototype.onRegister=function(){return PluginAdapter.__super__.onRegister.call(this)},PluginAdapter.prototype.listNotificationInterests=function(){return[PluginNotifications.REGISTER_PLUGINS,PluginNotifications.PLUGIN_REGISTERED]},PluginAdapter.prototype.handleNotification=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;switch(h=a.getName(),b=a.getBody(),h){case PluginNotifications.REGISTER_PLUGINS:l=this.facade.getPlayerType(),c=b,j=this.onplugininitialized.bind(this),i=this.onpluginerror.bind(this),n=AMP.plugins;for(g in n)if(m=n[g],g in c&&(f=c[g],null!=f&&f.enabled!==!1))if(d=m[l],null!=d)try{k=new d,k.oninitialized=j,k.onerror=i,this.plugins.push(k.initialize.bind(k,f,this.facade))}catch(a){this.logger.error(\"[AMP] Plugin could not be created: \"+g+\". \"+a);continue}else this.facade.logger.debug(\"[AMP] Plugin could not be found: \"+g);this.plugins.forEach(function(a){return a()});break;case PluginNotifications.PLUGIN_REGISTERED:this.registered++,h=\"function\"==typeof b.getModuleName?b.getModuleName():void 0,null!=h&&(this.facade[h]=b),e=\"function\"==typeof b.getFeatureName?b.getFeatureName():void 0,null!=e&&(this.facade[e]=b),this.facade.logger.debug(\"[AMP] Plugin registered: \"+b.getModuleName()),this.initializedCheck()}},PluginAdapter.prototype.initializedCheck=function(){this.registered===this.plugins.length&&this.sendNotification(PluginNotifications.PLUGINS_INITIALIZED,this.plugins)},PluginAdapter.prototype.onplugininitialized=function(a){a.oninitialized=null,a.onerror=null,this.facade.registerModule(a)},PluginAdapter.prototype.onpluginerror=function(a){this.registered++,this.facade.logger.error(\"[AMP] Plugin could not be registered: \"+a.getModuleName()),this.initializedCheck()},ClassList.prototype.element=null,ClassList.prototype.prefix=Namespace.PREFIX,ClassList.prototype.contains=function(a){return this.constructor.contains(a,this.element,this.prefix)},ClassList.prototype.add=function(a){this.constructor.add(a,this.element,this.prefix)},ClassList.prototype.remove=function(a){this.constructor.remove(a,this.element,this.prefix)},ClassList.prototype.toggle=function(a){return this.constructor.contains(a,this.element,this.prefix)},ClassList.contains=function(a,b,c){var d,e;return null==c&&(c=\"\"),d=c+a,null!=(null!=(e=b.classList)?e.contains:void 0)?b.classList.contains(d):b.className.indexOf(d)!==-1},ClassList.add=function(a,b,c){var d,e;null==c&&(c=\"\"),d=c+a,null!=(null!=(e=b.classList)?e.add:void 0)?b.classList.add(d):this.contains(a,b)||(\"\"!==b.className?b.className+=\" \"+d:b.className=d)},ClassList.remove=function(a,b,c){var d,e,f;null==c&&(c=\"\"),d=c+a,null!=(null!=(f=b.classList)?f.remove:void 0)?b.classList.remove(d):this.contains(a,b)&&(e=new RegExp(\" ?\"+d),b.className=b.className.replace(e,\"\"))},ClassList.toggle=function(a,b,c){var d,e;null==c&&(c=\"\"),d=c+a,null!=(null!=(e=b.classList)?e.toggle:void 0)?b.classList.toggle(this.prefix+a):this.contains(a,b)?this.remome(a,b):this.add(a,b)},__extends(LocalizationProxy,DataBindingContext),LocalizationProxy.NAME=\"LocalizationProxy\",LocalizationProxy.prototype.contextName=\"l10n\",LocalizationProxy.prototype.locale=null,LocalizationProxy.prototype.localeId=null,LocalizationProxy.prototype.onRegister=function(){LocalizationProxy.__super__.onRegister.call(this),this.setLocale(this.data.language)},LocalizationProxy.prototype.getContextData=function(){return this.locale},LocalizationProxy.prototype.getLanguage=function(){return this.data.language},LocalizationProxy.prototype.setLanguage=function(a){return this.data.language=a,this.setLocale(a),this.sendNotification(Notifications.LANGUAGE_CHANGE,a),a},LocalizationProxy.prototype.setLocale=function(a){return this.localeId=a,this.locale=this.data.locales[this.localeId],null==this.locale&&(this.localeId=a.substring(0,2),this.locale=this.data.locales[this.localeId]),this.facade.l10n=this.locale,a},LocalizationProxy.prototype.getLocaleId=function(){return this.localeId},LocalizationProxy.prototype.getLocales=function(){return this.data.locales},LocalizationProxy.prototype.setLocales=function(a){return this.data.locales=a,a},LocalizationProxy.prototype.getString=function(a){var b;return b=this.locale||this.data.locales.en,b[a]||\"\"},LocalizationProxy.prototype.getLanguageString=function(a){var b,c;return\"string\"!=typeof a||null==a||\"\"===a?\"\":(b=\"MSG_\"+a.toUpperCase(),c=this.getString(b),\"\"===c&&(a=a.split(\"-\").shift(),b=\"MSG_\"+a.toUpperCase(),c=this.getString(b)),c)},UI.create=function(a,b,c,d){var e,f,g,h,i;if(null==c&&(c=\"div\"),\"string\"==typeof c&&(c=document.createElement(c)),e=new ClassList(c),null!=a)for(\"string\"==typeof a&&(a=[a]),h=0,i=a.length;h<i;h++)f=a[h],e.add(f);return c._classList=e,null!=d&&(null!=c.innerText?c.innerText=d:c.textContent=d),null!=b&&(null!=b.getViewComponent&&(g=b.getViewComponent()),null!=g&&(b=g),b.appendChild(c)),c},UI.bindEvents=function(a,b,c){var d,e;null==c&&(c=[\"onRemove\",\"onRegister\"]);for(d in b)e=b[d],__indexOf.call(c,d)>=0||!/^on/.test(d)||null==(null!=e?e.bind:void 0)||(a[d]=e.bind(b))},UI.createUID=function(a){var b,c,d,e;return null==a&&(a=16),b=Date.now(),c=2,d=a*c-1,e=Math.round(Math.random()*d+a),(e.toString(16)+b.toString(16)).toUpperCase()},__extends(ExternalPlayCommand,PlayerEventCommand),ExternalPlayCommand.prototype.execute=function(a){this.sendNotification(Notifications.PLAY_REQUEST),this.playback.play(),ExternalPlayCommand.__super__.execute.call(this,a)},__extends(TokenizationError,Error),TokenizationError.MESSAGE=\"Tokenization Error: Could not find token value for: \",__extends(Literal,TokenizedBase),Literal.prototype.parse=function(a){return this.source=this.data=this.value=a,a},Literal.prototype.compile=function(a,b){return null==a&&(a=null),null==b&&(b=!1),this.value},__extends(Token,TokenizedBase),Token.prototype.exec=null,Token.prototype.parse=function(a){return this.source=this.data=a,this.exec=new Function(\"context\",\"var value; with(context){value = \"+this.data+\";}return value;\"),this.data},Token.prototype.compile=function(a,b){if(null==a&&(a={}),null==b&&(b=!1),null==this.exec)return this.value;try{this.value=this.exec(a)}catch(a){if(this.value=null,!b)throw new TokenizationError(this.data)}return this.value},__extends(TokenizedValue,TokenizedBase),TokenizedValue.prototype.exec=null,TokenizedValue.prototype.tokenStart=/#{/,TokenizedValue.prototype.tokenEnd=/}/,TokenizedValue.prototype.token=null,TokenizedValue.prototype.parse=function(a){var b,c,d,e,f,g,h,i,j;if(this.source=a,this.data=[],this.token.test(this.source)){for(h=[],d=\"<<>>\",e=null,f=this.source.replace(this.token,function(a,b,c,f){return h.push(b),e=d,0<c&&c<f.length-a.length&&(e+=d),e}),c=f.split(d),g=0,i=0,j=c.length;i<j;i++)b=c[i],\"\"===b&&h[g]?(this.data.push(new Token(h[g])),g++):\"\"!==b&&this.data.push(new Literal(b));1===this.data.length&&(this.data=this.data[0])}else this.data=new Literal(a);return this.data},TokenizedValue.prototype.compile=function(a,b){var c,d,e,f;if(null==a&&(a={}),null==b&&(b=!1),null==this.data)return this.value;try{if(this.data instanceof ITokenized)this.value=this.data.compile(a,b);else for(this.value=\"\",f=this.data,d=0,e=f.length;d<e;d++)c=f[d],this.value+=c.compile(a,b)}catch(a){if(this.value=null,!b)throw new TokenizationError(this.source)}return this.value},__extends(TokenizedObject,TokenizedBase),TokenizedObject.prototype.parse=function(a){var b,c;this.source=a,this.data={};for(b in a)c=a[b],this.data[b]=TokenizedObject.__super__.parse.call(this,c);return this.data},TokenizedObject.prototype.compile=function(a,b){var c,d,e;null==a&&(a={}),null==b&&(b=!1),this.value={},e=this.data;for(c in e){d=e[c];try{this.value[c]=d.compile(a,b)}catch(a){this.value[c]=null,Logger.error(a)}}return this.value},Config.create=function(a){return new Config(a)},Config.defaults={paths:{player:\"../amp.premier/\",resources:\"../resources/\"},resources:[{src:\"#{paths.player}amp.premier.css\",type:\"text/css\"}],rules:{android_4_gets_m3u8:{regexp:\"Android 4\"}},autoplay:!0,loop:!1,target:\"_blank\",domain:\"akamai.com\",fullscreen:{},controls:{},volumepanel:{direction:\"vertical\"},captioning:{},playoverlay:{},flash:{swf:\"#{paths.player}AkamaiPremierPlayer.swf\",debug:\"#{paths.player}AkamaiPremierPlayer-debug.swf\",expressInstallSWF:\"#{paths.player}playerProductInstall.swf\",static:{enabled:!1,swf:\"#{paths.player}AkamaiPremierPlayer-static.swf\",debug:\"#{paths.player}AkamaiPremierPlayer-static-debug.swf\"},vars:{core_player_name:\"amp.premier\",mbr_starting_index:2,use_last_known_bitrate:!1,use_netsession_client:!1,netsession_install_prompt_frequency_secs:-1,ad_server_timeout:20,ad_control_enabled:!0,dvr_enabled:1,branding_preload:\"none\",hds_live_low_latency:!0,fullscreen_enabled:!0,show_feature_bar:!1,suppress_events:\"mediaPlayerViewInitialized\",hds_fragment_retry_data_gap_threshold:20},view:{attributes:{skin:\"#{paths.player}premier.assets.swf\"},elements:{infoOverlay:{attributes:{style:\"top: 0px;\"}},adOptions:{attributes:{style:\"backgroundColor: 'rgba(0, 0, 0, 1)'\"},elements:{adChoices:{attributes:{target:\"http://www.akamai.com/\"}},adCountdown:{},adCount:{}}},endSlate:{attributes:{enabled:\"true\",hideElements:\"brandingLogo|viewAll\"}},replayView:{},bufferingView:{}}}},locales:{en:{MSG_TIME_SEPARATOR:\" / \",MSG_EMAIL_TO:\"To\",MSG_EMAIL_FROM:\"From\",MSG_EMAIL_VIDEO:\"Email this video\",MSG_EMAIL_MESSAGE_DEFAULT:\"Check out this video from xxx\",MSG_EMAIL_MESSAGE:\"Message\",MSG_EMAIL_ADDRESS_INVALID:\"Invalid Email Address\",MSG_EMAIL_MESSAGE_INVALID:\"Please limit your message to 500 characters or less.\",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:\" characters left\",MSG_EMAIL_SEND_FAILURE:\"Message could not be sent.\",MSG_EMAIL_SEND_SUCCESS_MESSAGE:\"Your email has been sent!\",MSG_SHARE_VIDEO_TEXT:\"Share this video...\",MSG_POST_TEXT:\"Post\",MSG_EMBED_TEXT:\"Embed\",MSG_LINK_TEXT:\"Link\",MSG_SHARE_CONNECT_FAILURE:\"Unable to connect. Please try again.\",MSG_SHARE_CONTENT_DISABLED:\"Share and embed are disabled.\",MSG_VERSION_TEXT:\"Version\",MSG_BUFFERING_TEXT:\"buffering\",MSG_CUSTOMIZE_CLIP_POINTS:\"Customize the start and end point of the video.\",MSG_PAUSE:\"Pause\",MSG_PREVIEW:\"Preview\",MSG_CURRENT:\"Currrent\",MSG_SEEK_TO:\"Seek to\",MSG_LIVE:\"LIVE\",MSG_DEFAULT_ERROR_MESSAGE:\"Sorry, we were unable to play the media you selected. Please try again, or select alternate media.\",MSG_ERROR_PREFIX:\"Error encountered:\",MSG_STREAM_NOT_FOUND:\"Stream not found\",MSG_CURRENT_WORKING_BANDWIDTH:\"Current working bandwidth\",MSG_CURRENT_BITRATE_PLAYING:\"Current bitrate playing\",MSG_MAX_BITRATE_AVAILABLE:\"Max bitrate available\",MSG_NOT_AVAILABLE:\"Not Available\",MSG_GO_LIVE:\"GO LIVE\",MSG_REPLAY:\"Replay\",MSG_NEXT_VIDEO:\"Video starts in: \",MSG_RECOMMENDED:\"Recommended\",MSG_VIEW_ALL:\"View all \",MSG_VIDEO:\" videos\",MSG_CC:\"CC\",MSG_CC_TITLE:\"Caption\",MSG_CC_LANGUAGE:\"Track :\",MSG_CC_PRESETS:\"Presets :\",MSG_CC_FONT:\"Font :\",MSG_CC_EDGE:\"Edge :\",MSG_CC_SIZE:\"Size :\",MSG_CC_SCROLL:\"Scroll :\",MSG_CC_COLOR:\"Color :\",MSG_CC_BACKGROUND:\"Background :\",MSG_CC_WINDOW:\"Window :\",MSG_CC_OPACITY:\"Opacity :\",MSG_CC_SHOW_ADVANCED:\"Show Advanced Settings\",MSG_CC_HIDE_ADVANCED:\"Hide Advanced Settings\",MSG_NEXT_AD:\"Next ad starts in: \",MSG_CC_RESET:\"Default\",MSG_CC_CANCEL:\"Cancel\",MSG_CC_APPLY:\"Apply\",MSG_CC_PREVIEW_TEXT:\"Lorem ipsum dolor sit amet..\",MSG_EN:\"English\",MSG_ES:\"Spanish\",MSG_DE:\"German\",MSG_FR:\"French\",MSG_IT:\"Italian\",MSG_RU:\"Russian\",MSG_ZH:\"Chinese\",MSG_CHROMECAST_MESSAGE:\"Video playing on another screen\",MSG_RETRY_MESSAGE:\"Content not yet available, retrying in\",MSG_SECONDS:\"seconds\",MSG_RETRY_FAILED:\"Retry failed\",MSG_RECOMMENDATIONS_TITLE:\"Recommended\"},es:{MSG_TIME_SEPARATOR:\" / \",MSG_EMAIL_TO:\"a\",MSG_EMAIL_FROM:\"de\",MSG_EMAIL_VIDEO:\"Enviar este vÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­deo\",MSG_EMAIL_MESSAGE_DEFAULT:\"Echa un vistazo a este video de xxx\",MSG_EMAIL_MESSAGE:\"mensaje\",MSG_EMAIL_ADDRESS_INVALID:\"DirecciÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n de correo electrÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³nico no vÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡lida\",MSG_EMAIL_MESSAGE_INVALID:\"Por favor limite su mensaje a 500 caracteres o menos.\",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:\"personajes de la izquierda\",MSG_EMAIL_SEND_FAILURE:\"El mensaje no pudo ser enviado.\",MSG_EMAIL_SEND_SUCCESS_MESSAGE:\"Tu email ha sido enviado!\",MSG_SHARE_VIDEO_TEXT:\"Comparte este vÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­deo...\",MSG_POST_TEXT:\"enviar\",MSG_EMBED_TEXT:\"incrustar\",MSG_LINK_TEXT:\"enlace\",MSG_SHARE_CONNECT_FAILURE:\"No se puede conectar. Por favor, intÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â©ntelo de nuevo.\",MSG_SHARE_CONTENT_DISABLED:\"Compartir e incrustar estÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡n desactivados.\",MSG_VERSION_TEXT:\"versiÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n\",MSG_BUFFERING_TEXT:\"el almacenamiento en bÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Âºfer\",MSG_CUSTOMIZE_CLIP_POINTS:\"Personalizar el inicio y el punto final del video.\",MSG_PAUSE:\"romper\",MSG_PREVIEW:\"vista previa\",MSG_CURRENT:\"corriente\",MSG_SEEK_TO:\"Tratar de\",MSG_LIVE:\"EN VIVO\",MSG_DEFAULT_ERROR_MESSAGE:\"Lo sentimos, no hemos podido jugar los medios de comunicaciÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n seleccionados. Por favor, intÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â©ntelo de nuevo, o seleccionar los medios de comunicaciÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n alternativos.\",MSG_ERROR_PREFIX:\"Se produjo un error:\",MSG_STREAM_NOT_FOUND:\"Stream que no se encuentra\",MSG_CURRENT_WORKING_BANDWIDTH:\"Ancho de banda actual de trabajo\",MSG_CURRENT_BITRATE_PLAYING:\"Tasa de bits de reproducciÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n actual\",MSG_MAX_BITRATE_AVAILABLE:\"Tasa de bits mÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡xima disponible\",MSG_NOT_AVAILABLE:\"No estÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡ disponible\",MSG_GO_LIVE:\"IR A VIVIR\",MSG_REPLAY:\"Repetir\",MSG_NEXT_VIDEO:\"El prÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³ximo video comienza en: \",MSG_RECOMMENDED:\"Recomendado\",MSG_CC:\"CC\",MSG_VIEW_ALL:\"ver todo \",MSG_VIDEO:\" vÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­deos.\",MSG_EN:\"InglÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â©s\",MSG_ES:\"EspaÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â±ol\",MSG_DE:\"AlemÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡n\",MSG_FR:\"FrancÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â©s\",MSG_IT:\"Italiano\",MSG_RU:\"Ruso\",MSG_ZH:\"Chino\",MSG_RETRY_MESSAGE:\"Content not yet available, retrying in\",MSG_SECONDS:\"seconds\",MSG_RETRY_FAILED:\"Retry failed\",MSG_RECOMMENDATIONS_TITLE:\"Recomendado\"}}},__extends(ParamsProxy,DataBoundConfigurationProxy),ParamsProxy.NAME=\"ParamsProxy\",ParamsProxy.prototype.defaults={},ParamsProxy.prototype.configurationName=\"params\",ParamsProxy.prototype.setData=function(a){var b,c,d;this.data=(null!=(d=this.configurationData)?d.source:void 0)||{};for(b in a)c=a[b],this.data[b]=a[b];return this.configurationData=new TokenizedObject(this.data),this.data};var PluginNotifications={REGISTER_PLUGINS:\"registerPlugins\",PLUGIN_REGISTERED:\"pluginRegistered\",PLUGINS_INITIALIZED:\"pluginsinitialized\"};__extends(DataBindingProxy,puremvc.Proxy),DataBindingProxy.NAME=\"DataBindingProxy\",DataBindingProxy.prototype.contextMap=null,DataBindingProxy.prototype.configurationMap=null,DataBindingProxy.prototype.paramsProxy=null,DataBindingProxy.prototype.initialize=function(){this.paramsProxy=this.facade.retrieveProxy(ParamsProxy.NAME),this.update()},DataBindingProxy.prototype.registerContext=function(a){null!=a&&(this.contextMap[a.getContextName()]=a)},DataBindingProxy.prototype.retrieveContext=function(a){return this.contextMap[a]},DataBindingProxy.prototype.removeContext=function(a){var b;return b=this.contextMap[a],delete this.contextMap[a],b},DataBindingProxy.prototype.registerConfiguration=function(a){null!=a&&(this.configurationMap[a.getConfigurationName()]=a,a.compile(this.context,!0))},DataBindingProxy.prototype.retrieveConfiguration=function(a){return this.configurationMap[a]},DataBindingProxy.prototype.removeConfiguration=function(a){var b;return b=this.configurationMap[a],delete this.configurationMap[a],b},DataBindingProxy.prototype.evaluateBinding=function(a){var b;return this.update(),b=new TokenizedValue(a),b.compile(this.data),b.value},DataBindingProxy.prototype.update=function(a){var b,c,d,e,f,g;this.data.now=Date.now(),f=this.contextMap;for(d in f)b=f[d],(null!=a&&\"function\"==typeof a.indexOf?a.indexOf(d):void 0)!==-1&&(this.data[d]=b.getContextData());this.paramsProxy.compile(this.data),g=this.paramsProxy.value;for(c in g)e=g[c],this.data[c]=e;return this.data},DataBindingProxy.prototype.compile=function(a,b){var c,d,e,f,g;null==b&&(b=!1),this.update(a),d=Utils.clone(this.data),f=this.paramsProxy.getConfigurationName(),g=this.configurationMap;for(e in g)c=g[e],e!==f&&c.compile(d,b)};var PlayState={READY:\"ready\",PLAYING:\"playing\",PAUSED:\"paused\",ENDED:\"ended\",LOADING:\"loading\",WAITING:\"waiting\",SEEKING:\"seeking\",ERROR:\"error\"},DisplayState={NORMAL:\"normal\",FULL_SCREEN:\"full-screen\"},RenderMode={FLASH:\"flash\",HTML:\"html\"},ActiveState={ACTIVE:\"active\",INACTIVE:\"inactive\"};__extends(ApplicationStateProxy,puremvc.Proxy),\nApplicationStateProxy.NAME=\"ApplicationStateProxy\",ApplicationStateProxy.prototype.displayState=null,ApplicationStateProxy.prototype.playState=null,ApplicationStateProxy.prototype.renderMode=null,ApplicationStateProxy.prototype.activeState=null,ApplicationStateProxy.prototype.seeking=!1,ApplicationStateProxy.prototype.isUserActive=!1,ApplicationStateProxy.prototype.device=null,ApplicationStateProxy.prototype.volume=1,ApplicationStateProxy.prototype.playbackTarget=\"amp\",ApplicationStateProxy.prototype.getDisplayState=function(){return this.displayState},ApplicationStateProxy.prototype.setDisplayState=function(a){var b;a!==this.displayState&&(b=this.displayState,this.displayState=a,this.sendNotification(Notifications.DISPLAY_STATE_CHANGE,{previous:b,value:this.displayState}))},ApplicationStateProxy.prototype.getPlayState=function(){return this.playState},ApplicationStateProxy.prototype.setPlayState=function(a){var b;if(a!==this.playState){if(this.seeking===!0)switch(a){case PlayState.PLAYING:case PlayState.READY:this.seeking=!1;break;default:return}b=this.playState,this.playState=a,this.sendNotification(Notifications.PLAY_STATE_CHANGE,{previous:b,value:this.playState})}},ApplicationStateProxy.prototype.getDevice=function(){return this.device},ApplicationStateProxy.prototype.getSeeking=function(){return this.seeking},ApplicationStateProxy.prototype.setSeeking=function(a){a!==this.seeking&&(this.seeking=a)},ApplicationStateProxy.prototype.getIsUserActive=function(){return this.isUserActive},ApplicationStateProxy.prototype.setIsUserActive=function(a){a!==this.isUserActive&&(this.isUserActive=a)},ApplicationStateProxy.prototype.getRenderMode=function(){return this.renderMode},ApplicationStateProxy.prototype.setRenderMode=function(a){a!==this.renderMode&&(this.renderMode=a)},ApplicationStateProxy.prototype.getMedium=function(){return this.medium},ApplicationStateProxy.prototype.setMedium=function(a){var b;a!==this.medium&&(b=null!=this.medium?\"medium-\"+this.medium:this.medium,this.medium=a,this.sendNotification(Notifications.MEDIUM_CHANGE,{previous:b,value:\"medium-\"+this.medium}))},ApplicationStateProxy.prototype.getVolume=function(){return this.volume},ApplicationStateProxy.prototype.setVolume=function(a){if(a!==this.volume)return this.volume=a},ApplicationStateProxy.prototype.getPlaybackTarget=function(){return this.playbackTarget},ApplicationStateProxy.prototype.setPlaybackTarget=function(a){var b;a!==this.playbackTarget&&(b=this.playbackTarget,this.playbackTarget=a,this.sendNotification(Notifications.PLAYBACK_TARGET_CHANGE,{previous:b,value:this.playbackTarget}))},ApplicationStateProxy.prototype.getActiveState=function(){return this.activeState},ApplicationStateProxy.prototype.setActiveState=function(a){var b;a!==this.activeState&&(b=this.activeState,this.activeState=a,this.sendNotification(Notifications.ACTIVE_STATE_CHANGE,{previous:b,value:this.activeState}))},__extends(ConfigurationProxy,ModuleProxy),ConfigurationProxy.NAME=ModuleProxy.NAME,ConfigurationProxy.prototype.getContextName=function(){return\"paths\"},ConfigurationProxy.prototype.getContextData=function(){return this.getPaths()},ConfigurationProxy.prototype.onRegister=function(){this.facade.retrieveProxy(DataBindingProxy.NAME).registerContext(this)},ConfigurationProxy.prototype.setData=function(a){return null!=a.rules&&Utils.mergeRules(a.rules),ConfigurationProxy.__super__.setData.call(this,a),a},ConfigurationProxy.prototype.getAutoplay=function(){return this.data.autoplay},ConfigurationProxy.prototype.setAutoplay=function(a){return this.data.autoplay=a,a},ConfigurationProxy.prototype.getLoop=function(){return this.data.loop},ConfigurationProxy.prototype.setLoop=function(a){return this.data.loop=a,a},ConfigurationProxy.prototype.getEndSlate=function(){return this.data.endslate},ConfigurationProxy.prototype.setEndSlate=function(a){return this.data.endslate=a,a},ConfigurationProxy.prototype.getDomain=function(){return this.data.domain},ConfigurationProxy.prototype.setDomain=function(a){return this.data.domain=a,a},ConfigurationProxy.prototype.getTarget=function(){return this.data.target},ConfigurationProxy.prototype.setTarget=function(a){return this.data.target=a,a},ConfigurationProxy.prototype.getName=function(){return this.data.name},ConfigurationProxy.prototype.setName=function(a){return this.data.name=a,a},ConfigurationProxy.prototype.getPaths=function(){return this.data.paths},ConfigurationProxy.prototype.setPaths=function(a){return this.data.paths=a,a},ConfigurationProxy.prototype.getVersion=function(){return this.data.version},ConfigurationProxy.prototype.getControls=function(){return this.data.controls},ConfigurationProxy.prototype.setControls=function(a){return this.data.controls=a,a},ConfigurationProxy.prototype.getFullscreen=function(){return this.data.fullscreen||{}},ConfigurationProxy.prototype.setFullscreen=function(a){return this.data.fullscreen=a,a},__extends(AudioPlaybackProxy,PlaybackCoreProxy),AudioPlaybackProxy.prototype.playbackCoreName=\"audio\",AudioPlaybackProxy.prototype.onRegister=function(){var a;a=new MediaElementMediator(\"html5\",\"audio\"),this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,a)},AudioPlaybackProxy.prototype.onRemove=function(){this.facade.createMediaElement()},AudioPlaybackProxy.prototype.canPlayType=function(a){return/audio/.test(a)?\"maybe\":\"\"},EventHandler.PRESS=0,EventHandler.RELEASE=1,EventHandler.MOVE=2,EventHandler.CLICK=3,EventHandler.CONTEXTMENU=4,EventHandler.EVENTS=[EventHandler.PRESS,EventHandler.RELEASE,EventHandler.MOVE,EventHandler.CLICK,EventHandler.CONTEXTMENU],EventHandler.MOUSE_EVENTS=[\"mousedown\",\"mouseup\",\"mousemove\",\"click\",\"contextmenu\"],EventHandler.TOUCH_EVENTS=[\"touchstart\",\"touchend\",\"touchmove\",\"click\",\"touchcancel\"],EventHandler.instances=[],EventHandler.create=function(a,b,c){return new EventHandler(a,b,c)},EventHandler.bind=function(a,b){var c,d,e,f,g;for(g=EventHandler.instances,c=e=0,f=g.length;e<f;c=++e)d=g[c],d.target===a&&(null!=b&&d.type!==b||d.bind())},EventHandler.unbind=function(a,b){var c,d,e,f,g;for(g=EventHandler.instances,c=e=0,f=g.length;e<f;c=++e)d=g[c],d.target===a&&(null!=b&&d.type!==b||d.unbind())},EventHandler.clear=function(a,b){var c,d,e,f,g;for(g=EventHandler.instances,c=e=0,f=g.length;e<f;c=++e)d=g[c],(null!=d?d.target:void 0)===a&&(null!=b&&d.type!==b||(d.clear(),EventHandler.instances.splice(c,1)))},EventHandler.prototype.types=null,EventHandler.prototype.bind=function(){var a,b,c,d;for(d=this.types,b=0,c=d.length;b<c;b++)a=d[b],null!=this.target.addEventListener?this.target.addEventListener(a,this.trigger,!1):null!=this.target.attachEvent&&this.target.attachEvent(\"on\"+a,this.trigger)},EventHandler.prototype.unbind=function(){var a,b,c,d;for(d=this.types,b=0,c=d.length;b<c;b++)a=d[b],null!=this.target.removeEventListener?this.target.removeEventListener(a,this.trigger):null!=this.target.attachEvent&&this.target.removeEvent(\"on\"+a,this.trigger)},EventHandler.prototype.clear=function(){this.unbind(),this.target=null,this.handler=null,this.type=null,this.types=null},EventHandler.prototype.trigger=function(a){this.handler(a)},__extends(DVRPlaybackProxy,PlaybackCoreProxy),DVRPlaybackProxy.prototype.playbackCoreName=\"dvr\",DVRPlaybackProxy.prototype.interval=null,DVRPlaybackProxy.prototype.ondurationchange=function(a){this.updateDuration()},DVRPlaybackProxy.prototype.ontimeupdate=function(a){this.updateCurrentTime()},DVRPlaybackProxy.prototype.onplay=function(a){this.stopTimer(),DVRPlaybackProxy.__super__.onplay.call(this,a)},DVRPlaybackProxy.prototype.onplaying=function(a){this.stopTimer(),DVRPlaybackProxy.__super__.onplaying.call(this,a)},DVRPlaybackProxy.prototype.onpause=function(a){this.startTimer(),DVRPlaybackProxy.__super__.onpause.call(this,a)},DVRPlaybackProxy.prototype.canPlayTemporalType=function(a){return\"dvr\"===a},DVRPlaybackProxy.prototype.seek=function(a){null==a&&(a=this.data.currentTime),this.getMediaElement().currentTime=a+this.getMediaElement().seekable.start(0)},DVRPlaybackProxy.prototype.updateCurrentTime=function(){var a,b;b=this.getMediaElement().seekable,0!==b.length&&(a=this.getMediaElement().currentTime,this.data.currentTime=a-b.start(0),this.sendNotification(Notifications.TIME_UPDATE,this.data.currentTime),this.mediaProxy.setIsLive(a>=b.end(0)))},DVRPlaybackProxy.prototype.updateDuration=function(){var a;a=this.getMediaElement().seekable,0!==a.length&&(this.data.duration=a.end(0)-a.start(0),this.sendNotification(Notifications.CHANGE_DURATION,this.data.duration))},DVRPlaybackProxy.prototype.startTimer=function(){this.interval=setInterval(this.updateCurrentTime.bind(this),1e3)},DVRPlaybackProxy.prototype.stopTimer=function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null,this.updateCurrentTime())},__extends(PlayerProxy,DataBindingContext),PlayerProxy.NAME=\"PlayerProxy\",PlayerProxy.prototype.contextName=\"player\",PlayerProxy.prototype.getPlaybackOrder=null,PlayerProxy.prototype.playbackCoreMap=null,PlayerProxy.prototype.defaultPlaybackCore=null,PlayerProxy.prototype.activePlaybackCore=null,PlayerProxy.prototype.onRegister=function(){PlayerProxy.__super__.onRegister.call(this),this.registerPlaybackCore(new DVRPlaybackProxy),this.registerPlaybackCore(this.defaultPlaybackCore),this.registerPlaybackCore(new AudioPlaybackProxy),this.activePlaybackCore=this.defaultPlaybackCore},PlayerProxy.prototype.ready=function(){var a;a=\"function\"==typeof this.getPlaybackOrder?this.getPlaybackOrder(this.playbackCoreMap.map(function(a){return a.getPlaybackCoreName()})):void 0,null!=a&&(this.playbackCoreMap=this.playbackCoreMap.sort(function(b,c){return b=a.indexOf(b.getPlaybackCoreName()),c=a.indexOf(c.getPlaybackCoreName()),b===c?0:b===-1&&c!==-1?1:b!==-1&&c===-1?-1:b-c}))},PlayerProxy.prototype.getActivePlaybackCore=function(){return this.activePlaybackCore},PlayerProxy.prototype.registerPlaybackCore=function(a){var b;b=a.getPlaybackCoreName(),null==a||this.playbackCoreMap.some(function(a){return a.getPlaybackCoreName()===b})||(a.setMediaProxy(this.facade.retrieveProxy(MediaProxy.NAME)),this.playbackCoreMap.push(a))},PlayerProxy.prototype.retrievePlaybackCore=function(a){var b,c,d,e;for(e=this.playbackCoreMap,c=0,d=e.length;c<d;c++)if(b=e[c],b.getPlaybackCoreName()===a)return b},PlayerProxy.prototype.removePlaybackCore=function(a){var b,c;return b=this.retrievePlaybackCore(a),null==b?null:(c=this.playbackCoreMap.indexOf(b),this.playbackCoreMap.splice(c,1),b)},PlayerProxy.prototype.setPlaybackCore=function(a){var b,c,d,e,f,g;for(g=this.playbackCoreMap,e=0,f=g.length;e<f;e++)if(b=g[e],b.canPlayTemporalType(a.temporalType)===!0&&\"\"!==b.canPlayType(a.type)){c=b;break}return d=this.facade.retrieveProxy(PlaybackProxy.NAME),d!==c&&(\"function\"==typeof d.destroy&&d.destroy(),this.facade.removeProxy(PlaybackProxy.NAME),this.facade.registerProxy(c),c.setData(d.getData())),this.activePlaybackCore=c,a},PlayerProxy.prototype.canPlayType=function(a){var b,c,d,e,f;for(f=this.playbackCoreMap,d=0,e=f.length;d<e;d++)if(c=f[d],b=c.canPlayType(a),\"\"!==b)return b;return\"\"},PlayerProxy.prototype.getContextData=function(){var a,b,c,d;return a=this.facade.retrieveProxy(ConfigurationProxy.NAME),d=this.facade.retrieveProxy(PlaybackProxy.NAME),c=this.facade.retrieveProxy(MediaProxy.NAME),b=this.facade.getViewComponent(),{width:b.offsetWidth,height:b.offsetHeight,mode:\"html5\",autoplay:a.getAutoplay(),domain:a.getDomain(),name:a.getName(),currentTime:d.getCurrentTime(),duration:d.getDuration(),version:a.getVersion(),timecode:{duration:Utils.formatTimecode(c.getDuration()),currentTime:Utils.formatTimecode(d.getCurrentTime())}}},__extends(MediaProxy,DataBindingContext),MediaProxy.NAME=\"MediaProxy\",MediaProxy.prototype.contextName=\"media\",MediaProxy.prototype.data=null,MediaProxy.prototype.value=null,MediaProxy.prototype.started=!1,MediaProxy.prototype.authorized=!0,MediaProxy.prototype.getContextData=function(){return{width:this.getWidth(),height:this.getHeight(),title:this.getTitle(),description:this.getDescription(),src:this.getSrc(),duration:this.getDuration(),guid:this.getGUID(),isLive:this.getIsLive(),metadata:this.getMetadata(),temporalType:this.getTemporalType(),poster:this.getPoster(),category:this.getCategory(),scenes:this.getScenes()}},MediaProxy.prototype.setData=function(a){var b;return this.value=a,this.started=!1,this.data.autoplay=a.autoplay,this.data.type=a.type,this.setIsLive(a.isLive),this.setTemporalType(a.temporalType||\"vod\"),null!=a.source&&this.setSource(a.source),null!=a.src&&this.setSrc(a.src),this.data.title=a.title,null!=a.duration&&this.setDuration(a.duration),this.data.poster=a.poster,this.data.guid=a.guid,this.data.link=a.link,this.data.embed=a.embed,this.data.width=a.width,this.data.height=a.height,this.data.category=a.category,this.data.startTime=a.startTime,this.data.description=a.description,this.data.status=a.status||{},\"blocked\"===(null!=(b=this.data.status)?b.state:void 0)&&(this.authorized=!1),this.data.category=a.category,this.data.metadata=a.metadata||{},this.setMedium(a.medium),this.setPubDate(a.pubDate),this.setTrack(a.track),this.setScenes(a.scenes),this.setKeys(a.keys),a},MediaProxy.prototype.updateData=function(a){var b,c;for(b in a)c=a[b],b in this.data&&(this.data[b]=c)},MediaProxy.prototype.getGUID=function(){return this.data.guid},MediaProxy.prototype.setGUID=function(a){return this.data.guid=a},MediaProxy.prototype.getLink=function(){return this.data.link},MediaProxy.prototype.setLint=function(a){return this.data.link=a},MediaProxy.prototype.getStartTime=function(){return this.data.startTime||0},MediaProxy.prototype.getEmbed=function(){return this.data.embed},MediaProxy.prototype.setEmbed=function(a){return this.data.embed=a},MediaProxy.prototype.getAutoplay=function(){return this.data.autoplay},MediaProxy.prototype.setAutoplay=function(a){return this.data.autoplay=a},MediaProxy.prototype.getPubDate=function(){return this.data.pubDate},MediaProxy.prototype.setPubDate=function(a){return this.data.pubDate=a},MediaProxy.prototype.getCategory=function(){return this.data.category},MediaProxy.prototype.setCategory=function(a){return this.data.category=a},MediaProxy.prototype.getSrc=function(){return this.data.src},MediaProxy.prototype.setSrc=function(a){if(this.data.src=a,null!=this.data.src&&null==this.data.type)return this.setType(Utils.getMimeType(this.data.src))},MediaProxy.prototype.getType=function(){return this.data.type},MediaProxy.prototype.setType=function(a){var b;return this.data.type=a,b=/audio/.test(this.data.type)?\"audio\":\"video\",this.setMedium(b)},MediaProxy.prototype.getMedium=function(){return this.data.medium},MediaProxy.prototype.setMedium=function(a){if(a!==this.data.medium)return this.data.medium=a,this.facade.retrieveProxy(ApplicationStateProxy.NAME).setMedium(a)},MediaProxy.prototype.getMetadata=function(){return this.data.metadata},MediaProxy.prototype.setMetadata=function(a){return this.data.metadata=a},MediaProxy.prototype.getSource=function(){return this.data.source},MediaProxy.prototype.setSource=function(a){var b,c;if(!(null==a||a.length<1)){if(this.data.source=a,c=this.facade.retrieveProxy(PlayerProxy.NAME)||this.facade,null!=c&&(b=Utils.selectSource(a,function(a){return c.canPlayType(a)})),null!=(null!=b?b.src:void 0)&&\"\"!==b.src)return this.setSrc(b.src),this.setType(b.type);throw new Error(\"No valid source could be found\")}},MediaProxy.prototype.getTrack=function(){return this.data.track},MediaProxy.prototype.setTrack=function(a){return this.data.track=a},MediaProxy.prototype.getTitle=function(){return this.data.title},MediaProxy.prototype.setTitle=function(a){return this.data.title=a},MediaProxy.prototype.getWidth=function(){return this.data.width},MediaProxy.prototype.setWidth=function(a){return this.data.width=a},MediaProxy.prototype.getHeight=function(){return this.data.height},MediaProxy.prototype.setHeight=function(a){return this.data.height=a},MediaProxy.prototype.getDescription=function(){return this.data.description},MediaProxy.prototype.setDescription=function(a){return this.data.description=a},MediaProxy.prototype.getCategory=function(){return this.data.category},MediaProxy.prototype.setCategory=function(a){return this.data.category=a},MediaProxy.prototype.getDuration=function(a){return this.data.duration},MediaProxy.prototype.setDuration=function(a){var b;if(0!==a&&\"live\"!==this.value.temporalType&&(b=navigator.userAgent,1!==a||!/Android/.test(b)||/Android.*Chrome/.test(b)))return a!==this.data.duration&&(this.data.duration=a,this.sendNotification(Notifications.DURATION_CHANGE,a)),a===1/0&&this.setTemporalType(\"live\"),a},MediaProxy.prototype.getPoster=function(a){return this.data.poster},MediaProxy.prototype.setPoster=function(a){return this.data.poster=a,a},MediaProxy.prototype.getIsLive=function(){return this.data.isLive},MediaProxy.prototype.setIsLive=function(a){var b;if(a!==this.data.isLive)return b=this.data.isLive,this.data.isLive=a,this.sendNotification(Notifications.IS_LIVE,a),a},MediaProxy.prototype.getTemporalType=function(){return this.data.temporalType||\"vod\"},MediaProxy.prototype.setTemporalType=function(a){var b;a!==this.data.temporalType&&(b=this.data.temporalType,this.data.temporalType=a,this.sendNotification(Notifications.TEMPORAL_TYPE_CHANGE,{previous:b,value:a}),this.setIsLive(\"live\"===this.data.temporalType||\"dvr\"===this.data.temporalType))},MediaProxy.prototype.getScenes=function(){return this.data.scenes},MediaProxy.prototype.setScenes=function(a){var b,c,d,e,f;if(null!=a){for(b=e=0,f=a.length;e<f;b=++e)c=a[b],c.start=isNaN(d=Utils.flattenTimecode(c.sceneStartTime))?0:d,c.end=isNaN(d=Utils.flattenTimecode(c.sceneEndTime))?0:d,c.title=c.sceneTitle||\"\",c.description=c.sceneDescription||\"\",c.position=b+1;this.data.scenes=a}},MediaProxy.prototype.getScene=function(a){var b,c,d,e,f;if(null!=this.data.scenes)for(f=this.data.scenes,b=d=0,e=f.length;d<e;b=++d)if(c=f[b],c.start<=a&&a<c.end)return c},MediaProxy.prototype.setKeys=function(a){this.data.keys=a},MediaProxy.prototype.getKeys=function(){return this.data.keys},__extends(ExternalMediaProxy,MediaProxy),ExternalMediaProxy.NAME=\"MediaProxy\",ExternalMediaProxy.prototype.setSource=function(a){if(!(null==a||a.length<1))return a=a.filter(function(a){return\"external\"===a.type}),ExternalMediaProxy.__super__.setSource.call(this,a)},__extends(ExternalPlayer,Player),ExternalPlayer.prototype.playerType=\"external\",ExternalPlayer.prototype.createModel=function(){var a;this.bindings=new DataBindingProxy,this.registerProxy(this.bindings),this.registerProxy(new LocalizationProxy(this.config)),this.appState=new ApplicationStateProxy,this.registerProxy(this.appState),a=new ExternalPlaybackProxy,this.registerProxy(a),this.playerCore=new PlayerProxy(a),this.registerProxy(this.playerCore),this.configuration=new ConfigurationProxy(this.config),this.registerProxy(this.configuration),this.media=new ExternalMediaProxy,this.registerProxy(this.media),this.params=new ParamsProxy(this.config.params),this.registerProxy(this.params),this.bindings.initialize()},ExternalPlayer.prototype.createView=function(){var a,b,c=this;this.registerMediator(new PlayerMediator(\"external\",this.getViewComponent())),this.registerMediator(new PluginAdapter),b=new OverlayLayerMediator,this.registerMediator(b),EventHandler.create(b.viewComponent,EventHandler.CLICK,function(){return c.sendNotification(Notifications.TOGGLE_ACTIVE)}),this.registerMediator(new PosterMediator),this.registerMediator(new TitleBarMediator),a=new ErrorLayerMediator,this.registerMediator(a),this.viewComponent.appendChild(a.getViewComponent())},ExternalPlayer.prototype.createController=function(){ExternalPlayer.__super__.createController.call(this),this.registerCommand(Notifications.UPDATE_DATA_BINDINGS,UpdateDataBindingsCommand),this.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE,ExternalPlayCommand),this.registerCommand(Notifications.PLAY,ExternalPlayCommand),this.registerCommand(Notifications.CHANGE_PLAY_STATE,ChangePlayStateCommand),this.registerCommand(Notifications.SET_MEDIA,SetMediaCommand),this.registerCommand(Notifications.CHANGE_MEDIA,ChangeMediaCommand),this.registerCommand(Notifications.MEDIA_CHANGE,MediaChangeCommand),this.registerCommand(Notifications.MEDIA_VALIDATED,MediaValidatedCommand),this.registerCommand(Notifications.ERROR,ErrorCommand),this.registerCommand(PluginNotifications.PLUGINS_INITIALIZED,PluginsInitializedCommand),this.registerCommand(Notifications.READY,ReadyCommand),this.registerCommand(Notifications.CHANGE_PARAMS,ChangeParamsCommand)},ExternalPlayer.prototype.createMediaElement=function(){return document.createElement(\"div\")},ExternalPlayer.prototype.evaluateBinding=function(a){var b;return null!=(b=this.retrieveProxy(DataBindingProxy.NAME))?b.evaluateBinding(a):void 0},ExternalPlayer.prototype.canPlayType=function(a){return\"maybe\"},ExternalPlayer.prototype.play=function(){this.sendNotification(Notifications.PLAY)},ExternalPlayer.prototype.setParams=function(a){return this.sendNotification(Notifications.CHANGE_PARAMS,a),a},ExternalPlayer.prototype.getParams=function(){return this.retrieveProxy(ParamsProxy.NAME).getData()},ExternalPlayer.prototype.setAutoplay=function(a){return!1},ExternalPlayer.prototype.getAutoplay=function(){return!1},ExternalPlayer.prototype.setLoop=function(a){return!1},ExternalPlayer.prototype.getLoop=function(){return!1},ExternalPlayer.prototype.setMuted=function(a){return!1},ExternalPlayer.prototype.getMuted=function(){return!1},ExternalPlayer.prototype.setMedia=function(a){return this.sendNotification(Notifications.SET_MEDIA,a),a},ExternalPlayer.prototype.getMedia=function(a){var b;return null!=(b=this.retrieveProxy(MediaProxy.NAME))?b.getData():void 0},ExternalPlayer.prototype.setCurrentTime=function(a){return 0},ExternalPlayer.prototype.getCurrentTime=function(a){return 0},ExternalPlayer.prototype.getDuration=function(a){return this.retrieveProxy(MediaProxy.NAME).getDuration()},ExternalPlayer.prototype.setSrc=function(a){return this.sendNotification(Notifications.SET_MEDIA,{src:a}),a},ExternalPlayer.prototype.getSrc=function(a){return this.retrieveProxy(MediaProxy.NAME).getSrc()},ExternalPlayer.prototype.setSource=function(a){return this.sendNotification(Notifications.SET_MEDIA,{source:a}),a},ExternalPlayer.prototype.getSource=function(){return this.retrieveProxy(MediaProxy.NAME).getSource()},ExternalPlayer.prototype.setVolume=function(a){return a},ExternalPlayer.prototype.getVolume=function(a){return 1},ExternalPlayer.prototype.getSeeking=function(){return!1},ExternalPlayer.prototype.getPaused=function(){return!1},ExternalPlayer.prototype.getEnded=function(){return!1};FeedVO.prototype.title=null;FeedVO.prototype.link=null,FeedVO.prototype.description=null,FeedVO.prototype.category=null,FeedVO.prototype.pubDate=null,FeedVO.prototype.language=null,FeedVO.prototype.ttl=null,FeedVO.prototype.item=null,FeedVO.prototype.metadata=null,MediaVO.prototype.src=null,MediaVO.prototype.source=null,MediaVO.prototype.title=null,MediaVO.prototype.description=null,MediaVO.prototype.link=null,MediaVO.prototype.guid=null,MediaVO.prototype.pubDate=null,MediaVO.prototype.poster=null,MediaVO.prototype.thumbnail=null,MediaVO.prototype.embed=null,MediaVO.prototype.category=null,MediaVO.prototype.type=null,MediaVO.prototype.medium=null,MediaVO.prototype.duration=null,MediaVO.prototype.track=null,MediaVO.prototype.metadata=null,MediaVO.prototype.scenes=null,MediaVO.prototype.startTime=null;var PlaybackMode={AUTO:\"auto\",HTML:\"html\",FLASH:\"flash\",EXTERNAL:\"external\",NONE:\"none\",HTML_AUTO:\"html-auto\"};Event.prototype.type=null,Event.prototype.target=null,Event.prototype.detail=null,MRSSHelper.prototype.getFeed=function(a,b,c){return Utils.getJson(a,b,c)},MRSSHelper.prototype.getMediaNode=function(a,b,c){var d,e,f,g;return null==c&&(c=!0),f=\"media-\"+b,d=a[\"media-group\"]||a,e=d[\"media-content\"],null!=e&&null!=e[f]?g=e[f]:null!=d[f]?g=d[f]:null!=a[f]?g=a[f]:null!=a[b]&&c&&(g=a[b]),g},MRSSHelper.prototype.createEmbed=function(a){var b,c,d,e,f,g;try{if(b=this.getMediaNode(a,\"embed\"),null==b)return c;for(c={},c.url=b[\"@attributes\"].url,c.width=b[\"@attributes\"].width,c.height=b[\"@attributes\"].height,c.params={},b[\"media-param\"]instanceof Array||(b[\"media-param\"]=[b[\"media-param\"]]),g=b[\"media-param\"],e=0,f=g.length;e<f;e++)d=g[e],c.params[d[\"@attributes\"].name]=d[\"#text\"]}catch(a){Logger.error(\"[AMP Feed Parse Error] embed parse error: \"+a.message,a)}return c},MRSSHelper.prototype.createFeed=function(a){var b,c,d,e,f,g,h,i,j;try{if(b=a.channel,c=new FeedVO,null!=b){for(c.title=b.title,c.description=b.description,c.language=b.language,c.category=b.category,c.pubDate=new Date(Date.parse(b.pubDate)),c.ttl=b.ttl,e=b.item instanceof Array?b.item:[b.item],i=0,j=e.length;i<j;i++)d=e[i],g=this.createMedia(d),c.item.push(g);for(f in b)h=b[f],f in c||(c.metadata[f]=h)}}catch(a){Logger.error(\"[AMP Feed Parse Error] feed parse error: \"+a.message,a)}return c},MRSSHelper.prototype.createMedia=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;try{if(h=new MediaVO,g=this.getMediaNode(a,\"content\"),g instanceof Array)for(h.source=[],m=0,p=g.length;m<p;m++)d=g[m],j={src:d[\"@attributes\"].url,type:d[\"@attributes\"].type},c=d[\"media-category\"],null!=c&&(b=c[\"@attributes\"],\"http://mrss.akamai.com/user_agent_hint\"===b.schema&&(f=b.label||c[\"#text\"],null!=f&&\"\"!==f&&(null==j.rules&&(j.rules=[]),j.rules.push(f)))),h.source.push(j),h.medium=d[\"@attributes\"].medium,h.duration=parseFloat(d[\"@attributes\"].duration);else h.type=g[\"@attributes\"].type,h.src=g[\"@attributes\"].url,h.medium=g[\"@attributes\"].medium,h.duration=parseFloat(g[\"@attributes\"].duration);if(h.guid=a.guid,h.title=this.getMediaNode(a,\"title\"),h.link=a.link,h.description=this.getMediaNode(a,\"description\"),h.pubDate=new Date(Date.parse(a.pubDate)),h.thumbnail=h.poster=null!=(s=this.getMediaNode(a,\"thumbnail\"))&&null!=(t=s[\"@attributes\"])?t.url:void 0,h.embed=this.createEmbed(a),h.scenes=null!=(u=this.getMediaNode(a,\"scenes\"))?u[\"media-scene\"]:void 0,i=this.getMediaNode(a,\"status\",!1),null!=i&&(h.status={state:i[\"@attributes\"].state,reason:i[\"@attributes\"].reason}),h.category=a.category,h.category instanceof Array||(h.category=[h.category]),i=this.getMediaNode(a,\"category\",!1),null!=i)for(n=0,q=i.length;n<q;n++)c=i[n],null!=c[\"#text\"]&&\"\"!==c[\"#text\"]&&h.category.push(c[\"#text\"]);if(null!=h.category&&h.category.sort(function(a,b){return a=a.toLowerCase(),b=b.toLowerCase(),a>b?1:a<b?-1:0}),i=this.getMediaNode(a,\"subTitle\"),null!=i)for(null==h.track&&(h.track=[]),i instanceof Array||(i=[i]),o=0,r=i.length;o<r;o++)k=i[o],null!=k[\"@attributes\"]&&h.track.push({src:k[\"@attributes\"].href,type:k[\"@attributes\"].type,kind:\"captioning\",srclang:k[\"@attributes\"].lang||\"en\"});c=a.category,c instanceof Array||(c=[c]),h.isLive=\"live\"===a.temporalType||null!=c&&c.join(\",\").indexOf(\"live_stream\")!==-1,h.temporalType=h.isLive?\"live\":\"vod\";for(e in a)l=a[e],e in h||(h.metadata[e]=l)}catch(a){Logger.error(\"[AMP Feed Parse Error] media parse error: \"+a.message,a)}return h},Logger.enabled=!1,Logger.enable=function(a){return null==a&&(a=/debug\\=true/.test(location.search.toLowerCase())),this.enabled=a,this.enabled||(this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=function(){}),a},Logger.log=function(){try{arguments.length>1&&null!=arguments[1]?console.log.apply(console,arguments):console.log(arguments[0])}catch(a){}},Logger.trace=function(){try{console.trace.apply(console,arguments)}catch(a){}},Logger.debug=function(){try{console.log.apply(console,arguments)}catch(a){this.log.apply(this,arguments)}},Logger.info=function(){try{console.info.apply(console,arguments)}catch(a){}},Logger.warn=function(){try{console.warn.apply(console,arguments)}catch(a){}},Logger.error=function(){try{console.error.apply(console,arguments)}catch(a){this.log.apply(this,arguments)}},Logger.fatal=function(){try{console.fatal.apply(console,arguments)}catch(a){}},__extends(XHR,EventDispatcher),XHR.prototype.xhr=null,XHR.prototype.headers=null,XHR.prototype.response=null,XHR.prototype.responseXML=null,XHR.prototype.responseText=null,XHR.prototype.responseType=null,XHR.prototype.withCredentials=!1,XHR.prototype.readyState=0,XHR.prototype.status=null,XHR.prototype.open=function(a,b){var c,d,e=this;try{d=new XMLHttpRequest}catch(a){d=new window.ActiveXObject(\"Microsoft.XMLHTTP\")}if(XHR.isCORS(b))if(Object.prototype.hasOwnProperty.call(d,\"withCredentials\"))try{d.withCredentials=this.withCredentials}catch(a){Logger.warn(\"[AMP XHR WARNING]\",\"withCredentials not properly supported in this browser.\",a)}else\"undefined\"!=typeof XDomainRequest&&(c=!0,d=new XDomainRequest);if(null!=d){c&&(d.onprogress=function(){},d.ontimeout=function(){},d.onerror=function(){},d.onload=function(a){\"function\"==typeof d.onreadystatechange&&(d.readyState=4,d.status=200,d.contentType.match(/\\/xml/)&&(d.responseXML=new ActiveXObject(\"Microsoft.XMLDOM\"),d.responseXML.async=!1,d.responseXML.loadXML(d.responseText)),d.onreadystatechange.call(d,a,!1))}),d.onreadystatechange=function(a){var b,c;if(e.readyState=d.readyState,e.dispatchEvent(new Event(\"readystatechange\",d)),4===d.readyState)if(e.status=d.status,199<(b=e.status)&&b<400||0===e.status){if(null==d.responseText&&(d.responseText=d.text),e.responseText=d.responseText,null!=d.responseXML&&(null!=(c=d.responseXML.childNodes)?c.length:void 0)>0)e.response=e.responseXML=d.responseXML,e.responseType=\"document\";else try{e.response=JSON.parse(d.responseText),e.responseType=\"json\"}catch(a){e.response=d.responseText,e.responseType=\"text\"}e.dispatchEvent(new Event(\"load\",e))}else 0!==e.status&&e.dispatchEvent(new Event(\"error\",e))};try{\"undefined\"!=typeof d.onerror&&(d.onerror=function(a){e.dispatchEvent(new Event(\"error\",e))})}catch(a){}d.open(a,b)}this.xhr=d},XHR.prototype.send=function(a){var b,c,d,e=this;if(null!=this.headers){d=this.headers;for(b in d)c=d[b],null!=b&&null!=c&&this.xhr.setRequestHeader(b,c)}setTimeout(function(){e.xhr.send(a)},0)},XHR.prototype.setRequestHeader=function(a,b){null!=a&&null!=b&&(null==this.headers&&(this.headers={}),this.headers[a]=b)},XHR.prototype.setRequestHeaders=function(a){return this.headers=a,a},XHR.prototype.getResponseHeader=function(a){var b;return null!=(b=this.xhr)&&\"function\"==typeof b.getResponseHeader?b.getResponseHeader(a):void 0},XHR.prototype.getAllResponseHeaders=function(){var a;return null!=(a=this.xhr)&&\"function\"==typeof a.getAllResponseHeaders?a.getAllResponseHeaders():void 0},XHR.isCORS=function(a){var b,c,d,e;return c=document.createElement(\"a\"),c.href=a,b=\"\"!==c.hostname?c.hostname:location.hostname,d=\"0\"!==c.port?c.port:location.port,e=\":\"!==c.protocol?c.protocol:location.protocol,location.protocol!==e||location.hostname!==b||location.port!==d&&!(\"\"===location.port&&\"80\"===d)},Utils.blankImage=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC\",\nUtils.mimeTypes={mp4:\"video/mp4\",flv:\"video/x-flv\",f4m:\"video/f4m\",smil:\"application/smil\",smilxml:\"application/smil+xml\",m3u8:\"application/x-mpegURL\",mp3:\"audio/mpeg\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",ogv:\"video/ogg\",webm:\"video/webm\",mpd:\"application/dash+xml\",ism:\"application/vnd.ms-sstr+xml\",js:\"text/javascript\",css:\"text/css\",swf:\"application/x-shockwave-flash\",vtt:\"text/vtt\",ttml:\"application/ttml+xml\",srt:\"application/x-subrip\",cea608:\"text/cea-608\",cea708:\"text/cea-708\"},Utils.flashTypes=[Utils.mimeTypes.mp4,Utils.mimeTypes.flv,Utils.mimeTypes.f4m,Utils.mimeTypes.smil,Utils.mimeTypes.smilxml],Utils.rules={flashTablets:{label:\"Android 2 & 3 or Kindle Fire 1\",regexp:\"Android [23]|Silk/1\"},html5Phones:{label:\"iPhone\",regexp:\"iPhone\"},html5Tablets:{label:\"HTML5 Tablets\",regexp:\"iPad|Android [4-9]|Silk/2\"},desktop:{label:\"Desktop\",regexp:\"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$\"}},Utils.getPlaybackMode=function(a){var b,c,d,e;null==a&&(a=(null!=(e=QueryString[\"amp-mode\"])?e.toLowerCase():void 0)||PlaybackMode.AUTO),c=!1;for(b in PlaybackMode)if(d=PlaybackMode[b],d===a){c=!0;break}return c||(a=PlaybackMode.AUTO),a===PlaybackMode.HTML_AUTO&&(a=this.isHTMLFirst()?PlaybackMode.HTML:PlaybackMode.AUTO),a!==PlaybackMode.AUTO?(a!==PlaybackMode.FLASH||this.hasFlash()||(a=PlaybackMode.NONE),a):(this.hasFlash()||(a=this.supportsHTML5Video()?PlaybackMode.HTML:PlaybackMode.NONE),a===PlaybackMode.AUTO&&(a=this.isHTML5()?PlaybackMode.HTML:PlaybackMode.FLASH),a)},Utils.getIEVersion=function(){var a,b,c;return b=-1,c=navigator.userAgent,\"Microsoft Internet Explorer\"===navigator.appName?a=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"):\"Netscape\"===navigator.appName?a=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"):/Edge\\/[0-9\\.]+$/.test(c)&&(a=/Edge\\/([0-9\\.]+)/),null!=(null!=a?a.exec(c):void 0)&&(b=parseFloat(RegExp.$1)),b},Utils.getFFVersion=function(){var a,b;return a=-1,b=navigator.userAgent,/Firefox\\/([0-9\\.]+)$/.exec(b)&&(a=parseFloat(RegExp.$1)),a},Utils.getSafariVersion=function(){var a,b;return a=-1,b=navigator.userAgent,/Safari\\/[0-9\\.]+$/.test(b)&&null!=/Version\\/([0-9])/.exec(b)&&(a=parseFloat(RegExp.$1)),a},Utils.isChrome=function(){return/Chrom(e|ium)/.test(navigator.userAgent)},Utils.isHTMLFirst=function(){return null!=window.MediaSource},Utils.mergeRules=function(a){var b,c,d;d=[];for(b in a)c=a[b],d.push(Utils.rules[b]=c);return d},Utils.checkRules=function(a){var b,c,d,e,f;if(null!=a&&a.length>0)for(e=0,f=a.length;e<f;e++)if(b=a[e],(d=Utils.rules[b])&&(c=new RegExp(d.regexp),c.test(navigator.userAgent)))return!0;return!1},Utils.selectSource=function(a,b){var c,d,e,f,g;for(d=0,f=a.length;d<f;d++)if(c=a[d],Utils.checkRules(c.rules))return c;for(e=0,g=a.length;e<g;e++)if(c=a[e],\"\"!==b(c.type||Utils.getMimeType(c.src)))return c;return null},Utils.getMimeType=function(a){return this.mimeTypes[Utils.getFileExtension(a)]},Utils.selectTrack=function(a,b){var c,d,e,f;for(e=0,f=a.length;e<f;e++)if(c=a[e],c.kind===b){d=c;break}return d},Utils.isIPhone=function(){return/iPhone/.test(navigator.platform)||/iPhone/.test(navigator.userAgent)},Utils.isIPad=function(){return/iPad/.test(navigator.platform)||/iPad/.test(navigator.userAgent)},Utils.isAndroid=function(){return/Android [4-9]/.test(navigator.userAgent)},Utils.isKindleFireHD=function(){return/Silk\\/2/.test(navigator.userAgent)},Utils.isKindleFire=function(){return/Silk\\/1/.test(navigator.userAgent)},Utils.isBlackBerry=function(){return/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent)},Utils.isFirefoxOS=function(){return/\\(Mobile;.*Firefox\\//.test(navigator.userAgent)},Utils.supportsHTML5Video=function(){var a;return a=document.createElement(\"video\"),null!=a.canPlayType},Utils.isHTML5=function(){return this.isIOS()||this.isAndroid()||this.isKindleFireHD()||this.isBlackBerry()||this.isFirefoxOS()},Utils.isIOS=function(){var a,b;return a=/iPad|iPhone|iPod/i,b=a.test(navigator.platform)||a.test(navigator.userAgent)},Utils.getIOSversion=function(){var a;if(/iP(hone|od|ad)/.test(navigator.platform))return a=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]},Utils.hasFlash=function(){return swfobject.hasFlashPlayerVersion(\"1\")},Utils.isFullscreenDevice=function(){return this.isKindleFireHD()||this.isIPhone()},Utils.getDevice=function(){var a;return a=\"desktop\",this.isIPhone()?a=\"iphone\":this.isIPad()?a=\"ipad\":/Android/.test(navigator.userAgent)?a=\"android\":this.isKindleFireHD()?a=\"kindlefirehd\":this.isKindleFire()&&(a=\"kindlefire\"),a},Utils.xmlToJson=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(g={},9===a.nodeType&&(a=a.firstChild),1===a.nodeType){if(a.attributes.length>0)for(g[\"@attributes\"]={},l=a.attributes,e=h=0,j=l.length;h<j;e=++h)b=l[e],g[\"@attributes\"][b.nodeName]=b.nodeValue}else 3!==a.nodeType&&4!==a.nodeType||(g=a.nodeValue);if(a.hasChildNodes())for(m=a.childNodes,e=i=0,k=m.length;i<k;e=++i)c=m[e],(3!==c.nodeType||/\\S/.test(c.nodeValue))&&(f=c.nodeName.replace(/:/,\"-\"),d=this.xmlToJson(c),null==d[\"@attributes\"]&&null!=d[\"#text\"]&&(d=d[\"#text\"]),null==g[f]?g[f]=d:(g[f]instanceof Array||(g[f]=[g[f]]),g[f].push(d)));return g},Utils.getXHR=function(){return new XHR},Utils.get=function(a,b,c){var d;return null==b&&(b={}),null==c&&(c=null),d=Utils.getXHR(),null!=b&&(null!=b.withCredentials&&(d.withCredentials=b.withCredentials),null!=b.onload&&(d.onload=b.onload),null!=b.onerror&&(d.onerror=b.onerror)),d.open(\"GET\",a),null!=c&&d.setRequestHeaders(c),d.send(),d},Utils.getUTC=function(a,b){var c;if(\"function\"==typeof a)try{c={onload:function(b){a(1e3*parseInt(b.target.responseText))},onerror:b},this.get(\"http://time.akamai.com\",c)}catch(a){b(a)}},Utils.send=function(a,b,c,d){var e;return null==c&&(c={}),null==d&&(d={\"Content-Type\":\"String\"}),e=Utils.getXHR(),null!=c.onload&&(e.onload=c.onload),null!=c.onerror&&(e.onerror=c.onerror),e.open(\"POST\",a),null!=d&&e.setRequestHeaders(d),e.send(b),e},Utils.loadScript=function(a,b,c,d){var e,f;return e=c||document.getElementsByTagName(\"head\")[0],f=document.createElement(\"script\"),f.type=\"text/javascript\",null!=b&&(f.addEventListener?(f.onload=b,null!=d&&(f.onerror=d)):f.readyState&&(f.onreadystatechange=function(a){\"loaded\"!==this.readyState&&\"complete\"!==this.readyState||(this.onreadystatechange=null,b())})),f.src=a,e.appendChild(f),f},Utils.loadStyleSheet=function(a){var b,c;return b=document.getElementsByTagName(\"head\")[0],c=document.createElement(\"link\"),c.rel=\"stylesheet\",c.type=\"text/css\",c.href=a,b.appendChild(c)},Utils.read=function(a,b,c,d){var e,f;null==b&&(b={}),null==c&&(c=\"\"),null==d&&(d=[]);try{return f=this.get(a,b,d),e=f.responseText||f.text,c===Utils.mimeTypes.json?JSON.parse(e):c===Utils.mimeTypes.xml&&null!=f.responseXML?f.responseXML:e}catch(a){return\"undefined\"!=typeof console&&null!==console&&\"function\"==typeof console.error&&console.error(\"Read Error: \",a),null}},Utils.getFileExtension=function(a){return a.split(\".\").pop().replace(/\\?.*/,\"\")},Utils.getResponseHeader=function(a,b,c){var d;return null==c&&(c={}),d=Utils.getXHR(),null!=c.onerror&&(d.onerror=c.onerror),d.open(\"HEAD\",a,!1),d.send(),d.getResponseHeader(b)},Utils.getResponseHeaders=function(a,b,c){var d,e,f,g,h;if(null==c&&(c={}),f=Utils.getXHR(),null!=c.onerror&&(f.onerror=c.onerror),f.open(\"HEAD\",a,!1),f.send(),e={},null==b)return f.getAllResponseHeaders();for(g=0,h=b.length;g<h;g++)d=b[g],e[d]=f.getResponseHeader(d);return e},Utils.isTouch=null,Utils.isTouchDevice=function(){if(null==this.isTouch)try{document.createEvent(\"TouchEvent\"),this.isTouch=!0}catch(a){this.isTouch=!1}return this.isTouch},Utils.clamp=function(a,b,c){return a<b&&(a=b),a>c&&(a=c),a},Utils.beacon=function(a){var b;return b=document.getElementById(\"beaconId\"),null==b&&(b=document.createElement(\"img\"),b.setAttribute(\"id\",\"beaconId\"),b.setAttribute(\"height\",0),b.setAttribute(\"width\",0),document.body.appendChild(b),b.style.display=\"none\"),b.setAttribute(\"src\",a),b},Utils.getElementOffset=function(a,b){var c,d,e,f,g,h;for(null==b&&(b=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullscreenElement),d=0,g=0,h=a.offsetWidth,c=a.offsetHeight;a&&a!==b;)\"BODY\"===a.tagName?(e=a.scrollLeft||document.documentElement.scrollLeft,f=a.scrollTop||document.documentElement.scrollTop,d+=a.offsetLeft-e+a.clientLeft,g+=a.offsetTop-f+a.clientTop):(d+=a.offsetLeft-a.scrollLeft+a.clientLeft,g+=a.offsetTop-a.scrollTop+a.clientTop),a=a.offsetParent;return{left:d,top:g,width:h,height:c}},Utils.override=function(a,b,c){var d,e;if(null==c&&(c=!0),null==a)return b;if(null==b)return a;c===!0&&(a=Utils.clone(a),b=Utils.clone(b));for(d in b)e=b[d],\"object\"==typeof e&&null!==e?(null==a[d]&&(a[d]=e instanceof Array?[]:{}),a[d]=Utils.override(a[d],e,!1)):a[d]=e;return a},Utils.clone=function(a,b){var c,d,e,f,g,h,i,j;if(null==b&&(b=!0),null==a)return a;if(\"object\"!=typeof a)c=a;else{c=a instanceof Array?[]:{};for(f in a)if(h=a[f],\"object\"==typeof h&&null!==h&&b===!0)if(h instanceof Array)for(c[f]=[],i=0,j=h.length;i<j;i++)d=h[i],c[f].push(this.clone(d));else{c[f]={};for(e in h)g=h[e],c[f][e]=this.clone(g)}else c[f]=h}return c},Utils.formatTimecode=function(a,b){var c;return a=parseInt(a),isNaN(a)?\"00:00\":(c=Utils.formatZeroFill(a%60),a=parseInt(a/60),c=Utils.formatZeroFill(a%60)+\":\"+c,a=parseInt(a/60),a>0&&(c=Utils.formatZeroFill(a)+\":\"+c),b>=3600&&5===c.length&&(c=\"00:\"+c),c)},Utils.formatZeroFill=function(a){var b;return b=a.toString(),a<10&&(b=\"0\"+b),b},Utils.flattenTimecode=function(a,b){var c,d,e,f;if(null==b&&(b=30),null==a||\"\"===a)return NaN;for(e=a.split(\":\"),c=0,4===e.length?c=parseInt(e.pop())/b:3===e.length&&(e[2]=e[2].replace(\",\",\".\"),e[2].indexOf(\".\")!==-1&&(d=e[2].split(\".\")),(null!=d?d.length:void 0)>1&&(e[2]=d[0],c=parseInt(d[1])/1e3)),f=parseInt(e.pop());e.length>0;)f+=Math.pow(60,e.length)*parseInt(e.shift());return f+c},Utils.cacheBust=function(a,b,c){var d;return null==b&&(b=\"cacheBust\"),null==c&&(c=Date.now()),d=a.indexOf(\"?\")===-1?\"?\":\"&\",a+d+b+\"=\"+c},Utils.formatStyleName=function(a){return a.replace(/([A-Z])/,\"-$1\").toLowerCase()},Utils.trim=function(a){var b;return b=a.replace(/^\\s*(.*)/,\"$1\"),b.replace(/(.*)\\s*$/,\"$1\")},Utils.getJson=function(a,b,c){var d;return d=Utils.getXHR(),d.open(\"GET\",a),d.onload=function(a){var c;c=\"document\"===d.responseType?Utils.xmlToJson(d.responseXML):d.response,\"function\"==typeof b&&b(c)},d.onerror=function(a){\"function\"==typeof c&&c(a)},d.send(),d},Utils.getSource=function(a,b,c){var d,e;e=Utils.getPlaybackMode(),d=function(a){var c,d,f,g;d=new MRSSHelper,a=d.createFeed(a),(null!=a&&null!=(g=a.item)?g.length:void 0)>0&&(c=function(a){return\"flash\"===e&&Utils.flashTypes.indexOf(a)!==-1||\"html\"===e&&Utils.flashTypes.indexOf(a)===-1?\"maybe\":\"\"},f=Utils.selectSource(a.item[0].source,c)),\"function\"==typeof b&&b(f)},Utils.getJson(a,d,c)},Utils.trackMouse=function(){try{null!=document.addEventListener?document.addEventListener(\"mousemove\",this.mouseTracker):null!=document.attachEvent&&document.attachEvent(\"mousemove\",this.mouseTracker)}catch(a){}},Utils.clientX=0,Utils.clientY=0,Utils.pageX=0,Utils.pageY=0,Utils.mouseTracker=function(a){Utils.clientX=a.clientX,Utils.clientY=a.clientY,Utils.pageX=a.pageX,Utils.pageY=a.pageY},Utils.isMouseOverElement=function(a){var b;if(b=!1,null==a)return b;try{b=a.contains(document.elementFromPoint(Utils.clientX,Utils.clientY))}catch(a){b=!1}return b},Utils.trackMouse(),Utils.getActualSize=function(a,b){var c,d,e;return null==b&&(b=!0),e=a.offsetWidth,c=a.offsetHeight,b===!0&&(d=getComputedStyle(a),e+=parseInt(d.marginLeft)+parseInt(d.marginRight),c+=parseInt(d.marginTop)+parseInt(d.marginBottom)),{width:e,height:c}},Utils.isVolumeSettable=function(){var a,b;return b=navigator.userAgent.toLowerCase(),a=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(b),null==a||!(\"android\"!==a[0]||!/Firefox/.test(b))},__extends(AMPConfig,EventDispatcher),AMPConfig.UNINITIALIZED=0,AMPConfig.LOADING=1,AMPConfig.LOADED=2,AMPConfig.parseModule=function(a){var b,c,d,e,f,g,h,i,j;for(h={},e=0,c=a.childNodes,d=c.length,f=0,g=null,b=null,i=0,j=c.length;i<j;i++)g=c[i],1===(null!=g?g.nodeType:void 0)&&(h[g.nodeName]=this.parseItem(g));return h},AMPConfig.parseItem=function(a){var b,c,d,e,f,g;if(d=(\"\"+a.getAttribute(\"type\")).toLowerCase(),e=a.textContent||a.text||a.innerText,\"object\"!==d&&\"array\"!==d&&/#\\{.*\\}/.test(e))return e;switch(d){case\"object\":e=this.parseModule(a);break;case\"array\":for(e=[],c=a.childNodes,f=0,g=c.length;f<g;f++)b=c[f],1===b.nodeType&&e.push(this.parseItem(b));break;case\"boolean\":e=\"true\"===e.toLowerCase();break;case\"number\":e=parseFloat(e)}return e},AMPConfig.prototype.url=null,AMPConfig.prototype.data=null,AMPConfig.prototype.xml=null,AMPConfig.prototype.readyState=AMPConfig.UNINITIALIZED,AMPConfig.prototype.loaded=!1,AMPConfig.prototype.flash={PlaybackMetricsPlugin:{src:\"#{paths.resources}plugins/PlaybackMetricsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"PlaybackMetricsPlugin\"},SubclipMonitorPlugin:{src:\"#{paths.resources}plugins/SubclipMonitorPlugin.swf\",blocking:!1,host:\"akamai\",main:\"SubclipMonitorPlugin\"},NetSessionClientPlugin:{src:\"#{paths.resources}plugins/NetSessionClientPlugin.swf\",blocking:!1,host:\"akamai\",main:\"NetSessionClientPlugin\"}},AMPConfig.prototype.loadURL=function(a,b){var c,d=this;null==b&&(b=!1),this.url=a,this.setReadyState(AMPConfig.LOADING),c=Utils.get(a,{withCredentials:b,onload:function(a){var b,c,e;e=a.detail,\"document\"===e.responseType?(d.xml=e.responseXML,c=7!==d.xml.firstChild.nodeType?d.xml.firstChild:d.xml.childNodes[1],b=AMPConfig.parseModule(c)):(b=e.response,\"string\"==typeof b&&(b=JSON.parse(b))),d.loadData(b)},onerror:function(a){d.dispatchEvent(new Event(\"error\",a)),Logger.error(a)}})},AMPConfig.prototype.loadData=function(a){Config.defaults=a,this.setReadyState(AMPConfig.LOADED)},AMPConfig.prototype.load=function(a,b){switch(null==b&&(b=!1),typeof a){case\"object\":this.loadData(a);break;case\"string\":this.loadURL(a,b);break;default:throw new Error(\"[AMP ERROR] Invalid default configuration resource\")}},AMPConfig.prototype.setReadyState=function(a){this.readyState=a,this.dispatchEvent(new Event(\"readystatechange\",a)),a!==AMPConfig.LOADED||this.loaded||(this.loaded=!0,this.dispatchEvent(new Event(\"load\",this.data)))},__extends(ButtonMediator,ComponentMediator),ButtonMediator.prototype.componentType=\"button\",ButtonMediator.prototype.icon=null,ButtonMediator.prototype.label=null,ButtonMediator.prototype.onclick=null,ButtonMediator.prototype.labelText=null,ButtonMediator.prototype.onRegister=function(){ButtonMediator.__super__.onRegister.call(this),this.icon=this.create(\"icon\"),this.createLabel(this.labelText)},ButtonMediator.prototype.createLabel=function(a){null!=a&&(this.label=this.createText(\"label\",a))},ButtonMediator.prototype.setLabel=function(a){return null==this.label?this.createLabel(a):this.label.textContent=a,a},ButtonMediator.prototype.getLabel=function(){var a;return null!=(a=this.label)?a.textContent:void 0},__extends(IdleUtil,EventDispatcher),IdleUtil.prototype.events=[\"mousemove\",\"mousedown\",\"keypress\",\"DOMMouseScroll\",\"mousewheel\",\"touchmove\",\"MSPointerMove\"],IdleUtil.prototype.resetHandler=null,IdleUtil.prototype.element=null,IdleUtil.prototype.timeout=null,IdleUtil.prototype.active=!0,IdleUtil.prototype.timeoutId=null,IdleUtil.prototype.applyListeners=function(a){var b,c,d,e;for(null==a&&(a=\"add\"),e=this.events,c=0,d=e.length;c<d;c++)b=e[c],this.element[\"\"+a+\"EventListener\"](b,this.resetHandler)},IdleUtil.prototype.start=function(a){null!=a&&(this.timeout=a),this.stop(),this.applyListeners(\"add\"),this.timeoutId=setTimeout(this.setActive.bind(this,!1),this.timeout)},IdleUtil.prototype.stop=function(){this.applyListeners(\"remove\"),clearTimeout(this.timeoutId)},IdleUtil.prototype.reset=function(){this.setActive(!0),this.start()},IdleUtil.prototype.setActive=function(a){if(a!==this.active)return this.active=a,this.dispatchEvent(new Event(\"activechange\",{active:this.active})),a},IdleUtil.prototype.getActive=function(){return this.active},__extends(LogoMediator,ComponentMediator),LogoMediator.prototype.componentName=\"logo\",LogoMediator.prototype.url=null,LogoMediator.prototype.onRegister=function(){LogoMediator.__super__.onRegister.call(this),this.sendNotification(Notifications.ADD_CONTROL_STATE,this.componentName+\"-enabled\")},LogoMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),this.sendNotification(Notifications.DISPATCH_EVENT,new Event(\"controlsLogoClicked\")),!1},__extends(PluginWrapper,puremvc.Mediator),PluginWrapper.NAME=\"PluginWrapper\",PluginWrapper.prototype.player=null,PluginWrapper.prototype.config=null,PluginWrapper.prototype.dispatcher=null,PluginWrapper.prototype.flashPlugins=null,PluginWrapper.prototype.createFlashVars=null,PluginWrapper.prototype.createXML=null,PluginWrapper.prototype.createDefaults=function(){this.player.createDefaults.call(this)},PluginWrapper.prototype.addEventListener=function(a,b){this.dispatcher.addEventListener(a,b)},PluginWrapper.prototype.logEvent=function(a){},PluginWrapper.prototype.dispatchEvent=function(a){\"timeupdate\"!==a.type&&\"timeremaining\"!==a.type&&this.player.logger.log(\"[AMP \"+this.constructor.NAME.replace(\"Wrapper\",\"\").toUpperCase()+\" EVENT] \"+a.type,a),a.player=this.player,this.dispatcher.dispatchEvent(a)},PluginWrapper.prototype.removeEventListener=function(a,b){this.dispatcher.removeEventListener(a,b)},PluginWrapper.prototype.createElement=function(a,b,c){var d;return d=a.createElement(\"element\"),d.setAttribute(\"id\",b),null==c&&(c=this.getControls(a).controls),null!=c&&c.appendChild(d),d},PluginWrapper.prototype.createProperty=function(a,b,c,d){var e,f,g;if(e=a.createElement(\"property\"),e.setAttribute(\"key\",b),null!=d&&d.appendChild(e),null!=c)if(\"object\"!=typeof c||c instanceof Array)f=XMLUtils.createTextContent(a,c.toString()),e.appendChild(f);else for(b in c)g=c[b],this.createProperty(a,b,g,e);return e},PluginWrapper.prototype.listNotificationInterests=function(){return[FlashNotifications.CREATE_FLASH_VARS,FlashNotifications.CREATE_XML]},PluginWrapper.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case FlashNotifications.CREATE_FLASH_VARS:\"function\"==typeof this.createFlashVars&&this.createFlashVars(b.flashvars);break;case FlashNotifications.CREATE_XML:\"function\"==typeof this.createXML&&this.createXML(b.xml)}},PluginWrapper.prototype.destroy=function(){},__extends(ControlsPlayCommand,puremvc.SimpleCommand),ControlsPlayCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ControlsProxy.NAME),b.start()},__extends(ControlsPauseCommand,puremvc.SimpleCommand),ControlsPauseCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ControlsProxy.NAME),b.stop()},__extends(ControlsActiveStateChangeCommand,puremvc.SimpleCommand),ControlsActiveStateChangeCommand.prototype.execute=function(a){var b,c,d;d=this.facade.retrieveProxy(ControlsProxy.NAME),b=this.facade.player.retrieveProxy(ApplicationStateProxy.NAME),c=a.getBody(),c.value===ActiveState.ACTIVE&&b.getPlayState()!==PlayState.READY&&\"desktop\"!==Utils.getDevice()&&d.start()},__extends(ControlsAdBreakStartCommand,PluginCommand),ControlsAdBreakStartCommand.prototype.execute=function(a){this.plugin.config.native===!0?this.player.getMediaElement().controls=!1:this.proxy.adBreakStart()},__extends(ControlsAdBreakEndCommand,PluginCommand),ControlsAdBreakEndCommand.prototype.execute=function(a){this.plugin.config.native===!0?this.player.getMediaElement().controls=!0:this.proxy.adBreakEnd()},__extends(ControlsMediaValidatedCommand,puremvc.SimpleCommand),ControlsMediaValidatedCommand.prototype.execute=function(a){var b,c,d;c=a.getBody(),d=c.poster,b=this.facade.player.getMediaElement(),null!=d&&\"\"!==d&&(b.poster=d),b.src=c.src,this.facade.player.getAutoplay()!==!0&&this.facade.applyClickHandler()},__extends(ControlsStartedCommand,puremvc.SimpleCommand),ControlsStartedCommand.prototype.execute=function(a){this.facade.applyClickHandler(!1)},__extends(ControlsStartCommand,puremvc.SimpleCommand),ControlsStartCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ControlsProxy.NAME),b.start()},__extends(ControlsWrapper,PluginWrapper),ControlsWrapper.NAME=\"ControlsWrapper\",ControlsWrapper.prototype.mode=\"auto\",ControlsWrapper.prototype.autoHide=5,ControlsWrapper.prototype.flashView={elements:{controls:{attributes:{height:\"28\",itemMargin:\"5\",scrubPosition:\"inline\"},elements:{replayBtn:{},playPauseBtn:{},streamTimeIndicator:{attributes:{exclude:\"live\"},elements:{streamTime:{},streamDuration:{}}},rewindBtn:{},scrubBar:{attributes:{style:\"height: 18px;\"}},progressBar:{attributes:{style:\"background: linear-gradient(90deg, #FF0000, #1B1B1B);\"}},loadedBar:{attributes:{style:\"background: linear-gradient(90deg, #00FF00, #1B1B1B);\"}},liveIndicator:{},timeLocationIndicator:{},goLiveBtn:{},statsBtn:{},volumeBar:{attributes:{color:\"#CA2127\"}},volumeBtn:{},fullscreenBtn:{}}}}},ControlsWrapper.prototype.listNotificationInterests=function(){return ControlsWrapper.__super__.listNotificationInterests.apply(this,arguments).concat([Notifications.MEDIUM_CHANGE])},ControlsWrapper.prototype.handleNotification=function(a){var b,c,d;switch(ControlsWrapper.__super__.handleNotification.call(this,a),d=a.getName(),b=a.getBody(),d){case Notifications.MEDIUM_CHANGE:c=/audio/.test(b)?\"persistent\":this.mode,this.setMode(c)}},ControlsWrapper.prototype.createFlashVars=function(a){return null!=this.config.mode&&(this.mode=a.controls_mode=this.config.mode),null!=this.config.admode&&this.config.admode!==this.config.mode&&(a.ads_auto_fit=!0),a},ControlsWrapper.prototype.createXML=function(a){var b,c,d;if(b=null!=(c=this.player.flashView)&&null!=(d=c.elements)?d.controls:void 0,null!=b)return null!=b.attributes.autoHideDelay?this.autoHide=b.attributes.autoHideDelay:null!=this.config.autoHide&&(this.autoHide=this.config.autoHide,b.attributes.autoHideDelay=this.config.autoHide),a},ControlsWrapper.prototype.getMode=function(){return this.mode},ControlsWrapper.prototype.setMode=function(a){if(a!==this.mode){try{this.mode=a,this.player.mediaElement.setPlayerProperty(\"controlsMode\",a)}catch(a){this.facade.logger.error(\"[AMP CONTROLS ERROR]\",a)}return a}},ControlsWrapper.prototype.getAutoHide=function(){return this.autoHide},__extends(ControlsProxy,ModuleProxy),ControlsProxy.NAME=ModuleProxy.NAME,ControlsProxy.prototype.defaults={mode:\"auto\",autoHide:3,admode:null},ControlsProxy.prototype.timeout=null,ControlsProxy.prototype.appState=null,ControlsProxy.prototype.controls=null,ControlsProxy.prototype.interactiveElement=null,ControlsProxy.prototype.idleUtil=null,ControlsProxy.prototype.initializeNotifier=function(a){ControlsProxy.__super__.initializeNotifier.call(this,a),this.appState=this.facade.player.retrieveProxy(ApplicationStateProxy.NAME),this.controls=this.facade.retrieveMediator(ApplicationStateProxy.NAME)},ControlsProxy.prototype.onRegister=function(){var a=this;ControlsProxy.__super__.onRegister.call(this),null!=this.config.mode&&this.changeMode(this.config.mode),this.interactiveElement=this.facade.player.getContainer(),\"desktop\"===Utils.getDevice()?(EventHandler.create(this.interactiveElement,\"mouseenter\",function(){a.stop(),a.appState.activeState!==ActiveState.ACTIVE&&a.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE)}),EventHandler.create(this.interactiveElement,\"mouseleave\",function(){a.start()}),this.idleUtil=new IdleUtil(this.facade.player.getViewComponent(),1e3*this.data.autoHide),this.idleUtil.addEventListener(\"activechange\",function(b){var c;c=b.detail.active!==!0?ActiveState.INACTIVE:ActiveState.ACTIVE,a.sendNotification(Notifications.CHANGE_ACTIVE_STATE,c)}),this.idleUtil.start(),EventHandler.create(this.facade.player.getMediaElement(),\"click\",function(){a.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE)})):EventHandler.create(this.interactiveElement,EventHandler.CLICK,function(){a.sendNotification(Notifications.TOGGLE_ACTIVE)})},ControlsProxy.prototype.setMode=function(a){return this.data.mode===a?a:(this.changeMode(a),a)};ControlsProxy.prototype.changeMode=function(a){\"auto\"===this.data.mode&&this.stop(),this.facade.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"controls-\"+this.data.mode),this.data.mode=a,this.facade.sendNotification(Notifications.ADD_APPLICATION_STATE,\"controls-\"+this.data.mode)};ControlsProxy.prototype.getMode=function(){return this.data.mode},ControlsProxy.prototype.setAutoHide=function(a){return this.data.autoHide=a,a},ControlsProxy.prototype.getAutoHide=function(){return this.data.autoHide},ControlsProxy.prototype.adBreakStart=function(){null!=this.data.admode&&this.setMode(this.data.admode)},ControlsProxy.prototype.adBreakEnd=function(){null!=this.data.admode&&this.setMode(this.config.mode)},ControlsProxy.prototype.start=function(){this.stop(),\"auto\"===this.data.mode&&(this.timeout=setTimeout(this.hide.bind(this),1e3*this.data.autoHide))},ControlsProxy.prototype.stop=function(){clearTimeout(this.timeout),this.timeout=null},ControlsProxy.prototype.hide=function(){if(\"auto\"===this.data.mode)return this.appState.getIsUserActive()!==!0&&!Utils.isMouseOverElement(this.facade.viewComponent)||this.appState.getDisplayState()===DisplayState.FULL_SCREEN?void this.facade.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.INACTIVE):void this.start()},__extends(FullScreenMediator,ButtonMediator),FullScreenMediator.prototype.componentName=\"full-screen\",FullScreenMediator.prototype.onRegister=function(){FullScreenMediator.__super__.onRegister.call(this),this.sendNotification(Notifications.ADD_CONTROL_STATE,this.componentName+\"-enabled\")},FullScreenMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),this.sendNotification(Notifications.TOGGLE_FULL_SCREEN),!1},FullScreenMediator.prototype.listNotificationInterests=function(){return[Notifications.DISABLE_FULL_SCREEN,Notifications.ENABLE_FULL_SCREEN]},FullScreenMediator.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case Notifications.DISABLE_FULL_SCREEN:this.setDisabled(!0);break;case Notifications.ENABLE_FULL_SCREEN:this.setDisabled(!1)}},__extends(SliderMediator,ComponentMediator),SliderMediator.prototype.componentType=\"slider\",SliderMediator.prototype.trackView=null,SliderMediator.prototype.handleView=null,SliderMediator.prototype.valueView=null,SliderMediator.prototype.startCapView=null,SliderMediator.prototype.endCapView=null,SliderMediator.prototype.clickView=null,SliderMediator.prototype.min=0,SliderMediator.prototype.max=1,SliderMediator.prototype.value=0,SliderMediator.prototype.draggable=!1,SliderMediator.prototype.dragging=!1,SliderMediator.prototype.draggingInterval=null,SliderMediator.prototype.draggingDelay=250,SliderMediator.prototype.direction=\"vertical\",SliderMediator.prototype.pressHandler=null,SliderMediator.prototype.releaseHandler=null,SliderMediator.prototype.moveHandler=null,SliderMediator.prototype.clickHandler=null,SliderMediator.prototype.onRegister=function(){SliderMediator.__super__.onRegister.call(this),this.startCapView=this.create(\"start-cap\"),this.endCapView=this.create(\"end-cap\"),this.trackView=this.create(\"track\"),this.valueView=this.create(\"value\",this.trackView),this.clickView=this.create(\"click\",this.trackView),this.handleView=this.create(\"handle\",this.trackView),this.pressHandler=EventHandler.create(this.handleView,EventHandler.PRESS,this.handlePressHandler.bind(this)),this.releaseHandler=EventHandler.create(window,EventHandler.RELEASE,this.handleReleaseHandler.bind(this)),this.releaseHandler.unbind(),this.moveHandler=EventHandler.create(window,EventHandler.MOVE,this.updateHandler.bind(this,this.draggable)),this.moveHandler.unbind(),this.clickHandler=EventHandler.create(this.clickView,EventHandler.CLICK,this.updateHandler.bind(this,!0))},SliderMediator.prototype.setDirection=function(a){return this.direction=a,a},SliderMediator.prototype.getDirection=function(){return this.direction},SliderMediator.prototype.setValue=function(a){return this.updateValue(a),this.valueChanged(a),a},SliderMediator.prototype.getValue=function(){return this.value},SliderMediator.prototype.setDragging=function(a){if(a!==this.dragging)return this.dragging=a,this.sendNotification(Notifications.IS_USER_ACTIVE,this.dragging),this.dragging===!0?this.draggingInterval=setInterval(this.dragUpdateHandler.bind(this),this.draggingDelay):(clearInterval(this.draggingInterval),this.dragUpdateHandler()),this.dragging},SliderMediator.prototype.getDragging=function(){return this.dragging},SliderMediator.prototype.setDraggable=function(a){if(a!==this.draggable)return this.draggable=a,a},SliderMediator.prototype.getDraggable=function(){return this.draggable},SliderMediator.prototype.updateValue=function(a){var b;this.value=Utils.clamp(a,this.min,this.max),\"vertical\"===this.direction?(a=\"height\",b=\"bottom\"):(a=\"width\",b=\"left\"),this.valueView.style[a]=this.handleView.style[b]=\"\"+100*this.value+\"%\"},SliderMediator.prototype.calculateValue=function(a){var b,c;return b=Utils.getElementOffset(this.viewComponent),c=\"vertical\"===this.getDirection()?1-(a.y-b.top)/b.height:(a.x-b.left)/b.width,Utils.clamp(c,0,1)},SliderMediator.prototype.handlePressHandler=function(a){return this.moveHandler.bind(),this.releaseHandler.bind(),this.clickHandler.unbind(),this.setDragging(!0),a.stopImmediatePropagation(),!1},SliderMediator.prototype.handleReleaseHandler=function(a){return this.moveHandler.unbind(),this.releaseHandler.unbind(),this.clickHandler.bind(),this.setDragging(!1),a.stopImmediatePropagation(),!1},SliderMediator.prototype.updateHandler=function(a,b){var c,d;return b.stopImmediatePropagation(),c={x:b.clientX||b.targetTouches[0].clientX,y:b.clientY||b.targetTouches[0].clientY},d=this.calculateValue(c),a===!0?this.setValue(d):this.updateValue(d),!1},SliderMediator.prototype.dragUpdateHandler=function(){this.setValue(this.value)},SliderMediator.prototype.valueChanged=function(){};var PanelNotifications={ADD_PANEL:\"addPanel\",REMOVE_PANEL:\"removePanel\",OPEN_PANEL:\"openPanel\",CLOSE_PANEL:\"closePanel\",TOGGLE_PANEL:\"togglePanel\",CLOSE_ALL_PANELS:\"closeAllPanels\"};__extends(TimeDisplayMediator,ComponentMediator),TimeDisplayMediator.prototype.componentName=\"time-display\",TimeDisplayMediator.prototype.duration=null,TimeDisplayMediator.prototype.currentTimeDisplay=null,TimeDisplayMediator.prototype.separatorDisplay=null,TimeDisplayMediator.prototype.durationDisplay=null,TimeDisplayMediator.prototype.liveDisplay=null,TimeDisplayMediator.prototype.onRegister=function(){TimeDisplayMediator.__super__.onRegister.call(this),this.liveDisplay=this.createText(\"live-display\",this.localizationManager.getString(LocalizationConstants.MSG_LIVE)),this.currentTimeDisplay=this.createText(\"current-time-display\",\"00:00\",this,\"span\"),this.separatorDisplay=this.createText(\"separator-display\",this.localizationManager.getString(LocalizationConstants.MSG_TIME_SEPARATOR),this,\"span\"),this.durationDisplay=this.createText(\"duration-display\",\"00:00\",this,\"span\")},TimeDisplayMediator.prototype.listNotificationInterests=function(){return[Notifications.PLAY,Notifications.DURATION_CHANGE,Notifications.ENDED,Notifications.DISPLAY_TIME]},TimeDisplayMediator.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case Notifications.PLAY:this.updateDuration();break;case Notifications.DURATION_CHANGE:this.duration=b,this.updateCurrentTime(),this.updateDuration();break;case Notifications.ENDED:this.updateCurrentTime(this.duration),this.updateDuration();break;case Notifications.DISPLAY_TIME:this.updateCurrentTime(b.currentTime,b.duration),this.updateDuration(b.duration)}},TimeDisplayMediator.prototype.updateCurrentTime=function(a,b){null==a&&(a=this.currentTime),null==b&&(b=this.duration),this.currentTimeDisplay.textContent=Utils.formatTimecode(a,b)},TimeDisplayMediator.prototype.updateDuration=function(a){null==a&&(a=this.duration),this.durationDisplay.textContent=Utils.formatTimecode(a);\n},__extends(GoLiveMediator,ButtonMediator),GoLiveMediator.prototype.componentName=\"go-live\",GoLiveMediator.prototype.onRegister=function(){GoLiveMediator.__super__.onRegister.call(this),this.createLabel(this.localizationManager.getString(\"MSG_LIVE\"))},GoLiveMediator.prototype.listNotificationInterests=function(){return[Notifications.IS_LIVE]},GoLiveMediator.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case Notifications.IS_LIVE:this.setLabel(b===!0?this.localizationManager.getString(\"MSG_LIVE\"):this.localizationManager.getString(\"MSG_GO_LIVE\"))}},GoLiveMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),a.preventDefault(),!1},__extends(PanelsMediator,ComponentMediator),PanelsMediator.prototype.componentName=\"panels\",PanelsMediator.prototype.activePanel=null,PanelsMediator.prototype.panels=null,PanelsMediator.prototype.closeHandler=null,PanelsMediator.prototype.listNotificationInterests=function(){var a,b;return function(){var c;c=[];for(a in PanelNotifications)b=PanelNotifications[a],c.push(b);return c}().concat([])},PanelsMediator.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case PanelNotifications.ADD_PANEL:this.addPanel(b);break;case PanelNotifications.REMOVE_PANEL:this.removePanel(b);break;case PanelNotifications.OPEN_PANEL:this.openPanel(b);break;case PanelNotifications.CLOSE_PANEL:this.closePanel(b);break;case PanelNotifications.CLOSE_ALL_PANELS:this.closeAllPanels(b);break;case PanelNotifications.TOGGLE_PANEL:this.togglePanel(b)}},PanelsMediator.prototype.addPanel=function(a){this.panels.push(a),this.viewComponent.appendChild(a.getViewComponent())},PanelsMediator.prototype.removePanel=function(a){this.panels.splice(this.panels.indexOf(a),1),this.viewComponent.removeChild(a.getViewComponent())},PanelsMediator.prototype.openPanel=function(a){a!==this.activePanel&&null!=a&&(this.closeAllPanels(),this.activePanel=a,this.activePanel.classList.add(\"active\"),\"desktop\"!==Utils.getDevice()&&this.sendNotification(Notifications.IS_USER_ACTIVE,!0),document.addEventListener(\"mouseup\",this.closeHandler))},PanelsMediator.prototype.closePanel=function(a){a.classList.remove(\"active\"),null!=this.activePanel&&(this.activePanel=null,\"desktop\"!==Utils.getDevice()&&this.sendNotification(Notifications.IS_USER_ACTIVE,!1),document.removeEventListener(\"mouseup\",this.closeHandler))},PanelsMediator.prototype.togglePanel=function(a){a===this.activePanel?this.closePanel(a):this.openPanel(a)},PanelsMediator.prototype.closeAllPanels=function(){var a,b,c,d;for(d=this.panels,b=0,c=d.length;b<c;b++)a=d[b],this.closePanel(a)},PanelsMediator.prototype.mouseupHandler=function(a){var b,c,d;c=document.elementFromPoint(a.clientX,a.clientY),d=this.activePanel.getViewComponent(),b=this.activePanel.control.getViewComponent(),c!==d&&d.contains(c)===!1&&c!==b&&b.contains(c)===!1&&this.closeAllPanels()},__extends(ProgressMediator,SliderMediator),ProgressMediator.prototype.componentName=\"progress\",ProgressMediator.prototype.bufferValue=null,ProgressMediator.prototype.scrubTime=null,ProgressMediator.prototype.scrubTimeSeparator=null,ProgressMediator.prototype.cuePoints=null,ProgressMediator.prototype.cues=null,ProgressMediator.prototype.duration=0,ProgressMediator.prototype.isLive=!1,ProgressMediator.prototype.previewData={src:null,previewWidth:null,previewHeight:null,imgWidth:null,imgHeight:null,count:null},ProgressMediator.prototype.onRegister=function(){ProgressMediator.__super__.onRegister.call(this),this.bufferValue=this.create(\"buffer-value\",!1),this.trackView.insertBefore(this.bufferValue,this.trackView.lastChild),this.cuePoints=this.create(\"cue-points\",this.trackView),this.scrubTimeSeparator=this.create(\"scrub-time-separator\",this.trackView),this.scrubTime=this.create(\"scrub-time\",this.trackView),this.thumbPreview=this.create(\"thumb-preview\")},ProgressMediator.prototype.listNotificationInterests=function(){return[Notifications.ENDED,Notifications.MEDIA_CHANGE,Notifications.DURATION_CHANGE,Notifications.PROGRESS,Notifications.ADD_CUE_POINTS,Notifications.REMOVE_CUE_POINTS,Notifications.DISPLAY_TIME]},ProgressMediator.prototype.handleNotification=function(a){var b,c,d;switch(c=a.getName(),b=a.getBody(),c){case Notifications.MEDIA_CHANGE:this.isLive=\"live\"===b.temporalType,this.updateValue(0),this.bufferValue.style.width=\"0%\",this.updatePreview(b.metadata);break;case Notifications.PROGRESS:d=Utils.clamp(b/this.duration*100,0,100),this.bufferValue.style.width=d+\"%\";break;case Notifications.DURATION_CHANGE:this.duration=b,this.updateCuePoints();break;case Notifications.ENDED:this.updateValue(1);break;case Notifications.ADD_CUE_POINTS:this.cues=b,this.updateCuePoints();break;case Notifications.REMOVE_CUE_POINTS:this.removeCuePoints();break;case Notifications.DISPLAY_TIME:this.dragging===!1&&this.updateValue(b.currentTime/b.duration,b.duration)}},ProgressMediator.prototype.updateCuePoints=function(){var a,b,c,d,e,f,g;if(null!=this.cues&&0!==this.cues.length&&(null==(null!=(e=this.facade.player.config)&&null!=(f=e.controls)?f.displaySceneMarkers:void 0)||this.facade.player.config.controls.displaySceneMarkers!==!1))for(this.removeCuePoints(),g=this.cues,c=0,d=g.length;c<d;c++)a=g[c],0!==a&&a!==-1&&(b=this.create(\"cue-point\",this.cuePoints),b.style.left=a/this.duration*100+\"%\")},ProgressMediator.prototype.updatePreview=function(a){var b,c=this;this.previewData.src=a.previewThumbnailSrc,this.previewData.previewHeight=a.previewThumbnailHeight,this.previewData.previewWidth=a.previewThumbnailWidth,this.previewData.count=a.previewThumbnailCount,b=new Image,this.previewData.src&&(b.src=this.previewData.src),EventHandler.create(b,\"load\",function(a){return a.stopImmediatePropagation(),c.previewData.imgWidth=a.target.width,c.previewData.imgHeight=a.target.height,!1}),this.previewData.src&&(this.thumbPreview.style.backgroundImage=\"url(\"+this.previewData.src+\")\"),this.thumbPreview.style.width=this.previewData.previewWidth+\"px\",this.thumbPreview.style.height=this.previewData.previewHeight+\"px\"},ProgressMediator.prototype.removeCuePoints=function(){null!=this.cuePoints&&(this.cuePoints.innerHTML=\"\")},ProgressMediator.prototype.valueChanged=function(){this.sendNotification(UserNotifications.SEEK,this.value*this.facade.player.retrieveProxy(MediaProxy.NAME).getDuration())},ProgressMediator.prototype.updateValue=function(a,b){null==b&&(b=this.duration),this.isLive===!0&&(a=1),isNaN(a)===!0&&(a=0),ProgressMediator.__super__.updateValue.call(this,a),this.getDragging()===!0&&(this.scrubTime.textContent=Utils.formatTimecode(this.value*b)),this.scrubTime.style.left=this.scrubTimeSeparator.style.left=\"\"+(100*this.value).toFixed(2)+\"%\",this.previewInterval=this.duration/this.previewData.count,this.previewImgIndex=Math.floor(this.value*b/this.previewInterval),this.previewRow=Math.floor(this.previewImgIndex*this.previewData.previewWidth/this.previewData.imgWidth),this.xpos=\"-\"+this.previewData.previewWidth*this.previewImgIndex+\"px \",this.ypos=\"-\"+this.previewData.previewHeight*this.previewRow.toFixed(0)+\"px \",this.thumbPreview.style.backgroundPosition=this.xpos+this.ypos,this.thumbPreview.style.left=\"\"+(100*this.value-18).toFixed(2)+\"%\"},ProgressMediator.prototype.handlePressHandler=function(a){ProgressMediator.__super__.handlePressHandler.call(this,a),this.classList.add(\"scrubbing\")},ProgressMediator.prototype.handleReleaseHandler=function(a){ProgressMediator.__super__.handleReleaseHandler.call(this,a),this.classList.remove(\"scrubbing\")},__extends(PlayPauseMediator,ButtonMediator),PlayPauseMediator.prototype.componentName=\"play-pause\",PlayPauseMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),a.preventDefault(),this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE),!1};var AdNotifications={BREAK_START:\"adsbreakstart\",BREAK_END:\"adsbreakend\",AD_CONTAINER_CREATED:\"adscontainercreated\",AD_LOADED:\"adsloaded\",AD_MANAGER_LOADED:\"adsmanagerloaded\",AD_STARTED:\"adsstarted\",AD_TIME_UPDATE:\"adstimeupdate\",AD_TIME_REMAINING:\"adstimeremaining\",AD_DURATION_CHANGE:\"adsdurationchange\",AD_ENDED:\"adsended\",AD_ERROR:\"adserror\",AD_PLAY:\"adsplay\",AD_PAUSE:\"adspause\",AD_PAUSED:\"adspaused\",AD_RESUME:\"adsresume\",AD_CLICKED:\"adclicked\",AD_COMPANION:\"adscompanion\",FIRST_QUARTILE:\"adsfirstquartile\",MIDPOINT:\"adsmidpoint\",THIRD_QUARTILE:\"adsthirdquartile\",LOG:\"adslog\",REQUEST:\"adsrequest\",SKIPPED:\"adsskipped\",IMPRESSION:\"adsimpression\"};__extends(ControlsMediator,LayerMediator),ControlsMediator.prototype.componentName=\"controls\",ControlsMediator.prototype.activeControlPanel=null,ControlsMediator.prototype.controlBar=null,ControlsMediator.prototype.panels=null,ControlsMediator.prototype.onRegister=function(){var a;ControlsMediator.__super__.onRegister.call(this),this.facade.viewComponent=this.viewComponent,this.controlBar=this.create(\"control-bar\"),this.facade.registerMediator(new PanelsMediator(this.viewComponent)),this.facade.registerMediator(new PlayPauseMediator(this.controlBar)),this.facade.registerMediator(new TimeDisplayMediator(this.controlBar)),this.facade.registerMediator(new ProgressMediator(this.controlBar)),null!=this.facade.config.logo&&this.facade.registerMediator(new LogoMediator(this.controlBar)),this.facade.registerMediator(new GoLiveMediator(this.controlBar)),a=this.create(\"separator\",this.controlBar)},ControlsMediator.prototype.listNotificationInterests=function(){return[Notifications.READY,Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE]},ControlsMediator.prototype.handleNotification=function(a){var b,c,d;switch(c=a.getName(),b=a.getBody(),c){case Notifications.READY:(null!=(d=b.fullscreen)?d.enabled:void 0)!==!1&&this.facade.registerMediator(new FullScreenMediator(this.controlBar));break;case Notifications.ADD_CONTROL_STATE:this.classList.add(b);break;case Notifications.REMOVE_CONTROL_STATE:this.classList.remove(b);break;case Notifications.ADD_CONTROL:this.controlBar.appendChild(b);break;case Notifications.REMOVE_CONTROL:this.controlBar.contains(b)&&this.controlBar.removeChild(b)}},AMP.create=function(a,b,c){var d,e;if(\"string\"==typeof a&&(a=document.getElementById(a)),null==a)throw new Error(\"[AMP ERROR] Invalid container. Could not find DOM element with id: \"+a);return b=b instanceof Config?b:Config.create(b),Logger.enable(b.debug),e=this.getVersion(),null==a.dataset&&(a.dataset={}),a.dataset[\"amp.version\"]=e,Logger.log(\"[AMP] \"+e),d=this.createPlayer(b,a),d.onready=c,d.initialize(b),a.amp=d,d},AMP.createPlayer=function(a,b){var c;return c=this.players[a.mode],null!=c&&(c=new c(b)),c},AMP.getVersion=function(){return this.VERSION},AMP.VERSION=\"AMP Premier - ABC News v2.53.0.0004\",AMP.defaults=new AMPConfig,AMP.plugins=[],AMP.players={},AMP.loadDefaults=function(a,b,c,d){null==d&&(d=!1),null!=b&&this.defaults.addEventListener(\"load\",b),null!=c&&this.defaults.addEventListener(\"error\",c),this.defaults.load(a,d)},AMP.getPlaybackMode=function(){return Utils.getPlaybackMode()},AMP.registerPlayer=function(a,b){this.players[a]=b},AMP.registerPlugin=function(a,b,c){var d;null==(d=this.plugins)[a]&&(d[a]={}),this.plugins[a][b]=c},AMP.resourceManager=null,AMP.getResourceManager=function(){return null==this.resourceManager&&(this.resourceManager=new ResourceManager),this.resourceManager},AMP.addResource=function(a,b,c){return this.getResourceManager().add(a,b,c)},AMP.addResources=function(a,b,c){return this.getResourceManager().addResources(a,b,c)},AMP.getResource=function(a){return this.getResourceManager().item(a)},AMP.removeResource=function(a){return this.getResourceManager().remove(a)},AMP.registerPlayer(\"html\",HTMLPlayer),AMP.registerPlayer(\"flash\",FlashPlayer),AMP.registerPlayer(\"none\",InstallPlayer),AMP.registerPlayer(\"external\",ExternalPlayer),__extends(PlayOverlayWrapper,PluginWrapper),PlayOverlayWrapper.NAME=\"PlayOverlayWrapper\",PlayOverlayWrapper.prototype.createFlashVars=function(a){return a.show_play_button_overlay=null==this.config.enabled||this.config.enabled,a},AMP.registerPlugin(\"playoverlay\",\"flash\",PlayOverlayWrapper),__extends(PlayOverlayMediator,OverlayMediator),PlayOverlayMediator.prototype.componentName=\"play\",PlayOverlayMediator.prototype.onclick=function(a){return a.stopImmediatePropagation(),a.preventDefault(),this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE),!1},__extends(ControlsPlugin,Plugin),ControlsPlugin.prototype.moduleName=\"controls\",ControlsPlugin.prototype.createFramework=function(){return this.config.native===!0?(this.player.getMediaElement().controls=!0,this.player.sendNotification(Notifications.ADD_APPLICATION_STATE,\"controls-native\"),this.registerCommand(Notifications.MEDIA_VALIDATED,ControlsMediaValidatedCommand),this.registerCommand(AdNotifications.BREAK_START,ControlsAdBreakStartCommand),this.registerCommand(AdNotifications.BREAK_END,ControlsAdBreakEndCommand),this.registerCommand(Notifications.PLAY_REQUEST,ControlsStartedCommand),void(this.createView=function(){})):void ControlsPlugin.__super__.createFramework.call(this)},ControlsPlugin.prototype.applyClickHandler=function(a){null==a&&(a=!0),this.player.getMediaElement().onclick=a?this.clickHandler.bind(this):null,this.player.getMediaElement().onplay=a?this.clickHandler.bind(this):null},ControlsPlugin.prototype.clickHandler=function(a){this.sendNotification(UserNotifications.TOGGLE_PLAY_PAUSE,!0)},ControlsPlugin.prototype.createController=function(){ControlsPlugin.__super__.createController.call(this),this.registerCommand(Notifications.START,ControlsStartCommand),this.registerCommand(Notifications.PLAY,ControlsPlayCommand),this.registerCommand(Notifications.PAUSE,ControlsPauseCommand),this.registerCommand(Notifications.ACTIVE_STATE_CHANGE,ControlsActiveStateChangeCommand),this.registerCommand(AdNotifications.BREAK_START,ControlsAdBreakStartCommand),this.registerCommand(AdNotifications.BREAK_END,ControlsAdBreakEndCommand)},ControlsPlugin.prototype.createModel=function(){this.proxy=new ControlsProxy(this.config),this.registerProxy(this.proxy)},ControlsPlugin.prototype.createView=function(){this.registerMediator(new ControlsMediator)},ControlsPlugin.prototype.listNotificationInterests=function(){var a,b;return function(){var c;c=[];for(a in PanelNotifications)b=PanelNotifications[a],c.push(b);return c}().concat([Notifications.MEDIA_CHANGE,Notifications.TIME_UPDATE,Notifications.DURATION_CHANGE,Notifications.PROGRESS,Notifications.ENDED,Notifications.ADD_CUE_POINTS,Notifications.REMOVE_CUE_POINTS,Notifications.DISABLE_FULL_SCREEN,Notifications.ENABLE_FULL_SCREEN,Notifications.READY,Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE,Notifications.ACTIVE_STATE_CHANGE,Notifications.START,Notifications.PLAY,Notifications.PAUSE,AdNotifications.BREAK_START,AdNotifications.BREAK_END,Notifications.CHANGE_MEDIA,Notifications.DISPLAY_TIME,Notifications.MEDIA_VALIDATED,Notifications.STARTED,Notifications.PLAY_REQUEST,Notifications.IS_LIVE])},ControlsPlugin.prototype.listNotificationPublications=function(){return ControlsPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.CHANGE_ACTIVE_STATE,Notifications.TOGGLE_FULL_SCREEN,UserNotifications.SEEK,Notifications.TOGGLE_ACTIVE,UserNotifications.TOGGLE_PLAY_PAUSE])},ControlsPlugin.prototype.setMode=function(a){return this.proxy.setMode(a),a},ControlsPlugin.prototype.getMode=function(){return this.proxy.getMode()},ControlsPlugin.prototype.setAutoHide=function(a){return this.proxy.setAutoHide(a),a},ControlsPlugin.prototype.getAutoHide=function(){return this.proxy.getAutoHide()},AMP.registerPlugin(\"controls\",\"html\",ControlsPlugin),AMP.registerPlugin(\"controls\",\"flash\",ControlsWrapper),AMP.registerPlugin(\"controls\",\"external\",ControlsPlugin),__extends(AdContentStartedCommand,PluginCommand),AdContentStartedCommand.prototype.execute=function(a){this.proxy.contentStarted()},__extends(AdContentEndedCommand,PluginCommand),AdContentEndedCommand.prototype.execute=function(a){this.proxy.contentEnded()},__extends(PluginEventCommand,PluginCommand),PluginEventCommand.prototype.dispatchEvent=function(a,b){var c,d,e;\"string\"!=typeof a&&(b=a.getBody(),null==b&&(b={}),a=a.getName()),d=\"function\"==typeof(e=this.plugin).getFeatureName?e.getFeatureName():void 0,null!=d&&(a=a.replace(new RegExp(\"^(\"+d+\")\"),\"\")),d=this.plugin.getModuleName(),a=a.replace(new RegExp(\"^(\"+d+\")\"),\"\"),c=new Event(a,b),this.sendNotification(Notifications.DISPATCH_EVENT,c)},PluginEventCommand.prototype.dispatchEventAfterCommand=function(a,b){setTimeout(this.dispatchEvent.bind(this,a,b),0)},PluginEventCommand.prototype.execute=function(a){this.dispatchEvent(a)},__extends(MediaAnalyticsChangeMediaCommand,PluginCommand),MediaAnalyticsChangeMediaCommand.prototype.execute=function(a){this.proxy.setMedia(a.getBody())},__extends(MediaAnalyticsAdBreakStartCommand,puremvc.SimpleCommand),MediaAnalyticsAdBreakStartCommand.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!0},__extends(MediaAnalyticsAdBreakEndCommand,puremvc.SimpleCommand),MediaAnalyticsAdBreakEndCommand.prototype.execute=function(a){this.facade.player.getMediaElement().dataset.isad=!1},__extends(MediaAnalyticsAdLoadedCommand,puremvc.SimpleCommand),MediaAnalyticsAdLoadedCommand.prototype.execute=function(a){var b,c;try{c=a.getBody(),b={adDuration:c.duration,adPartnerId:c.partner,adTitle:c.title,adId:c.id},\"function\"==typeof akamaiHandleAdLoaded&&akamaiHandleAdLoaded(b)}catch(a){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",a)}},__extends(MediaAnalyticsAdStartCommand,PluginCommand),MediaAnalyticsAdStartCommand.prototype.execute=function(a){try{\"function\"==typeof akamaiHandleAdStarted&&akamaiHandleAdStarted()}catch(a){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",a)}},__extends(MediaAnalyticsAdTimeUpdateCommand,PluginCommand),MediaAnalyticsAdTimeUpdateCommand.prototype.execute=function(a){var b,c;b=a.getBody(),c=Math.round(b.currentTime/b.duration*100);try{c>=25&&this.proxy.percent<25?(this.facade.logger.debug(\"MediaAnalytics: First Quartile\"),\"function\"==typeof akamaiHandleAdFirstQuartile&&akamaiHandleAdFirstQuartile()):c>=50&&this.proxy.percent<50?(this.facade.logger.debug(\"MediaAnalytics: Second Quartile\"),\"function\"==typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):c>=75&&this.proxy.percent<75&&(this.facade.logger.debug(\"MediaAnalytics: Third Quartile\"),\"function\"==typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile())}catch(a){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",a)}this.proxy.percent=c},__extends(MediaAnalyticsAdEndCommand,puremvc.SimpleCommand),MediaAnalyticsAdEndCommand.prototype.execute=function(a){try{\"function\"==typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted()}catch(a){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",a)}this.facade.player.getMediaElement().dataset.isad=!0},__extends(MediaAnalyticsSetDimensionsCommand,PluginCommand),MediaAnalyticsSetDimensionsCommand.prototype.execute=function(a){var b;b=a.getBody(),this.proxy.setDimensions(b)},__extends(MediaAnalyticsContentChangedCommand,PluginCommand),MediaAnalyticsContentChangedCommand.prototype.execute=function(a){this.proxy.updatedMedia(a.getBody())},__extends(AdPlayCommand,PluginCommand),AdPlayCommand.prototype.execute=function(a){return this.sendNotification(Notifications.PLAY_REQUEST),this.proxy.getStarted()===!1?void this.sendNotification(Notifications.START,!0):(this.proxy.play(),void this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PLAYING))},__extends(AdPauseCommand,PluginCommand),AdPauseCommand.prototype.execute=function(a){this.proxy.pause(),this.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PAUSED)},__extends(AdTogglePlayPauseCommand,PluginEventCommand),AdTogglePlayPauseCommand.prototype.execute=function(a){var b;b=this.proxy.getPaused()||this.proxy.getStarted()===!1?Notifications.PLAY:Notifications.PAUSE,this.sendNotification(b,!0)},__extends(AdVolumeChangeCommand,PluginEventCommand),AdVolumeChangeCommand.prototype.execute=function(a){this.proxy.setVolume(a.getBody()),AdVolumeChangeCommand.__super__.execute.call(this,a)},__extends(AdStartCommand,PluginEventCommand),AdStartCommand.prototype.execute=function(a){this.sendNotification(Notifications.PLAY_REQUEST),this.playback.initialized===!1&&this.player.sendNotification(Notifications.INITIALIZED),this.proxy.start(),this.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PLAYING),AdStartCommand.__super__.execute.call(this,a)},__extends(MediaAnalyticsWrapper,PluginWrapper),MediaAnalyticsWrapper.NAME=\"MediaAnalyticsWrapper\",MediaAnalyticsWrapper.prototype.flashPlugins=[{id:\"OSMFCSMALoader\",host:\"osmf\",main:\"com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo\",type:\"application/x-shockwave-flash\"}],MediaAnalyticsWrapper.prototype.listNotificationInterests=function(){return MediaAnalyticsWrapper.__super__.listNotificationInterests.call(this).concat([Notifications.MEDIA_CHANGE,MediaAnalyticsNotifications.SET_DIMENSIONS])},MediaAnalyticsWrapper.prototype.createFlashVars=function(a){var b,c,d,e,f;if(b=null!=(e=this.player.config)&&null!=(f=e.media)?f.mediaanalytics:void 0,null!=b)for(c in b)d=b[c],a[\"report_\"+c]=d;return a},MediaAnalyticsWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j,k;if(b=a.firstChild,f=a.getElementsByTagName(\"metrics\")[0],null==f&&(f=a.createElement(\"metrics\"),b.appendChild(f)),i=a.createElement(\"vendor\"),i.setAttribute(\"id\",\"akamai\"),f.appendChild(i),null!=this.config.config&&(d=a.createElement(\"property\"),d.setAttribute(\"key\",\"MEDIA_ANALYTICS_BEACON\"),d.appendChild(XMLUtils.createTextContent(a,this.config.config)),i.appendChild(d),g=(null!=(j=this.config.plugin)?j.swf:void 0)||\"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf\",d=a.createElement(\"property\"),d.setAttribute(\"key\",\"MEDIA_ANALYTICS_PLUGIN_PATH\"),d.appendChild(XMLUtils.createTextContent(a,g)),i.appendChild(d)),null!=this.config.dimensions){c=a.createElement(\"property\"),c.setAttribute(\"key\",\"dimensions\"),i.appendChild(c),k=this.config.dimensions;for(e in k)h=k[e],d=a.createElement(\"property\"),d.setAttribute(\"key\",e),d.appendChild(XMLUtils.createTextContent(a,h)),c.appendChild(d)}return a},MediaAnalyticsWrapper.prototype.handleNotification=function(a){var b,c,d,e,f,g,h;switch(MediaAnalyticsWrapper.__super__.handleNotification.call(this,a),e=a.getName(),b=a.getBody(),e){case Notifications.MEDIA_CHANGE:if(d=b,null!=(null!=(g=d.mediaanalytics)?g.dimensions:void 0)){d.dimensions=[],h=d.mediaanalytics.dimensions;for(c in h)f=h[c],d.dimensions.push({key:c,value:f})}break;case MediaAnalyticsNotifications.SET_DIMENSIONS:this.setDimensions(b)}},MediaAnalyticsWrapper.prototype.setDimensions=function(a){return this.player.mediaElement.setPlayerProperty(\"maDimensions\",a),a};var IMANotifications={INITIALIZED:\"ima/initialize\",ADD_OVERLAY:\"ima/addOverlay\",REMOVE_OVERLAY:\"ima/removeOverlay\"};AdVO.prototype.id=null,AdVO.prototype.title=null,AdVO.prototype.duration=NaN,AdVO.prototype.position=NaN,AdVO.prototype.totalAds=NaN,AdVO.prototype.type=null,AdVO.prototype.partner=null,AdVO.prototype.advertiser=null,AdVO.prototype.companions=null,AdVO.prototype.metadata=null,AdVO.prototype.request=null,AdVO.prototype.error=null,AdVO.prototype.currentTime=null,__extends(IMAOverlayProxy,DataBoundConfigurationProxy),IMAOverlayProxy.prototype.configurationName=\"imaoverlay\",IMAOverlayProxy.NAME=\"IMAOveralyProxy\",IMAOverlayProxy.prototype.defaults={adTagUrl:null,duration:15,interval:30,delay:30},IMAOverlayProxy.prototype.durationTimer=null,IMAOverlayProxy.prototype.intervalTimer=null,IMAOverlayProxy.prototype.delayTimer=null,IMAOverlayProxy.prototype.stop=function(){clearTimeout(this.durationTimer),clearTimeout(this.delayTimer),clearTimeout(this.intervalTimer)},IMAOverlayProxy.prototype.play=function(){var a=this;this.stop(),this.delayTimer=setTimeout(function(){return a.requestAd()},1e3*this.value.delay)},IMAOverlayProxy.prototype.requestAd=function(){var a,b;a=this.getValue(\"adTagUrl\"),null!=a&&(a=a.replace(\"[timestamp]\",(new Date).getTime()),a=a.replace(\"__random-number__\",(new Date).getTime())),b=Utils.get(a,{withCredentials:!0,onload:this.vastLoadHandler.bind(this),onerror:this.error.bind(this)},!1)},IMAOverlayProxy.prototype.vastLoadHandler=function(a){var b,c,d,e,f,g;if(g=a.target.responseXML,null!=g)try{b=g.querySelector(\"NonLinear\"),null!=b?(f=null!=g.querySelector(\"Impression\")?g.querySelector(\"Impression\").textContent:\"\",d=null!=g.querySelector(\"Tracking[event=creativeView]\")?g.querySelector(\"Tracking[event=creativeView]\").textContent:\"\",c=null!=b.querySelector(\"NonLinearClickThrough\")?b.querySelector(\"NonLinearClickThrough\").textContent:\"\",e={src:b.querySelector(\"StaticResource\").textContent,width:b.getAttribute(\"width\"),height:b.getAttribute(\"height\"),tracking:[f,d],href:c},this.displayAd(e)):this.error(\"No overlay was returned\")}catch(a){this.error(a)}},IMAOverlayProxy.prototype.error=function(a){this.facade.logger.error(\"[AMP IMA OVERLAY ERROR]\",a),this.stop()},IMAOverlayProxy.prototype.displayAd=function(a){var b=this;this.sendNotification(IMANotifications.ADD_OVERLAY,a),this.durationTimer=setTimeout(function(){return b.sendNotification(IMANotifications.REMOVE_OVERLAY),b.intervalTimer=setTimeout(function(){return b.requestAd()},1e3*b.value.interval)},1e3*this.value.duration)},__extends(AdProxy,PluginProxy),AdProxy.NAME=PluginProxy.NAME,AdProxy.prototype.inprogress=!1,AdProxy.prototype.paused=!1,AdProxy.prototype.started=!1,AdProxy.prototype.adVO=null,AdProxy.prototype.contextName=\"ad\",AdProxy.prototype.container=null,AdProxy.prototype.getContextData=function(){return this.adVO||{}},AdProxy.prototype.setCompanions=function(a){return this.adVO.companions=a,this.sendNotification(AdNotifications.AD_COMPANION,this.adVO),a},AdProxy.prototype.getCompanions=function(){var a;return null!=(a=this.adVO)?a.companions:void 0},AdProxy.prototype.getInProgress=function(){return this.inprogress},AdProxy.prototype.setInProgress=function(a){return this.inprogress=a,a},AdProxy.prototype.getStarted=function(){return this.started},AdProxy.prototype.setStarted=function(a){return this.started=a,a},AdProxy.prototype.getPaused=function(){return this.paused},AdProxy.prototype.setPaused=function(a){return this.paused=a,a},AdProxy.prototype.play=function(){this.setPaused(!1),this.sendNotification(AdNotifications.AD_PLAY,this.adVO)},AdProxy.prototype.pause=function(){this.setPaused(!0),this.sendNotification(AdNotifications.AD_PAUSE,this.adVO)},AdProxy.prototype.breakStart=function(){this.setInProgress(!0)},AdProxy.prototype.breakEnd=function(){this.setInProgress(!1),this.reset()},AdProxy.prototype.error=function(a,b){var c;null==b&&(b=!0),c=(\"function\"==typeof a.getMessage?a.getMessage():void 0)||a.message,this.facade.logger.error(\"[AMP AD ERROR]\",\"\"+c+\" Skipping ad content.\",a),null==this.adVO&&(this.adVO={}),this.adVO.error=a,this.sendNotification(AdNotifications.AD_ERROR,this.adVO),b===!0&&this.endBreak()},AdProxy.prototype.engage=function(a){this.getEnabled()!==!1&&(this.setStarted(!1),this.getInProgress()&&(this.reset(),this.facade.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"ad-mode\")),this.engageAds())},AdProxy.prototype.engageAds=function(){this.facade.player.removeCommand(Notifications.START),this.facade.player.removeCommand(Notifications.PLAY),this.facade.player.removeCommand(Notifications.PAUSE),this.facade.player.removeCommand(Notifications.ENDED),this.facade.player.removeCommand(UserNotifications.PLAY),this.facade.player.removeCommand(UserNotifications.PAUSE),this.facade.player.removeCommand(UserNotifications.TOGGLE_PLAY_PAUSE),this.facade.isFullscreenDevice()&&this.facade.player.removeCommand(Notifications.CHANGE_DURATION),this.facade.removeCommand(Notifications.STARTED),this.facade.removeCommand(Notifications.ENDED),this.facade.registerCommand(Notifications.START,AdStartCommand),this.facade.registerCommand(Notifications.PLAY,AdPlayCommand),this.facade.registerCommand(Notifications.PAUSE,AdPauseCommand),this.facade.registerCommand(UserNotifications.PLAY,AdPlayCommand),this.facade.registerCommand(UserNotifications.PAUSE,AdPauseCommand),this.facade.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE,AdTogglePlayPauseCommand),this.facade.registerCommand(Notifications.VOLUME_CHANGE,AdVolumeChangeCommand)},AdProxy.prototype.reset=function(){this.facade.removeCommand(Notifications.START),this.facade.removeCommand(Notifications.PLAY),this.facade.removeCommand(Notifications.PAUSE),this.facade.removeCommand(UserNotifications.PLAY),this.facade.removeCommand(UserNotifications.PAUSE),this.facade.removeCommand(UserNotifications.TOGGLE_PLAY_PAUSE),this.facade.removeCommand(Notifications.VOLUME_CHANGE),this.facade.player.registerCommand(Notifications.START,StartCommand),this.facade.player.registerCommand(Notifications.PLAY,PlayCommand),this.facade.player.registerCommand(Notifications.PAUSE,PauseCommand),this.facade.player.registerCommand(Notifications.ENDED,EndedCommand),this.facade.player.registerCommand(UserNotifications.PLAY,PlayCommand),this.facade.player.registerCommand(UserNotifications.PAUSE,PauseCommand),this.facade.player.registerCommand(UserNotifications.TOGGLE_PLAY_PAUSE,TogglePlayPauseCommand),this.facade.isFullscreenDevice()&&this.facade.player.registerCommand(Notifications.CHANGE_DURATION,ChangeDurationCommand),this.facade.registerCommand(Notifications.STARTED,AdContentStartedCommand),this.facade.registerCommand(Notifications.ENDED,AdContentEndedCommand)},AdProxy.prototype.requestAd=function(){},AdProxy.prototype.startBreak=function(){return this.setStarted(!0),this.sendNotification(AdNotifications.BREAK_START,this.adVO),this.getEnabled()!==!1||(this.endBreak(),!1)},AdProxy.prototype.endBreak=function(){this.sendNotification(AdNotifications.BREAK_END,this.adVO)},AdProxy.prototype.start=function(){this.startBreak()},AdProxy.prototype.contentPlay=function(){this.facade.player.sendNotification(Notifications.PLAY,!0)},AdProxy.prototype.contentPause=function(){this.facade.player.mediaElement.pause()},AdProxy.prototype.contentStarted=function(){},AdProxy.prototype.contentSeek=function(a){},AdProxy.prototype.contentEnded=function(){},AdProxy.prototype.setVolume=function(a){},AdProxy.prototype.getVolume=function(){},AdProxy.prototype.terminateAd=function(){},AdProxy.prototype.terminateAllAds=function(){},__extends(IMAProxy,AdProxy),IMAProxy.NAME=AdProxy.NAME,IMAProxy.prototype.defaults={adTagUrl:null,overlay:null,width:null,height:null,maxBitrate:-1,ppid:null,companions:null,logEventsEnabled:!1},IMAProxy.prototype.key=\"ima\",IMAProxy.prototype.intervals=null,IMAProxy.prototype.adDisplayContainer=null,IMAProxy.prototype.adDisplayContainerInitialized=!1,IMAProxy.prototype.adsLoader=null,IMAProxy.prototype.adsRenderingSettings=null,IMAProxy.prototype.adsManagerLoaded=!1,IMAProxy.prototype.adsManager=null,IMAProxy.prototype.cuepoints=null,IMAProxy.prototype.adLoaded=!1,IMAProxy.prototype.playWhenLoaded=!1,IMAProxy.prototype.contentHasEnded=!1,IMAProxy.prototype.adTagUrl=null,IMAProxy.prototype.viewMode=null,IMAProxy.prototype.playbackCore=null,IMAProxy.prototype.loadedmetadata=null,IMAProxy.prototype.setEnabled=function(a){var b;return IMAProxy.__super__.setEnabled.call(this,a),a===!1&&(null!=(b=this.adsManager)&&\"function\"==typeof b.destroy&&b.destroy(),this.getInProgress()&&this.contentPlay()),a},IMAProxy.prototype.onLoadedMetadata=function(a){a.target.removeEventListener(\"loadedmetadata\",this.loadedmetadata),this.canPlay()&&this.playWhenLoaded===!0&&this.startAd()},IMAProxy.prototype.initialize=function(){},IMAProxy.prototype.ready=function(){var a;this.viewMode=google.ima.ViewMode.NORMAL,window.addEventListener(\"resize\",this.resize.bind(this)),null!=this.config.vpaidAllowed&&google.ima.settings.setVpaidAllowed(this.config.vpaidAllowed),null!=this.config.vpaidMode&&null!=(a=google.ima.ImaSdkSettings.VpaidMode[this.config.vpaidMode.toUpperCase()])&&google.ima.settings.setVpaidMode(a),\nthis.adDisplayContainer=this.createPlugin(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)},IMAProxy.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container)},IMAProxy.prototype.engage=function(a){var b;null==a&&(a=!0),this.getEnabled()!==!1&&(IMAProxy.__super__.engage.call(this),this.adsManagerLoaded===!0&&this.contentHasEnded===!1&&null!=(b=this.adsManager)&&\"function\"==typeof b.destroy&&b.destroy(),this.adsManagerLoaded=!1,this.contentHasEnded=!1,this.adsManagerLoaded=!1,this.playWhenLoaded=!1)},IMAProxy.prototype.setVolume=function(a){var b;return null!=(b=this.adsManager)&&b.setVolume(a),a},IMAProxy.prototype.getVolume=function(){var a;return null!=(a=this.adsManager)?a.getVolume():void 0},IMAProxy.prototype.requestAd=function(){var a,b,c,d,e,f,g;return this.sendNotification(AdNotifications.REQUEST,this.adVO),e=this.facade.player.getViewComponent().clientWidth,c=this.facade.player.getViewComponent().clientHeight,a=new google.ima.AdsRequest,this.adTagUrl=this.getValue(\"adTagUrl\"),b=this.getValue(\"adsResponse\"),null!=b&&\"\"!==b?a.adsResponse=Utils.read(b,null,Utils.mimeTypes.txt):a.adTagUrl=this.adTagUrl,null==a.adsResponse&&null==a.adTagUrl?void this.onAdError(\"No valid adTagUrl or adsResponse provided.\"):(a.linearAdSlotWidth=e,a.linearAdSlotHeight=c,a.nonLinearAdSlotWidth=(null!=(f=this.value.overlay)?f.width:void 0)||e,a.nonLinearAdSlotHeight=(null!=(g=this.value.overlay)?g.height:void 0)||c,d=this.adsLoader.getSettings(),null!=this.config.ppid&&d.setPpid(this.getValue(\"ppid\")),void this.adsLoader.requestAds(a))},IMAProxy.prototype.requestOverlay=function(){var a,b;b=this.value.overlay,null!=b&&(a=new google.ima.AdsRequest,a.adTagUrl=b.adTagUrl,a.nonLinearAdSlotWidth=b.width||300,a.nonLinearAdSlotHeight=b.height||50,this.adsLoader.requestAds(a))},IMAProxy.prototype.start=function(a){var b;return null==a&&(a=!0),a===!0?(this.playbackCore=this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore(),b=this.facade.player.getMediaElement(),this.playbackCore.setEnabled(!1),b.src=this.playbackCore.getSrc(),b.addEventListener(\"loadedmetadata\",this.loadedmetadata),b.load()):this.engage(),IMAProxy.__super__.start.call(this)!==!1&&(this.isLiveMidroll=a===!1&&\"live\"===this.facade.player.retrieveProxy(MediaProxy.NAME).getTemporalType(),this.adDisplayContainerInitialized!==!0&&(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0),void(this.canPlay()===!0&&a===!0?this.startAd():(this.playWhenLoaded=!0,this.requestAd())))},IMAProxy.prototype.canPlay=function(){return this.adsManagerLoaded===!0},IMAProxy.prototype.startAd=function(){var a;this.playWhenLoaded=!1;try{a=this.facade.player.retrieveProxy(PlaybackProxy.NAME).getVolume(),this.setVolume(a),null==this.viewMode&&(this.viewMode=google.ima.ViewMode.NORMAL),this.adsManager.init(this.facade.player.getViewComponent().clientWidth,this.facade.player.getViewComponent().clientHeight,this.viewMode),this.adsManager.start()}catch(a){this.error(a)}},IMAProxy.prototype.resize=function(a){var b;null!=a&&(this.viewMode=a===DisplayState.FULL_SCREEN?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),null!=(b=this.adsManager)&&b.resize(this.container.container.clientWidth,this.container.container.clientHeight,this.viewMode)},IMAProxy.prototype.onAdsManagerLoaded=function(a){var b,c;this.adsRenderingSettings.bitrate=this.getValue(\"maxBitrate\"),this.adsRenderingSettings.autoAlign=!0,this.adsRenderingSettings.useStyledNonLinearAds=!0,null!=(c=this.adsManager)&&\"function\"==typeof c.destroy&&c.destroy(),this.adsManager=a.getAdsManager(this.facade.player.mediaElement,this.adsRenderingSettings),this.facade.player.sendNotification(AdNotifications.AD_MANAGER_LOADED,{adManager:this.adsManager,viewMode:google.ima.ViewMode.NORMAL,adContainer:this.facade.getViewComponent()}),this.adsManagerLoaded=!0,this.cuePoints=this.adsManager.getCuePoints(),this.facade.player.sendNotification(Notifications.ADD_CUE_POINTS,this.cuePoints),b=this.onAdEvent.bind(this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.contentPause.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.contentPlay.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUME,this.onAdResumed.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdClick.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,b),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,b),this.getValue(\"logEventsEnabled\")===!0&&this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,b),this.canPlay()&&this.playWhenLoaded===!0&&this.startAd()},IMAProxy.prototype.onAdClick=function(a){return(null!=a?a.getAd().isLinear():void 0)===!1?void this.facade.player.sendNotification(Notifications.PAUSE):(this.getPaused()||this.pause(),void this.sendNotification(AdNotifications.AD_CLICKED,this.adVO))},IMAProxy.prototype.onAdPaused=function(a){this.setPaused(!0),this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PAUSED),this.facade.player.sendNotification(Notifications.CHANGE_ACTIVE_STATE,ActiveState.ACTIVE),this.facade.player.sendNotification(AdNotifications.AD_PAUSED,this.adVO)},IMAProxy.prototype.onAdResumed=function(a){this.setPaused(!1),this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PLAYING)},IMAProxy.prototype.onAdEvent=function(a){var b,c,d,e,f,g,h,i,j;switch(b=a.getAd(),null!=this.adVO&&(null!=b&&(b.wrapperAdIds=\"function\"==typeof b.getWrapperAdIds?b.getWrapperAdIds():void 0,b.wrapperAdSystems=\"function\"==typeof b.getWrapperAdSystems?b.getWrapperAdSystems():void 0),this.adVO.metadata=b),a.type){case google.ima.AdEvent.Type.IMPRESSION:this.sendNotification(AdNotifications.IMPRESSION,this.adVO);break;case google.ima.AdEvent.Type.LOADED:b.isLinear()?(f=b.getAdPodInfo().getPodIndex(),g=0===f?\"preroll\":f===-1?\"postroll\":\"midroll\",this.adVO=new AdVO(b.getAdId(),b.getAdId(),b.getDuration(),f,g,\"ima\",null,null,this.adTagUrl,b,b.getAdPodInfo().getTotalAds()),(!this.getInProgress()&&\"midroll\"===g||\"postroll\"===g)&&(this.startBreak(),this.engageAds()),this.resize(),this.sendNotification(AdNotifications.AD_LOADED,this.adVO),this.sendNotification(AdNotifications.AD_DURATION_CHANGE,this.adVO)):(this.facade.player.sendNotification(Notifications.ADD_APPLICATION_STATE,\"ad-overlaymode\"),this.contentPlay());break;case google.ima.AdEvent.Type.STARTED:b.isLinear()&&(this.adVO.position=b.getAdPodInfo().getAdPosition(),this.sendNotification(AdNotifications.AD_STARTED,this.adVO),this.intervals.push(setInterval(this.onAdTimeUpdate.bind(this),300)),this.facade.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.PLAYING),this.sendNotification(AdNotifications.AD_PLAY,this.adVO));try{for(d=[],e=(\"function\"==typeof this.getConfigurationData&&null!=(j=this.getConfigurationData())?j.companions:void 0)||[],h=0,i=e.length;h<i;h++)c=e[h],d=d.concat(b.getCompanionAds(c.width,c.height));(null!=d?d.length:void 0)>0&&this.setCompanions(d)}catch(a){this.facade.logger.error(\"[AMP IMA ERROR]\",\"Could not retrieve companion ads:\",a)}break;case google.ima.AdEvent.Type.COMPLETE:b.isLinear()&&this.sendNotification(AdNotifications.AD_ENDED,this.adVO);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.sendNotification(AdNotifications.FIRST_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.MIDPOINT:this.sendNotification(AdNotifications.MIDPOINT,this.adVO);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.sendNotification(AdNotifications.THIRD_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.LOG:this.sendNotification(AdNotifications.LOG,this.adVO);break;case google.ima.AdEvent.Type.SKIPPED:this.sendNotification(AdNotifications.SKIPPED,this.adVO);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.getInProgress()===!0&&this.endBreak()}},IMAProxy.prototype.onAdTimeUpdate=function(a){var b;b=this.adsManager.getRemainingTime(),this.sendNotification(AdNotifications.AD_TIME_UPDATE,this.adVO.duration-b),this.sendNotification(AdNotifications.AD_TIME_REMAINING,b)},IMAProxy.prototype.onAdError=function(a){var b;b=(null!=a&&\"function\"==typeof a.getError?a.getError():void 0)||a,this.error(b),this.contentPlay()},IMAProxy.prototype.play=function(){var a;IMAProxy.__super__.play.call(this);try{null!=(a=this.adsManager)&&a.resume(),this.sendNotification(AdNotifications.AD_RESUME)}catch(a){this.facade.logger.error(\"[AMP IMA ERROR]\",\"resume\",a)}},IMAProxy.prototype.pause=function(){IMAProxy.__super__.pause.call(this);try{this.adsManager.pause()}catch(a){this.facade.logger.error(\"[AMP IMA ERROR]\",\"pause\",a)}},IMAProxy.prototype.breakEnd=function(){var a,b,c,d,e;for(e=this.intervals,c=0,d=e.length;c<d;c++)a=e[c],clearInterval(this.intervals.pop());IMAProxy.__super__.breakEnd.call(this),b=this.facade.retrieveProxy(IMAOverlayProxy.NAME),null!=b&&b.play()},IMAProxy.prototype.setCompanions=function(a){var b,c,d,e,f;for(c=[],d=0,e=a.length;d<e;d++)b=a[d],c.push({data:b.getContent(),type:null!=(f=b.getContentType())?f.toLowerCase():void 0,width:b.getWidth(),height:b.getHeight(),metadata:b});return IMAProxy.__super__.setCompanions.call(this,c),a},IMAProxy.prototype.contentPause=function(){return this.sendNotification(Notifications.DISABLE_VIDEO_EVENTS,[\"pause\",\"ended\",\"durationchange\",\"error\"]),this.isLiveMidroll===!0?void(this.facade.player.getMediaElement().volume=0):void IMAProxy.__super__.contentPause.call(this)},IMAProxy.prototype.contentPlay=function(){var a,b;if(this.getInProgress()===!0&&this.endBreak(),this.sendNotification(Notifications.ENABLE_VIDEO_EVENTS,[\"pause\",\"ended\",\"durationchange\",\"error\"]),\"postroll\"===(null!=(a=this.adVO)?a.type:void 0))return this.facade.player.sendNotification(Notifications.ENDED),void this.facade.player.sendNotification(Notifications.MEDIA_SEQUENCE_ENDED,{isAd:!0});if(this.isLiveMidroll===!0){if(this.facade.player.getMediaElement().volume=this.facade.player.retrieveProxy(ApplicationStateProxy.NAME).getVolume(),\"ipad\"!==Utils.getDevice())return;this.facade.player.getMediaElement().load()}IMAProxy.__super__.contentPlay.call(this),\"midroll\"===(null!=(b=this.adVO)?b.type:void 0)&&\"desktop\"===Utils.getDevice()&&this.facade.player.setCurrentTime(Math.floor(this.facade.player.getCurrentTime()))},IMAProxy.prototype.contentEnded=function(){var a;this.contentHasEnded=!0;try{null!=(a=this.adsLoader)&&\"function\"==typeof a.contentComplete&&a.contentComplete()}catch(a){this.facade.logger.error(\"[AMP IMA ERROR]\",\"contentComplete\",a)}},IMAProxy.prototype.terminateAd=function(){var a;try{null!=(a=this.adsManager)&&a.stop()}catch(a){this.facade.logger.error(\"[AMP IMA ERROR]\",\"terminateAd\",a)}this.endBreak(),this.contentPlay()},IMAProxy.prototype.terminateAllAds=function(){var a;try{null!=(a=this.adsManager)&&a.destroy()}catch(a){this.facade.logger.error(\"[AMP IMA ERROR]\",\"terminateAllAds\",a)}this.endBreak(),this.contentPlay()},IMAProxy.prototype.destroy=function(){var a;null!=(a=this.adsManager)&&\"function\"==typeof a.destroy&&a.destroy()},__extends(MediaAnalyticsProxy,PluginProxy),MediaAnalyticsProxy.NAME=ModuleProxy.NAME,MediaAnalyticsProxy.prototype.defaults={config:null,dimensions:null},MediaAnalyticsProxy.prototype.ready=function(){try{window.akamaiSetVideoObject(this.facade.player.getMediaElement())}catch(a){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",\"Could not set video tag\",a)}},MediaAnalyticsProxy.prototype.setDimensions=function(a){var b,c,d;b=this.configurationData.source.dimensions;for(c in a)d=a[c],null!=d&&(b[c]=d);return this.configurationData.parse(this.configurationData.source),this.applyDimensions(b),a},MediaAnalyticsProxy.prototype.applyDimensions=function(a){var b,c;if(null!=window.setAkamaiMediaAnalyticsData)try{for(b in a)c=a[b],setAkamaiMediaAnalyticsData(b,c)}catch(a){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",\"Could not set dimensions:\",a)}},MediaAnalyticsProxy.prototype.setMedia=function(a){var b,c,d;return c=this.value.viewerId||this.value.viewerID||this.value[\"std:viewerId\"],null!=c&&akamaiSetViewerId(c),b=null!=(null!=(d=a.mediaanalytics)?d.dimensions:void 0)?Utils.override(this.value.dimensions,a.mediaanalytics.dimensions):this.value.dimensions,akamaiHandleStreamSwitch(),this.applyDimensions(b),a},MediaAnalyticsProxy.prototype.udpateMedia=function(a){return\"function\"==typeof akamaiHandleTitleSwitch&&akamaiHandleTitleSwitch(a),a},__extends(MediaAnalyticsReadyCommand,puremvc.SimpleCommand),MediaAnalyticsReadyCommand.prototype.execute=function(a){this.facade.retrieveProxy(MediaAnalyticsProxy.NAME).ready()},__extends(PlayOverlayPlugin,Plugin),PlayOverlayPlugin.prototype.moduleName=\"playoverlay\",PlayOverlayPlugin.prototype.createModel=function(){},PlayOverlayPlugin.prototype.createView=function(){this.registerMediator(new PlayOverlayMediator)},PlayOverlayPlugin.prototype.listNotificationPublications=function(){return PlayOverlayPlugin.__super__.listNotificationPublications.call(this).concat([UserNotifications.TOGGLE_PLAY_PAUSE])},AMP.registerPlugin(\"playoverlay\",\"html\",PlayOverlayPlugin),AMP.registerPlugin(\"playoverlay\",\"external\",PlayOverlayPlugin);var FeatureNotifications={REGISTER_FEATURE:\"registerfeature\"};CaptionCue.prototype.id=null,CaptionCue.prototype.startTime=null,CaptionCue.prototype.endTime=null,CaptionCue.prototype.text=null,CaptionCue.prototype.html=null,CaptionCue.prototype.align=null,__extends(MediaAnalyticsPlugin,Plugin),MediaAnalyticsPlugin.prototype.moduleName=\"mediaanalytics\",MediaAnalyticsPlugin.prototype.initialize=function(a,b){window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=a.config,MediaAnalyticsPlugin.__super__.initialize.call(this,a,b)},MediaAnalyticsPlugin.prototype.createModel=function(){this.proxy=new MediaAnalyticsProxy(this.config),this.registerProxy(this.proxy)},MediaAnalyticsPlugin.prototype.createController=function(){MediaAnalyticsPlugin.__super__.createController.call(this),this.registerCommand(Notifications.READY,MediaAnalyticsReadyCommand),this.registerCommand(Notifications.MEDIA_CHANGE,MediaAnalyticsChangeMediaCommand),this.registerCommand(AdNotifications.BREAK_START,MediaAnalyticsAdBreakStartCommand),this.registerCommand(AdNotifications.BREAK_END,MediaAnalyticsAdBreakEndCommand),this.registerCommand(AdNotifications.AD_LOADED,MediaAnalyticsAdLoadedCommand),this.registerCommand(AdNotifications.AD_STARTED,MediaAnalyticsAdStartCommand),this.registerCommand(AdNotifications.AD_TIME_UPDATE,MediaAnalyticsAdTimeUpdateCommand),this.registerCommand(AdNotifications.AD_ENDED,MediaAnalyticsAdEndCommand),this.registerCommand(MediaAnalyticsNotifications.SET_DIMENSIONS,MediaAnalyticsSetDimensionsCommand),this.registerCommand(Notifications.CONTENT_CHANGED,MediaAnalyticsContentChangedCommand)},MediaAnalyticsPlugin.prototype.listNotificationInterests=function(){return[Notifications.READY,Notifications.MEDIA_CHANGE,AdNotifications.BREAK_START,AdNotifications.BREAK_END,AdNotifications.AD_LOADED,AdNotifications.AD_STARTED,AdNotifications.AD_TIME_UPDATE,AdNotifications.AD_ENDED,MediaAnalyticsNotifications.SET_DIMENSIONS,Notifications.CONTENT_CHANGED]},MediaAnalyticsPlugin.prototype.setDimensions=function(a){return this.retrieveProxy(MediaAnalyticsProxy.NAME).setDimensions(a),a},AMP.registerPlugin(\"mediaanalytics\",\"html\",MediaAnalyticsPlugin),AMP.registerPlugin(\"mediaanalytics\",\"flash\",MediaAnalyticsWrapper),SRTParser.prototype.parse=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;for(b=b.replace(/\\r/g,\"\"),d=b.split(\"\\n\\n\"),l=0,m=d.length;l<m;l++){c=d[l],h=c.split(\"\\n\");try{g=h[0],k=h[1].match(/([0-9:\\,]+)\\s*-->\\s*([0-9:\\,]+)/).slice(1),i=Utils.flattenTimecode(k[0]),f=Utils.flattenTimecode(k[1]),j=h.slice(2)}catch(a){Logger.warn(\"SRT Parsing Warning\")}e=new CaptionCue(i,f,\"cue_\"+g),e.html=\"<p>\"+j.join(\"<br />\")+\"</p>\",e.text=j.join(\"\\n\"),a.cues.push(e)}return a},WebVTTParser.prototype.parse=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(b=b.replace(/\\r/g,\"\"),d=b.split(\"\\n\\n\"),/^WEBVTT/.test(d[0])&&d.shift(),m=0,n=d.length;m<n;m++){c=d[m],h=c.split(\"\\n\");try{g=h[0],l=h[1].match(/([0-9:\\.]+)\\s*-->\\s*([0-9:\\.]+)([^\\n]*)/).slice(1),i=l[2],j=Utils.flattenTimecode(l[0]),f=Utils.flattenTimecode(l[1]),k=h.slice(2)}catch(a){Logger.warn(\"SRT Parsing Warning\")}e=new CaptionCue(j,f,\"cue_\"+g),e.html=\"<p>\"+k.join(\"<br />\")+\"</p>\",e.text=k.join(\"\\n\"),null!=i&&i.replace(/\\s*([A-Za-z]+)\\s*:\\s*([\\w\\-\\%]+)/g,function(a,b,c){return e[b]=c,\"\"}),a.cues.push(e)}return a},SMPTETTParser.prototype.parse=function(a,b){var c,d,e,f,g;return\"string\"==typeof b&&(b=XMLUtils.parse(b)),f=Array.prototype.slice.call(b.querySelectorAll(\"styling style\")),f.forEach(function(b,c,d){var e,f,g;g=\"\",f=b.getAttribute(\"id\")||b.getAttribute(\"xml:id\"),e=Array.prototype.slice.call(b.attributes),e.forEach(function(a,b,c){if(\"tts\"===a.prefix)return g+=Utils.formatStyleName(a.localName)+\":\"+a.nodeValue+\";\"}),a.styles[f]=g}),e=Array.prototype.slice.call(b.querySelectorAll(\"body [style]\")),e.forEach(function(b,c,d){var e;e=b.getAttribute(\"style\"),b.setAttribute(\"style\",a.styles[e])}),g=b.querySelector(\"tt\"),d=g.getAttribute(\"lang\")||g.getAttribute(\"xml:lang\"),void 0!==a.language&&null!==a.language||(a.language=d),c=Array.prototype.slice.call(b.querySelectorAll(\"body p[begin]\")),c.forEach(function(b,d,e){var f,g,h,i,j;i=b.getAttribute(\"begin\"),b.removeAttribute(\"begin\"),null!=b.getAttribute(\"end\")?(h=b.getAttribute(\"end\"),b.removeAttribute(\"end\")):null!=c[d+1]&&(h=c[d+1].getAttribute(\"begin\")),g=new CaptionCue(Utils.flattenTimecode(i),Utils.flattenTimecode(h),\"cue_\"+d),f=b.getAttributeNS(\"http://www.w3.org/ns/ttml#styling\",\"textAlign\"),null!=f&&(g.align=\"center\"===f?\"middle\":f,b.removeAttributeNS(\"http://www.w3.org/ns/ttml#styling\",\"textAlign\")),j=XMLUtils.serialize(b),j=j.replace(/\\s*xmlns=\"[^\"]*\"/,\"\"),g.html=j,j=j.replace(/^<p[^>]*>/,\"\"),j=j.replace(/<\\/p>$/,\"\"),j=j.replace(/<br\\/>/,\"\\n\"),j=j.replace(/<span style=\"([^\"]*)\"/,\"<c.$1\"),j=j.replace(/<\\/span>/,\"</c>\"),g.text=j,a.cues.push(g)}),a},__extends(LiveCaptionProxy,puremvc.Proxy),LiveCaptionProxy.NAME=\"LiveCaptionProxy\",LiveCaptionProxy.prototype.data={base:\"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_\",interval:1e3},LiveCaptionProxy.prototype.caption=null,LiveCaptionProxy.prototype.head=null,LiveCaptionProxy.prototype.script=null,LiveCaptionProxy.prototype.timeout=null,LiveCaptionProxy.prototype.getURL=function(){return this.data.url},LiveCaptionProxy.prototype.setURL=function(a){return this.data.url=a,a},LiveCaptionProxy.prototype.start=function(){this.send()},LiveCaptionProxy.prototype.poll=function(){var a,b=this;a=setTimeout(function(){b.send()},this.data.interval||1e3)},LiveCaptionProxy.prototype.send=function(){null!=this.script&&this.head.removeChild(this.script),this.script=Utils.loadScript(this.data.base+this.data.url+\".js?nocache=\"+Date.now())},LiveCaptionProxy.prototype.stop=function(){clearTimeout(timeout)},LiveCaptionProxy.prototype.parse=function(a){var b,c,d,e,f;if(a.Stream===this.data.url&&!(null!=this.caption&&this.caption.id>=a.Ticks)){for(this.caption=new CaptionCue(Utils.flattenTimecode(a.From),Utils.flattenTimecode(a.To),a.Ticks),this.caption.text=a.Text,b=\"\",f=a.Text.split(\"\\n\"),d=0,e=f.length;d<e;d++)c=f[d],\"\"!==b&&(b+=\"<br />\"),b+=\"<span>\"+c+\"</span>\";return this.caption.html=\"<p>\"+b+\"</p>\",this.sendNotification(CaptioningNotifications.CUE_CHANGE,[this.caption]),this.caption}},__extends(CaptioningWrapper,PluginWrapper),CaptioningWrapper.NAME=\"CaptioningWrapper\",CaptioningWrapper.prototype.flashPlugins=[{id:\"AdobeCaptionPlugin\",src:\"#{paths.resources}plugins/AdobeCaptionPlugin.swf\",blocking:!1,host:\"akamai\",main:\"AdobeCaptionPlugin\",type:\"application/x-shockwave-flash\"},{id:\"AMPCaptionPlugin\",src:\"#{paths.resources}plugins/AMPCaptionPlugin.swf\",blocking:!1,host:\"akamai\",main:\"AMPCaptionPlugin\",type:\"application/x-shockwave-flash\"},{id:\"CaptionSettingsPlugin\",src:\"#{paths.resources}plugins/CaptionSettingsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"CaptionSettingsPlugin\",type:\"application/x-shockwave-flash\"}],CaptioningWrapper.prototype.flashView={elements:{captionDisplay:{attributes:{defaultMessage:\"Sorry! No captions available for this stream\",initState:\"cookie\",position:\"relative\",settingsEnabled:\"true\",style:\"bottom: 0px; windowColor :0x000000; windowOpacity: 0; font: Monospaced Serif; fontColor: 0xffffff; fontOpacity: 1; fontBGColor: 0x000000; fontBGOpacity: 0; edgeType: none; edgeColor: 0x000000; edgeOpacity: 1; scroll: Pop-Out; fontSize: 12;\"}},controls:{elements:{captionBtn:{}}}}},CaptioningWrapper.prototype.hidden=!0,CaptioningWrapper.prototype.createXML=function(a){var b,c,d,e;if(d=null!=(e=this.config.flash)?e.subply:void 0,null!=d)try{null!=d.timeMethod&&(c=a.getElementsByTagName(\"player\")[0],c.setAttribute(\"subply_time_method\",d.timeMethod)),null!=d.plugin&&(b=a.firstChild,d=a.getElementsByTagName(\"subply\")[0],null==d&&(d=a.createElement(\"subply\"),b.appendChild(d)),this.createProperty(a,\"SUBPLY_URL\",this.config.flash.subply.plugin,d))}catch(a){this.facade.logger.error(\"[AMP CAPTIONING ERROR]\",a)}},CaptioningWrapper.prototype.createFlashVars=function(a){var b,c,d,e,f,g,h,i;if(d=this.player.config,null!=(null!=(h=d.media)?h.track:void 0)){if(e=Utils.selectTrack(d.media.track,\"captions\"),null!=e.src&&\"\"!==e.src&&(a.caption_url=e.src),d.media.track.length>1){for(c=[],b=[],i=d.media.track,f=0,g=i.length;f<g;f++)e=i[f],c.push(e.src),b.push(e.srclang);a.caption_url=c.join(\",\"),a.caption_language=b.join(\",\")}a.caption_type=null!=e.type?encodeURIComponent(e.type):\"application/ttml+xml\"}null==a.caption_language&&(a.caption_language=\"en-us\")},CaptioningWrapper.prototype.listNotificationInterests=function(){return CaptioningWrapper.__super__.listNotificationInterests.apply(this,arguments).concat([Notifications.MEDIA_CHANGE,FlashNotifications.CAPTIONING_REQUEST,FlashNotifications.CAPTION_LANG_CHANGE,FlashNotifications.INITIALIZED])},CaptioningWrapper.prototype.handleNotification=function(a){var b,c,d,e,f;switch(CaptioningWrapper.__super__.handleNotification.call(this,a),d=a.getName(),b=a.getBody(),d){case FlashNotifications.CAPTION_LANG_CHANGE:f=\"\";break;case FlashNotifications.CAPTIONING_REQUEST:f=\"visibilitychange\",b=b.enabled,this.hidden=!b;break;case Notifications.MEDIA_CHANGE:c=b,null!=c.track&&(e=Utils.selectTrack(c.track,\"captions\"),null!=(null!=e?e.src:void 0)&&\"\"!==e.src&&(c.captioningUrl=e.src),c.captioningType=e.type||\"application/ttml+xml\");break;case FlashNotifications.INITIALIZED:this.hidden=!this.player.getMediaElement().getPlayerProperty(\"isCaptionVisible\")}null!=f&&\"\"!==f&&this.dispatchEvent(new Event(f,b))},CaptioningWrapper.prototype.getHidden=function(){return this.hidden},CaptioningWrapper.prototype.setHidden=function(a){return this.hidden=a,this.facade.getMediaElement().setPlayerProperty(\"captionDisplay\",{visible:!a}),a},CaptioningWrapper.prototype.selectTrackByIndex=function(a){},CaptioningWrapper.prototype.selectTrackByLanguage=function(a){this.facade.getMediaElement().setTrackByLanguage(a)},CaptioningWrapper.prototype.changeSettings=function(a){return null!=(null!=a?a.fontFamily:void 0)&&\"object\"==typeof a.fontFamily?this.facade.getMediaElement().setPlayerProperty(\"captionSettingsUI\",a):(this.hidden=!a.visible,void this.facade.getMediaElement().setPlayerProperty(\"captionDisplay\",{visible:a.visible,style:this.parseObject(a)}))},CaptioningWrapper.prototype.parseObject=function(a){var b,c,d,e;b={};try{for(d in a)switch(d){case\"fontFamily\":b.font=a[d];break;case\"fontColor\":case\"backgroundColor\":case\"edgeColor\":case\"windowColor\":c=\"fontColor\"===d?\"font\":\"backgroundColor\"===d?\"fontBG\":\"edgeColor\"===d?\"edge\":\"window\",(null!=(e=a[d])?e.indexOf(\"rgba\"):void 0)!==-1&&(b[c+\"Color\"]=this.parseRGBA(a[d]),b[c+\"Opacity\"]=a[d].replace(/^.*,(.+)\\)/,\"$1\"));break;default:b[d]=a[d]}delete b.visible}catch(a){this.facade.logger.error(\"Captioning Settings Parse Error\",a)}return b},CaptioningWrapper.prototype.parseRGBA=function(a){return a=a.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i),a&&4===a.length?\"0x\"+(\"0\"+parseInt(a[1],10).toString(16)).slice(-2)+(\"0\"+parseInt(a[2],10).toString(16)).slice(-2)+(\"0\"+parseInt(a[3],10).toString(16)).slice(-2):\"\"},AMP.registerPlugin(\"captioning\",\"flash\",CaptioningWrapper),__extends(CaptioningTimeUpdateCommand,PluginCommand),CaptioningTimeUpdateCommand.prototype.execute=function(a){var b,c,d,e,f,g,h,i,j;if(g=a.getBody(),h=this.proxy.getTrack(),null!=h){for(b=h.activeCues,e=h.cues,c=!1,i=0,j=e.length;i<j;i++)d=e[i],g>=d.startTime&&g<d.endTime?__indexOf.call(b,d)>=0||(b.push(d),c=!0):(f=b.indexOf(d),f!==-1&&(b.splice(f,1),c=!0));c===!0&&this.sendNotification(CaptioningNotifications.CUE_CHANGE,b)}},__extends(CaptioningChangeMediaCommand,PluginCommand),CaptioningChangeMediaCommand.prototype.execute=function(a){var b,c;return b=a.getBody(),c=a.getBody().track,this.proxy.setTracks(c),null==c?void this.sendNotification(CaptioningNotifications.ENABLED,!1):(this.proxy.selectRenderer(b),void this.sendNotification(CaptioningNotifications.ENABLED,!0))},__extends(CaptioningVisibilityChangeCommand,PluginEventCommand),CaptioningVisibilityChangeCommand.prototype.execute=function(a){this.proxy.setHidden(!a.getBody()),CaptioningVisibilityChangeCommand.__super__.execute.call(this,a)};var UserSettingsNotifications={SETTING_CHANGE:\"settingchange\",UPDATE_SETTINGS:\"updatesettings\"};__extends(CaptioningStartedCommand,puremvc.SimpleCommand),CaptioningStartedCommand.prototype.execute=function(a){var b,c,d;b=this.facade.retrieveProxy(CaptioningProxy.NAME),c=b.getTrack(),null==c&&(null!=(d=b.getTracks())?d.length:void 0)>0&&(c=b.autoSelectTrack()),(null!=c?c.isLive:void 0)===!0&&(this.facade.removeCommand(Notifications.TIME_UPDATE),b=this.facade.retrieveProxy(LiveCaptionProxy.NAME),null==b&&(b=new LiveCaptionProxy,this.facade.registerProxy(b)),b.setURL(c.src),b.start())},CaptionParsers={\"application/ttml+xml\":new SMPTETTParser,\"application/x-subrip\":new SRTParser,\"text/vtt\":new WebVTTParser,undefined:new SMPTETTParser};var CaptioningNotifications={VISIBILITY_CHANGE:\"captioningvisibilitychange\",ENABLED:\"captioningenabled\",TRACKS_LOADED:\"captioningtracksloaded\",TRACK_SELECTED:\"captioningtrackselected\",CUE_CHANGE:\"captioningcuechange\",SETTINGS_VISIBILITY_CHANGE:\"captioningsettingsvisibility\",TOGGLE_SETTINGS_VISIBILITY:\"togglesettingsvisibility\",SETTINGS_CHANGE:\"captioningsettingschange\"};CaptionTrack.prototype.kind=null,CaptionTrack.prototype.src=null,CaptionTrack.prototype.language=null,CaptionTrack.prototype.cues=null,CaptionTrack.prototype.label=null,CaptionTrack.prototype.activeCues=null,CaptionTrack.prototype.type=null,CaptionTrack.prototype.styles=null,CaptionTrack.prototype.isLive=!1,__extends(PluginComponentMediator,ComponentMediator),PluginComponentMediator.prototype.initializeNotifier=function(a){PluginComponentMediator.__super__.initializeNotifier.call(this,a),this.plugin=this.facade.retrieveProxy(ModuleProxy.NAME),this.media=this.facade.player.retrieveProxy(MediaProxy.NAME)},__extends(CaptioningProxy,PluginProxy),CaptioningProxy.NAME=ModuleProxy.NAME,CaptioningProxy.TEXT_TRACK_RENDERER=\"caption-text\",CaptioningProxy.prototype.defaults={useNative:!1},CaptioningProxy.prototype.hidden=!0,CaptioningProxy.prototype.tracks=null,CaptioningProxy.prototype.track=null,CaptioningProxy.prototype.activeCaptions=null,CaptioningProxy.prototype.captions=null,CaptioningProxy.prototype.loaded=!0,CaptioningProxy.prototype.rendererMap=null,CaptioningProxy.prototype.settings=null,CaptioningProxy.prototype.getSettings=function(){return this.settings},CaptioningProxy.prototype.setSettings=function(a){this.settings=a},CaptioningProxy.prototype.getUseNative=function(){return this.getValue(\"useNative\")},CaptioningProxy.prototype.getTracks=function(){return this.tracks},CaptioningProxy.prototype.setTracks=function(a){var b,c,d,e,f,g,h,i=this;if(this.tracks=[],this.track=null,null!=a){for(b=a.length,d=0,f=function(){d++,d===b&&(i.sendNotification(CaptioningNotifications.TRACKS_LOADED,i.tracks),i.autoSelectTrack())},g=0,h=a.length;g<h;g++)c=a[g],e=new CaptionTrack(c,f),this.tracks.push(e);return a}},CaptioningProxy.prototype.registerRenderer=function(a){null!=a&&(a.proxy=this,this.rendererMap.push(a))},CaptioningProxy.prototype.retrieveRenderer=function(a){var b,c,d,e;for(e=this.rendererMap,c=0,d=e.length;c<d;c++)if(b=e[c],b.getRendererName()===a)return b},CaptioningProxy.prototype.removeRenderer=function(a){var b,c;return c=this.retrieveRenderer(a),c.proxy=null,null==c?null:(b=this.rendererMap.indexOf(c),this.rendererMap.splice(b,1),c)},CaptioningProxy.prototype.getRenderer=function(){return this.renderer},CaptioningProxy.prototype.setRenderer=function(a){return a===this.renderer?a:(null!=this.renderer&&this.facade.removeMediator(CaptioningProxy.TEXT_TRACK_RENDERER),this.renderer=a,null!=this.renderer&&this.facade.registerMediator(this.renderer),a)},CaptioningProxy.prototype.selectRenderer=function(a){var b,c,d,e,f,g,h,i,j;if(c=null,e=a.track,null!=e){for(f=0,h=e.length;f<h;f++){for(d=e[f],j=this.rendererMap,g=0,i=j.length;g<i;g++)if(b=j[g],b.canUseResource(d)===!0){c=b;break}if(null!=c)break}return this.setRenderer(c),c}},CaptioningProxy.prototype.getTrack=function(){return this.track},CaptioningProxy.prototype.setTrack=function(a){return this.track=a,this.captions=this.track.cues,this.activeCaptions=[],this.sendNotification(CaptioningNotifications.TRACK_SELECTED,this.track),a},CaptioningProxy.prototype.selectTrackByIndex=function(a){var b;return 0<=a&&a<this.tracks.length&&(b=this.tracks[a],this.setTrack(b)),b},CaptioningProxy.prototype.selectTrackByLanguage=function(a){var b,c,d,e,f;for(f=this.tracks,d=0,e=f.length;d<e;d++)if(b=f[d],b.language===a){c=b;break}return null!=c&&this.setTrack(c),c},CaptioningProxy.prototype.getHidden=function(){return this.hidden},CaptioningProxy.prototype.setHidden=function(a){this.hidden=a;try{localStorage.setItem(Namespace.PREFIX+\"caption-enabled\",!this.hidden)}catch(a){this.facade.logger.error(\"LocalStorage Not Supported on this Browser\",a)}return a},CaptioningProxy.prototype.autoSelectTrack=function(){var a,b,c;return a=null!=(c=this.facade.player.retrieveProxy(LocalizationProxy.NAME))?c.getLanguage():void 0,null!=a&&(a=a.split(\"-\").shift(),b=this.selectTrackByLanguage(a)),null==b&&(b=this.tracks[0],this.setTrack(b)),b},__extends(CaptioningHTMLMediator,PluginComponentMediator),CaptioningHTMLMediator.prototype.componentName=CaptioningProxy.TEXT_TRACK_RENDERER,CaptioningHTMLMediator.prototype.captionText=null,CaptioningHTMLMediator.prototype.getRendererName=function(){return\"html\"},CaptioningHTMLMediator.prototype.canUseResource=function(a){var b;return null!=a&&(b=[Utils.mimeTypes.srt,Utils.mimeTypes.ttml,Utils.mimeTypes.vtt],b.indexOf(a.type)!==-1)},CaptioningHTMLMediator.prototype.getCaptionDisplayHeight=function(){var a,b,c;for(a=0,b=c=this.viewComponent.childNodes.length;b&&(--b,3!==c||0!==b);)a+=Utils.getActualSize(this.viewComponent.childNodes[b]).height;return a+\"px\"},CaptioningHTMLMediator.prototype.scrollCaptions=function(a,b,c){\nvar d,e,f=this;null==a&&(a=this.viewComponent.scrollHeight),null==b&&(b=this.viewComponent.scrollTop),null==c&&(c=20),e=(a-b)/c,(d=function(){var c;if(b<a)return f.viewComponent.scrollTop=b+=e,setTimeout(d,20);for(c=[];f.viewComponent.childNodes.length>2;)c.push(f.viewComponent.removeChild(f.viewComponent.firstChild));return c})()},CaptioningHTMLMediator.prototype.listNotificationInterests=function(){return[CaptioningNotifications.CUE_CHANGE,Notifications.CHANGE_MEDIA]},CaptioningHTMLMediator.prototype.handleNotification=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;switch(g=a.getName(),b=a.getBody(),g){case Notifications.CHANGE_MEDIA:this.viewComponent.innerHTML=\"\";break;case CaptioningNotifications.CUE_CHANGE:for(c=\"\",i=0,k=b.length;i<k;i++)e=b[i],c+=e.html;switch(this.plugin.getSettings().scroll){case\"popout\":this.viewComponent.innerHTML=c;break;case\"rollon\":case\"painton\":for(h=document.createElement(\"div\"),h.innerHTML=c,m=h.childNodes,f=j=0,l=m.length;j<l;f=++j)d=m[f],this.viewComponent.appendChild(d);this.viewComponent.style.maxHeight=this.getCaptionDisplayHeight(),this.scrollCaptions()}}},__extends(CaptioningNativeMediator,LocalizedMediator),CaptioningNativeMediator.prototype.video=null,CaptioningNativeMediator.prototype.index=-1,CaptioningNativeMediator.prototype.plugin=null,CaptioningNativeMediator.NAME=CaptioningProxy.TEXT_TRACK_RENDERER,CaptioningNativeMediator.prototype.getRendererName=function(){return\"native\"},CaptioningNativeMediator.prototype.canUseResource=function(a){var b,c,d,e;return null!=a&&((b=null!=document.createElement(\"video\").textTracks)&&(d=[Utils.mimeTypes.vtt,Utils.mimeTypes.cea608,Utils.mimeTypes.cea708],c=a.type,c===d[1]||c===d[2]||(e=/iphone|ipad/.test(Utils.getDevice())||this.proxy.getUseNative(),!!e&&d.indexOf(a.type)!==-1)))},CaptioningNativeMediator.prototype.onRegister=function(){this.plugin=this.facade.retrieveProxy(CaptioningProxy.NAME),this.facade.player.getMediaElement().textTracks.addEventListener(\"addtrack\",this.updateTrack.bind(this))},CaptioningNativeMediator.prototype.listNotificationInterests=function(){return[CaptioningNotifications.VISIBILITY_CHANGE,CaptioningNotifications.TRACK_SELECTED,CaptioningNotifications.TRACKS_LOADED,Notifications.LOADED_METADATA,Notifications.CAN_PLAY_THROUGH]},CaptioningNativeMediator.prototype.handleNotification=function(a){var b,c,d,e,f,g,h;switch(b=a.getBody(),a.getName()){case CaptioningNotifications.TRACKS_LOADED:this.tracks=b;break;case CaptioningNotifications.TRACK_SELECTED:this.facade.player.getMediaElement().textTracks.length&&(d=this.facade.player.getMediaElement().textTracks[this.index]),null!=d&&(d.mode=\"hidden\"),this.index=this.plugin.getTracks().indexOf(b),this.updateTrack();break;case CaptioningNotifications.VISIBILITY_CHANGE:case Notifications.CAN_PLAY_THROUGH:this.updateTrack();break;case Notifications.LOADED_METADATA:if(null==this.tracks)return;for(e=this.facade.player.getMediaElement(),h=this.tracks,f=0,g=h.length;f<g;f++)d=h[f],d.type===Utils.mimeTypes.vtt&&(c=document.createElement(\"track\"),c.src=d.src,null!=d.kind&&(c.kind=d.kind),null!=d.srclang&&(c.srclang=d.srclang),null!=d.label&&(c.label=d.label),c.default=\"default\"in d,e.appendChild(c));this.tracks=null}},CaptioningNativeMediator.prototype.updateTrack=function(){var a,b,c,d,e;for(e=this.facade.player.getMediaElement().textTracks,a=c=0,d=e.length;c<d;a=++c)if(b=e[a],/subtitles|captions/.test(b.kind)){if(null==b)return;this.index=a,b.mode=this.plugin.getHidden()?\"hidden\":\"showing\"}},__extends(CaptioningSettingsMediator,PluginComponentMediator),CaptioningSettingsMediator.prototype.componentName=\"captioning-settings\",CaptioningSettingsMediator.prototype.captioningObject={default:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",scroll:\"popout\",fontColor:\"rgba(255,255,255,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0.5)\"},appliedStyleText:\"\",selected:{fontFamily:null,size:null,fontColor:null,edgeType:null,edgeColor:null,backgroundColor:null,windowColor:null},preset1:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,255,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0)\"},preset2:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,0,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0)\"},preset3:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,255,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,1)\",windowColor:\"rgba(0,0,0,0)\"},preset4:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,0,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 1)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0.5)\"},instance:null},CaptioningSettingsMediator.prototype.settingsUiVisible=!1,CaptioningSettingsMediator.prototype.captionningStyle=null,CaptioningSettingsMediator.prototype.swatchColorCurr=null,CaptioningSettingsMediator.prototype.swatchOpacityCurr=null,CaptioningSettingsMediator.prototype.colorPicker=null,CaptioningSettingsMediator.prototype.colorPickerOpacity=null,CaptioningSettingsMediator.prototype.advancedSettingContainer=null,CaptioningSettingsMediator.prototype.list={font:null,language:null,edge:null,size:null,scroll:null},CaptioningSettingsMediator.prototype.picker={color:null,background:null,edge:null,window:null},CaptioningSettingsMediator.prototype.toggle={ON:null,OFF:null,disabled:!1},CaptioningSettingsMediator.prototype.scroll={type:\"popout\",typeSpeed:5,lines:2,scrollTimer:[],speed:10,popout:null,rollup:null,painton:null},CaptioningSettingsMediator.prototype.onRegister=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this;for(CaptioningSettingsMediator.__super__.onRegister.call(this),q=this.create(\"captioning-titlebar\"),r=this.create(\"captioning-title\",q,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_TITLE)),this.toggle.OFF=this.create(\"captioning-toggle-btn\",q,\"div\",\"OFF\"),this.toggle.ON=this.create(\"captioning-toggle-btn\",q,\"div\",\"ON\"),EventHandler.create(this.toggle.ON,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.toggle.disabled||v.toggleButtonHandler(!0),!1}),this.toggle.disabled||ClassList.add(\"captioning-floater-btnselected\",this.toggle.OFF,this.classList.prefix),EventHandler.create(this.toggle.OFF,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.toggle.disabled||v.toggleButtonHandler(!1),!1}),c=this.create(\"captioning-row\"),d=this.create(\"captioning-label\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_LANGUAGE)),this.list.language=this.create(\"captioning-dropdown\",c,\"select\"),this.languageListPopulate(),EventHandler.create(this.list.language,\"change\",function(a){var b;return a.stopImmediatePropagation(),b=\"None\"!==a.target.selectedValue,v.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE,b),b&&v.facade.setTrack(v.facade.selectTrackByIndex(a.target.selectedIndex)),!1}),d=this.create(\"captioning-label\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_PRESETS)),i=this.create([\"captioning-preset\",\"captioning-preset1\"],c,null,\"Aa\"),j=this.create([\"captioning-preset\",\"captioning-preset2\"],c,null,\"Aa\"),k=this.create([\"captioning-preset\",\"captioning-preset3\"],c,null,\"Aa\"),l=this.create([\"captioning-preset\",\"captioning-preset4\"],c,null,\"Aa\"),EventHandler.create(i,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.captioningObject.selected=v.cloneObject(v.captioningObject.preset1),v.applyCaptioningStyle(),!1}),EventHandler.create(j,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.captioningObject.selected=v.cloneObject(v.captioningObject.preset2),v.applyCaptioningStyle(),!1}),EventHandler.create(k,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.captioningObject.selected=v.cloneObject(v.captioningObject.preset3),v.applyCaptioningStyle(),!1}),EventHandler.create(l,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.captioningObject.selected=v.cloneObject(v.captioningObject.preset4),v.applyCaptioningStyle(),!1}),this.advancedSettingContainer=this.create(\"captioning-advanced-container\"),c=this.create(\"captioning-row\",this.advancedSettingContainer),d=this.create(\"captioning-label\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_FONT)),this.list.font=this.create(\"captioning-dropdown\",c,\"select\"),this.create(null,this.list.font,\"option\",\"Monospaced Serif\").value=\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",this.create(null,this.list.font,\"option\",\"Proportional Serif\").value=\"'Times New Roman', Times, Georgia, Cambria, 'PT Serif Caption', serif\",this.create(null,this.list.font,\"option\",\"Monospaced Sans-Serif\").value=\"'Deja Vu Sans Mono', 'Lucida Console', Monaco, Consolas, 'PT Mono', monospace\",this.create(null,this.list.font,\"option\",\"Proportional Sans-Serif\").value=\"Roboto, 'Arial Unicode Ms', Arial, Helvetica, Verdana, 'PT Sans Caption', sans-serif\",this.create(null,this.list.font,\"option\",\"Casual\").value=\"'Comic Sans MS', Impact, Handlee, fantasy\",this.create(null,this.list.font,\"option\",\"Cursive\").value=\"'Monotype Corsiva', 'URW Chancery L', 'Apple Chancery', 'Dancing Script', cursive\",this.create(null,this.list.font,\"option\",\"Small Capitals\").value=\"'Arial Unicode Ms', Arial, Helvetica, Verdana, 'Marcellus SC', sans-serif; font-variant: small-caps\",EventHandler.create(this.list.font,\"change\",function(a){return a.stopImmediatePropagation(),v.captioningObject.selected.fontFamily=a.target.value,v.applyCaptioningStyle(!1),!1}),c.appendChild(this.list.font),d=this.create(\"captioning-label\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_EDGE)),this.list.edge=this.create(\"captioning-dropdown\",c,\"select\"),this.create(null,this.list.edge,\"option\",\"None\").value=\"text-shadow: 0px 0px 0px\",this.create(null,this.list.edge,\"option\",\"Depressed\").value=\"text-shadow: 0px 1px 0px\",this.create(null,this.list.edge,\"option\",\"Left Drop Shadow\").value=\"text-shadow: -3px 3px 2px\",this.create(null,this.list.edge,\"option\",\"Raised\").value=\"text-shadow: 0px 1px 1px\",this.create(null,this.list.edge,\"option\",\"Right Drop Shadow\").value=\"text-shadow: 3px 3px 2px\",this.create(null,this.list.edge,\"option\",\"Uniform\").value=\"text-shadow: 0px 0px 4px\",EventHandler.create(this.list.edge,\"change\",function(a){return a.stopImmediatePropagation(),v.captioningObject.selected.edgeType=a.target.value,v.applyCaptioningStyle(!1),!1}),c=this.create(\"captioning-row\",this.advancedSettingContainer),this.create(\"captioning-label\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_SIZE)),this.list.size=this.create(\"captioning-dropdown\",c,\"select\"),this.create(null,this.list.size,\"option\",\"Small\").value=\".8em\",this.create(null,this.list.size,\"option\",\"Medium\").value=\"1.3em\",this.create(null,this.list.size,\"option\",\"Large\").value=\"2.3em\",this.list.size.selectedIndex=1,EventHandler.create(this.list.size,\"change\",function(a){return a.stopImmediatePropagation(),v.captioningObject.selected.size=a.target.value,v.applyCaptioningStyle(!1),!1}),this.create(\"captioning-label\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_SCROLL)),this.list.scroll=this.create(\"captioning-dropdown\",c,\"select\"),this.create(null,this.list.scroll,\"option\",\"Pop-Out\").value=\"popout\",this.create(null,this.list.scroll,\"option\",\"Roll-On\").value=\"rollon\",this.create(null,this.list.scroll,\"option\",\"Paint-On\").value=\"painton\",EventHandler.create(this.list.scroll,\"change\",function(a){a.stopImmediatePropagation(),v.captioningObject.selected.scroll=a.target.value,v.scroll.type=a.target.value,v.plugin.setSettings({scroll:v.scroll.type});try{\"painton\"===a.target.value?ClassList.add(\"akamai-captioning-typed\",v.facade.proxy.renderer.viewComponent):ClassList.remove(\"akamai-captioning-typed\",v.facade.proxy.renderer.viewComponent)}catch(a){v.facade.logger.error(\"AMP Captioning Error\",a)}return!1}),c=this.create(\"captioning-row\",this.advancedSettingContainer),this.create(\"captioning-label-small\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_COLOR)),this.picker.color=this.create(\"captioning-color-picker\",c),this.picker.color.style.backgroundColor=this.captioningObject.default.fontColor,EventHandler.create(this.picker.color,EventHandler.CLICK,function(a){var b,c;return a.stopImmediatePropagation(),v.colorPickerHandler(),v.colorPicker.style.display=\"block\"===v.colorPicker.style.display?\"none\":\"block\",\"block\"===v.colorPicker.style.display&&(null!=(c=v.swatchColorCurr)&&(c.style.borderColor=\"rgba(0,0,0,0.3)\"),v.colorPicker.style.left=\"152px\",v.colorPicker.name=\"fontColor\",v.captioningObject.instance=v.picker.color,v.picker.color.style.backgroundColor.indexOf(\"rgba\")!==-1&&(b=v.picker.color.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),v.colorPickerOpacity.value=null!=b?b:1),!1}),this.create(\"captioning-label-small\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_BACKGROUND)),this.picker.background=this.create(\"captioning-color-picker\",c),this.picker.background.style.backgroundColor=this.captioningObject.default.backgroundColor,EventHandler.create(this.picker.background,EventHandler.CLICK,function(a){var b,c;return a.stopImmediatePropagation(),v.colorPickerHandler(),v.colorPicker.style.display=\"block\"===v.colorPicker.style.display?\"none\":\"block\",\"block\"===v.colorPicker.style.display&&(null!=(c=v.swatchColorCurr)&&(c.style.borderColor=\"rgba(0,0,0,0.3)\"),v.colorPicker.style.left=\"264px\",v.colorPicker.name=\"backgroundColor\",v.captioningObject.instance=v.picker.background,v.picker.background.style.backgroundColor.indexOf(\"rgba\")!==-1&&(b=v.picker.background.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),v.colorPickerOpacity.value=null!=b?b:1),!1}),this.create(\"captioning-label-small\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_EDGE)),this.picker.edge=this.create(\"captioning-color-picker\",c),this.picker.edge.style.backgroundColor=this.captioningObject.default.edgeColor,EventHandler.create(this.picker.edge,EventHandler.CLICK,function(a){var b,c;return a.stopImmediatePropagation(),v.colorPickerHandler(),v.colorPicker.style.display=\"block\"===v.colorPicker.style.display?\"none\":\"block\",\"block\"===v.colorPicker.style.display&&(null!=(c=v.swatchColorCurr)&&(c.style.borderColor=\"rgba(0,0,0,0.3)\"),v.colorPicker.style.left=\"212px\",v.colorPicker.name=\"edgeColor\",v.captioningObject.instance=v.picker.edge,v.picker.edge.style.backgroundColor.indexOf(\"rgba\")!==-1&&(b=v.picker.edge.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),v.colorPickerOpacity.value=null!=b?b:1),!1}),this.create(\"captioning-label-small\",c,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_WINDOW)),this.picker.window=this.create(\"captioning-color-picker\",c),this.picker.window.style.backgroundColor=this.captioningObject.default.windowColor,EventHandler.create(this.picker.window,EventHandler.CLICK,function(a){var b,c;return a.stopImmediatePropagation(),v.colorPickerHandler(),v.colorPicker.style.display=\"block\"===v.colorPicker.style.display?\"none\":\"block\",\"block\"===v.colorPicker.style.display&&(null!=(c=v.swatchColorCurr)&&(c.style.borderColor=\"rgba(0,0,0,0.3)\"),v.colorPicker.style.left=\"300px\",v.colorPicker.name=\"windowColor\",v.captioningObject.instance=v.picker.window,v.picker.window.style.backgroundColor.indexOf(\"rgba\")!==-1&&(b=v.picker.window.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),v.colorPickerOpacity.value=null!=b?b:1),!1}),m=this.create([\"caption-text\",\"caption-text-preview\"]),n=this.create(null,m,\"p\",this.localizationManager.getString(LocalizationConstants.MSG_CC_PREVIEW_TEXT)),c=this.create(\"captioning-footer-container\"),a=this.create(\"captioning-footer-button\",c,\"div\",this.localizationManager.getString(LocalizationConstants.MSG_CC_APPLY)),b=this.create(\"captioning-footer-button\",c,\"div\",this.localizationManager.getString(LocalizationConstants.MSG_CC_CANCEL)),o=this.create(\"captioning-footer-button\",c,\"div\",this.localizationManager.getString(LocalizationConstants.MSG_CC_RESET)),this.facade.getViewComponent().clientWidth>=0&&(s=this.create(\"captioning-advanced-button\",c,\"div\",this.localizationManager.getString(LocalizationConstants.MSG_CC_SHOW_ADVANCED)),EventHandler.create(s,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),\"block\"===v.advancedSettingContainer.style.display?(a.target.innerHTML=v.localizationManager.getString(LocalizationConstants.MSG_CC_SHOW_ADVANCED),v.advancedSettingContainer.style.display=\"none\",v.colorPicker.style.display=\"none\"):(a.target.innerHTML=v.localizationManager.getString(LocalizationConstants.MSG_CC_HIDE_ADVANCED),v.advancedSettingContainer.style.display=\"block\"),!1})),EventHandler.create(a,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.sendNotification(CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE,v.settingsUiVisible),v.applyCaptioningStyle(!1,!0),v.sendNotification(CaptioningNotifications.SETTINGS_CHANGE,v.captioningObject.selected),!1}),EventHandler.create(b,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.sendNotification(CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE,v.settingsUiVisible),!1}),EventHandler.create(o,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),v.colorPicker.style.display=\"none\",v.applyCaptioningStyle(!0),!1}),this.captionningStyle=this.create(null,document.getElementsByTagName(\"head\")[0],\"style\"),this.captionningStyle.type=\"text/css\",g=[\"#000000\",\"#660000\",\"#990000\",\"#ff0000\",\"#000066\",\"#660066\",\"#990066\",\"#ff0066\",\"#006600\",\"#666600\",\"#996600\",\"#ff6600\",\"#006666\",\"#666666\",\"#996666\",\"#ff6666\",\"#009900\",\"#669966\",\"#999900\",\"#ff9900\",\"#009966\",\"#669966\",\"#999966\",\"#ff9966\",\"#00ff00\",\"#66ff00\",\"#99ff00\",\"#ffff00\",\"#00ff66\",\"#66ff66\",\"#99ff66\",\"#ffff66\",\"#000099\",\"#660099\",\"#990099\",\"#ff0099\",\"#0000ff\",\"#6600ff\",\"#9900ff\",\"#ff00ff\",\"#006699\",\"#666699\",\"#996699\",\"#ff6699\",\"#0066ff\",\"#6666ff\",\"#9966ff\",\"#ff66ff\",\"#009999\",\"#669999\",\"#999999\",\"#ff9999\",\"#0099ff\",\"#6699ff\",\"#9999ff\",\"#ff99ff\",\"#0099ff\",\"#66ff99\",\"#99ff99\",\"#ffff99\",\"#00ffff\",\"#66ffff\",\"#99ffff\",\"#ffffff\"],this.colorPicker=this.create(\"colorpicker-palette\",this.viewComponent.parentElement),p=this.create(\"colorpicker-swatch\",!1,null,\"&nbsp;\"),t=0,u=g.length;t<u;t++)f=g[t],p.style.backgroundColor=f,e=p.cloneNode(),EventHandler.create(e,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),null!==v.swatchColorCurr&&(v.swatchColorCurr.style.borderColor=\"rgba(0,0,0,0.3)\"),v.swatchColorCurr=a.target,v.swatchColorCurr.style.borderColor=\"rgba(255, 50, 50, 1)\",v.captioningObject.instance.style.backgroundColor=v.captioningObject.selected[v.colorPicker.name]=v.toRGBA(a.target.style.backgroundColor),v.applyCaptioningStyle(!1),!1}),this.colorPicker.appendChild(e);this.create(\"opacity-label\",this.colorPicker,\"span\",this.localizationManager.getString(LocalizationConstants.MSG_CC_OPACITY)),this.colorPickerOpacity=this.create(\"colorpicker-slider\",this.colorPicker,\"input\"),this.colorPickerOpacity.type=\"range\",this.colorPickerOpacity.min=0,this.colorPickerOpacity.max=1,this.colorPickerOpacity.step=.1,this.colorPickerOpacity.value=1,EventHandler.create(this.colorPickerOpacity,\"change\",function(a){return a.stopImmediatePropagation(),v.captioningObject.instance.style.backgroundColor=v.captioningObject.selected[v.colorPicker.name]=v.toRGBA(v.captioningObject.instance.style.backgroundColor),v.applyCaptioningStyle(!1),!1}),this.swatchOpacityCurr=this.colorPickerOpacity,null!=localStorage.getItem(Namespace.PREFIX+\"captioningDefault\")?(this.captioningObject.selected=JSON.parse(localStorage.getItem(Namespace.PREFIX+\"captioningDefault\")),this.applyCaptioningStyle(!1,!this.facade.getHidden())):(h=!(null!=this.facade.config.style||\"undefined\"!==this.facade.config.style),h||(this.captioningObject.selected=this.cloneObject(this.facade.config.style)),this.applyCaptioningStyle(h)),this.plugin.setSettings(Object.keys(this.captioningObject.selected).length>0?this.captioningObject.selected:this.captioningObject.default),this.toggleButtonHandler(!this.facade.getHidden(),!1)},CaptioningSettingsMediator.prototype.toRGBA=function(a){var b,c;return c=a.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\"),b=\"rgba(\"+c[0]+\",\"+c[1]+\",\"+c[2]+\",\"+this.swatchOpacityCurr.value+\")\"},CaptioningSettingsMediator.prototype.languageListPopulate=function(){var a,b,c,d,e,f;if(c=this.facade.getTracks(),null!=c){for(this.list.language.innerHTML=\"\",d=0,e=c.length;d<e;d++)b=c[d],a=b.language,a=this.facade.player.retrieveProxy(LocalizationProxy.NAME).getLanguageString(a),null!=a&&\"\"!==a&&(this.create(null,this.list.language,\"option\",a).value=b.language);this.toggle.disabled=0===this.list.language.childElementCount,this.toggle.disabled&&this.create(null,this.list.language,\"option\",\"None\"),this.list.language.value=null!=(f=this.facade.getTrack())?f.language:void 0}},CaptioningSettingsMediator.prototype.colorPickerHandler=function(a){var b=this;return null==a&&(a=!1),a?EventHandler.unbind(document,EventHandler.CLICK):void EventHandler.create(document,EventHandler.CLICK,function(a){return a.stopImmediatePropagation(),b.colorPickerHandler(!0),\"akamai-colorpicker-palette\"!==a.target.className&&\"akamai-opacity-label\"!==a.target.className&&\"akamai-colorpicker-slider\"!==a.target.className&&\"none\"!==b.colorPicker.style.display&&(b.colorPicker.style.display=\"none\"),!1})},CaptioningSettingsMediator.prototype.cloneObject=function(a){var b,c;b={};for(c in a)b[c]=a[c];return b},CaptioningSettingsMediator.prototype.applyCaptioningStyle=function(a,b,c){var d,e,f,g,h,i;if(null==a&&(a=!1),null==b&&(b=!1),null==c&&(c=!1),a?(this.captioningObject.selected=this.cloneObject(this.captioningObject.default),this.list.font.value=this.captioningObject.default.fontFamily,this.list.edge.value=null!=this.captioningObject.default.edgeType?this.captioningObject.default.edgeType:\"text-shadow: 0px 0px 0px\",this.list.size.value=this.captioningObject.default.size,this.list.scroll.value=this.captioningObject.default.scroll,this.picker.color.style.backgroundColor=this.captioningObject.default.fontColor,this.picker.background.style.backgroundColor=this.captioningObject.default.backgroundColor,this.picker.edge.style.backgroundColor=this.captioningObject.default.edgeColor,this.picker.window.style.backgroundColor=this.captioningObject.default.windowColor):(null==this.captioningObject.selected.fontFamily||c||(this.list.font.value=this.captioningObject.selected.fontFamily),this.list.edge.value=null!=this.captioningObject.selected.edgeType?this.captioningObject.selected.edgeType:\"text-shadow: 0px 0px 0px\",null!=this.captioningObject.selected.size&&(this.list.size.value=this.captioningObject.selected.size),null!=this.captioningObject.selected.scroll?this.list.scroll.value=this.captioningObject.selected.scroll:this.captioningObject.selected.scroll=this.list.scroll.value,this.picker.color.style.backgroundColor=this.captioningObject.selected.fontColor,null!=this.captioningObject.selected.backgroundColor&&(this.picker.background.style.backgroundColor=this.captioningObject.selected.backgroundColor),null!=this.captioningObject.selected.edgeColor&&(this.picker.edge.style.backgroundColor=this.captioningObject.selected.edgeColor),null!=this.captioningObject.selected.windowColor&&(this.picker.window.style.backgroundColor=this.captioningObject.selected.windowColor)),g=\"font-family: \"+(a?this.captioningObject.default.fontFamily:c?this.captioningObject.selected.fontFamily:this.list.font.value)+\" !important;\",f=(a?this.captioningObject.default.edgeType+this.captioningObject.default.edgeColor:this.list.edge.value+\" \"+this.picker.edge.style.backgroundColor)+\" !important;\",h=\"font-size: \"+(a?this.captioningObject.default.size:this.list.size.value)+\" !important;\",e=\"color: \"+(a?this.captioningObject.default.fontColor:this.picker.color.style.backgroundColor)+\" !important;\",d=\"background-color: \"+(a?this.captioningObject.default.backgroundColor:this.picker.background.style.backgroundColor)+\" !important;\",i=\"background-color: \"+(a?this.captioningObject.default.windowColor:this.picker.window.style.backgroundColor)+\" !important;\",b){this.captionningStyle.innerHTML=this.captioningObject.appliedStyleText=\".akamai-caption-text { \"+g+h+f+i+\" }.akamai-caption-text p { \"+e+d+\" } video::-webkit-media-text-track-display-backdrop { \"+i+\" } video::-webkit-media-text-track-display-backdrop span { \"+g+h+f+d+\" } video::-webkit-media-text-track-display-backdrop { \"+i+\" } video::cue { \"+e+g+h+f+d+\" }\";try{a!==!1||c||localStorage.setItem(Namespace.PREFIX+\"captioningDefault\",JSON.stringify(this.captioningObject.selected))}catch(a){this.facade.logger.error(\"LocalStorage Not Supported on this Browser\",a)}}else this.captionningStyle.innerHTML=this.captioningObject.appliedStyleText+\".akamai-caption-text-preview { \"+g+h+f+i+\" }.akamai-caption-text-preview p { \"+e+d+\" }\"},CaptioningSettingsMediator.prototype.toggleButtonHandler=function(a,b){null==a&&(a=!1),null==b&&(b=!0),a?(ClassList.add(\"captioning-floater-btnselected\",this.toggle.ON,this.classList.prefix),ClassList.remove(\"captioning-floater-btnselected\",this.toggle.OFF,this.classList.prefix)):(ClassList.add(\"captioning-floater-btnselected\",this.toggle.OFF,this.classList.prefix),ClassList.remove(\"captioning-floater-btnselected\",this.toggle.ON,this.classList.prefix)),b&&this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE,a),this.sendNotification(UserSettingsNotifications.UPDATE_SETTINGS,{captioning:{hidden:!a}})},CaptioningSettingsMediator.prototype.listNotificationInterests=function(){return[CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE,CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY,CaptioningNotifications.SETTINGS_CHANGE,CaptioningNotifications.TRACK_SELECTED,CaptioningNotifications.VISIBILITY_CHANGE]},CaptioningSettingsMediator.prototype.handleNotification=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;switch(i=a.getName(),b=a.getBody(),i){case CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE:case CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY:this.settingsUiVisible&&(this.colorPicker.style.display=\"none\"),this.settingsUiVisible=!this.settingsUiVisible,this.settingsUiVisible&&1===this.list.language.length&&this.languageListPopulate(),j=this.settingsUiVisible?Notifications.ADD_APPLICATION_STATE:Notifications.REMOVE_APPLICATION_STATE,l=\"cc-setting-active\",this.sendNotification(j,l);break;case CaptioningNotifications.SETTINGS_CHANGE:f=!1;for(g in b)switch(m=b[g],g){case\"fontFamily\":case\"fontSize\":case\"scroll\":case\"edgeType\":for(h=\"fontFamily\"===g?\"font\":\"fontSize\"===g?\"size\":\"edgeType\"===g?\"edge\":\"scroll\",p=this.list[h].options,e=n=0,o=p.length;n<o;e=++n)if(k=p[e],\"fontFamily\"===g&&\"object\"==typeof m)for(c in m)d=m[c],\"default\"===c&&(this.captioningObject.selected.fontFamily=d,f=!0),new RegExp(c,\"i\").test(k.label)&&(new RegExp(\"^\"+d).test(k.value)||(k.value=d+\",\"+k.value),k.selected&&(this.captioningObject.selected.fontFamily=k.value));else if(new RegExp(m,\"i\").test(k.label)&&(this.list[h].selectedIndex=e,\"fontSize\"===g&&(g=\"size\"),this.captioningObject.selected[g]=k.value,\"scroll\"===g)){this.scroll.type=this.captioningObject.selected.scroll=k.value,this.plugin.setSettings({scroll:this.scroll.type});try{\"painton\"===k.value?ClassList.add(\"akamai-captioning-typed\",this.facade.proxy.renderer.viewComponent):ClassList.remove(\"akamai-captioning-typed\",this.facade.proxy.renderer.viewComponent)}catch(a){this.facade.logger.error(\"AMP Captioning Error\",a)}}break;case\"backgroundColor\":case\"edgeColor\":case\"fontColor\":case\"windowColor\":this.captioningObject.selected[g]=m}this.applyCaptioningStyle(!1,!0,f),null!=b.visible&&b.visible!==!this.facade.getHidden()&&this.facade.setHidden(!b.visible);break;case CaptioningNotifications.TRACK_SELECTED:this.list.language.value=a.body.language;break;case CaptioningNotifications.VISIBILITY_CHANGE:this.toggleButtonHandler(b,!1)}},__extends(PluginMediator,OverlayMediator),PluginMediator.prototype.initializeNotifier=function(a){PluginMediator.__super__.initializeNotifier.call(this,a),this.plugin=this.facade.retrieveProxy(ModuleProxy.NAME),this.media=this.facade.player.retrieveProxy(MediaProxy.NAME)},PluginMediator.prototype.onRegister=function(){PluginMediator.__super__.onRegister.call(this),this.facade.viewComponent=this.viewComponent},__extends(CaptioningMediator,PluginMediator),CaptioningMediator.prototype.componentName=\"captioning\",CaptioningMediator.prototype.captionButton=null,CaptioningMediator.prototype.onRegister=function(){var a;a=new ButtonMediator(this.localizationManager.getString(LocalizationConstants.MSG_CC),this.viewComponent,null,\"caption\",this.onclick.bind(this)),this.facade.registerMediator(a),this.captionButton=a.getViewComponent(),this.sendNotification(Notifications.ADD_CONTROL,this.captionButton),CaptioningMediator.__super__.onRegister.call(this),\"true\"===(\"undefined\"!=typeof localStorage&&null!==localStorage?localStorage.getItem(Namespace.PREFIX+\"caption-enabled\"):void 0)&&this.facade.setHidden(!1)},CaptioningMediator.prototype.onclick=function(a){var b;return a.stopImmediatePropagation(),\"embedded\"===(null!=(b=this.plugin.getTrack())?b.type:void 0)?this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE,this.plugin.getHidden()):a.currentTarget===this.captionButton&&this.sendNotification(CaptioningNotifications.SETTINGS_VISIBILITY_CHANGE,this.plugin.getHidden()),!1},CaptioningMediator.prototype.listNotificationInterests=function(){return[CaptioningNotifications.VISIBILITY_CHANGE,CaptioningNotifications.ENABLED,CaptioningNotifications.TRACK_SELECTED]},CaptioningMediator.prototype.handleNotification=function(a){var b,c,d;switch(b=a.getBody(),c=b?Notifications.ADD_APPLICATION_STATE:Notifications.REMOVE_APPLICATION_STATE,a.getName()){case CaptioningNotifications.TRACK_SELECTED:d=\"cc-embedded\",c=\"embedded\"===b.type?Notifications.ADD_APPLICATION_STATE:Notifications.REMOVE_APPLICATION_STATE;break;case CaptioningNotifications.VISIBILITY_CHANGE:d=\"cc-active\";break;case CaptioningNotifications.ENABLED:c=b?Notifications.ADD_CONTROL_STATE:Notifications.REMOVE_CONTROL_STATE,d=\"cc-enabled\",b||this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"cc-active\")}this.sendNotification(c,d)},__extends(Feature,Plugin),Feature.NAME=\"Feature\",Feature.prototype.featureName=null,Feature.prototype.getFeatureName=function(){return this.featureName},Feature.prototype.registerFeature=function(){null!=this.getFeatureName()&&this.player.sendNotification(FeatureNotifications.REGISTER_FEATURE,this)},Feature.prototype.onRegister=function(){this.registerFeature(),Feature.__super__.onRegister.call(this)},Feature.prototype.listNotificationPublications=function(){return Feature.__super__.listNotificationPublications.call(this).concat([FeatureNotifications.REGISTER_FEATURE])},__extends(CaptioningPlugin,Feature),CaptioningPlugin.prototype.featureName=\"captioning\",CaptioningPlugin.prototype.moduleName=\"captioning\",CaptioningPlugin.prototype.createController=function(){CaptioningPlugin.__super__.createController.call(this),this.registerCommand(Notifications.CHANGE_MEDIA,CaptioningChangeMediaCommand),this.registerCommand(Notifications.STARTED,CaptioningStartedCommand),this.registerCommand(Notifications.TIME_UPDATE,CaptioningTimeUpdateCommand),this.registerCommand(CaptioningNotifications.VISIBILITY_CHANGE,CaptioningVisibilityChangeCommand),this.registerCommand(CaptioningNotifications.ENABLED,PluginEventCommand),this.registerCommand(CaptioningNotifications.TRACK_SELECTED,PluginEventCommand),\nthis.registerCommand(CaptioningNotifications.TRACKS_LOADED,PluginEventCommand),this.registerCommand(CaptioningNotifications.CUE_CHANGE,PluginEventCommand)},CaptioningPlugin.prototype.createModel=function(){this.proxy=new CaptioningProxy(this.config),this.registerProxy(this.proxy)},CaptioningPlugin.prototype.createView=function(){var a,b;a=new CaptioningMediator,this.registerMediator(a),b=a.viewComponent,this.registerMediator(new CaptioningSettingsMediator(b)),this.proxy.registerRenderer(new CaptioningNativeMediator(b)),this.proxy.registerRenderer(new CaptioningHTMLMediator(b))},CaptioningPlugin.prototype.listNotificationInterests=function(){return[Notifications.LOADED_METADATA,Notifications.CAN_PLAY_THROUGH,Notifications.CHANGE_MEDIA,Notifications.STARTED,Notifications.TIME_UPDATE,CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY]},CaptioningPlugin.prototype.listNotificationPublications=function(){var a,b;return CaptioningPlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in CaptioningNotifications)b=CaptioningNotifications[a],b!==CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY&&c.push(b);return c}()).concat([Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,UserSettingsNotifications.UPDATE_SETTINGS,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE])},CaptioningPlugin.prototype.getHidden=function(){return this.proxy.getHidden()},CaptioningPlugin.prototype.setHidden=function(a){return this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE,!a),a},CaptioningPlugin.prototype.getTracks=function(){return this.proxy.getTracks()},CaptioningPlugin.prototype.getTrack=function(){return this.proxy.getTrack()},CaptioningPlugin.prototype.setTrack=function(a){return this.proxy.setTrack(a),a},CaptioningPlugin.prototype.selectTrackByIndex=function(a){return this.proxy.selectTrackByIndex(a)},CaptioningPlugin.prototype.selectTrackByLanguage=function(a){return this.proxy.selectTrackByLanguage(a)},CaptioningPlugin.prototype.changeSettings=function(a){return this.sendNotification(CaptioningNotifications.SETTINGS_CHANGE,a),a},AMP.registerPlugin(\"captioning\",\"html\",CaptioningPlugin),__extends(ControlPlugin,Plugin),ControlPlugin.prototype.listNotificationPublications=function(){return ControlPlugin.__super__.listNotificationPublications.apply(this,arguments).concat([Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE])},__extends(PanelControlMediator,ButtonMediator),PanelControlMediator.prototype.panel=null,PanelControlMediator.prototype.timeout=null,PanelControlMediator.prototype.closePanelDelayed=null,PanelControlMediator.prototype.onRegister=function(){this.closePanelDelayed=this.delayedClosePanel.bind(this),\"desktop\"===Utils.getDevice()?(this.onmouseleave=this.closePanelDelayed,this.onmouseenter=this.openPanel,this.onclick=this.clickHandler):this.onclick=this.togglePanel,PanelControlMediator.__super__.onRegister.call(this),this.sendNotification(Notifications.ADD_CONTROL_STATE,\"\"+this.componentName+\"-enabled\"),this.sendNotification(Notifications.ADD_CONTROL,this.viewComponent)},PanelControlMediator.prototype.openPanel=function(){clearTimeout(this.timeout),this.sendNotification(PanelNotifications.OPEN_PANEL,this.panel),this.panel.viewComponent.addEventListener(\"mouseleave\",this.closePanelDelayed)},PanelControlMediator.prototype.closePanel=function(){Utils.isMouseOverElement(this.panel.viewComponent)||Utils.isMouseOverElement(this.viewComponent)||this.facade.player.retrieveProxy(ApplicationStateProxy.NAME).getIsUserActive()||(this.panel.viewComponent.addEventListener(\"mouseleave\",this.closePanelDelayed),this.sendNotification(PanelNotifications.CLOSE_PANEL,this.panel))},PanelControlMediator.prototype.delayedClosePanel=function(){this.timeout=setTimeout(this.closePanel.bind(this),350)},PanelControlMediator.prototype.togglePanel=function(){this.sendNotification(PanelNotifications.TOGGLE_PANEL,this.panel)},PanelControlMediator.prototype.clickPanel=function(){},__extends(PanelMediator,ComponentMediator),PanelMediator.prototype.componentType=\"panel\",PanelMediator.prototype.control=null,PanelMediator.prototype.onRegister=function(){PanelMediator.__super__.onRegister.call(this),this.sendNotification(PanelNotifications.ADD_PANEL,this)},__extends(ControlProxy,PluginProxy),ControlProxy.NAME=ModuleProxy.NAME,ControlProxy.prototype.loaded=!0,ControlProxy.prototype.controlName=null,ControlProxy.prototype.getControlName=function(){return this.controlName},ControlProxy.prototype.setControlName=function(a){return this.controlName=a},__extends(ControlPanelProxy,ControlProxy),ControlPanelProxy.NAME=ModuleProxy.NAME,ControlPanelProxy.prototype.hidden=!0,ControlPanelProxy.prototype.getHidden=function(){return this.hidden},ControlPanelProxy.prototype.setHidden=function(a){return this.hidden=a,a},__extends(VolumePanelProxy,ControlPanelProxy),VolumePanelProxy.NAME=ModuleProxy.NAME,VolumePanelProxy.prototype.controlName=\"volume\",VolumePanelProxy.prototype.defaults={direction:\"vertical\"},VolumePanelProxy.prototype.getDirection=function(){return this.data.direction},__extends(VolumePanelWrapper,PluginWrapper),VolumePanelWrapper.NAME=\"VolumePanelWrapper\",AMP.registerPlugin(\"volumepanel\",\"flash\",VolumePanelWrapper),__extends(VolumePanelControlMediator,PanelControlMediator),VolumePanelControlMediator.prototype.clickHandler=function(){this.sendNotification(Notifications.TOGGLE_MUTED)},__extends(VolumeMediator,SliderMediator),VolumeMediator.prototype.componentName=\"volume\",VolumeMediator.prototype.draggable=!0,VolumeMediator.prototype.valueChanged=function(){this.sendNotification(Notifications.CHANGE_VOLUME,this.value),this.sendNotification(UserSettingsNotifications.UPDATE_SETTINGS,{volume:this.value})},VolumeMediator.prototype.listNotificationInterests=function(){return[Notifications.VOLUME_CHANGE,Notifications.READY]},VolumeMediator.prototype.handleNotification=function(a){switch(a.getName()){case Notifications.READY:this.updateValue(this.facade.player.retrieveProxy(PlaybackProxy.NAME).getVolume());break;case Notifications.VOLUME_CHANGE:this.updateValue(a.getBody())}},__extends(ControlPanelMediator,PluginMediator),ControlPanelMediator.prototype.panel=null,ControlPanelMediator.prototype.control=null,ControlPanelMediator.prototype.separator=null,ControlPanelMediator.prototype.controls=null,ControlPanelMediator.prototype.labels=null,ControlPanelMediator.prototype.closed=!0,ControlPanelMediator.prototype.panelClass=PanelMediator,ControlPanelMediator.prototype.controlClass=PanelControlMediator,ControlPanelMediator.prototype.onRegister=function(){this.panel=this.createPanel(this.componentName),this.control=this.createControl(this.componentName),this.separator=this.createSeparator(this.componentName),this.panel.control=this.control,this.control.panel=this.panel,null==this.labels&&(this.labels={}),this.createPanelControls(name)},ControlPanelMediator.prototype.createControl=function(a){var b;return b=new this.controlClass(a),this.facade.registerMediator(b),b},ControlPanelMediator.prototype.createPanel=function(a){var b;return b=new this.panelClass(a),this.facade.registerMediator(b),b},ControlPanelMediator.prototype.createSeparator=function(a){return this.create([\"separator\",\"icon\"],this.panel)},ControlPanelMediator.prototype.createPanelControls=function(a){var b,c,d,e;b=this.plugin.getConfigurationData();for(c in b)d=b[c],d===!0&&(this.controls[c]=this.addPanelControl(new ButtonMediator(this.localizationManager.getString(this.labels[c]),null,null,c,null!=(e=this.panelButtonClickHandler)&&\"function\"==typeof e.bind?e.bind(this,c):void 0)))},ControlPanelMediator.prototype.addPanelControl=function(a){return this.facade.registerMediator(a),this.panel.getViewComponent().appendChild(a.getViewComponent()),a},ControlPanelMediator.prototype.panelButtonClickHandler=function(){this.sendNotification(PanelNotifications.CLOSE_PANEL,this.panel)},__extends(VolumePanelMediator,ControlPanelMediator),VolumePanelMediator.prototype.componentName=\"volume\",VolumePanelMediator.prototype.slider=null,VolumePanelMediator.prototype.level=null,VolumePanelMediator.prototype.controlClass=VolumePanelControlMediator,VolumePanelMediator.prototype.onRegister=function(){VolumePanelMediator.__super__.onRegister.call(this),this.slider=new VolumeMediator(this.panel,this.plugin.getDirection()),this.facade.registerMediator(this.slider)},VolumePanelMediator.prototype.updateVolumeButton=function(a){var b;b=Math.ceil(10*a),b!==this.level&&(null!=this.level&&this.sendNotification(Notifications.REMOVE_CONTROL_STATE,\"volume-\"+this.level),this.level=b,this.sendNotification(Notifications.ADD_CONTROL_STATE,\"volume-\"+this.level))},VolumePanelMediator.prototype.listNotificationInterests=function(){return VolumePanelMediator.__super__.listNotificationInterests.apply(this,arguments).concat([Notifications.VOLUME_CHANGE])},VolumePanelMediator.prototype.handleNotification=function(a){switch(VolumePanelMediator.__super__.handleNotification.call(this,a),a.getName()){case Notifications.VOLUME_CHANGE:this.updateVolumeButton(a.body)}};var FeedNotifications={LOAD_FEED:\"loadfeed\",FEED_CHANGED:\"feedchanged\",FEED_LOADED:\"feedloaded\",FEED_ERROR:\"feederror\"};__extends(ControlPanelPlugin,ControlPlugin),ControlPanelPlugin.prototype.listNotificationPublications=function(){var a,b;return ControlPanelPlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in PanelNotifications)b=PanelNotifications[a],c.push(b);return c}())},__extends(FeedProxy,ModuleProxy),FeedProxy.NAME=ModuleProxy.NAME,FeedProxy.prototype.defaults={url:null,data:null},FeedProxy.prototype.feed=null,FeedProxy.prototype.helper=null,FeedProxy.prototype.setURL=function(a){var b=this;return this.data.url=this.facade.evaluatePaths(a),this.sendNotification(Notifications.DISPATCH_EVENT,new Event(\"request\",this.data.url)),this.helper.getFeed(this.data.url,function(a){b.sendNotification(FeedNotifications.FEED_LOADED,a),b.sendNotification(FeedNotifications.CHANGE_FEED,a)},function(c){b.sendNotification(FeedNotifications.FEED_ERROR,{error:c,url:a}),Logger.error(\"[AMP Feed Load Error]\",b.data.url,c)}),a},FeedProxy.prototype.getURL=function(){return this.data.url},FeedProxy.prototype.setFeedData=function(a){return this.data.data=a,this.feed=this.helper.createFeed(a),this.sendNotification(FeedNotifications.FEED_CHANGED,this.feed),a},FeedProxy.prototype.getFeedData=function(){return this.data.data},FeedProxy.prototype.invoke=function(){null!=this.data.url&&\"\"!==this.data.url?this.sendNotification(FeedNotifications.LOAD_FEED,this.data.url):null!=this.data.data&&setTimeout(this.sendNotification.bind(this,FeedNotifications.CHANGE_FEED,this.data.data),1)},__extends(LoadFeedCommand,puremvc.SimpleCommand),LoadFeedCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(FeedProxy.NAME),b.setURL(a.getBody())},__extends(ChangeFeedCommand,puremvc.SimpleCommand),ChangeFeedCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(FeedProxy.NAME),b.setFeedData(a.getBody())},__extends(FeedChangedCommand,PluginEventCommand),FeedChangedCommand.prototype.execute=function(a){var b,c;FeedChangedCommand.__super__.execute.call(this,a),this.player.sendNotification(Notifications.CHANGE_PLAY_STATE,PlayState.READY),b=a.getBody(),c=b.item[0],this.player.sendNotification(Notifications.SET_MEDIA,c)},__extends(FeedInitializedCommand,puremvc.SimpleCommand),FeedInitializedCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(FeedProxy.NAME),b.invoke()},__extends(FeedWrapper,PluginWrapper),FeedWrapper.NAME=\"FeedWrapper\",FeedWrapper.prototype.url=null,FeedWrapper.prototype.data=null,FeedWrapper.prototype.updateData=!0,FeedWrapper.prototype.createFlashVars=function(a){null!=this.url&&\"\"!==this.url&&(a.data_feed_url=escape(this.facade.evaluatePaths(this.url)))},FeedWrapper.prototype.listNotificationInterests=function(){return FeedWrapper.__super__.listNotificationInterests.apply(this,arguments).concat([FlashNotifications.READY,FlashNotifications.FEED_LOADED,FlashNotifications.LOAD_FEED])},FeedWrapper.prototype.handleNotification=function(a){var b,c,d,e,f,g,h,i=this;switch(FeedWrapper.__super__.handleNotification.call(this,a),e=a.getName(),b=a.getBody(),e){case FlashNotifications.FEED_LOADED:this.updateData===!1?this.updateData=!0:this.data=JSON.parse(b),f=\"loaded\",b=this.data,c=new MRSSHelper,d=null!=(g=c.createFeed(this.data))&&null!=(h=g.item)?h[0]:void 0,null!=d&&this.player.media.setData(d),this.sendNotification(FeedNotifications.FEED_CHANGED,this.data);break;case FlashNotifications.LOAD_FEED:f=\"request\";break;case FlashNotifications.READY:null!=this.data?setTimeout(function(){i.setData(i.data)},25):null!=this.url&&\"\"!==this.url&&this.sendNotification(FeedNotifications.LOAD_FEED,this.url)}null!=f&&this.dispatchEvent(new Event(f,b))},FeedWrapper.prototype.setURL=function(a){return null!=a&&\"\"!==a&&(this.url=a,this.player.mediaElement.playFile(this.url,this.player.getAutoplay()),this.sendNotification(FeedNotifications.LOAD_FEED,this.url)),a},FeedWrapper.prototype.getURL=function(){return this.url},FeedWrapper.prototype.setData=function(a){return this.data=a,this.updateData=!1,this.player.mediaElement.playFile(this.data,this.player.getAutoplay()),a},FeedWrapper.prototype.getData=function(){return this.data},__extends(VolumePanelPlugin,ControlPanelPlugin),VolumePanelPlugin.prototype.moduleName=\"volumepanel\",VolumePanelPlugin.prototype.createFramework=function(){Utils.isVolumeSettable()&&VolumePanelPlugin.__super__.createFramework.call(this)},VolumePanelPlugin.prototype.createModel=function(){this.registerProxy(new VolumePanelProxy(this.config))},VolumePanelPlugin.prototype.createView=function(){Utils.isVolumeSettable()&&this.registerMediator(new VolumePanelMediator)},VolumePanelPlugin.prototype.listNotificationPublications=function(){return VolumePanelPlugin.__super__.listNotificationPublications.apply(this,arguments).concat([Notifications.CHANGE_VOLUME,Notifications.TOGGLE_MUTED,UserSettingsNotifications.UPDATE_SETTINGS])},VolumePanelPlugin.prototype.listNotificationInterests=function(){return VolumePanelPlugin.__super__.listNotificationInterests.apply(this,arguments).concat([Notifications.VOLUME_CHANGE,Notifications.READY])},AMP.registerPlugin(\"volumepanel\",\"html\",VolumePanelPlugin),__extends(OmnitureWrapper,PluginWrapper),OmnitureWrapper.NAME=\"OmnitureWrapper\",OmnitureWrapper.prototype.flashPlugins=[{id:\"OmniturePlugin\",src:\"#{paths.resources}plugins/OmniturePlugin.swf\",blocking:!1,host:\"akamai\",main:\"OmniturePlugin\"}],OmnitureWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;if(this.config.useJS!==!0){for(b=a.firstChild,n=a.getElementsByTagName(\"metrics\")[0],null==n&&(n=a.createElement(\"metrics\"),b.appendChild(n)),x=a.createElement(\"vendor\"),x.setAttribute(\"id\",\"omniture\"),n.appendChild(x),s=[{value:this.config.channel,key:\"OMNITURE_CHANNEL\"},{value:this.config.account,key:\"OMNITURE_ACCOUNT\"},{value:this.config.debugTracking,key:\"OMNITURE_DEBUG_TRACKING\"},{value:this.config.trackLocal,key:\"OMNITURE_TRACK_LOCAL\"},{value:this.config.visitorNamespace,key:\"OMNITURE_VISITOR_NAMESPACE\"},{value:this.config.trackingServer,key:\"OMNITURE_TRACKING_SERVER\"},{value:this.config.trackingServerSecure,key:\"OMNITURE_TRACKING_SERVER_SECURE\"},{value:this.config.currencyCode,key:\"OMNITURE_CURRENCY_CODE\"},{value:this.config.trackWhilePlaying,key:\"OMNITURE_TRACK_WHILE_PLAYING\"},{value:this.config.trackMediaMethods,key:\"OMNITURE_TRACK_MEDIA_METHODS\"},{value:this.config.mediaName,key:\"OMNITURE_MEDIA_NAME\"},{value:this.config.playerName,key:\"OMNITURE_PLAYER_NAME\"}],y=0,C=s.length;y<C;y++)q=s[y],null!=q.value&&this.createProperty(a,q.key,q.value,x);if(m=this.config.Media,null!=m){for(s=[{value:m.autoTrack,key:\"OMNITURE_AUTO_TRACK\"},{value:m.segmentByMilestones,key:\"OMNITURE_SEGMENT_MILESTONES\"},{value:m.trackVars,key:\"OMNITURE_TRACKVARS\"},{value:m.trackEvents,key:\"OMNITURE_TRACKEVENTS\"},{value:m.trackUsingContextData,key:\"OMNITURE_TRACK_CONTEXT_DATA\"},{value:m.trackSecondIntervals,key:\"OMNITURE_TRACKSECOND_INTERVALS\"}],z=0,D=s.length;z<D;z++)q=s[z],null!=q.value&&this.createProperty(a,q.key,q.value,x);if(null!=m.trackMilestones)for(u=this.createProperty(a,\"OMNITURE_TRACK_MILESTONES\",null,x),p=m.trackMilestones,A=0,E=p.length;A<E;A++){o=p[A],t=this.createProperty(a,o.percent,null,u);for(j in o)w=o[j],\"percent\"!==j&&this.createProperty(a,j,w,t)}if(d=m.contextDataMapping,null!=d){c=this.createProperty(a,\"OMNITURE_CONTEXT_DATA\",null,x);for(j in d)if(w=d[j],\"string\"==typeof w&&this.createProperty(a,j,w,c),w instanceof Array)for(r=this.createProperty(a,j,null,c),B=0,F=w.length;B<F;B++)o=w[B],this.createProperty(a,o.percent,o.events,r)}}if(k=this.config.customLinkTracking,null!=k){l=this.createProperty(a,\"OMNITURE_CUSTOM_LINK_TRACKING\",null,x);for(j in k)if(\"intervalReached\"===j)for(h=this.createProperty(a,j,null,l),M=k[j],J=0,G=M.length;J<G;J++){i=M[J],g=this.createProperty(a,i.interval,null,h);for(j in i)\"interval\"!==j&&this.createProperty(a,j,i[j],g)}else this.createProperty(a,j,k[j],l)}if(f=null!=(N=this.config.events)?N.video:void 0,null!=f)for(K=0,H=f.length;K<H;K++){switch(e=f[K],e.type){case\"started\":v=\"videoStart\";break;case\"ended\":v=\"videoComplete\";break;case\"play\":v=\"videoResume\";break;case\"pause\":v=\"videoPause\";break;default:v=e.type}this.createProperty(a,v,e.data,x)}if(f=null!=(O=this.config.events)?O.ads:void 0,null!=f)for(L=0,I=f.length;L<I;L++)e=f[L],v=\"started\"===e.type?\"adStart\":\"ended\"===e.type?\"adComplete\":e.type,this.createProperty(a,v,e.data,x)}},__extends(OmnitureProxy,PluginProxy),OmnitureProxy.NAME=ModuleProxy.NAME,OmnitureProxy.prototype.defaults={main:\"s\",heartbeat:null,account:null,playerName:null,mediaName:null,trackingServer:null,visitorNamespace:null,visitor:null,visitorID:null,pageName:null},OmnitureProxy.prototype.media=null,OmnitureProxy.prototype.started=!1,OmnitureProxy.prototype.ad=null,OmnitureProxy.prototype.adCurrentTime=null,OmnitureProxy.prototype.adStarted=!1,OmnitureProxy.prototype.adsEnabled=!1,OmnitureProxy.prototype.getMediaName=function(){return this.getConfigurationData().mediaName||this.media.getTitle()},OmnitureProxy.prototype.getPlayerName=function(){var a;return this.getConfigurationData().playerName||(null!=(a=this.facade.player.retrieveProxy(ConfigurationProxy.NAME))?a.getName():void 0)||this.facade.player.config.name||\"amp\"},OmnitureProxy.prototype.getPlaybackCore=function(){var a;return(null!=(a=this.facade.player.retrieveProxy(PlayerProxy.NAME))?a.getActivePlaybackCore():void 0)||this.facade.player.playback},OmnitureProxy.prototype.initialize=function(){var a,b;if(OmnitureProxy.__super__.initialize.call(this),this.media=this.facade.player.retrieveProxy(MediaProxy.NAME),this.adsEnabled=null!=(a=this.facade.player.ads)?a.getEnabled():void 0,null!=this.plugin){try{null==this.plugin.Media&&this.plugin.loadModule(\"Media\")}catch(a){this.error(\"initialize\",a)}null==(null!=(b=this.plugin.Media)?b.openAd:void 0)&&(this.adStart=this.adEnded=this.adPlay=this.adPause=this.adCurrentTime=function(){})}},OmnitureProxy.prototype.createPlugin=function(){return window[this.getConfigurationData().main]},OmnitureProxy.prototype.mediaChange=function(){var a;this.started=!1,this.adsEnabled=null!=(a=this.facade.player.ads)?a.getEnabled():void 0},OmnitureProxy.prototype.start=function(){if(this.started!==!0){try{this.started=!0,this.plugin.Media.open(this.getMediaName(),this.media.getDuration(),this.getPlayerName())}catch(a){this.error(a)}this.adsEnabled!==!0&&this.play()}},OmnitureProxy.prototype.play=function(){if(this.started!==!0)return void this.start();if(this.adStarted!==!0)try{this.plugin.Media.play(this.getMediaName(),this.getPlaybackCore().getCurrentTime()||0)}catch(a){this.error(a)}},OmnitureProxy.prototype.pause=function(){if(this.adStarted!==!0)try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}},OmnitureProxy.prototype.seeking=function(){try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}},OmnitureProxy.prototype.seeked=function(){try{this.plugin.Media.play(this.getMediaName(),this.getPlaybackCore().getCurrentTime())}catch(a){this.error(a)}},OmnitureProxy.prototype.ended=function(){try{this.plugin.Media.stop(this.getMediaName(),this.getPlaybackCore().getCurrentTime()),this.plugin.Media.close(this.getMediaName()),this.started=!1}catch(a){this.error(a)}},OmnitureProxy.prototype.getAd=function(){return this.ad},OmnitureProxy.prototype.setAd=function(a){return this.adStarted=!1,this.adCurrentTime=0,this.ad=a},OmnitureProxy.prototype.adStart=function(){try{this.adStarted=!0,this.plugin.Media.openAd(this.ad.title,this.ad.duration,this.getPlayerName(),this.getMediaName(),this.ad.type,this.ad.position,this.ad.cpm),this.adPlay()}catch(a){this.error(\"ad start\",a)}},OmnitureProxy.prototype.adPlay=function(){this.adStarted!==!0&&this.adStart();try{this.plugin.Media.play(this.ad.title,this.adCurrentTime||0)}catch(a){this.error(\"ad play\",a)}},OmnitureProxy.prototype.adPause=function(){try{this.plugin.Media.stop(this.ad.title,this.adCurrentTime)}catch(a){this.error(\"ad pause\",a)}},OmnitureProxy.prototype.adCurrentTime=function(a){this.adCurrentTime=a},OmnitureProxy.prototype.adEnded=function(){if(this.adStarted!==!1){try{this.adStarted=!1,this.plugin.Media.stop(this.ad.title,this.ad.duration),this.plugin.Media.close(this.ad.title)}catch(a){this.error(\"ad end\",a)}this.play()}},__extends(HeartbeatProxy,OmnitureProxy),HeartbeatProxy.NAME=ModuleProxy.NAME,HeartbeatProxy.prototype.aaPlugin=null,HeartbeatProxy.prototype.playerPlugin=null,HeartbeatProxy.prototype.heartbeat=null,HeartbeatProxy.prototype.resumed=!1,HeartbeatProxy.prototype.liveLinear=null,HeartbeatProxy.prototype.initialize=function(){var a,b,c,d,e,f,g,h=this;HeartbeatProxy.__super__.initialize.call(this),c=this.getConfigurationData(),null!=c.heartbeat.liveLinear&&this.calculateLiveLinear(),\"undefined\"!=typeof Visitor&&null!==Visitor&&(g=new Visitor(c.visitor.marketingCloudOrgId),g.trackingServer=c.visitor.trackingServer),b=new AppMeasurement,b.account=c.account,b.trackingServer=c.trackingServer,b.visitor=g,b.pageName=c.pageName,b.charSet=\"UTF-8\",b.visitorID=c.visitorID,d=this.createDelegate(),this.playerPlugin=new ADB.va.plugins.videoplayer.VideoPlayerPlugin(d),e=new ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,e.debugLogging=this.facade.logger.enabled,this.playerPlugin.configure(e),d=new ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,d.onError=function(a){h.facade.logger.error(\"AdobeAnalyticsPlugin error: \"+a.getMessage()+\" | \"+a.getDetails())},this.aaPlugin=new ADB.va.plugins.aa.AdobeAnalyticsPlugin(b,d),e=new ADB.va.plugins.aa.AdobeAnalyticsPluginConfig,e.channel=c.heartbeat.channel,e.debugLogging=this.facade.logger.enabled,this.aaPlugin.configure(e),d=new ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate,d.onError=function(a){h.facade.logger.error(\"AdobeHeartbeatPlugin error: \"+a.getMessage()+\" | \"+a.getDetails())},a=new ADB.va.plugins.ah.AdobeHeartbeatPlugin(d),e=new ADB.va.plugins.ah.AdobeHeartbeatPluginConfig(c.heartbeat.trackingServer,c.heartbeat.publisher),e.ovp=c.heartbeat.ovp,e.sdk=c.heartbeat.sdk,e.debugLogging=this.facade.logger.enabled,a.configure(e),f=[this.playerPlugin,this.aaPlugin,a],d=new ADB.va.HeartbeatDelegate,d.onError=function(a){h.facade.logger.error(\"Heartbeat error: \"+a.getMessage()+\" | \"+a.getDetails())},this.heartbeat=new ADB.va.Heartbeat(d,f),e=new ADB.va.HeartbeatConfig,e.debugLogging=this.facade.logger.enabled,this.heartbeat.configure(e)},HeartbeatProxy.prototype.calculateLiveLinear=function(){var a,b,c=this;null==this.liveLinear&&(this.liveLinear={}),this.liveLinear.updating!==!0&&(this.liveLinear.updating=!0,a={updating:!1},b=Date.now(),Utils.getUTC(function(d){var e,f,g,h;g=Date.now(),e=new Date(d),f=e.toJSON().replace(/([^T]+T).+/,\"$1\"),h=c.getConfigurationData().heartbeat.liveLinear.timezone||\"Z\",a.utc=d,e=new Date(b+(g-b)/2),a.client=e.getTime(),a.offset=a.client-d,e=new Date(f+\"00:00:00.000\"+h),a.start=e.getTime(),e=new Date(f+\"23:59:59.999\"+h),a.end=e.getTime(),a.duration=Math.round((a.end-a.start)/1e3),c.liveLinear=a}))},HeartbeatProxy.prototype.calculateLiveLinearTime=function(){var a,b;return a=Date.now()-this.liveLinear.offset,b=Math.round((a-this.liveLinear.start)/1e3),b>this.liveLinear.duration&&(b-=this.liveLinear.duration,this.calculateLiveLinear()),b},HeartbeatProxy.prototype.createDelegate=function(){var a,b=this;return a=new ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,a.getVideoInfo=function(){var a,c,d,e;return c=b.getPlaybackCore(),e=new ADB.va.plugins.videoplayer.VideoInfo,e.id=b.media.getGUID()||b.media.getTitle(),e.playerName=b.getPlayerName(),e.name=b.getMediaName(),e.resumed=b.resumed,a=b.getConfigurationData().heartbeat,a.liveLinear.enabled===!0?(e.length=b.liveLinear.duration,e.streamType=ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_LIVE,e.playhead=b.calculateLiveLinearTime()):\"live\"===b.media.getTemporalType()?(e.length=-1,e.streamType=ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_LIVE,e.playhead=0):(e.length=b.media.getDuration(),e.streamType=ADB.va.plugins.videoplayer.AssetType.ASSET_TYPE_VOD,d=null!=c&&\"function\"==typeof c.getCurrentTime?c.getCurrentTime():void 0,e.playhead=null==d||isNaN(d)?0:d),e},a.getAdInfo=function(){var a,c;return a=new ADB.va.plugins.videoplayer.AdInfo,null==b.ad?null:(a.id=b.ad.id,c=b.ad.duration,a.length=isNaN(c)||0===c?-1:c,a.position=b.ad.position,a.name=b.ad.title,a)},a.getAdBreakInfo=function(){var a;return a=new ADB.va.plugins.videoplayer.AdBreakInfo,null==b.ad?null:(a.name=b.ad.type,a.position=b.ad.position,a.playerName=b.getPlayerName(),a.startTime=b.getPlaybackCore().getCurrentTime(),a)},a.getChapterInfo=function(){var a,c;return c=b.media.getScene(b.getPlaybackCore().getCurrentTime()),null==c?null:(a=new ADB.va.plugins.videoplayer.ChapterInfo,a.name=c.title,a.length=c.end-c.start,a.position=c.position,a.startTime=c.start,a)},a.onError=function(a){b.facade.logger.error(\"Heartbeat Error:\",a)},a.getQoSInfo=function(){var a;return a=new ADB.va.plugins.videoplayer.QoSInfo,null},a},HeartbeatProxy.prototype.mediaChange=function(){var a,b;HeartbeatProxy.__super__.mediaChange.call(this),this.resumed=!1,a=null!=(b=this.configurationData.value.heartbeat.metadata)?b.video:void 0,null!=a&&this.aaPlugin.setVideoMetadata(a)},HeartbeatProxy.prototype.start=function(){if(this.started!==!0){try{this.playerPlugin.trackVideoLoad(),this.started=!0}catch(a){this.error(a)}this.play()}},HeartbeatProxy.prototype.play=function(){this.started!==!0&&this.start();try{this.playerPlugin.trackPlay()}catch(a){this.error(a)}},HeartbeatProxy.prototype.pause=function(){try{this.playerPlugin.trackPause(),this.resumed=!0}catch(a){this.error(a)}},HeartbeatProxy.prototype.seeking=function(){try{this.playerPlugin.trackSeekStart()}catch(a){this.error(a)}},HeartbeatProxy.prototype.seeked=function(){try{this.playerPlugin.trackSeekComplete()}catch(a){this.error(a)}},HeartbeatProxy.prototype.ended=function(){try{this.playerPlugin.trackComplete(),this.playerPlugin.trackVideoUnload(),this.started=!1,this.aaPlugin.setVideoMetadata(null)}catch(a){this.error(a)}},HeartbeatProxy.prototype.adStart=function(){var a,b;if(this.started!==!0)return a=null!=(b=this.configurationData.value.heartbeat.metadata)?b.ad:void 0,null!=a&&this.aaPlugin.setAdMetadata(a),this.start(),void setTimeout(this.adStart.bind(this),0);try{this.playerPlugin.trackAdStart()}catch(a){this.error(a)}},HeartbeatProxy.prototype.adEnded=function(){try{this.playerPlugin.trackAdComplete(),this.aaPlugin.setAdMetadata(null)}catch(a){this.error(a)}},HeartbeatProxy.prototype.adPlay=function(){},HeartbeatProxy.prototype.adPause=function(){},__extends(OmnitureStartCommand,PluginCommand),OmnitureStartCommand.prototype.execute=function(a){this.proxy.start()},__extends(OmniturePlayCommand,PluginCommand),OmniturePlayCommand.prototype.execute=function(a){this.proxy.play()},__extends(OmniturePauseCommand,PluginCommand),OmniturePauseCommand.prototype.execute=function(a){this.proxy.pause()},__extends(OmnitureSeekingCommand,PluginCommand),OmnitureSeekingCommand.prototype.execute=function(a){this.proxy.seeking()},__extends(OmnitureSeekedCommand,PluginCommand),OmnitureSeekedCommand.prototype.execute=function(a){this.proxy.seeked()},__extends(OmnitureEndedCommand,PluginCommand),OmnitureEndedCommand.prototype.execute=function(a){this.proxy.ended()},__extends(OmnitureContentChangedCommand,PluginCommand),OmnitureContentChangedCommand.prototype.execute=function(a){this.proxy.setMedia(a.getBody()),this.proxy.start()},__extends(OmnitureAdLoadedCommand,PluginCommand),OmnitureAdLoadedCommand.prototype.execute=function(a){this.proxy.setAd(a.getBody())},__extends(OmnitureAdStartedCommand,PluginCommand),OmnitureAdStartedCommand.prototype.execute=function(a){this.proxy.adStart()},__extends(OmnitureAdPlayCommand,PluginCommand),OmnitureAdPlayCommand.prototype.execute=function(a){this.proxy.adPlay()},__extends(OmnitureAdPauseCommand,PluginCommand),OmnitureAdPauseCommand.prototype.execute=function(a){this.proxy.adPause()},__extends(OmnitureAdBreakEndCommand,PluginCommand),OmnitureAdBreakEndCommand.prototype.execute=function(a){this.proxy.adEnded(),this.proxy.setAd(null)},__extends(OmnitureAdTimeUpdateCommand,PluginCommand),OmnitureAdTimeUpdateCommand.prototype.execute=function(a){this.proxy.adCurrentTime(a.getBody())},__extends(OmnitureMediaChangeCommand,PluginCommand),OmnitureMediaChangeCommand.prototype.execute=function(a){this.proxy.mediaChange()},__extends(FeedPlugin,Plugin),FeedPlugin.prototype.moduleName=\"feed\",FeedPlugin.prototype.createModel=function(){this.proxy=new FeedProxy(this.config),this.registerProxy(this.proxy)},FeedPlugin.prototype.createController=function(){FeedPlugin.__super__.createController.call(this),this.registerCommand(Notifications.READY,FeedInitializedCommand),this.registerCommand(FeedNotifications.LOAD_FEED,LoadFeedCommand),this.registerCommand(FeedNotifications.CHANGE_FEED,ChangeFeedCommand),this.registerCommand(FeedNotifications.FEED_CHANGED,FeedChangedCommand),this.registerCommand(FeedNotifications.FEED_LOADED,PluginEventCommand),this.registerCommand(FeedNotifications.FEED_ERROR,PluginEventCommand)},FeedPlugin.prototype.listNotificationInterests=function(){return FeedPlugin.__super__.listNotificationInterests.call(this).concat([Notifications.READY])},FeedPlugin.prototype.listNotificationPublications=function(){var a,b;return FeedPlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in FeedNotifications)b=FeedNotifications[a],c.push(b);return c}())},FeedPlugin.prototype.setURL=function(a){return this.sendNotification(FeedNotifications.LOAD_FEED,a),a},FeedPlugin.prototype.getURL=function(){return this.proxy.getURL()},FeedPlugin.prototype.setData=function(a){return this.sendNotification(FeedNotifications.CHANGE_FEED,a),a},FeedPlugin.prototype.getData=function(){return this.proxy.getFeedData()},AMP.registerPlugin(\"feed\",\"html\",FeedPlugin),AMP.registerPlugin(\"feed\",\"flash\",FeedWrapper),__extends(OmniturePlugin,Plugin),OmniturePlugin.prototype.moduleName=\"omniture\",OmniturePlugin.prototype.createController=function(){this.registerCommand(Notifications.MEDIA_CHANGE,OmnitureMediaChangeCommand),this.registerCommand(Notifications.ENDED,OmnitureEndedCommand),this.registerCommand(Notifications.STARTED,OmnitureStartCommand),this.registerCommand(Notifications.PLAY,OmniturePlayCommand),this.registerCommand(Notifications.PAUSE,OmniturePauseCommand),this.registerCommand(Notifications.SEEKING,OmnitureSeekingCommand),this.registerCommand(Notifications.SEEKED,OmnitureSeekedCommand),this.registerCommand(Notifications.CHANGE_CONTENT,OmnitureEndedCommand),this.registerCommand(Notifications.CONTENT_CHANGED,OmnitureContentChangedCommand),this.registerCommand(AdNotifications.AD_LOADED,OmnitureAdLoadedCommand),\nthis.registerCommand(AdNotifications.AD_STARTED,OmnitureAdStartedCommand),this.registerCommand(AdNotifications.AD_PLAY,OmnitureAdPlayCommand),this.registerCommand(AdNotifications.AD_PAUSE,OmnitureAdPauseCommand),this.registerCommand(AdNotifications.AD_TIME_UPDATE,OmnitureAdTimeUpdateCommand),this.registerCommand(AdNotifications.BREAK_END,OmnitureAdBreakEndCommand)},OmniturePlugin.prototype.createModel=function(){var a;(null!=(a=this.config.heartbeat)?a.enabled:void 0)===!0?this.registerProxy(new HeartbeatProxy(this.config)):this.registerProxy(new OmnitureProxy(this.config))},OmniturePlugin.prototype.listNotificationInterests=function(){return[Notifications.CHANGE_MEDIA,Notifications.MEDIA_CHANGE,Notifications.CHANGE_CONTENT,Notifications.CONTENT_CHANGED,Notifications.TIME_UPDATE,Notifications.ENDED,Notifications.STARTED,Notifications.PLAY,Notifications.PAUSE,Notifications.SEEKING,Notifications.SEEKED,AdNotifications.AD_LOADED,AdNotifications.AD_STARTED,AdNotifications.AD_PLAY,AdNotifications.AD_PAUSE,AdNotifications.AD_TIME_REMAINING,AdNotifications.BREAK_START,AdNotifications.BREAK_END]},AMP.registerPlugin(\"omniture\",\"html\",OmniturePlugin),AMP.registerPlugin(\"omniture\",\"flash\",OmnitureWrapper),__extends(InfoWrapper,PluginWrapper),InfoWrapper.NAME=\"InfoWrapper\",InfoWrapper.prototype.listNotificationInterests=function(){return[FlashNotifications.CREATE_FLASH_VARS,FlashNotifications.CREATE_XML,FlashNotifications.SHARE,FlashNotifications.SHARE_REQUEST]},InfoWrapper.prototype.handleNotification=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;switch(i=a.getName(),c=a.getBody(),i){case FlashNotifications.CREATE_FLASH_VARS:g=c.flashvars;break;case FlashNotifications.CREATE_XML:for(o=c.xml,b=o.firstChild,n=o.getElementsByTagName(\"view\")[0],f=o.getElementsByTagName(\"element\"),p=0,q=f.length;p<q;p++)if(e=f[p],\"infoOverlayAdvanced\"===e.getAttribute(\"id\")){h=e;break}if(null==n)return;null==h&&(h=o.createElement(\"element\"),h.setAttribute(\"id\",\"infoOverlayAdvanced\"),h.setAttribute(\"displayStates\",\"preplay,paused,ns,fs,mouseover\"),n.insertBefore(h,n.childNodes[0])),d=o.createElement(\"data\"),h.appendChild(d),null!=this.config.title&&(j=o.createElement(\"property\"),j.setAttribute(\"key\",\"title\"),l=XMLUtils.createTextContent(o,this.config.title),j.appendChild(l),d.appendChild(j)),null!=this.config.description&&(j=o.createElement(\"property\"),j.setAttribute(\"key\",\"description\"),l=XMLUtils.createTextContent(o,this.config.description),j.appendChild(l),d.appendChild(j)),null!=this.config.more&&(j=o.createElement(\"property\"),j.setAttribute(\"key\",\"more\"),l=XMLUtils.createTextContent(o,this.config.more),j.appendChild(l),d.appendChild(j)),null!=this.config.less&&(j=o.createElement(\"property\"),j.setAttribute(\"key\",\"less\"),l=XMLUtils.createTextContent(o,this.config.less),j.appendChild(l),d.appendChild(j)),null!=this.config.provider&&(k=o.createElement(\"property\"),k.setAttribute(\"key\",\"provider\"),d.appendChild(k),null!=this.config.provider.name&&(j=o.createElement(\"property\"),j.setAttribute(\"key\",\"name\"),l=XMLUtils.createTextContent(o,this.config.provider.name),j.appendChild(l),k.appendChild(j)),null!=this.config.provider.image&&(j=o.createElement(\"property\"),j.setAttribute(\"key\",\"image\"),l=XMLUtils.createTextContent(o,this.config.provider.image),j.appendChild(l),k.appendChild(j)));break;case FlashNotifications.SHARE:case FlashNotifications.SHARE_REQUEST:m=\"share\"}if(null!=m)return this.dispatchEvent(new Event(m,c))},AMP.registerPlugin(\"info\",\"flash\",InfoWrapper),__extends(InfoMediator,PluginMediator),InfoMediator.prototype.componentName=\"info\",InfoMediator.prototype.title=null,InfoMediator.prototype.shortDescription=null,InfoMediator.prototype.icon=null,InfoMediator.prototype.provider=null,InfoMediator.prototype.onRegister=function(){InfoMediator.__super__.onRegister.call(this),this.title=this.create(\"info-title\"),this.provider=this.create(\"info-provider\"),this.shortDescription=this.create(\"info-short-description\"),this.icon=this.create(\"info-icon\",this,\"img\"),this.dataChangedHandler()},InfoMediator.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE]},InfoMediator.prototype.handleNotification=function(a){var b,c;switch(c=a.getName(),b=a.getBody(),c){case Notifications.MEDIA_CHANGE:this.dataChangedHandler()}},InfoMediator.prototype.moreClicked=function(a){return this.classList.add(\"open\")},InfoMediator.prototype.closeClicked=function(a){return this.classList.remove(\"open\")},InfoMediator.prototype.dataChangedHandler=function(){var a,b;return null!=this.plugin.value.title&&(this.title.textContent=this.plugin.value.title),null!=(null!=(b=this.plugin.value.provider)?b.image:void 0)&&(this.icon.src=this.plugin.value.provider.image),a=getComputedStyle(this.title),this.title.clientHeight>parseInt(a.lineHeight)?(this.classList.add(\"info-small\"),void(this.shortDescription.innerHTML=this.provider.innerHTML=\"\")):(this.classList.remove(\"info-small\"),this.truncateDescription(this.plugin.value.description,this.plugin.value.more),void(this.provider.textContent=null!=this.plugin.value.provider.name?\"\"+this.plugin.value.provider.name:\"\"))},InfoMediator.prototype.truncateDescription=function(a){var b,c,d,e,f,g,h;if(c=\"...\",e=\"\",f=this.shortDescription,f.textContent=\"\",null!=a)for(d=g=0,h=a.length;g<h;d=++g){if(b=a[d],f.textContent=e+b+c,f.scrollHeight>f.clientHeight){f.textContent=e+c;break}e+=b}},__extends(InfoProxy,DataBoundConfigurationProxy),InfoProxy.prototype.configurationName=\"info\",InfoProxy.NAME=ModuleProxy.NAME,InfoProxy.prototype.defaults={title:\"#{media.title}\",description:\"#{media.description}\",provider:{},more:\"read more\",less:\"less\"},__extends(CaptioningPlugin,Feature),CaptioningPlugin.prototype.featureName=\"captioning\",CaptioningPlugin.prototype.moduleName=\"captioning\",CaptioningPlugin.prototype.createController=function(){CaptioningPlugin.__super__.createController.call(this),this.registerCommand(Notifications.CHANGE_MEDIA,CaptioningChangeMediaCommand),this.registerCommand(Notifications.STARTED,CaptioningStartedCommand),this.registerCommand(Notifications.TIME_UPDATE,CaptioningTimeUpdateCommand),this.registerCommand(CaptioningNotifications.VISIBILITY_CHANGE,CaptioningVisibilityChangeCommand),this.registerCommand(CaptioningNotifications.ENABLED,PluginEventCommand),this.registerCommand(CaptioningNotifications.TRACK_SELECTED,PluginEventCommand),this.registerCommand(CaptioningNotifications.TRACKS_LOADED,PluginEventCommand),this.registerCommand(CaptioningNotifications.CUE_CHANGE,PluginEventCommand)},CaptioningPlugin.prototype.createModel=function(){this.proxy=new CaptioningProxy(this.config),this.registerProxy(this.proxy)},CaptioningPlugin.prototype.createView=function(){var a,b;a=new CaptioningMediator,this.registerMediator(a),b=a.viewComponent,this.registerMediator(new CaptioningSettingsMediator(b)),this.proxy.registerRenderer(new CaptioningNativeMediator(b)),this.proxy.registerRenderer(new CaptioningHTMLMediator(b))},CaptioningPlugin.prototype.listNotificationInterests=function(){return[Notifications.LOADED_METADATA,Notifications.CAN_PLAY_THROUGH,Notifications.CHANGE_MEDIA,Notifications.STARTED,Notifications.TIME_UPDATE,CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY]},CaptioningPlugin.prototype.listNotificationPublications=function(){var a,b;return CaptioningPlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in CaptioningNotifications)b=CaptioningNotifications[a],b!==CaptioningNotifications.TOGGLE_SETTINGS_VISIBILITY&&c.push(b);return c}()).concat([Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,UserSettingsNotifications.UPDATE_SETTINGS,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE])},CaptioningPlugin.prototype.getHidden=function(){return this.proxy.getHidden()},CaptioningPlugin.prototype.setHidden=function(a){return this.sendNotification(CaptioningNotifications.VISIBILITY_CHANGE,!a),a},CaptioningPlugin.prototype.getTracks=function(){return this.proxy.getTracks()},CaptioningPlugin.prototype.getTrack=function(){return this.proxy.getTrack()},CaptioningPlugin.prototype.setTrack=function(a){return this.proxy.setTrack(a),a},CaptioningPlugin.prototype.selectTrackByIndex=function(a){return this.proxy.selectTrackByIndex(a)},CaptioningPlugin.prototype.selectTrackByLanguage=function(a){return this.proxy.selectTrackByLanguage(a)},CaptioningPlugin.prototype.changeSettings=function(a){return this.sendNotification(CaptioningNotifications.SETTINGS_CHANGE,a),a},AMP.registerPlugin(\"captioning\",\"html\",CaptioningPlugin),__extends(ComscoreProxy,DataBoundConfigurationProxy),ComscoreProxy.prototype.configurationName=\"comscore\",ComscoreProxy.NAME=ModuleProxy.NAME,ComscoreProxy.prototype.defaults={url:\"http://b.scorecardresearch.com/b\",events:{ads:null,video:null},data:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:null,c8:null,c9:null,c10:null,c14:null}},ComscoreProxy.prototype.adStart=function(){var a;a=this.constructURL(\"ads\",\"started\"),Utils.beacon(a)},ComscoreProxy.prototype.videoStart=function(){var a;a=this.constructURL(\"video\",\"started\"),Utils.beacon(a)},ComscoreProxy.prototype.constructURL=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(c={},e=null!=(m=this.value.events)?m[a]:void 0,null!=e)for(k=0,l=e.length;k<l;k++)f=e[k],f.type===b&&(d=f);n=this.value.data;for(g in n)j=n[g],c[g]=(null!=d&&null!=(o=d.data)?o[g]:void 0)||j;null==c.c7&&(c.c7=document.location.href.substr(0,512)),null==c.c8&&(c.c8=document.referrer.substr(0,512)),null==c.c9&&(c.c9=document.title),null==c.cv&&(c.cv=\"2.0\"),c.rn=Date.now(),i=this.value.url,h=[];for(g in c)j=c[g],null!=j&&\"\"!==j&&h.push(g+\"=\"+escape(j));return h.length>0&&(i+=\"?\"+h.join(\"&\")),i.substr(0,2080)},__extends(ComscoreWrapper,PluginWrapper),ComscoreWrapper.NAME=\"ComscoreWrapper\",ComscoreWrapper.prototype.flashPlugins=[{id:\"ComscorePlugin\",src:\"#{paths.resources}plugins/ComscorePlugin.swf\",blocking:!1,host:\"akamai\",main:\"ComscorePlugin\",type:\"application/x-shockwave-flash\"}],ComscoreWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;b=a.firstChild,g=a.getElementsByTagName(\"metrics\")[0],null==g&&(g=a.createElement(\"metrics\"),b.appendChild(g)),m=a.createElement(\"vendor\"),m.setAttribute(\"id\",\"comscore\"),g.appendChild(m),f={ads:{started:\"adStart\",ended:\"adComplete\"},video:{started:\"videoStart\",ended:\"videoComplete\"}},j=[{value:\"c1\",key:\"COMSCORE_CSC1\"},{value:\"c2\",key:\"COMSCORE_CSC2\"},{value:\"c3\",key:\"COMSCORE_CSC3\"},{value:\"c4\",key:\"COMSCORE_CSC4\"},{value:\"c5\",key:\"COMSCORE_CSC5\"},{value:\"c6\",key:\"COMSCORE_CSC6\"},{value:\"c7\",key:\"COMSCORE_CSC7\"},{value:\"c8\",key:\"COMSCORE_CSC8\"},{value:\"c9\",key:\"COMSCORE_CSC9\"},{value:\"c10\",key:\"COMSCORE_CSC10\"},{value:\"c11\",key:\"COMSCORE_CSC14\"}],r=this.config.events;for(l in r)if(e=r[l],null!=e&&e.length>0)for(n=0,p=e.length;n<p;n++)for(d=e[n],h=a.createElement(\"property\"),h.setAttribute(\"key\",f[l][d.type]),m.appendChild(h),c=a.createElement(\"property\"),c.setAttribute(\"key\",\"COMSCORE_CSURL\"),k=XMLUtils.createTextContent(a,this.config.url),c.appendChild(k),h.appendChild(c),o=0,q=j.length;o<q;o++)i=j[o],k=(null!=(s=d.data)?s[i.value]:void 0)||(null!=(t=this.config.data)?t[i.value]:void 0),null!=k&&\"\"!==k&&(c=a.createElement(\"property\"),c.setAttribute(\"key\",i.key),k=XMLUtils.createTextContent(a,k),c.appendChild(k),h.appendChild(c));return a},__extends(ComscoreAdStartCommand,puremvc.SimpleCommand),ComscoreAdStartCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreProxy.NAME),b.adStart()},__extends(ComscoreStartCommand,puremvc.SimpleCommand),ComscoreStartCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreProxy.NAME),b.videoStart()},__extends(InfoPlugin,Plugin),InfoPlugin.prototype.moduleName=\"info\",InfoPlugin.prototype.createModel=function(){this.registerProxy(new InfoProxy(this.config))},InfoPlugin.prototype.createView=function(){this.registerMediator(new InfoMediator)},InfoPlugin.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE]};AMP.registerPlugin(\"info\",\"html\",InfoPlugin);AMP.registerPlugin(\"info\",\"external\",InfoPlugin),__extends(ComscoreStreamsenseWrapper,PluginWrapper),ComscoreStreamsenseWrapper.NAME=\"ComscoreStreamsenseWrapper\",ComscoreStreamsenseWrapper.prototype.flashPlugins=[{id:\"ComscoreStreamSensePlugin\",src:\"#{paths.resources}plugins/ComscoreStreamSensePlugin.swf\",blocking:!1,host:\"akamai\",main:\"ComscoreStreamSensePlugin\"}],ComscoreStreamsenseWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h;for(b=a.firstChild,c=a.getElementsByTagName(\"metrics\")[0],null==c&&(c=a.createElement(\"metrics\"),b.appendChild(c)),f=a.createElement(\"vendor\"),f.setAttribute(\"id\",\"comscoreStreamSense\"),c.appendChild(f),e=[{value:this.config.data.clientId,key:\"C2\"},{value:this.config.data.publisherSecret,key:\"PUBLISHER_SECRET\"},{value:this.config.data.appVersion,key:\"APP_VERSION\"},{value:this.config.data.metadata,key:\"metadata\"}],g=0,h=e.length;g<h;g++)d=e[g],null!=d.value&&this.createProperty(a,d.key,d.value,f);return a},__extends(ComscoreStreamsenseProxy,PluginProxy),ComscoreStreamsenseProxy.NAME=ModuleProxy.NAME,ComscoreStreamsenseProxy.prototype.defaults={plugin:{js:null},data:{clientId:null,publisherSecret:null,appVersion:null,metadata:null}},ComscoreStreamsenseProxy.prototype.myStreamingTag=null,ComscoreStreamsenseProxy.prototype.sdk=null,ComscoreStreamsenseProxy.prototype.getScript=function(){return this.config.plugin.js},ComscoreStreamsenseProxy.prototype.initialize=function(){ComscoreStreamsenseProxy.__super__.initialize.call(this),this.sdk=akamai.amp.ns_,null!=this.sdk&&null===this.myStreamingTag&&(this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId}))},ComscoreStreamsenseProxy.prototype.mediaChange=function(){null!=this.myStreamingTag&&this.myStreamingTag.stop(),this.myStreamingTag=null,this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId}),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Media Change, StreamTag ReInitialize\")},ComscoreStreamsenseProxy.prototype.adStart=function(a){null==a&&(a=null),this.myStreamingTag.playVideoAdvertisement(this.getMetaData(!0)),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Ad Start\")},ComscoreStreamsenseProxy.prototype.start=function(a){var b;null==a&&(a=null),null!=(b=this.facade.player.ads)&&b.getInProgress()||(this.myStreamingTag.playVideoContentPart(this.getMetaData()),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Content Play\"))},ComscoreStreamsenseProxy.prototype.stop=function(){this.myStreamingTag.stop(),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Stop\")},ComscoreStreamsenseProxy.prototype.ended=function(){this.myStreamingTag.stop(),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : End\"),this.myStreamingTag=null,this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId})},ComscoreStreamsenseProxy.prototype.getMetaData=function(a){var b,c,d,e;null==a&&(a=!1),c={},d=a?this.value.data.metadata.ads:this.value.data.metadata.video;for(b in d)e=d[b],\"null\"!==e&&(c[b]=e);return c},__extends(ComscoreStreamsenseStartedCommand,puremvc.SimpleCommand),ComscoreStreamsenseStartedCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME),b.start(a.body)},__extends(ComscoreStreamsenseAdStartedCommand,puremvc.SimpleCommand),ComscoreStreamsenseAdStartedCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME),b.adStart(a.body)},__extends(ComscoreStreamsenseStopCommand,puremvc.SimpleCommand),ComscoreStreamsenseStopCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME),b.stop(a.body)},__extends(ComscoreStreamsenseAdErrorCommand,puremvc.SimpleCommand),ComscoreStreamsenseAdErrorCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME),b.adStart(a.body),b.stop(a.body)},__extends(ComscoreStreamsenseChangeMediaCommand,puremvc.SimpleCommand),ComscoreStreamsenseChangeMediaCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME),b.mediaChange()},__extends(ComscoreStreamsenseEndedCommand,puremvc.SimpleCommand),ComscoreStreamsenseEndedCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(ComscoreStreamsenseProxy.NAME),b.ended()},__extends(ComscorePlugin,Plugin),ComscorePlugin.prototype.moduleName=\"comscore\",ComscorePlugin.prototype.createController=function(){ComscorePlugin.__super__.createController.call(this),this.registerCommand(Notifications.STARTED,ComscoreStartCommand),this.registerCommand(Notifications.CONTENT_CHANGED,ComscoreStartCommand),this.registerCommand(AdNotifications.AD_STARTED,ComscoreAdStartCommand)},ComscorePlugin.prototype.createModel=function(){this.registerProxy(new ComscoreProxy(this.config))},ComscorePlugin.prototype.listNotificationInterests=function(){return[Notifications.STARTED,AdNotifications.AD_STARTED,Notifications.CONTENT_CHANGED]},AMP.registerPlugin(\"comscore\",\"html\",ComscorePlugin),AMP.registerPlugin(\"comscore\",\"flash\",ComscoreWrapper),__extends(AdMediator,OverlayMediator),AdMediator.prototype.duration=null,AdMediator.prototype.currentTime=null,AdMediator.prototype.container=null,AdMediator.prototype.banner=null,AdMediator.prototype.text=null,AdMediator.prototype.adText=null,AdMediator.prototype.bg=null,AdMediator.prototype.totalAds=null,AdMediator.prototype.adPosition=null,AdMediator.prototype.adContainerRequired=!0,AdMediator.prototype.componentName=\"ads\",AdMediator.prototype.onRegister=function(){AdMediator.__super__.onRegister.call(this),this.adContainerRequired&&(this.container=this.create(\"ad-container\")),this.banner=this.create(\"ad-banner\"),this.bg=this.create(\"ad-text-bg\",this.banner),this.adText=this.create(\"ad-text-title\",this.banner),this.text=this.create(\"ad-text\",this.banner),this.adContainerRequired&&(this.viewComponent.container=this.container),this.sendNotification(AdNotifications.AD_CONTAINER_CREATED,this.viewComponent),this.facade.setViewComponent(this.viewComponent)},AdMediator.prototype.listNotificationInterests=function(){return[AdNotifications.BREAK_START,AdNotifications.BREAK_END,AdNotifications.AD_TIME_REMAINING,AdNotifications.AD_STARTED]},AdMediator.prototype.handleNotification=function(a){var b,c,d,e;switch(a.getName()){case AdNotifications.BREAK_END:this.text.textContent=\"\",this.adText.textContent=\"\";break;case AdNotifications.AD_TIME_REMAINING:e=Math.round(a.getBody()),d=null!=this.totalAds&&this.totalAds>0&&null!=this.adPosition&&this.adPosition!==this.totalAds?e>0?\"\"+this.localizationManager.getString(LocalizationConstants.MSG_NEXT_AD)+e+\" \"+this.localizationManager.getString(LocalizationConstants.MSG_SECONDS):\"\":e>0?\"\"+this.localizationManager.getString(LocalizationConstants.MSG_NEXT_VIDEO)+e+\" \"+this.localizationManager.getString(LocalizationConstants.MSG_SECONDS):\"\",this.text.textContent=d,c=this.facade.retrieveProxy(ModuleProxy.NAME).adVO.duration,e=c-e;break;case AdNotifications.AD_STARTED:b=a.getBody(),this.totalAds=b.totalAds,this.adPosition=b.position,d=\"Ad \"+b.position+\" of \"+b.totalAds,null!=b.position&&null!=b.totalAds&&b.totalAds>=1&&(this.adText.textContent=d)}},__extends(AdMediaChangeCommand,PluginCommand),AdMediaChangeCommand.prototype.execute=function(a){this.proxy.getEnabled()!==!1&&this.proxy.engage(a.getBody())},__extends(AdLoadedCommand,PluginEventCommand),AdLoadedCommand.prototype.execute=function(a){this.sendNotification(Notifications.UPDATE_DATA_BINDINGS,{contexts:[this.proxy.getContextName()]}),AdLoadedCommand.__super__.execute.call(this,a)},__extends(AdBreakStartCommand,PluginEventCommand),AdBreakStartCommand.prototype.execute=function(a){this.player.sendNotification(Notifications.ADD_APPLICATION_STATE,\"ad-mode\"),AdBreakStartCommand.__super__.execute.call(this,a),this.proxy.breakStart()},__extends(AdBreakEndCommand,PluginEventCommand),AdBreakEndCommand.prototype.execute=function(a){AdBreakEndCommand.__super__.execute.call(this,a),this.proxy.breakEnd(),this.player.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"ad-mode\")},__extends(AdSeekCommand,PluginCommand),AdSeekCommand.prototype.execute=function(a){this.proxy.contentSeek(a.getBody())},__extends(AdContainerCreatedCommand,PluginEventCommand),AdContainerCreatedCommand.prototype.execute=function(a){this.proxy.container=a.getBody(),AdContainerCreatedCommand.__super__.execute.call(this,a)},__extends(ComscoreStreamsensePlugin,Plugin),ComscoreStreamsensePlugin.prototype.moduleName=\"comscorestreamsense\",ComscoreStreamsensePlugin.prototype.createModel=function(){this.registerProxy(new ComscoreStreamsenseProxy(this.config))},ComscoreStreamsensePlugin.prototype.createController=function(){ComscoreStreamsensePlugin.__super__.createController.call(this),this.registerCommand(Notifications.MEDIA_CHANGE,ComscoreStreamsenseChangeMediaCommand),this.registerCommand(AdNotifications.AD_STARTED,ComscoreStreamsenseAdStartedCommand),this.registerCommand(AdNotifications.AD_ENDED,ComscoreStreamsenseStopCommand),this.registerCommand(AdNotifications.SKIPPED,ComscoreStreamsenseStopCommand),this.registerCommand(AdNotifications.AD_ERROR,ComscoreStreamsenseAdErrorCommand),this.registerCommand(Notifications.PLAYING,ComscoreStreamsenseStartedCommand),this.registerCommand(Notifications.PAUSED,ComscoreStreamsenseStopCommand),this.registerCommand(Notifications.ENDED,ComscoreStreamsenseEndedCommand)},ComscoreStreamsensePlugin.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE,AdNotifications.AD_STARTED,AdNotifications.AD_ENDED,AdNotifications.AD_ERROR,AdNotifications.SKIPPED,Notifications.ENDED,Notifications.PAUSED,Notifications.PLAYING]},AMP.registerPlugin(\"comscorestreamsense\",\"html\",ComscoreStreamsensePlugin),AMP.registerPlugin(\"comscorestreamsense\",\"flash\",ComscoreStreamsenseWrapper);var FlashAdNotifications={BREAK_START:\"adComponentBreakInitiated\",BREAK_END:\"adComponentBreakComplete\",AD_LOADED:\"adComponentLoaded\",AD_STARTED:\"adComponentAdBegin\",AD_TIME_UPDATE:\"adComponentPlaybackProgress\",AD_TIME_REMAINING:\"adComponentTimeElapsed\",AD_DURATION_CHANGE:\"addurationchange\",AD_ENDED:\"adComponentAdComplete\",AD_ERROR:\"adComponentInitFailed\",AD_PLAY:\"adComponentPlaybackResumed\",AD_PAUSE:\"adComponentPlaybackPaused\",AD_LOG:\"adComponentLog\",AD_COMPANION:\"adComponentCompanion\",AD_PLAYBACK_FAILED:\"adComponentPlaybackFailed\",AD_PLAYBACK_TERMINATED:\"adComponentPlaybackTerminated\",AD_MEDIA_LOADED:\"adComponentMediaLoaded\",AD_CLICKED:\"adComponentClicked\",AD_FIRST_QUARTILE:\"adComponentFirstQuartile\",AD_MIDPOINT:\"adComponentMidpoint\",AD_THIRD_QUARTILE:\"adComponentThirdQuartile\",AD_REQUEST:\"adComponentAdsRequest\",AD_SKIPPED:\"adComponentAdSkipped\",AD_IMPRESSION:\"adComponentImpression\"};__extends(FreeWheelProxy,AdProxy),FreeWheelProxy.NAME=AdProxy.NAME,FreeWheelProxy.prototype.context=null,FreeWheelProxy.prototype.prerollSlots=null,FreeWheelProxy.prototype.midrollSlots=null,FreeWheelProxy.prototype.postrollSlots=null,FreeWheelProxy.prototype.initialized=!1,FreeWheelProxy.prototype.playWhenLoaded=!1,FreeWheelProxy.prototype.handlers=null,FreeWheelProxy.prototype.slot=null,FreeWheelProxy.prototype.playbackCore=null,FreeWheelProxy.prototype.nextMidroll=null,FreeWheelProxy.prototype.midrollEngaged=!1,FreeWheelProxy.prototype.timeout=null,FreeWheelProxy.prototype.curTime=0,FreeWheelProxy.prototype.mediator=null,FreeWheelProxy.prototype.adPosition=1,FreeWheelProxy.prototype.defaults={networkId:\"96749\",serverUrl:\"http://demo.v.fwmrm.net/ad/g/1\",profileId:\"global-js\",siteSectionId:\"DemoSiteGroup.01\",siteSectionFallbackId:null,videoAssetId:\"#{media.guid}\",videoAssetFallbackId:null,prerollSlotId:null,midrollSlotId:null,postrollSlotId:null,visitorId:null,keyValues:null,keyValuesString:null,renderers:null,synchronizeMultipleRequests:null,subsessionToken:null,creativeParameters:null},FreeWheelProxy.prototype.initialize=function(){this.plugin=this.createPlugin(),this.plugin.setNetwork(this.value.networkId),this.plugin.setServer(this.value.serverUrl)},FreeWheelProxy.prototype.createPlugin=function(){return new tv.freewheel.SDK.AdManager},FreeWheelProxy.prototype.engage=function(a){this.media=a,FreeWheelProxy.__super__.engage.call(this,a),this.requestAd()},FreeWheelProxy.prototype.requestAd=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(this.terminateAllAds(!0),this.context=this.plugin.newContext(),null!=this.value.synchronizeMultipleRequests&&this.context.setCapability(\"sync\",this.value.synchronizeMultipleRequests?tv.freewheel.SDK.CAPABILITY_STATUS_ON:tv.freewheel.SDK.CAPABILITY_STATUS_OFF),this.context.registerVideoDisplayBase(this.facade.player.viewComponent.id),e=this.facade.player.getMediaElement(),\"video\"!==e.nodeName.toLowerCase()&&(this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,this.facade.player.mediator),this.mediator=this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore().mediator),this.context.setContentVideoElement(this.facade.player.getMediaElement()),this.context.setProfile(this.value.profileId),this.context.setVideoAsset(this.value.videoAssetId,this.media.duration,this.value.networkId,null,null,null,null,this.value.videoAssetFallbackId),this.context.setSiteSection(this.value.siteSectionId,this.value.networkId,null,null,this.value.siteSectionFallbackId),null!=this.value.subsessionToken&&this.context.startSubsession(this.value.subsessionToken),null!=this.value.visitorId&&this.context.setVisitor(this.value.visitorId),null!=this.value.keyValues){s=this.value.keyValues;for(c in s)l=s[c],null!=l&&this.context.addKeyValue(c,l)}if(null!=this.value.keyValuesString)for(g=this.value.keyValuesString.split(\"&\"),m=0,p=g.length;m<p;m++)f=g[m],\"\"!==f&&(d=f.split(\"=\"),this.context.addKeyValue(d[0],d[1]));if(this.context.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.handlers.onRequestComplete),this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.handlers.onSlotStarted),this.context.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.handlers.onSlotEnded),this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.handlers.onAdImpression),this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.handlers.onAdImpressionEnd),this.context.addEventListener(tv.freewheel.SDK.EVENT_AD_CLICK,this.handlers.onAdClick),this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,1e4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT,1e4,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.context.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),this.context.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),null!=this.value.prerollSlotId&&this.context.addTemporalSlot(this.value.prerollSlotId,tv.freewheel.SDK.ADUNIT_PREROLL,0),(null!=(t=this.media.scenes)?t.length:void 0)>0&&null!=this.value.midrollSlotId){for(a=[],u=this.media.scenes,b=n=0,q=u.length;n<q;b=++n)j=u[b],b>0&&(k=Utils.flattenTimecode(j.sceneStartTime),a.push(k),this.context.addTemporalSlot(this.value.midrollSlotId,tv.freewheel.SDK.ADUNIT_MIDROLL,k));this.facade.player.sendNotification(Notifications.ADD_CUE_POINTS,a)}if(null!=this.value.postrollSlotId&&this.context.addTemporalSlot(this.value.postrollSlotId,tv.freewheel.SDK.ADUNIT_POSTROLL,this.media.duration),i=this.value.renderers,(null!=i?i.length:void 0)>0)for(o=0,r=i.length;o<r;o++)h=i[o],this.context.addRenderer(h.url,h.baseUnit,h.contentType,h.slotType,h.soAdUnit,h.creativeApi,h.parameters);this.initialized=!1,this.context.submitRequest(),this.facade.getViewComponent().container.style.pointerEvents=\"none\"},FreeWheelProxy.prototype.reset=function(){FreeWheelProxy.__super__.reset.call(this),null!=this.mediator&&(this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,this.mediator),this.mediator=null)},FreeWheelProxy.prototype.onRequestComplete=function(a){var b,c,d,e,f;if(b=[],a.success)for(d=this.context.getTemporalSlots(),e=0,f=d.length;e<f;e++)switch(c=d[e],c.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:null!=this.value.prerollSlotId&&this.prerollSlots.push(c);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:null!=this.value.midrollSlotId&&(b.push(c.getTimePosition()),this.midrollSlots.push(c));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:null!=this.value.postrollSlotId&&this.postrollSlots.push(c)}b.length>0&&this.sendNotification(Notifications.ADD_CUE_POINTS,b),this.initialized=!0,this.playWhenLoaded===!0&&this.startAd()},FreeWheelProxy.prototype.breakStart=function(){var a;this.adPosition=1,this.setInProgress(!0),this.playbackCore=this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore(),this.playbackCore.setEnabled(!1),a=this.facade.player.getMediaElement(),a.addEventListener(\"playing\",this.playbackCore.handlers.playing),a.addEventListener(\"pause\",this.playbackCore.handlers.pause),a.addEventListener(\"waiting\",this.playbackCore.handlers.waiting),a.addEventListener(\"seeking\",this.handlers.seekupdate),this.timeout=setInterval(function(){return this.curTime=a.currentTime},500)},FreeWheelProxy.prototype.seekingHandler=function(a){a.target.currentTime>this.curTime&&(a.target.currentTime=this.curTime)},FreeWheelProxy.prototype.onAdImpression=function(a){var b,c;(null!=(c=a.adInstance)&&\"function\"==typeof c.getSlot&&\"function\"==typeof(b=c.getSlot()).getTimePositionClass?b.getTimePositionClass():void 0)!==tv.freewheel.SDK.TIME_POSITION_CLASS_DISPLAY&&(this.sendNotification(AdNotifications.IMPRESSION,this.adVO),this.sendNotification(AdNotifications.AD_STARTED,this.adVO))},FreeWheelProxy.prototype.onAdImpressionEnd=function(a){this.sendNotification(AdNotifications.AD_ENDED,this.adVO)},FreeWheelProxy.prototype.onAdClick=function(a){var b;b=this.facade.player.getMediaElement().paused,b===!1&&this.pause(),this.sendNotification(AdNotifications.AD_CLICKED,this.adVO)},FreeWheelProxy.prototype.midrollCheck=function(a){var b;b=a.currentTarget,this.playbackCore.getCurrentTime()>=this.nextMidroll.getTimePosition()&&(b.removeEventListener(\"timeupdate\",this.handlers.timeupdate),this.startBreak(),this.engageAds(),this.midrollEngaged=!1,this.playAd(this.nextMidroll))},FreeWheelProxy.prototype.adTimeupdate=function(a){try{null!=this.slot&&(this.sendNotification(AdNotifications.AD_TIME_UPDATE,this.slot.getPlayheadTime()),this.sendNotification(AdNotifications.AD_TIME_REMAINING,this.slot.getTotalDuration()-this.slot.getPlayheadTime()))}catch(a){this.facade.logger.error(\"[AMP FREEWHEEL ERROR]\",a)}},FreeWheelProxy.prototype.onSlotStarted=function(a){var b;b=a.slot,\"temporal\"===b.getType()&&(this.slot=b,this.facade.player.getMediaElement().addEventListener(\"timeupdate\",this.handlers.adtimeupdate))},FreeWheelProxy.prototype.onSlotEnded=function(a){var b,c,d;if(c=a.slot,\"temporal\"===c.getType())switch(this.facade.player.getMediaElement().removeEventListener(\"timeupdate\",this.handlers.adtimeupdate),d=c.getTimePositionClass(),this.slot=null,d){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:this.prerollSlots.length&&(this.prerollSlots.shift(),++this.adPosition,this.prerollSlots.length?this.playAd(this.prerollSlots[0]):this.endBreak());break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:b=this.midrollSlots.indexOf(this.nextMidroll),b>-1&&this.midrollSlots.splice(b,1),this.endBreak();break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:this.postrollSlots.length&&(++this.adPosition,this.postrollSlots.shift(),this.postrollSlots.length?this.playAd(this.postrollSlots[0]):this.endBreak())}},FreeWheelProxy.prototype.playAd=function(a){var b,c,d,e,f,g,h,i;if(e={adtype:a.getType()},c=null!=a&&null!=(i=a.getAdInstances())?i[0]:void 0,\nnull!=c&&(e.adunit=c.getSoAdUnit(),b=c.getActiveCreativeRendition(),null!=b&&(e.baseunit=b.getBaseUnit(),d=this.value.creativeParameters,null!=d)))for(e.creativeparameters={},g=0,h=d.length;g<h;g++)f=d[g],e.creativeparameters[f]=b.getParameter(f);this.adVO=new AdVO(a.getCustomId(),a.getCustomId(),a.getTotalDuration(),this.adPosition,a.getTimePositionClass().toLowerCase(),\"freewheel\",null,null,null,e,a.getAdCount()),this.sendNotification(AdNotifications.AD_LOADED,this.adVO),a.play()},FreeWheelProxy.prototype.start=function(){return FreeWheelProxy.__super__.start.call(this)!==!1&&(this.canPlay()===!0?this.startAd():this.playWhenLoaded=!0,!0)},FreeWheelProxy.prototype.canPlay=function(){return this.initialized===!0},FreeWheelProxy.prototype.startAd=function(){this.playWhenLoaded=!1,this.prerollSlots.length?this.playAd(this.prerollSlots[0]):this.endBreak()},FreeWheelProxy.prototype.play=function(){FreeWheelProxy.__super__.play.call(this),this.facade.player.getMediaElement().play(),this.terminateAdOnPlay===!0&&(this.terminateAdOnPlay=!1,this.terminateAd())},FreeWheelProxy.prototype.pause=function(){var a;FreeWheelProxy.__super__.pause.call(this),a=this.facade.player.getMediaElement(),a.pause(),setTimeout(function(){return a.controls=!1},0)},FreeWheelProxy.prototype.breakEnd=function(){var a,b=this;FreeWheelProxy.__super__.breakEnd.call(this),this.setInProgress(!1),null==this.playbackCore&&(this.playbackCore=this.facade.player.retrieveProxy(PlayerProxy.NAME).getActivePlaybackCore()),a=this.facade.player.getMediaElement(),a.removeEventListener(\"playing\",this.playbackCore.handlers.playing),a.removeEventListener(\"pause\",this.playbackCore.handlers.pause),a.removeEventListener(\"waiting\",this.playbackCore.handlers.waiting),a.removeEventListener(\"seeking\",this.handlers.seekupdate),clearInterval(this.timeout),this.playbackCore.setEnabled(!0),this.playbackCore.getEnded()?(this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED),this.facade.player.sendNotification(Notifications.ENDED),this.facade.player.sendNotification(Notifications.MEDIA_SEQUENCE_ENDED,{isAd:!0})):setTimeout(function(){b.contentPlay(),b.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING),b.engageMidrollCheck()},1)},FreeWheelProxy.prototype.contentStarted=function(){this.engageMidrollCheck()},FreeWheelProxy.prototype.contentSeek=function(a){var b;b=this.getNextMidroll(a),null!=b&&(null==this.nextMidroll||b.getTimePosition()<this.nextMidroll.getTimePosition())&&(this.midrollEngaged?this.nextMidroll=b:this.engageMidrollCheck())},FreeWheelProxy.prototype.engageMidrollCheck=function(){var a;0!==(null!=(a=this.midrollSlots)?a.length:void 0)&&this.midrollEngaged!==!0&&(this.nextMidroll=this.getNextMidroll(this.playbackCore.getCurrentTime()),null!=this.nextMidroll&&(this.midrollEngaged=!0,this.facade.player.getMediaElement().addEventListener(\"timeupdate\",this.handlers.timeupdate)))},FreeWheelProxy.prototype.getNextMidroll=function(a){var b,c,d,e,f;for(f=this.midrollSlots,d=0,e=f.length;d<e;d++)if(b=f[d],a<b.getTimePosition()){c=b;break}return c},FreeWheelProxy.prototype.contentEnded=function(){var a;this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED),(null!=(a=this.postrollSlots)?a.length:void 0)?(this.startBreak(),this.playAd(this.postrollSlots[0])):this.context.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED)},FreeWheelProxy.prototype.terminateAd=function(){var a;return this.started===!0&&this.facade.player.getMediaElement().paused===!0?void(this.terminateAdOnPlay=!0):void(null!=this.slot&&\"function\"==typeof(a=this.slot).stop&&a.stop())},FreeWheelProxy.prototype.terminateAllAds=function(a){a===!0&&null!=this.context&&(this.context.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.handlers.onRequestComplete),this.context.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.handlers.onSlotStarted),this.context.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.handlers.onSlotEnded),this.context.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.handlers.onAdImpression),this.context.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.handlers.onAdImpressionEnd)),this.terminateAd(),this.prerollSlots=[],this.midrollSlots=[],this.postrollSlots=[]},FreeWheelProxy.prototype.destroy=function(){this.terminateAllAds(!0)},__extends(AdWrapper,PluginWrapper),AdWrapper.NAME=\"AdWrapper\",AdWrapper.prototype.enabled=!0,AdWrapper.prototype.paused=!1,AdWrapper.prototype.started=!1,AdWrapper.prototype.adVO=null,AdWrapper.prototype.getFeatureName=function(){return\"ads\"},AdWrapper.prototype.getInProgress=function(){return this.player.mediaElement.getPlayerProperty(\"adInProgress\")},AdWrapper.prototype.getStarted=function(){return this.started},AdWrapper.prototype.getPaused=function(){return this.paused},AdWrapper.prototype.getCompanions=function(){var a;return null!=(a=this.adVO)?a.companions:void 0},AdWrapper.prototype.setEnabled=function(a){return this.enabled=a,this.player.mediaElement.setPlayerProperty(\"adsEnabled\",a),a},AdWrapper.prototype.getEnabled=function(){return this.enabled},AdWrapper.prototype.enable=function(){this.setEnabled(!0)},AdWrapper.prototype.disable=function(){this.setEnabled(!1)},AdWrapper.prototype.createFlashVars=function(a){return a.core_ads_enabled=!0,a},AdWrapper.prototype.listNotificationInterests=function(){var a,b;return AdWrapper.__super__.listNotificationInterests.call(this).concat(function(){var c;c=[];for(a in FlashAdNotifications)b=FlashAdNotifications[a],c.push(b);return c}())},AdWrapper.prototype.handleNotification=function(a){var b,c,d,e,f;switch(AdWrapper.__super__.handleNotification.call(this,a),d=a.getName(),b=a.getBody(),this.adVO=this.createAdVO(b),e=this,d){case FlashAdNotifications.BREAK_START:f=AdNotifications.BREAK_START;break;case FlashAdNotifications.BREAK_END:f=AdNotifications.BREAK_END;break;case FlashAdNotifications.AD_MEDIA_LOADED:f=AdNotifications.AD_LOADED,this.start=!1;break;case FlashAdNotifications.AD_STARTED:f=AdNotifications.AD_STARTED,this.started=!0,this.sendNotification(Notifications.ADD_APPLICATION_STATE,\"ad-mode\");break;case FlashAdNotifications.AD_TIME_UPDATE:f=AdNotifications.AD_TIME_UPDATE;break;case FlashAdNotifications.AD_TIME_REMAINING:f=AdNotifications.AD_TIME_REMAINING;break;case FlashAdNotifications.AD_ERROR:case FlashAdNotifications.AD_PLAYBACK_FAILED:f=AdNotifications.AD_ERROR,this.start=!1,this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"ad-mode\");break;case FlashAdNotifications.AD_ENDED:case FlashAdNotifications.AD_PLAYBACK_TERMINATED:f=AdNotifications.AD_ENDED,this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"ad-mode\");break;case FlashAdNotifications.AD_CLICKED:f=AdNotifications.AD_CLICKED;break;case FlashAdNotifications.AD_COMPANION:f=AdNotifications.AD_COMPANION,null!=this.adVO&&null!=b&&(this.adVO.companions=b);break;case FlashAdNotifications.AD_PAUSE:f=AdNotifications.AD_PAUSE,e=this.player,this.paused=!0,this.player.setPlayState(\"paused\");break;case FlashAdNotifications.AD_PLAY:f=AdNotifications.AD_PLAY,this.paused=!1,this.player.setPlayState(\"playing\");break;case FlashAdNotifications.AD_LOG:f=AdNotifications.AD_LOG;break;case FlashAdNotifications.AD_FIRST_QUARTILE:f=AdNotifications.FIRST_QUARTILE;break;case FlashAdNotifications.AD_MIDPOINT:f=AdNotifications.MIDPOINT;break;case FlashAdNotifications.AD_THIRD_QUARTILE:f=AdNotifications.THIRD_QUARTILE;break;case FlashAdNotifications.AD_REQUEST:f=AdNotifications.REQUEST;break;case FlashAdNotifications.AD_SKIPPED:f=AdNotifications.SKIPPED;break;case FlashAdNotifications.AD_IMPRESSION:f=AdNotifications.IMPRESSION}null!=f&&(this.sendNotification(f,this.adVO),c=f===AdNotifications.AD_TIME_REMAINING?new Event(f.replace(/^ads/,\"\"),b.timeElapsed):new Event(f.replace(/^ads/,\"\"),this.adVO),c.player=this.player,e.dispatchEvent(c))},AdWrapper.prototype.createAdVO=function(a){return null==a?null:new AdVO(a.id,a.title,a.duration,a.adIndex,a.podPosition,a.adPlatform,null,null,a.requestURL,a.metadata,a.totalAds,a.currentTime)},AdWrapper.prototype.terminateAd=function(){this.player.mediaElement.terminateAd()},AdWrapper.prototype.terminateAllAds=function(){this.player.mediaElement.terminateAllAds()},AdWrapper.prototype.requestAd=function(){this.player.mediaElement.triggerAd()},__extends(FreeWheelWrapper,AdWrapper),FreeWheelWrapper.NAME=\"FreeWheelWrapper\",FreeWheelWrapper.prototype.flashPlugins=[{id:\"FreewheelPlugin\",src:\"#{paths.resources}plugins/FreewheelPlugin.swf\",blocking:!1,host:\"akamai\",main:\"FreewheelPlugin\"},{id:\"AdOptionsPlugin\",src:\"#{paths.resources}plugins/AdOptionsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"AdOptionsPlugin\",type:\"application/x-shockwave-flash\"}],FreeWheelWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(c=a.firstChild,b=a.getElementsByTagName(\"admedia\")[0],null==b&&(b=a.createElement(\"admedia\"),c.appendChild(b)),i=a.createElement(\"vendor\"),i.setAttribute(\"id\",\"freewheel\"),b.appendChild(i),g=[{value:this.config.plugin.swf,key:\"FREEWHEEL_AD_MANAGER_URL\"},{value:this.config.serverUrl,key:\"FREEWHEEL_SERVER_URL\"},{value:this.config.networkId,key:\"FREEWHEEL_NETWORK_ID\"},{value:this.config.profileId,key:\"FREEWHEEL_PROFILE\"},{value:this.config.siteSectionId,key:\"FREEWHEEL_SITE_SECTION_ID\"},{value:this.config.siteSectionFallbackId,key:\"FREEWHEEL_SITE_SECTION_FALLBACK_ID\"},{value:this.config.prerollSlotId,key:\"FREEWHEEL_PREROLL_SLOT_ID\"},{value:this.config.midrollSlotId,key:\"FREEWHEEL_MIDROLL_SLOT_ID\"},{value:this.config.postrollSlotId,key:\"FREEWHEEL_POSTROLL_SLOT_ID\"},{value:this.config.videoAssetId,key:\"FREEWHEEL_VIDEO_ASSET_ID\"},{value:this.config.videoAssetFallbackId,key:\"FREEWHEEL_VIDEO_ASSET_FALLBACK_ID\"},{value:this.config.videoAssetVideoPlayRandom,key:\"FREEWHEEL_VIDEO_ASSET_VIDEO_PLAY_RANDOM\"},{value:this.config.visitorId,key:\"FREEWHEEL_VISITOR_ID\"},{value:this.config.keyValuesString,key:\"FREEWHEEL_KEY_VALUES_STRING\"},{value:\"30898\",key:\"FREEWHEEL_SITE_SECTION_PAGE_VIEW_RANDOM\"},{value:\"EXACT\",key:\"FREEWHEEL_VIDEO_ASSET_DURATION_TYPE\"},{value:this.config.visitorHeader,key:\"FREEWHEEL_VISITOR_HTTP_HEADER_KEY_VALUE\"},{value:this.config.synchronizeMultipleRequests,key:\"FREEWHEEL_SYNCHRONIZE_MULTIPLE_REQUESTS\"},{value:this.config.subsessionToken,key:\"FREEWHEEL_SUBSESSION_TOKEN\"}],j=0,k=g.length;j<k;j++)f=g[j],null!=f.value&&this.createProperty(a,f.key,f.value,i);if(null!=this.config.position&&i.setAttribute(\"position\",this.config.position),null!=this.config.keyValues){e=a.createElement(\"property\"),e.setAttribute(\"key\",\"FREEWHEEL_KEY_VALUE\"),l=this.config.keyValues;for(d in l)h=l[d],null!=h&&this.createProperty(a,d,h,e);i.appendChild(e)}},__extends(AdPlugin,Feature),AdPlugin.NAME=\"AdPlugin\",AdPlugin.prototype.container=null,AdPlugin.prototype.featureName=\"ads\",AdPlugin.prototype.createModel=function(){this.proxy=this.isFullscreenDevice()?this.createFullscreenProxy():this.createProxy(),this.registerProxy(this.proxy)},AdPlugin.prototype.createController=function(){AdPlugin.__super__.createController.call(this),this.registerCommand(Notifications.MEDIA_CHANGE,AdMediaChangeCommand),this.registerCommand(AdNotifications.BREAK_START,AdBreakStartCommand),this.registerCommand(AdNotifications.AD_LOADED,AdLoadedCommand),this.registerCommand(AdNotifications.BREAK_END,AdBreakEndCommand),this.registerCommand(Notifications.SEEK,AdSeekCommand),this.registerCommand(UserNotifications.SEEK,AdSeekCommand),this.registerCommand(AdNotifications.AD_CONTAINER_CREATED,AdContainerCreatedCommand),this.registerCommand(AdNotifications.AD_STARTED,PluginEventCommand),this.registerCommand(AdNotifications.SKIPPED,PluginEventCommand),this.registerCommand(AdNotifications.AD_MANAGER_LOADED,PluginEventCommand),this.registerCommand(AdNotifications.AD_TIME_UPDATE,PluginEventCommand),this.registerCommand(AdNotifications.AD_TIME_REMAINING,PluginEventCommand),this.registerCommand(AdNotifications.AD_DURATION_CHANGE,PluginEventCommand),this.registerCommand(AdNotifications.AD_ENDED,PluginEventCommand),this.registerCommand(AdNotifications.AD_ERROR,PluginEventCommand),this.registerCommand(AdNotifications.AD_COMPANION,PluginEventCommand),this.registerCommand(AdNotifications.FIRST_QUARTILE,PluginEventCommand),this.registerCommand(AdNotifications.MIDPOINT,PluginEventCommand),this.registerCommand(AdNotifications.THIRD_QUARTILE,PluginEventCommand),this.registerCommand(AdNotifications.LOG,PluginEventCommand),this.registerCommand(AdNotifications.REQUEST,PluginEventCommand),this.registerCommand(AdNotifications.AD_RESUME,PluginEventCommand),this.registerCommand(AdNotifications.AD_PLAY,PluginEventCommand),this.registerCommand(AdNotifications.AD_PAUSE,PluginEventCommand),this.registerCommand(AdNotifications.AD_PAUSED,PluginEventCommand),this.registerCommand(AdNotifications.IMPRESSION,PluginEventCommand),this.registerCommand(AdNotifications.AD_CLICKED,PluginEventCommand)},AdPlugin.prototype.createView=function(){return this.registerMediator(new AdMediator)},AdPlugin.prototype.isFullscreenDevice=function(){return Utils.isFullscreenDevice()},AdPlugin.prototype.createProxy=function(){},AdPlugin.prototype.createFullscreenProxy=function(){},AdPlugin.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE,Notifications.PLAY,Notifications.PAUSE,Notifications.START,Notifications.STARTED,Notifications.ENDED,Notifications.READY,Notifications.SEEK,Notifications.VOLUME_CHANGE,Notifications.FULL_SCREEN_CHANGE,Notifications.CHANGE_ACTIVE_STATE,UserNotifications.PLAY,UserNotifications.PAUSE,UserNotifications.SEEK,UserNotifications.TOGGLE_PLAY_PAUSE]},AdPlugin.prototype.listNotificationPublications=function(){var a,b;return AdPlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in AdNotifications)b=AdNotifications[a],c.push(b);return c}()).concat([Notifications.PLAY_REQUEST,Notifications.UPDATE_DATA_BINDINGS,Notifications.DISPLAY_TIME,Notifications.ADD_CUE_POINTS,Notifications.DISABLE_FULL_SCREEN,Notifications.ENABLE_VIDEO_EVENTS,Notifications.DISABLE_VIDEO_EVENTS])},AdPlugin.prototype.setEnabled=function(a){this.proxy.setEnabled(a)},AdPlugin.prototype.getEnabled=function(){return this.proxy.getEnabled()},AdPlugin.prototype.getInProgress=function(){return this.proxy.getInProgress()},AdPlugin.prototype.getStarted=function(){return this.proxy.getStarted()},AdPlugin.prototype.getPaused=function(){return this.proxy.getPaused()},AdPlugin.prototype.getCompanions=function(){return this.proxy.getCompanions()},AdPlugin.prototype.terminateAd=function(){this.proxy.terminateAd()},AdPlugin.prototype.terminateAllAds=function(){this.proxy.terminateAllAds()},AdPlugin.prototype.requestAd=function(){this.proxy.start(!1)},__extends(NielsenProxy,DataBoundConfigurationProxy),NielsenProxy.prototype.configurationName=\"nielsen\",NielsenProxy.NAME=ModuleProxy.NAME,NielsenProxy.cg=\"OnDemand\",NielsenProxy.url=\"http://secure-us.imrworldwide.com/cgi-bin/m\",NielsenProxy.prototype.defaults={url:null,data:{ci:null,c6:null,cg:null,tl:null},events:null},NielsenProxy.prototype.getTitle=function(){return this.title},NielsenProxy.prototype.setTitle=function(a){return this.title=a},NielsenProxy.prototype.start=function(){var a;a=this.constructURL(\"video\",\"started\"),Utils.beacon(a)},NielsenProxy.prototype.end=function(){var a;a=this.constructURL(\"video\",\"ended\"),Utils.beacon(a)},NielsenProxy.prototype.constructURL=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(j=this.url||NielsenProxy.url,g=null!=(m=this.value.events)?m[a]:void 0,null!=g)for(k=0,l=g.length;k<l;k++)h=g[k],h.type===b&&(f=h);return e=(null!=f&&null!=(n=f.data)?n.ci:void 0)||this.value.data.ci,c=(null!=f&&null!=(o=f.data)?o.c6:void 0)||this.value.data.c6,d=(null!=f&&null!=(p=f.data)?p.cg:void 0)||this.value.data.cg||NielsenProxy.cg,i=(null!=f&&null!=(q=f.data)?q.tl:void 0)||this.value.data.tl,\"\"+j+\"?ci=\"+e+\"&c6=\"+c+\"&cc=1&tl=\"+i+\"&cg=\"+d+\"&rnd=\"+Date.now()},__extends(NielsenWrapper,PluginWrapper),NielsenWrapper.NAME=\"NielsenWrapper\",NielsenWrapper.prototype.flashPlugins=[{id:\"NielsenPlugin\",src:\"#{paths.resources}plugins/NielsenPlugin.swf\",blocking:!1,host:\"akamai\",main:\"NielsenPlugin\",type:\"application/x-shockwave-flash\"}],NielsenWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(null!=(null!=(t=this.config)?t.events:void 0)){b=a.firstChild,g=a.getElementsByTagName(\"metrics\")[0],null==g&&(g=a.createElement(\"metrics\"),b.appendChild(g)),o=a.createElement(\"vendor\"),o.setAttribute(\"id\",\"nielsen\"),g.appendChild(o),f={ads:{started:\"adStart\",ended:\"adComplete\"},video:{started:\"videoStart\",ended:\"videoComplete\"}},j=[{value:\"ci\",key:\"NIELSEN_CI\"},{value:\"cg\",key:\"NIELSEN_CG\"},{value:\"tl\",key:\"NIELSEN_TL\"},{value:\"c6\",key:\"NIELSEN_C6\"}],null!=this.config.url&&(n=a.createElement(\"property\"),n.setAttribute(\"key\",\"serviceURL\"),l=XMLUtils.createTextContent(a,this.config.url.toString()),n.appendChild(l),o.appendChild(n)),u=this.config.events;for(m in u)if(e=u[m],null!=e&&e.length>0)for(p=0,r=e.length;p<r;p++)for(d=e[p],h=a.createElement(\"property\"),h.setAttribute(\"key\",f[m][d.type]),o.appendChild(h),q=0,s=j.length;q<s;q++)i=j[q],k=(null!=(v=d.data)?v[i.value]:void 0)||(null!=(w=this.config.data)?w[i.value]:void 0),null!=k&&\"\"!==k&&(c=a.createElement(\"property\"),c.setAttribute(\"key\",i.key),k=XMLUtils.createTextContent(a,k),c.appendChild(k),h.appendChild(c));return a}},__extends(NielsenEndCommand,puremvc.SimpleCommand),NielsenEndCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(NielsenProxy.NAME),b.end()},__extends(NielsenStartCommand,puremvc.SimpleCommand),NielsenStartCommand.prototype.execute=function(a){var b;b=this.facade.retrieveProxy(NielsenProxy.NAME),b.start()},__extends(FreeWheelPlugin,AdPlugin),FreeWheelPlugin.prototype.moduleName=\"freewheel\",FreeWheelPlugin.prototype.featureName=\"ads\",FreeWheelPlugin.prototype.createProxy=function(){return new FreeWheelProxy(this.config)},FreeWheelPlugin.prototype.isFullscreenDevice=function(){return!1},AMP.registerPlugin(\"freewheel\",\"html\",FreeWheelPlugin),AMP.registerPlugin(\"freewheel\",\"flash\",FreeWheelWrapper),__extends(ShareWrapper,PluginWrapper),ShareWrapper.NAME=\"ShareWrapper\",ShareWrapper.prototype.controls=[\"share\",\"facebook\",\"twitter\"],ShareWrapper.prototype.flashView={elements:{controls:{elements:{shareBtn:{}}}}},ShareWrapper.prototype.getFeatureName=function(){return\"share\"},ShareWrapper.prototype.createFlashVars=function(a){return null==a.share_mode&&(a.share_mode=2),a},ShareWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h,i,j;if(b=null!=(f=this.player.config)&&null!=(g=f.flash)&&null!=(h=g.view)&&null!=(i=h.elements)?i.controls:void 0,null!=b){for(null==b.elements&&(b.elements={}),j=this.controls,d=0,e=j.length;d<e;d++)c=j[d],this.config[c]===!0&&null==b.elements[c+\"Btn\"]&&(b.elements[c+\"Btn\"]={});return a}},ShareWrapper.prototype.listNotificationInterests=function(){return ShareWrapper.__super__.listNotificationInterests.call(this).concat([FlashNotifications.SHARE,FlashNotifications.SHARE_REQUEST])},ShareWrapper.prototype.handleNotification=function(a){var b,c,d;switch(ShareWrapper.__super__.handleNotification.call(this,a),c=a.getName(),b=a.getBody(),c){case FlashNotifications.SHARE:case FlashNotifications.SHARE_REQUEST:d=\"share\"}null!=d&&this.dispatchEvent(new Event(d,b))},AMP.registerPlugin(\"share\",\"flash\",ShareWrapper),__extends(ShareMediator,PluginMediator),ShareMediator.prototype.componentName=\"share\",ShareMediator.prototype.shareControl=null,ShareMediator.prototype.shareSeparator=null,ShareMediator.prototype.embed=null,ShareMediator.prototype.onRegister=function(){this.sendNotification(Notifications.ADD_CONTROL_STATE,\"share-enabled\"),this.shareControl=this.create([\"share\",\"control\"],!1),this.shareSeparator=this.create([\"share\",\"separator\"],this.shareControl),this.createButton(\"share\"),this.plugin.getFacebook()===!0&&this.createButton(\"facebook\"),this.plugin.getTwitter()===!0&&this.createButton(\"twitter\"),this.sendNotification(Notifications.ADD_CONTROL,this.shareControl),ShareMediator.__super__.onRegister.call(this)},ShareMediator.prototype.createButton=function(a){var b;b=new ButtonMediator(null,this.shareControl,null,a,this.clickHandler.bind(this,a)),this.facade.registerMediator(b)},ShareMediator.prototype.clickHandler=function(a,b){return b.stopImmediatePropagation(),this.sendNotification(Notifications.DISPATCH_EVENT,new Event(\"share\",{provider:a,link:this.plugin.getLink(),embed:this.plugin.getEmbed()})),!1},ShareMediator.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE]},ShareMediator.prototype.handleNotification=function(a){var b,c,d;switch(d=a.getName(),b=a.getBody(),d){case Notifications.MEDIA_CHANGE:c=b,null!=c.embed?this.sendNotification(Notifications.ADD_CONTROL_STATE,\"share-enabled\"):this.sendNotification(Notifications.REMOVE_CONTROL_STATE,\"share-enabled\")}},__extends(ShareProxy,PluginProxy),ShareProxy.NAME=ModuleProxy.NAME,ShareProxy.prototype.defaults={facebook:!1,twitter:!1},ShareProxy.prototype.loaded=!0,ShareProxy.prototype.link=null,ShareProxy.prototype.embed=null,ShareProxy.prototype.getEmbed=function(){return this.embed},ShareProxy.prototype.setEmbed=function(a){return this.embed=a},ShareProxy.prototype.getLink=function(){return this.link},ShareProxy.prototype.setLink=function(a){return this.link=a},ShareProxy.prototype.getFacebook=function(){return this.getConfigurationData().facebook},ShareProxy.prototype.setFacebook=function(a){return this.data.facebook=a},ShareProxy.prototype.getTwitter=function(){return this.getConfigurationData().twitter},ShareProxy.prototype.setTwitter=function(a){return this.data.twitter=a},__extends(ShareMediaChangeCommand,puremvc.SimpleCommand),ShareMediaChangeCommand.prototype.execute=function(a){var b,c;b=a.getBody(),c=this.facade.retrieveProxy(ShareProxy.NAME),c.setEmbed(b.embed),c.setLink(b.link)},__extends(NielsenPlugin,Plugin),NielsenPlugin.prototype.moduleName=\"nielsen\",NielsenPlugin.prototype.createController=function(){var a,b,c,d,e,f;if(NielsenPlugin.__super__.createController.call(this),b=null!=(e=this.config)&&null!=(f=e.events)?f.video:void 0,null!=b)for(c=0,d=b.length;c<d;c++)a=b[c],\"started\"===a.type&&(this.registerCommand(Notifications.STARTED,NielsenStartCommand),this.registerCommand(Notifications.CONTENT_CHANGED,NielsenStartCommand)),\"ended\"===a.type&&(this.registerCommand(Notifications.ENDED,NielsenEndCommand),this.registerCommand(Notifications.CHANGE_CONTENT,NielsenEndCommand))},NielsenPlugin.prototype.createModel=function(){this.registerProxy(new NielsenProxy(this.config))},NielsenPlugin.prototype.listNotificationInterests=function(){return[Notifications.STARTED,Notifications.ENDED,Notifications.CONTENT_CHANGED,Notifications.CHANGE_CONTENT]},AMP.registerPlugin(\"nielsen\",\"html\",NielsenPlugin),AMP.registerPlugin(\"nielsen\",\"flash\",NielsenWrapper);var RecommendationsNotifications={RECOMMENDATIONS_LOADED:\"recommendationsloaded\",RECOMMENDATION_SELECTED:\"recommendationsselected\"};RecommendationVO.prototype.guid=null,RecommendationVO.prototype.link=null,RecommendationVO.prototype.title=null,RecommendationVO.prototype.description=null,RecommendationVO.prototype.thumbnail=null,RecommendationVO.prototype.duration=null,RecommendationVO.prototype.pubDate=null,RecommendationVO.prototype.target=null,RecommendationVO.prototype.metadata=null,__extends(RecommendationsWrapper,PluginWrapper),RecommendationsWrapper.NAME=\"RecommendationsWrapper\",RecommendationsWrapper.prototype.flashPlugins=[{id:\"RecommendationsPlugin\",src:\"#{paths.resources}plugins/RecommendationsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"RecommendationsPlugin\",type:\"application/x-shockwave-flash\"}],RecommendationsWrapper.prototype.flashView={elements:{recommendationSlate:{attributes:{items:\"5\",viewMode:\"grid\"}}}},RecommendationsWrapper.prototype.url=null,RecommendationsWrapper.prototype.target=null,RecommendationsWrapper.prototype.recommendations=null,RecommendationsWrapper.prototype.getFeatureName=function(){return\"recommendations\"},RecommendationsWrapper.prototype.getData=function(){return this.recommendations},RecommendationsWrapper.prototype.setData=function(a){return this.recommendations=a},RecommendationsWrapper.prototype.getTarget=function(){var a,b;return this.target||(null!=(a=this.player)&&null!=(b=a.config)?b.target:void 0)},RecommendationsWrapper.prototype.getURL=function(){return this.url},RecommendationsWrapper.prototype.createFlashVars=function(a){a.recommendations_partner=\"mrss\",null!=this.config.target&&(a.external_target=this.config.target)},RecommendationsWrapper.prototype.createXML=function(a){var b,c,d;b=a.firstChild,c=a.getElementsByTagName(\"recommendations\")[0],null==c&&(c=a.createElement(\"recommendations\"),b.appendChild(c)),d=a.createElement(\"vendor\"),d.setAttribute(\"id\",\"mrss\"),c.appendChild(d),this.createProperty(a,\"RECOMMENDATIONS_MRSS_URL\",this.url,d)},RecommendationsWrapper.prototype.listNotificationInterests=function(){return RecommendationsWrapper.__super__.listNotificationInterests.apply(this,arguments).concat([FlashNotifications.RECOMMENDATION_SELECTED,FlashNotifications.RECOMMENDATIONS_LOADED])},RecommendationsWrapper.prototype.handleNotification=function(a){var b,c,d;switch(RecommendationsWrapper.__super__.handleNotification.call(this,a),c=a.getName(),b=a.getBody(),c){case FlashNotifications.RECOMMENDATIONS_LOADED:d=\"loaded\",this.recommendations=b;break;case FlashNotifications.RECOMMENDATION_SELECTED:d=\"selected\"}null!=d&&this.dispatchEvent(new Event(d,b))},__extends(RecommendationSelectedCommand,PluginEventCommand),RecommendationSelectedCommand.prototype.execute=function(a){var b;RecommendationSelectedCommand.__super__.execute.call(this,a),b=a.getBody(),\"none\"!==b.target&&\"player\"!==b.target&&window.open(b.link,b.target)},__extends(RecommendationsPlayCommand,PluginCommand),RecommendationsPlayCommand.prototype.execute=function(a){this.proxy.invoke()},__extends(RecommendationsPlayStateChangeCommand,PluginCommand),RecommendationsPlayStateChangeCommand.prototype.execute=function(a){var b,c;b=this.proxy.getRecommendations(),c=a.getBody(),c.value===PlayState.ENDED?(null!=b?b.length:void 0)>0&&this.sendNotification(Notifications.ADD_APPLICATION_STATE,\"recommendations-mode\"):c.previous===PlayState.ENDED&&(null!=b?b.length:void 0)>0&&this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"recommendations-mode\")},__extends(RecommendationsProxy,PluginProxy),RecommendationsProxy.NAME=ModuleProxy.NAME,RecommendationsProxy.prototype.defaults={url:null,target:\"_blank\"},RecommendationsProxy.prototype.loaded=!0,RecommendationsProxy.prototype.recommendations=null,RecommendationsProxy.prototype.helper=null,RecommendationsProxy.prototype.getRecommendations=function(){return this.recommendations},RecommendationsProxy.prototype.setRecommendations=function(a){return this.recommendations=a,this.sendNotification(RecommendationsNotifications.RECOMMENDATIONS_LOADED,this.recommendations),a},RecommendationsProxy.prototype.getURL=function(){return this.getConfigurationData().url},RecommendationsProxy.prototype.setURL=function(a){return this.data.url=a,this.invoke(),a},RecommendationsProxy.prototype.getTarget=function(){return this.getConfigurationData().target||this.facade.player.retrieveProxy(ConfigurationProxy.NAME).getTarget()},RecommendationsProxy.prototype.setTarget=function(a){return this.data.target=a,a},RecommendationsProxy.prototype.invoke=function(){var a,b;return a=this.getURL(),null==a||\"\"===a?void this.facade.logger.error(\"[AMP RECOMMENDATIONS ERROR]\",\"Load Error: No url provided\"):void(b=Utils.getJson(a,this.onload.bind(this),this.onerror.bind(this)))},RecommendationsProxy.prototype.onload=function(a){var b;b=this.createRecommendations(a),this.setRecommendations(b)},RecommendationsProxy.prototype.onerror=function(a){this.facade.logger.error(\"[AMP RECOMMENDATIONS ERROR]\",\"Load Error:\",a)},RecommendationsProxy.prototype.createRecommendations=function(a){var b,c,d,e,f,g;for(a=this.helper.createFeed(a),d=[],g=a.item,e=0,f=g.length;e<f;e++)b=g[e],c=new RecommendationVO(b.guid,b.link,b.title,b.description,b.thumbnail,b.duration,b.pubDate,this.getTarget(),b),d.push(c);return d},__extends(RecommendationsMediator,OverlayMediator),RecommendationsMediator.prototype.componentName=\"recommendations\",RecommendationsMediator.prototype.listArea=null,RecommendationsMediator.prototype.onRegister=function(){var a;RecommendationsMediator.__super__.onRegister.call(this),a=this.createText(\"recommendations-label\",\"Recommended\"),this.listArea=this.create(\"recommendations-list-area\")},RecommendationsMediator.prototype.listNotificationInterests=function(){return[RecommendationsNotifications.RECOMMENDATIONS_LOADED]},RecommendationsMediator.prototype.handleNotification=function(a){var b,c,d,e;switch(a.getName()){case RecommendationsNotifications.RECOMMENDATIONS_LOADED:if(this.listArea.innerHTML=\"\",c=a.getBody(),null!=c&&c.length>0)for(d=0,e=c.length;d<e;d++)b=c[d],this.addElement(b)}},RecommendationsMediator.prototype.addElement=function(a){var b,c=this;b=this.create(\"recommendation\",this.listArea),null==b.dataset&&(b.dataset={}),b.dataset.link=a.link,b.dataset.target=a.target,b.innerHTML=\"<img src='\"+a.thumbnail+\"' class='\"+this.cssPrefix+\"recommendation-thumbnail' /> <span class='\"+this.cssPrefix+\"recommendation-text'>\"+a.description+\"</span>\",b.onclick=function(a){return a.stopImmediatePropagation(),c.sendNotification(RecommendationsNotifications.RECOMMENDATION_SELECTED,a.currentTarget.dataset),!1}},__extends(SharePlugin,Feature),SharePlugin.prototype.moduleName=\"share\",SharePlugin.prototype.featureName=\"share\",SharePlugin.prototype.createModel=function(){this.registerProxy(new ShareProxy(this.config))},SharePlugin.prototype.createController=function(){SharePlugin.__super__.createController.call(this),this.registerCommand(Notifications.MEDIA_CHANGE,ShareMediaChangeCommand)},SharePlugin.prototype.createView=function(){this.registerMediator(new ShareMediator)},SharePlugin.prototype.listNotificationInterests=function(){return[Notifications.MEDIA_CHANGE]},SharePlugin.prototype.listNotificationPublications=function(){return SharePlugin.__super__.listNotificationPublications.apply(this,arguments).concat([Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE])},AMP.registerPlugin(\"share\",\"html\",SharePlugin),AMP.registerPlugin(\"share\",\"external\",SharePlugin),__extends(RecommendationsGridMediator,OverlayMediator),RecommendationsGridMediator.prototype.componentName=\"recommendations-grid\",RecommendationsGridMediator.prototype.grid=null,RecommendationsGridMediator.prototype.onRegister=function(){var a;RecommendationsGridMediator.__super__.onRegister.call(this),a=this.createText(\"recommendations-grid-label\",this.localizationManager.getString(LocalizationConstants.MSG_RECOMMENDATIONS_TITLE)),this.grid=this.create(\"recommendations-grid-table-grid\",this,\"table\")},RecommendationsGridMediator.prototype.listNotificationInterests=function(){return[RecommendationsNotifications.RECOMMENDATIONS_LOADED]},RecommendationsGridMediator.prototype.handleNotification=function(a){var b,c,d,e;switch(a.getName()){case RecommendationsNotifications.RECOMMENDATIONS_LOADED:if(this.grid.innerHTML=\"\",this.create(\"recommendations-grid-row\",this.grid,\"tr\"),this.create(\"recommendations-grid-row\",this.grid,\"tr\"),c=a.getBody(),null!=c&&c.length>0)for(d=0,e=c.length;d<e;d++)b=c[d],this.addElement(b,d)}},RecommendationsGridMediator.prototype.addElement=function(a,b){var c,d,e=this;c=b%4<2?0:1,d=this.create(\"recommendations-grid-item\",this.grid.childNodes[c],\"td\"),null==d.dataset&&(d.dataset={}),d.dataset.link=a.link,d.dataset.target=this.config.getTarget(),d.innerHTML=\"<img src='\"+a.thumbnail+\"' class='\"+this.cssPrefix+\"recommendations-grid-thumbnail' /> <span class='\"+this.cssPrefix+\"recommendations-grid-text'>\"+a.description+\"</span>\",d.onclick=function(a){return a.stopImmediatePropagation(),e.sendNotification(RecommendationsNotifications.RECOMMENDATION_SELECTED,a.currentTarget.dataset),\n!1}},__extends(RecommendationsPlugin,Feature),RecommendationsPlugin.prototype.featureName=\"recommendations\",RecommendationsPlugin.prototype.moduleName=\"recommendations\",RecommendationsPlugin.prototype.createController=function(){this.registerCommand(RecommendationsNotifications.RECOMMENDATION_SELECTED,RecommendationSelectedCommand),this.registerCommand(Notifications.START,RecommendationsPlayCommand),this.registerCommand(Notifications.PLAY_STATE_CHANGE,RecommendationsPlayStateChangeCommand),this.registerCommand(RecommendationsNotifications.RECOMMENDATIONS_LOADED,PluginEventCommand)},RecommendationsPlugin.prototype.createModel=function(){this.proxy=new RecommendationsProxy(this.config),this.registerProxy(this.proxy)},RecommendationsPlugin.prototype.createView=function(){this.registerMediator(new RecommendationsMediator)},RecommendationsPlugin.prototype.listNotificationInterests=function(){return[Notifications.START,Notifications.PLAY_STATE_CHANGE]},RecommendationsPlugin.prototype.listNotificationPublications=function(){var a,b;return RecommendationsPlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in RecommendationsNotifications)b=RecommendationsNotifications[a],c.push(b);return c}())},RecommendationsPlugin.prototype.setURL=function(a){this.proxy.set(a)},RecommendationsPlugin.prototype.getURL=function(){return this.proxy.getURL()},RecommendationsPlugin.prototype.getData=function(){return this.proxy.getData()},RecommendationsPlugin.prototype.setData=function(a){this.proxy.setData(a)},RecommendationsPlugin.prototype.getTarget=function(){return this.proxy.getTarget()},RecommendationsPlugin.prototype.setTarget=function(a){this.proxy.setTarget(a)},AMP.registerPlugin(\"recommendations\",\"html\",RecommendationsPlugin),AMP.registerPlugin(\"recommendations\",\"flash\",RecommendationsWrapper),__extends(RecommendationsGridPlugin,RecommendationsPlugin),RecommendationsGridPlugin.prototype.moduleName=\"recommendationsgrid\",RecommendationsGridPlugin.prototype.createView=function(){this.registerMediator(new RecommendationsGridMediator)},AMP.registerPlugin(\"recommendationsgrid\",\"html\",RecommendationsGridPlugin),AMP.registerPlugin(\"recommendationsgrid\",\"flash\",RecommendationsWrapper),__extends(OutbrainProxy,RecommendationsProxy),OutbrainProxy.NAME=ModuleProxy.NAME,OutbrainProxy.prototype.data={url:null,target:null,apiKey:null,jsWidgetId:null},OutbrainProxy.prototype.createRecommendations=function(a){var b,c,d,e,f,g;for(d=[],g=a.documents.doc,e=0,f=g.length;e<f;e++)b=g[e],c=new RecommendationVO(b.video.id,b.url,b.video.title,b.video.title,b.thumbnail.url,0,null,this.getTarget(),b),d.push(c);return d},OutbrainProxy.prototype.getURL=function(){var a,b,c,d,e;return a=\"json\",e=encodeURIComponent(this.data.jsWidgetId),c=encodeURIComponent(this.data.apiKey),b=encodeURIComponent(document.location.href),d=this.data.url+\"?format=\"+a+\"&widgetJSId=\"+e+\"&settings=false&url=\"+b+\"&idx=0&key=\"+c+\"&rand=\"+Date.now()+\"&recs=true\"},__extends(OutbrainWrapper,RecommendationsWrapper),OutbrainWrapper.NAME=\"OutbrainWrapper\",OutbrainWrapper.prototype.createFlashVars=function(a){return OutbrainWrapper.__super__.createFlashVars.call(this,a),a.recommendations_partner=\"outbrain\",a},OutbrainWrapper.prototype.createXML=function(a){var b,c,d,e,f,g,h;for(b=a.firstChild,e=a.getElementsByTagName(\"recommendations\")[0],null==e&&(e=a.createElement(\"recommendations\"),b.appendChild(e)),f=a.createElement(\"vendor\"),f.setAttribute(\"id\",\"outbrain\"),e.appendChild(f),d=[{value:this.config.url,key:\"OUTBRAIN_BASE_URL\"},{value:this.config.apiKey,key:\"OUTBRAIN_API_KEY\"},{value:this.config.jsWidgetId,key:\"OUTBRAIN_WIDGET_JS_ID\"},{value:this.config.mode,key:\"OUTBRAIN_MODE\"},{value:this.config.playerSrcId,key:\"OUTBRAIN_PLAYER_SRC_ID\"},{value:\"internal\",key:\"OUTBRAIN_VIEW_PROVIDER\"},{value:this.config.videoData,key:\"videoData\"}],g=0,h=d.length;g<h;g++)c=d[g],null!=c.value&&this.createProperty(a,c.key,c.value,f);return a},__extends(NielsenPlugin,Plugin),NielsenPlugin.prototype.moduleName=\"nielsen\",NielsenPlugin.prototype.createController=function(){var a,b,c,d,e,f;if(NielsenPlugin.__super__.createController.call(this),b=null!=(e=this.config)&&null!=(f=e.events)?f.video:void 0,null!=b)for(c=0,d=b.length;c<d;c++)a=b[c],\"started\"===a.type&&(this.registerCommand(Notifications.STARTED,NielsenStartCommand),this.registerCommand(Notifications.CONTENT_CHANGED,NielsenStartCommand)),\"ended\"===a.type&&(this.registerCommand(Notifications.ENDED,NielsenEndCommand),this.registerCommand(Notifications.CHANGE_CONTENT,NielsenEndCommand))},NielsenPlugin.prototype.createModel=function(){this.registerProxy(new NielsenProxy(this.config))},NielsenPlugin.prototype.listNotificationInterests=function(){return[Notifications.STARTED,Notifications.ENDED,Notifications.CONTENT_CHANGED,Notifications.CHANGE_CONTENT]},AMP.registerPlugin(\"nielsen\",\"html\",NielsenPlugin),AMP.registerPlugin(\"nielsen\",\"flash\",NielsenWrapper);var AutoAdvanceNotifications={TIME_UPDATE:\"autoadvancetimeupdate\",START:\"autoadvancestart\",STOP:\"autoadvancestop\",ADVANCE:\"autoadvanceadvance\"};__extends(AutoAdvanceWrapper,PluginWrapper),AutoAdvanceWrapper.NAME=\"AutoAdvanceWrapper\",AutoAdvanceWrapper.prototype.interval=null,AutoAdvanceWrapper.prototype.handler=null,AutoAdvanceWrapper.prototype.getInterval=function(){return this.interval},AutoAdvanceWrapper.prototype.setInterval=function(a){return this.interval=a},AutoAdvanceWrapper.prototype.getHandler=function(){return this.handler},AutoAdvanceWrapper.prototype.setHandler=function(a){return this.handler=a},AutoAdvanceWrapper.prototype.listNotificationInterests=function(){return[FlashNotifications.CREATE_FLASH_VARS,FlashNotifications.AUTO_ADVANCE]},AutoAdvanceWrapper.prototype.handleNotification=function(a){var b,c,d,e,f;switch(d=a.getName(),b=a.getBody(),d){case FlashNotifications.CREATE_FLASH_VARS:c=b.flashvars,null!=this.interval&&(c.next_video_timer=this.interval,c.auto_play_list=!0);break;case FlashNotifications.AUTO_ADVANCE:\"function\"==typeof(f=this.config).handler&&f.handler(),e=\"advance\"}null!=e&&this.dispatchEvent(new Event(e))},__extends(AutoAdvanceProxy,ModuleProxy),AutoAdvanceProxy.NAME=ModuleProxy.NAME,AutoAdvanceProxy.prototype.defaults={interval:15,handler:null},AutoAdvanceProxy.prototype.currentTime=0,AutoAdvanceProxy.prototype.timeout=null,AutoAdvanceProxy.prototype.cuePoints=null,AutoAdvanceProxy.prototype.start=function(){var a=this;this.currentTime=this.data.interval,this.timeout=setInterval(function(){a.updateTime()},1e3),this.sendNotification(AutoAdvanceNotifications.TIME_UPDATE,this.currentTime)},AutoAdvanceProxy.prototype.stop=function(){clearInterval(this.timeout)},AutoAdvanceProxy.prototype.updateAdsInfo=function(a){this.cuePoints=a},AutoAdvanceProxy.prototype.updateTime=function(){this.currentTime--,this.sendNotification(AutoAdvanceNotifications.TIME_UPDATE,this.currentTime),this.currentTime<=0&&(this.stop(),this.sendNotification(AutoAdvanceNotifications.ADVANCE,this.data.handler))},__extends(AutoAdvanceStartCommand,PluginEventCommand),AutoAdvanceStartCommand.prototype.execute=function(a){var b,c,d,e;c=this.facade.retrieveProxy(AutoAdvanceProxy.NAME),b=__indexOf.call(c.cuePoints,-1)>=0,(null!=(d=this.facade.player.ads)?d.getEnabled():void 0)===!0&&void 0===(null!=(e=a.getBody())?e.isAd:void 0)&&b||(this.sendNotification(Notifications.ADD_APPLICATION_STATE,\"autoadvance-mode\"),this.proxy.start(),AutoAdvanceStartCommand.__super__.execute.call(this,a))},__extends(AutoAdvanceAdvanceCommand,PluginEventCommand),AutoAdvanceAdvanceCommand.prototype.execute=function(notification){var handler;handler=notification.getBody(),null!=handler&&(\"string\"==typeof handler?eval(\"\"+handler+\"()\"):\"function\"==typeof handler&&handler()),this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"autoadvance-mode\"),AutoAdvanceAdvanceCommand.__super__.execute.call(this,notification)},__extends(AutoAdvanceEndedCommand,PluginCommand),AutoAdvanceEndedCommand.prototype.execute=function(a){null!=this.proxy.getData().interval&&this.sendNotification(AutoAdvanceNotifications.START,a.getBody())},__extends(AutoAdvanceStopCommand,PluginCommand),AutoAdvanceStopCommand.prototype.execute=function(a){this.proxy.stop()},__extends(AutoAdvanceAdsInfoCommand,PluginEventCommand),AutoAdvanceAdsInfoCommand.prototype.execute=function(a){var b;b=a.getBody(),this.proxy.updateAdsInfo(b)},__extends(AutoAdvanceMediator,OverlayMediator),AutoAdvanceMediator.prototype.componentName=\"autoadvance\",AutoAdvanceMediator.prototype.text=null,AutoAdvanceMediator.prototype.onRegister=function(){AutoAdvanceMediator.__super__.onRegister.call(this),this.text=this.create(\"autoadvance-text\")},AutoAdvanceMediator.prototype.listNotificationInterests=function(){return[AutoAdvanceNotifications.TIME_UPDATE]},AutoAdvanceMediator.prototype.handleNotification=function(a){var b;switch(a.getName()){case AutoAdvanceNotifications.TIME_UPDATE:b=a.getBody(),this.text.textContent=\"\"+this.localizationManager.getString(\"MSG_NEXT_VIDEO\")+\" \"+b+\" \"+this.localizationManager.getString(\"MSG_SECONDS\")}},__extends(OutbrainPlugin,RecommendationsPlugin),OutbrainPlugin.prototype.moduleName=\"outbrain\",OutbrainPlugin.prototype.createModel=function(){OutbrainPlugin.__super__.createModel.call(this),this.registerProxy(new OutbrainProxy(this.config))},AMP.registerPlugin(\"outbrain\",\"html\",OutbrainPlugin),AMP.registerPlugin(\"outbrain\",\"flash\",OutbrainWrapper),__extends(PlaylistMediator,PluginMediator),PlaylistMediator.prototype.componentName=\"playlist\",PlaylistMediator.prototype.playlistButton=null,PlaylistMediator.prototype.onRegister=function(){var a;a=new ButtonMediator(null,this.viewComponent,null,\"playlist\",this.playlistOnClick.bind(this)),this.facade.registerMediator(a),this.playlistButton=a.getViewComponent(),this.sendNotification(Notifications.ADD_CONTROL,this.playlistButton),this.sendNotification(Notifications.ADD_CONTROL_STATE,\"playlist-enabled\"),PlaylistMediator.__super__.onRegister.call(this)},PlaylistMediator.prototype.playlistOnClick=function(a){this.facade.logger.debug(\"AMP Event: Playlist Clicked\")},__extends(AutoAdvancePlugin,Plugin),AutoAdvancePlugin.NAME=\"AutoAdvancePlugin\",AutoAdvancePlugin.prototype.moduleName=\"autoadvance\",AutoAdvancePlugin.prototype.createController=function(){AutoAdvancePlugin.__super__.createController.call(this),this.registerCommand(AutoAdvanceNotifications.START,AutoAdvanceStartCommand),this.registerCommand(AutoAdvanceNotifications.ADVANCE,AutoAdvanceAdvanceCommand),this.registerCommand(Notifications.ENDED,AutoAdvanceEndedCommand),this.registerCommand(Notifications.MEDIA_SEQUENCE_ENDED,AutoAdvanceEndedCommand),this.registerCommand(Notifications.ADD_CUE_POINTS,AutoAdvanceAdsInfoCommand),this.registerCommand(Notifications.CHANGE_MEDIA,AutoAdvanceStopCommand),this.registerCommand(Notifications.PLAY,AutoAdvanceStopCommand),this.registerCommand(Notifications.PLAYING,AutoAdvanceStopCommand),this.registerCommand(Notifications.REPLAY,AutoAdvanceStopCommand),this.registerCommand(Notifications.TIME_UPDATE,PluginEventCommand),this.registerCommand(Notifications.STOP,PluginEventCommand)},AutoAdvancePlugin.prototype.createModel=function(){this.registerProxy(new AutoAdvanceProxy(this.config))},AutoAdvancePlugin.prototype.createView=function(){this.registerMediator(new AutoAdvanceMediator)},AutoAdvancePlugin.prototype.listNotificationInterests=function(){return[Notifications.ENDED,Notifications.CHANGE_MEDIA,Notifications.PLAY,Notifications.PLAYING,Notifications.REPLAY,Notifications.MEDIA_SEQUENCE_ENDED,Notifications.ADD_CUE_POINTS]},AutoAdvancePlugin.prototype.listNotificationPublications=function(){var a,b;return AutoAdvancePlugin.__super__.listNotificationPublications.call(this).concat(function(){var c;c=[];for(a in AutoAdvanceNotifications)b=AutoAdvanceNotifications[a],c.push(b);return c}())},AMP.registerPlugin(\"autoadvance\",\"html\",AutoAdvancePlugin),AMP.registerPlugin(\"autoadvance\",\"flash\",AutoAdvanceWrapper),__extends(RaptPlaybackProxy,PlaybackCoreProxy),RaptPlaybackProxy.prototype.playbackCoreName=\"rapt\",RaptPlaybackProxy.prototype.mediaElement=null,RaptPlaybackProxy.prototype.mediator=null,RaptPlaybackProxy.prototype.getMediaElement=function(){return this.mediaElement},RaptPlaybackProxy.prototype.onRegister=function(){var a;null==this.mediator&&(this.mediator=new MediaElementMediator(\"rapt\",\"iframe\"),this.mediator.onRegister(),a=this.mediator.getViewComponent(),a.player=this.facade,a.name=this.name,a.setAttribute(\"allowfullscreen\",\"true\"),a.setAttribute(\"webkitallowfullscreen\",\"true\"),a.setAttribute(\"mozallowfullscreen\",\"true\"),a.setAttribute(\"scrolling\",\"no\"),a.setAttribute(\"frameborder\",\"0\"),a.setAttribute(\"marginwidth\",\"0\"),a.setAttribute(\"marginheight\",\"0\"),this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,this.mediator),this.mediaElement=new RaptHTML5Video(this.name),this.mediaElement.addEventListener(\"interactivebreakstart\",this.oninteractivebreakstart.bind(this)),this.mediaElement.addEventListener(\"interactivebreakend\",this.oninteractivebreakend.bind(this)),this.initialized=!0)},RaptPlaybackProxy.prototype.replay=function(){this.mediaElement.replay()},RaptPlaybackProxy.prototype.oninteractivebreakstart=function(){this.sendNotification(Notifications.ADD_APPLICATION_STATE,\"interactive\")},RaptPlaybackProxy.prototype.oninteractivebreakend=function(){this.sendNotification(Notifications.REMOVE_APPLICATION_STATE,\"interactive\")},RaptHTML5Video.prototype.updateData=function(a){var b;null==a&&(a=raptor.api.state(this.name)),null!=a&&(b=parseFloat(a.duration),b!==this.data.duration&&(this.data.duration=b,this.dispatchEvent(\"durationchange\")),b=parseFloat(a.time||a.progressTime),b!==this.data.currentTime&&(this.data.currentTime=b,this.dispatchEvent(\"timeupdate\")))},RaptHTML5Video.prototype.load=function(){this.iframe.src=this.src},RaptHTML5Video.prototype.play=function(){raptor.api.play(this.name)},RaptHTML5Video.prototype.pause=function(){raptor.api.pause(this.name),this.updateData()},RaptHTML5Video.prototype.replay=function(){raptor.api.setNode(this.startNode,this.name)},RaptHTML5Video.prototype.canPlayType=function(a){return\"application/rapt\"===a?\"maybe\":\"\"},RaptHTML5Video.prototype.addEventListener=function(a,b,c){this.iframe.addEventListener(a,b,c)},RaptHTML5Video.prototype.dispatchEvent=function(a){return\"string\"==typeof a&&(a=new CustomEvent(a)),this.iframe.dispatchEvent(a)},RaptHTML5Video.prototype.removeEventListener=function(a,b,c){this.iframe.removeEventListener(a,b,c)},null!=Object.defineProperties&&Object.defineProperties(RaptHTML5Video.prototype,{src:{set:function(a){this.data.src=a},get:function(){return this.data.src}},currentTime:{set:function(a){raptor.api.setTime(a,this.name)},get:function(){return this.data.currentTime}},duration:{get:function(){return this.data.duration}},paused:{get:function(){return this.data.paused}},ended:{get:function(){return this.data.ended}},error:{get:function(){return this.data.error}},readyState:{get:function(){return 1}}}),__extends(RaptProxy,PluginProxy),RaptProxy.NAME=ModuleProxy.NAME,RaptProxy.prototype.defaults={types:[\"application/rapt\"]},RaptProxy.prototype.player=null,RaptProxy.prototype.initialize=function(){var a;this.sendNotification(Notifications.INITIALIZED),this.player=new RaptPlaybackProxy(this.getConfigurationData()),a=this.facade.player.retrieveProxy(PlayerProxy.NAME),a.registerPlaybackCore(this.player)},__extends(PlaylistPlugin,Plugin),PlaylistPlugin.prototype.moduleName=\"playlist\",PlaylistPlugin.prototype.createView=function(){this.registerMediator(new PlaylistMediator)},PlaylistPlugin.prototype.listNotificationPublications=function(){return PlaylistPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.ADD_CONTROL,Notifications.REMOVE_CONTROL,Notifications.ADD_CONTROL_STATE,Notifications.REMOVE_CONTROL_STATE])},AMP.registerPlugin(\"playlist\",\"html\",PlaylistPlugin),__extends(HLSWrapper,PluginWrapper),HLSWrapper.NAME=\"HLSWrapper\",HLSWrapper.prototype.flashPlugins=[{id:\"flashlsOSMF\",src:\"#{paths.resources}plugins/flashlsOSMF.swf\",host:\"osmf\",type:\"application/x-shockwave-flash\"}],AMP.registerPlugin(\"hls\",\"flash\",HLSWrapper),__extends(HLSPlaybackProxy,PlaybackCoreProxy),HLSPlaybackProxy.prototype.playbackCoreName=\"hls\",HLSPlaybackProxy.prototype.player=null,HLSPlaybackProxy.prototype.hlsConfig=null,HLSPlaybackProxy.prototype.fragErrorTime=0,HLSPlaybackProxy.prototype.timedMedatadata=null,HLSPlaybackProxy.prototype.currentMedatadata=null,HLSPlaybackProxy.prototype.load=function(){var a,b,c,d;null!=this.player&&(this.destroy(),this.sendNotification(Notifications.PLAYBACK_CORE_CHANGE,new MediaElementMediator(\"html5\",\"video\"))),a=new Hls(this.hlsConfig),a.attachMedia(this.getMediaElement()),a.on(Hls.Events.MANIFEST_PARSED,this.onManifestParsed.bind(this)),a.on(Hls.Events.ERROR,this.onError.bind(this)),a.on(Hls.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata.bind(this)),a.on(Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this));try{d=this.config.quality;for(b in d)c=d[b],a[b]=c}catch(a){}this.player=a,HLSPlaybackProxy.__super__.load.call(this)},HLSPlaybackProxy.prototype.applySrc=function(){this.timedMedatadata=[],this.currentMedatadata=null,this.player.loadSource(this.getSrc())},HLSPlaybackProxy.prototype.onManifestParsed=function(a,b){this.sendNotification(HLSNotifications.MANIFEST_PARSED,b),this.player.loadLevel=-1,this.getMediaElement().play()},HLSPlaybackProxy.prototype.onLevelLoaded=function(a,b){var c;this.sendNotification(HLSNotifications.LEVEL_LOADED,b),c=b.details.live,c===!0&&this.mediaProxy.setTemporalType(\"live\")},HLSPlaybackProxy.prototype.onFragParsingMetadata=function(a,b){var c,d,e;b=b.samples[0],e=Math.round(b.dts),d=String.fromCharCode.apply(null,b.data.slice(0,-1)),c={startTime:e,endTime:e,key:d.replace(/(\\S*)\\{.*/,\"$1\").split(\" \")[1],info:d.replace(/[^\\{]+\\{/,\"\"),data:b},this.timedMedatadata.push(c)},HLSPlaybackProxy.prototype.ontimeupdate=function(a){var b,c,d,e,f,g;if(HLSPlaybackProxy.__super__.ontimeupdate.call(this,a),0!==this.timedMedatadata.length)for(d=Math.round(a.target.currentTime),b=this.currentMetadata,g=this.timedMedatadata,e=0,f=g.length;e<f;e++)if(c=g[e],c.startTime===d&&b!==c)return this.currentMetadata=c,void this.sendNotification(Notifications.TIMED_METADATA,c)},HLSPlaybackProxy.prototype.seek=function(a){this.getMediaElement().currentTime=a+this.getStartTime()},HLSPlaybackProxy.prototype.getCurrentTime=function(){return this.getMediaElement().currentTime-this.getStartTime()},HLSPlaybackProxy.prototype.getDuration=function(){var a,b,c;return(null!=(a=this.player)&&null!=(b=\"undefined\"!=typeof a.levels?a.levels[this.player.currentLevel]:null)&&null!=(c=b.details)?c.totalduration:void 0)||this.getMediaElement().duration},HLSPlaybackProxy.prototype.getStartTime=function(){return this.getMediaElement().duration-this.getDuration()},HLSPlaybackProxy.prototype.onError=function(a,b){var c,d;if(b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:if(403===(null!=(c=b.loader)&&null!=(d=c.loader)?d.status:void 0))return this.facade.sendNotification(Notifications.ERROR,{code:403,error:b.response.response});this.player.startLoad(),this.facade.logger.error(\"[AMP HLS] Playback Error trying to recover:\",a);break;case Hls.ErrorTypes.MEDIA_ERROR:this.player.recoverMediaError(),this.facade.logger.error(\"[AMP HLS] Playback Error trying to recover:\",a);break;default:this.facade.logger.error(\"[AMP HLS] Playback Error:\",a),this.sendNotification(Notifications.ERROR,b)}b.fatal||b.details!==Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR||(this.fragErrorTime===this.getMediaElement().currentTime?(this.getMediaElement().currentTime++,this.facade.logger.error(\"[AMP HLS] Frag Loop Load Error, Seeking to :\",this.getMediaElement().currentTime)):this.fragErrorTime=this.getMediaElement().currentTime),b.fatal||b.type!==Hls.ErrorTypes.NETWORK_ERROR||(b.code=MediaError.MEDIA_ERR_NETWORK,this.sendNotification(Notifications.ERROR,b))},HLSPlaybackProxy.prototype.setQuality=function(a){var b;return null!=(b=this.player)?b.currentLevel=a:void 0},HLSPlaybackProxy.prototype.getQuality=function(){var a;return null!=(a=this.player)?a.currentLevel:void 0},HLSPlaybackProxy.prototype.getQualityLevels=function(){var a;return(null!=(a=this.player)?a.levels:void 0)||HLSPlaybackProxy.__super__.getQualityLevels.call(this)},HLSPlaybackProxy.prototype.destroy=function(){var a;null!=(a=this.player)&&(a.destroy(),this.player=null)};var HLSNotifications={MANIFEST_PARSED:\"hlsManifestParsed\",LEVEL_LOADED:\"hlsLevelLoaded\"};__extends(HLSChangeDisplayStateCommand,puremvc.SimpleCommand),HLSChangeDisplayStateCommand.prototype.execute=function(a){var b,c,d,e,f,g,h=this;f=a.getBody(),d=this.facade.retrieveProxy(PlaybackProxy.NAME),b=this.facade.getMediaElement(),null!=b&&b.webkitSupportsFullscreen&&(e=this.facade.retrieveProxy(ApplicationStateProxy.NAME),e.setDisplayState(f),c={},g=this.facade.viewComponent,null!=g.requestFullscreen?(c.enter=function(){return g.requestFullscreen()},c.exit=function(){return document.cancelFullscreen()},c.event=\"onfullscreenchange\",c.element=\"fullscreenElement\"):null!=g.webkitRequestFullScreen?(c.enter=function(){return g.webkitRequestFullScreen()},c.exit=function(){return document.webkitCancelFullScreen()},c.event=\"onwebkitfullscreenchange\",c.element=\"webkitFullscreenElement\"):null!=g.mozRequestFullScreen?(c.enter=function(){return g.mozRequestFullscreen()},c.exit=function(){return document.mozCancelFullScreen()},c.event=\"onmozfullscreenchange\",c.element=\"mozFullscreenElement\"):null!=g.msRequestFullScreen&&(c.enter=function(){return g.msRequestFullscreen()},c.exit=function(){return document.msCancelFullScreen()},c.event=\"onmozfullscreenchange\",c.element=\"mozFullscreenElement\"),f===DisplayState.FULL_SCREEN?(c.enter(),null!=c.event&&(b[c.event]=function(a){if(null==document[c.element])return h.sendNotification(Notifications.CHANGE_DISPLAY_STATE,DisplayState.NORMAL)})):f===DisplayState.NORMAL&&(c.exit(),b[c.event]=null),this.facade.dispatchEvent(new Event(\"fullscreenchange\",f===DisplayState.FULL_SCREEN)))},__extends(PlaybackPluginProxy,PluginProxy),PlaybackPluginProxy.NAME=ModuleProxy.NAME,PlaybackPluginProxy.prototype.playbackProxy=null,PlaybackPluginProxy.prototype.createPlaybackProxy=function(){},PlaybackPluginProxy.prototype.initialize=function(){var a;this.playbackProxy=this.createPlaybackProxy(),null!=this.playbackProxy&&(this.sendNotification(Notifications.INITIALIZED),a=this.facade.player.retrieveProxy(PlayerProxy.NAME),a.registerPlaybackCore(this.playbackProxy))},PlaybackPluginProxy.prototype.destroy=function(){var a;null!=(a=this.playbackProxy)&&a.destroy()},__extends(HLSProxy,PlaybackPluginProxy),HLSProxy.NAME=ModuleProxy.NAME,HLSProxy.prototype.defaults={types:[\"application/x-mpegURL\"],data:{enableWorker:!0,enableSoftwareAES:!0,enableCEA708Captions:!0},buffer:null,quality:null,withCredentials:null},HLSProxy.prototype.createPlaybackProxy=function(){var a;if(a=window.MediaSource||window.WebKitMediaSource,null!=a)return new HLSPlaybackProxy(this.getConfigurationData())},__extends(RaptPlugin,Plugin),RaptPlugin.prototype.moduleName=\"rapt\",RaptPlugin.prototype.createModel=function(){this.registerProxy(new RaptProxy(this.config))},AMP.registerPlugin(\"rapt\",\"html\",RaptPlugin),__extends(AdChoicesWrapper,PluginWrapper),AdChoicesWrapper.NAME=\"AdChoicesWrapper\",AdChoicesWrapper.prototype.flashView={elements:{adOptions:{elements:{adChoices:{attributes:{target:\"http://www.akamai.com/\"}}}}}},__extends(AdChoicesMediator,ComponentMediator),AdChoicesMediator.prototype.componentName=\"ad-choices\",AdChoicesMediator.prototype.icon=null,AdChoicesMediator.prototype.text=null,AdChoicesMediator.prototype.container=null,AdChoicesMediator.prototype.onRegister=function(){var a;AdChoicesMediator.__super__.onRegister.call(this),a=this.facade.retrieveProxy(ModuleProxy.NAME),this.container=this.create(\"ad-choices-link\",this,\"a\"),this.container.target=\"_blank\",this.container.href=a.getTarget(),this.text=this.createText(\"ad-choices-text\",\"AdChoices\",this.container),this.icon=this.create(\"ad-choices-icon\",this.container)},AdChoicesMediator.prototype.listNotificationInterests=function(){return[AdNotifications.AD_CONTAINER_CREATED]},AdChoicesMediator.prototype.handleNotification=function(a){var b;switch(a.getName()){case AdNotifications.AD_CONTAINER_CREATED:b=a.getBody(),null!=b&&b.appendChild(this.viewComponent)}},__extends(AdChoicesProxy,ModuleProxy),AdChoicesProxy.NAME=ModuleProxy.NAME,AdChoicesProxy.prototype.defaults={target:null},AdChoicesProxy.prototype.getTarget=function(){return this.data.target},AdChoicesProxy.prototype.setTarget=function(a){return this.data.target=a},__extends(HLSPlugin,Plugin),HLSPlugin.prototype.moduleName=\"hls\",HLSPlugin.prototype.createModel=function(){this.proxy=new HLSProxy(this.config),this.registerProxy(this.proxy)},HLSPlugin.prototype.registered=function(){this.player.registerCommand(Notifications.CHANGE_DISPLAY_STATE,HLSChangeDisplayStateCommand),HLSPlugin.__super__.registered.call(this)},HLSPlugin.prototype.getPlaybackProxy=function(){return this.proxy.playbackProxy},HLSPlugin.prototype.listNotificationPublications=function(){return HLSPlugin.__super__.listNotificationPublications.call(this).concat([Notifications.TIMED_METADATA,HLSNotifications.MANIFEST_PARSED])},AMP.registerPlugin(\"hls\",\"html\",HLSPlugin),__extends(AdChoicesPlugin,Plugin),AdChoicesPlugin.prototype.moduleName=\"adchoices\",AdChoicesPlugin.prototype.createModel=function(){this.registerProxy(new AdChoicesProxy(this.config))},AdChoicesPlugin.prototype.createView=function(){this.registerMediator(new AdChoicesMediator)},AdChoicesPlugin.prototype.listNotificationInterests=function(){return[AdNotifications.AD_CONTAINER_CREATED]},AMP.registerPlugin(\"adchoices\",\"html\",AdChoicesPlugin),AMP.registerPlugin(\"adchoices\",\"flash\",AdChoicesWrapper),global.akamai={amp:{AMP:AMP,utils:{Utils:Utils,QueryString:QueryString,Logger:Logger},Config:Config,chromecast:{ChromeCastShim:\"undefined\"!=typeof ChromeCastShim?ChromeCastShim.getInstance():null}}},window.AKAMAI_MEDIA_PLAYER.saveSDK(version,global)}window.AKAMAI_MEDIA_PLAYER.setVersion(version)}();"
          },
          "redirectURL": "",
          "headersSize": 386,
          "bodySize": 101518
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 56,
          "connect": 7,
          "send": 139,
          "wait": 101,
          "receive": 0
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.621-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/beta/js/custom/pages/trident_story.js?v=162",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "162"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 407
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.622-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://a.abcnews.com/assets/js/s_code_15.js?v=4",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "a.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "4"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 383
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.622-06:00",
        "time": 196,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://cdn.unid.go.com/js/unid.min.js",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "cdn.unid.go.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 373
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 14 Dec 2016 00:28:07 GMT"
            },
            {
              "name": "Etag",
              "value": "W/\"15bb-158fabaabef\""
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Length",
              "value": "2608"
            },
            {
              "name": "Cache-Control",
              "value": "public, must-revalidate, max-age=31736"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:34:24 GMT"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "application/javascript",
            "size": 5563,
            "text": "!function(e,t,o,n){!function(){try{new window.CustomEvent(\"test\")}catch(t){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent(\"CustomEvent\");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o};e.prototype=window.Event.prototype,window.CustomEvent=e}}();var a=n.protocol+\"//cdn.unid.go.com\",r=function(e){return(document.cookie.match(\"(?:^|;\\\\s*)\"+e+\"\\\\s*=\\\\s*([^;]+)\")||0)[1]},i=function(e,t,o,n){var a=new Date;a.setTime(a.getTime()+15768e7),document.cookie=e+\"=\"+(void 0===t?\"\":t)+\";path=\"+(n?n:\"/\")+\";expires=\"+(void 0===t?\"Thu, 01 Jan 1970 00:00:01 GMT;\":a.toUTCString())+(o?\"domain=\"+o:\"\")},c=function(){function e(e,t){return e>>>t|e<<32-t}for(var t,o=1,n=[],a=[];18>++o;)for(t=o*o;312>t;t+=o)n[t]=1;for(o=1,t=0;313>o;)n[++o]||(a[t]=Math.pow(o,.5)%1*4294967296|0,n[t++]=Math.pow(o,1/3)%1*4294967296|0);return function(r){for(var i,c,d=a.slice(o=0),s=unescape(encodeURI(r)),l=[],u=s.length,p=[];o<u;)p[o>>2]|=(255&s.charCodeAt(o))<<8*(3-o++%4);for(u*=8,p[u>>5]|=128<<24-u%32,p[c=u+64>>5|15]=u,o=0;o<c;o+=16){for(s=d.slice(t=0,8);64>t;s[4]+=i)l[t]=16>t?p[t+o]:(e(i=l[t-2],17)^e(i,19)^i>>>10)+(0|l[t-7])+(e(i=l[t-15],7)^e(i,18)^i>>>3)+(0|l[t-16]),s.unshift((i=(s.pop()+(e(r=s[4],6)^e(r,11)^e(r,25))+((r&s[5]^~r&s[6])+n[t])|0)+(0|l[t++]))+(e(u=s[0],2)^e(u,13)^e(u,22))+(u&s[1]^s[1]&s[2]^s[2]&u));for(t=8;t--;)d[t]=s[t]+d[t]}for(s=\"\";63>t;)s+=(d[++t>>3]>>4*(7-t%8)&15).toString(16);return s}}(),d=function(t,n){if(console.log(\"unid: abort\",t),o.dispatchEvent(new CustomEvent(\"unid.abort\",{detail:{reason:t}})),!(\"denied\"===t||localStorage&&localStorage.getItem(\"com.go.unid:abort\"))){localStorage.setItem(\"com.go.unid:abort\",1);var a=new(e.XMLHttpRequest||ActiveXObject)(\"MSXML2.XMLHTTP.3.0\");a.open(\"GET\",e.location.protocol+\"//unid.go.com/abort\",!0),a.setRequestHeader(\"Content-Type\",\"text/plain\"),a.setRequestHeader(\"_\",\"f`\"+(parent!==e?1:0)+\"``h`\"+e.location.hostname+(n?\"``e`\"+n:\"\")+\"``\"+t+\"`1\"),a.send()}};if(!t.cookieEnabled)return d(\"cookieless\");if(i(\"com.go.unid\",1),!r(\"com.go.unid\"))return d(\"cookiePolicy\");i(\"com.go.unid\");try{var s=\"test\";localStorage.setItem(s,s),localStorage.getItem(s),localStorage.removeItem(s)}catch(e){return d(\"nostorage\")}var l=localStorage.getItem(\"com.go.unid:data\");if(\"[object Object]\"===l&&localStorage.removeItem(\"com.go.unid:data\"),l)try{l=JSON.parse(l)}catch(e){return d(\"lsDataFailed\",e.message)}var u=o.createElement(\"iframe\");u.id=\"unidFrame\",u.style.display=\"none\",u.src=a+\"/inner/\";var p,m=function(){o.body.appendChild(u),p=u.contentWindow};o.body?m():document.addEventListener(\"DOMContentLoaded\",m),e.unid={version:\"3.0.29\",get:function(t){var o=r(\"UNID\");return t&&(o?t(o):e.unid.callback=t),o},clear:function(t){t&&(e.unid.clearCB=t),i(\"UNID\");for(var o=n.host.split(\":\")[0].split(\".\"),c=\".\"+o.pop(),d=0;d<o.length;d++)c=o.pop()+c,o.length&&(c=\".\"+c),i(\"UNID\",void 0,c),r(\"UNID\")||(o=[]);localStorage.removeItem(\"com.go.unid:abort\"),localStorage.removeItem(\"com.go.unid:data\"),p.postMessage('{\"action\":\"clear\"}',a)}},o.dispatchEvent(new CustomEvent(\"unid.ready\"));var f={framed:parent!==e?1:0,lsData:l,what:function(){var o=void 0;return\"undefined\"!=typeof window.crypto&&window.crypto.getRandomValues?o=\"crypto\":window.msCrypto&&(o=\"msCrypto\"),{addBehavior:document.body?document.body.addBehavior:void 0,agent:t.userAgent,appName:t.appName,canvas:function(){var e=document.createElement(\"canvas\"),t=e.getContext?e.getContext(\"2d\"):0,o=\"x://%#-@GO.com\";return t?(t.textBaseline=\"top\",t.font=\"14px 'Arial'\",t.textBaseline=\"alphabetic\",t.fillStyle=\"#f60\",t.fillRect(125,1,62,20),t.fillStyle=\"#069\",t.fillText(o,2,15),t.fillStyle=\"rgba(102, 204, 0, 0.7)\",t.fillText(o,4,17),e.toDataURL()):\"\"}(),cookies:!!t.cookieEnabled,cpuClass:t.cpuClass,crypto:o,dnt:t.doNotTrack||e.doNotTrack,fetch:!!e.fetch,hardwareConcurrency:t.hardwareConcurrency,indexedDB:!!e.indexedDB,language:t.language,localStorage:!!e.localStorage,maxTouchPoints:Number(t.maxTouchPoints),openDB:!!e.openDatabase,platform:t.platform,plugins:function(){return Array.prototype.slice.call(t.plugins).map(function(e){return[e.name,e.description,Array.prototype.slice.call(e).map(function(e){return[e.type,e.suffixes].join(\"~\")}).join(\",\")].join(\"::\")}).join(\";\")}(),product:t.product,screenR:screen.height*screen.width,screenC:screen.colorDepth,sessionStorage:!!e.sessionStorage,tzOffset:(new Date).getTimezoneOffset(),vendor:t.vendor,v:7}}(),host:n.hostname.replace(/\\.$/,\"\").toLowerCase(),href:n.href,unid:r(\"UNID\"),swid:r(\"SWID\"),version:e.unid.version};f.what.canvas=c(f.what.canvas),f.cid=c(JSON.stringify(f.what)),u.onload=function(){p.postMessage(JSON.stringify({action:\"check\",data:f}),a)};var g=function(t){if(t.origin===a){var c={};try{c=JSON.parse(t.data)}catch(e){return}var s=c.data,l=c.action;if(\"state\"===l)u.classList.add(\"unid_\"+s),\"cleared\"===s&&e.unid.clearCB&&e.unid.clearCB(),\"denied\"===s&&d(\"denied\"),\"dnt_abort\"===s&&o.dispatchEvent(new CustomEvent(\"unid.abort\",{detail:{reason:\"dnt\"}}));else if(\"store\"===l)try{localStorage.setItem(\"com.go.unid:data\",JSON.stringify(s))}catch(e){return d(\"nostorage\",e.message)}else if(\"unid\"===l){if(\"undefined\"!==s){for(var p=n.host.split(\":\")[0].split(\".\"),m=\".\"+p.pop(),f=0;f<p.length;f++)m=p.pop()+m,p.length&&(m=\".\"+m),i(\"UNID\",s,m),r(\"UNID\")===s&&(p=[]);u.classList.add(\"unid_allowed\"),u.dataset.unid=s}e.unid.callback&&e.unid.callback(s),o.dispatchEvent(new CustomEvent(\"unid.value\",{detail:{unid:s}}))}}};e.addEventListener?addEventListener(\"message\",g,!1):attachEvent(\"onmessage\",g)}(window,navigator,document,window.location);\n"
          },
          "redirectURL": "",
          "headersSize": 338,
          "bodySize": 2608
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 1,
          "connect": 48,
          "send": 3,
          "wait": 144,
          "receive": 0
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.622-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "https://s.abcnews.com/assets/js/merlin-core.js?v=3.55",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "s.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "3.55"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 392
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.622-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "https://s.abcnews.com/assets/js/merlin-ext.js?v=3.55",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "s.abcnews.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "v",
              "value": "3.55"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 391
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.623-06:00",
        "time": 294,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://js.pusher.com/2.2/pusher.min.js",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "js.pusher.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 374
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:34:24 GMT"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "x-amz-id-2",
              "value": "9pVaESpahp/RTsQ9RFTBYcmhMOxGvNSm9slF3k2wRC2p3hASN0sUevvisE8aJ/H2GMdOB4Nr2D4="
            },
            {
              "name": "x-amz-request-id",
              "value": "FD195F73A8F5AFA3"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=2592000"
            },
            {
              "name": "Last-Modified",
              "value": "Mon, 16 Feb 2015 11:32:21 GMT"
            },
            {
              "name": "Etag",
              "value": "W/\"94f425ff3b262f615972fa7cdfed368b\""
            },
            {
              "name": "Server",
              "value": "NetDNA-cache/2.2"
            },
            {
              "name": "Expires",
              "value": "Fri, 13 Jan 2017 20:34:24 GMT"
            },
            {
              "name": "Access-Control-Allow-Origin",
              "value": "*"
            },
            {
              "name": "X-Cache",
              "value": "HIT"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "application/javascript",
            "size": 47738,
            "text": "/*!\n * Pusher JavaScript Library v2.2.4\n * http://pusher.com/\n *\n * Copyright 2014, Pusher\n * Released under the MIT licence.\n */\n\n(function(){function b(a,d){(null===a||void 0===a)&&b.warn(\"Warning\",\"You must pass your app key when you instantiate Pusher.\");d=d||{};var c=this;this.key=a;this.config=b.Util.extend(b.getGlobalConfig(),d.cluster?b.getClusterConfig(d.cluster):{},d);this.channels=new b.Channels;this.global_emitter=new b.EventsDispatcher;this.sessionID=Math.floor(1E9*Math.random());this.timeline=new b.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:b.Util.getClientFeatures(),params:this.config.timelineParams||\n{},limit:50,level:b.Timeline.INFO,version:b.VERSION});this.config.disableStats||(this.timelineSender=new b.TimelineSender(this.timeline,{host:this.config.statsHost,path:\"/timeline/v2/jsonp\"}));this.connection=new b.ConnectionManager(this.key,b.Util.extend({getStrategy:function(a){a=b.Util.extend({},c.config,a);return b.StrategyBuilder.build(b.getDefaultStrategy(a),a)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},\nthis.config,{encrypted:this.isEncrypted()}));this.connection.bind(\"connected\",function(){c.subscribeAll();c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())});this.connection.bind(\"message\",function(a){var d=0===a.event.indexOf(\"pusher_internal:\");if(a.channel){var b=c.channel(a.channel);b&&b.handleEvent(a.event,a.data)}d||c.global_emitter.emit(a.event,a.data)});this.connection.bind(\"disconnected\",function(){c.channels.disconnect()});this.connection.bind(\"error\",function(a){b.warn(\"Error\",\na)});b.instances.push(this);this.timeline.info({instances:b.instances.length});b.isReady&&c.connect()}var c=b.prototype;b.instances=[];b.isReady=!1;b.debug=function(){b.log&&b.log(b.Util.stringify.apply(this,arguments))};b.warn=function(){var a=b.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(a):window.console.log&&window.console.log(a));b.log&&b.log(a)};b.ready=function(){b.isReady=!0;for(var a=0,d=b.instances.length;a<d;a++)b.instances[a].connect()};\nc.channel=function(a){return this.channels.find(a)};c.allChannels=function(){return this.channels.all()};c.connect=function(){this.connection.connect();if(this.timelineSender&&!this.timelineSenderTimer){var a=this.connection.isEncrypted(),d=this.timelineSender;this.timelineSenderTimer=new b.PeriodicTimer(6E4,function(){d.send(a)})}};c.disconnect=function(){this.connection.disconnect();this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)};c.bind=function(a,\nd){this.global_emitter.bind(a,d);return this};c.bind_all=function(a){this.global_emitter.bind_all(a);return this};c.subscribeAll=function(){for(var a in this.channels.channels)this.channels.channels.hasOwnProperty(a)&&this.subscribe(a)};c.subscribe=function(a){a=this.channels.add(a,this);\"connected\"===this.connection.state&&a.subscribe();return a};c.unsubscribe=function(a){a=this.channels.remove(a);\"connected\"===this.connection.state&&a.unsubscribe()};c.send_event=function(a,d,b){return this.connection.send_event(a,\nd,b)};c.isEncrypted=function(){return\"https:\"===b.Util.getDocument().location.protocol?!0:Boolean(this.config.encrypted)};b.HTTP={};this.Pusher=b}).call(this);\n(function(){function b(a){window.clearTimeout(a)}function c(a){window.clearInterval(a)}function a(a,d,b,c){var k=this;this.clear=d;this.timer=a(function(){null!==k.timer&&(k.timer=c(k.timer))},b)}var d=a.prototype;d.isRunning=function(){return null!==this.timer};d.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)};Pusher.Timer=function(d,c){return new a(setTimeout,b,d,function(a){c();return null})};Pusher.PeriodicTimer=function(d,b){return new a(setInterval,c,d,function(a){b();\nreturn a})}}).call(this);\n(function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(b){return new Pusher.Timer(0,b)},extend:function(b){for(var c=1;c<arguments.length;c++){var a=arguments[c],d;for(d in a)b[d]=a[d]&&a[d].constructor&&a[d].constructor===Object?Pusher.Util.extend(b[d]||{},a[d]):a[d]}return b},stringify:function(){for(var b=[\"Pusher\"],c=0;c<arguments.length;c++)\"string\"===typeof arguments[c]?b.push(arguments[c]):void 0===window.JSON?b.push(arguments[c].toString()):b.push(JSON.stringify(arguments[c]));\nreturn b.join(\" : \")},arrayIndexOf:function(b,c){var a=Array.prototype.indexOf;if(null===b)return-1;if(a&&b.indexOf===a)return b.indexOf(c);for(var a=0,d=b.length;a<d;a++)if(b[a]===c)return a;return-1},objectApply:function(b,c){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&c(b[a],a,b)},keys:function(b){var c=[];Pusher.Util.objectApply(b,function(a,d){c.push(d)});return c},values:function(b){var c=[];Pusher.Util.objectApply(b,function(a){c.push(a)});return c},apply:function(b,c,a){for(var d=\n0;d<b.length;d++)c.call(a||window,b[d],d,b)},map:function(b,c){for(var a=[],d=0;d<b.length;d++)a.push(c(b[d],d,b,a));return a},mapObject:function(b,c){var a={};Pusher.Util.objectApply(b,function(d,b){a[b]=c(d)});return a},filter:function(b,c){c=c||function(a){return!!a};for(var a=[],d=0;d<b.length;d++)c(b[d],d,b,a)&&a.push(b[d]);return a},filterObject:function(b,c){var a={};Pusher.Util.objectApply(b,function(d,h){if(c&&c(d,h,b,a)||Boolean(d))a[h]=d});return a},flatten:function(b){var c=[];Pusher.Util.objectApply(b,\nfunction(a,d){c.push([d,a])});return c},any:function(b,c){for(var a=0;a<b.length;a++)if(c(b[a],a,b))return!0;return!1},all:function(b,c){for(var a=0;a<b.length;a++)if(!c(b[a],a,b))return!1;return!0},method:function(b){var c=Array.prototype.slice.call(arguments,1);return function(a){return a[b].apply(a,c.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator},getLocalStorage:function(){try{return window.localStorage}catch(b){}},\ngetClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport,flash:Pusher.FlashTransport},function(b){return b.isSupported({})}))},addWindowListener:function(b,c){var a=Pusher.Util.getWindow();void 0!==a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(\"on\"+b,c)},removeWindowListener:function(b,c){var a=Pusher.Util.getWindow();void 0!==a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent(\"on\"+b,c)},isXHRSupported:function(){var b=window.XMLHttpRequest;\nreturn Boolean(b)&&void 0!==(new b).withCredentials},isXDRSupported:function(b){b=b?\"https:\":\"http:\";var c=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&c===b}}}).call(this);\n(function(){Pusher.VERSION=\"2.2.4\";Pusher.PROTOCOL=7;Pusher.host=\"ws.pusherapp.com\";Pusher.ws_port=80;Pusher.wss_port=443;Pusher.sockjs_host=\"sockjs.pusher.com\";Pusher.sockjs_http_port=80;Pusher.sockjs_https_port=443;Pusher.sockjs_path=\"/pusher\";Pusher.stats_host=\"stats.pusher.com\";Pusher.channel_auth_endpoint=\"/pusher/auth\";Pusher.channel_auth_transport=\"ajax\";Pusher.activity_timeout=12E4;Pusher.pong_timeout=3E4;Pusher.unavailable_timeout=1E4;Pusher.cdn_http=\"http://js.pusher.com/\";Pusher.cdn_https=\n\"https://js.pusher.com/\";Pusher.dependency_suffix=\".min\";Pusher.getDefaultStrategy=function(b){return[[\":def\",\"ws_options\",{hostUnencrypted:b.wsHost+\":\"+b.wsPort,hostEncrypted:b.wsHost+\":\"+b.wssPort}],[\":def\",\"wss_options\",[\":extend\",\":ws_options\",{encrypted:!0}]],[\":def\",\"sockjs_options\",{hostUnencrypted:b.httpHost+\":\"+b.httpPort,hostEncrypted:b.httpHost+\":\"+b.httpsPort,httpPath:b.httpPath}],[\":def\",\"timeouts\",{loop:!0,timeout:15E3,timeoutLimit:6E4}],[\":def\",\"ws_manager\",[\":transport_manager\",{lives:2,\nminPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[\":def\",\"streaming_manager\",[\":transport_manager\",{lives:2,minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[\":def_transport\",\"ws\",\"ws\",3,\":ws_options\",\":ws_manager\"],[\":def_transport\",\"wss\",\"ws\",3,\":wss_options\",\":ws_manager\"],[\":def_transport\",\"flash\",\"flash\",2,\":ws_options\",\":ws_manager\"],[\":def_transport\",\"sockjs\",\"sockjs\",1,\":sockjs_options\"],[\":def_transport\",\"xhr_streaming\",\"xhr_streaming\",1,\":sockjs_options\",\":streaming_manager\"],[\":def_transport\",\n\"xdr_streaming\",\"xdr_streaming\",1,\":sockjs_options\",\":streaming_manager\"],[\":def_transport\",\"xhr_polling\",\"xhr_polling\",1,\":sockjs_options\"],[\":def_transport\",\"xdr_polling\",\"xdr_polling\",1,\":sockjs_options\"],[\":def\",\"ws_loop\",[\":sequential\",\":timeouts\",\":ws\"]],[\":def\",\"wss_loop\",[\":sequential\",\":timeouts\",\":wss\"]],[\":def\",\"flash_loop\",[\":sequential\",\":timeouts\",\":flash\"]],[\":def\",\"sockjs_loop\",[\":sequential\",\":timeouts\",\":sockjs\"]],[\":def\",\"streaming_loop\",[\":sequential\",\":timeouts\",[\":if\",[\":is_supported\",\n\":xhr_streaming\"],\":xhr_streaming\",\":xdr_streaming\"]]],[\":def\",\"polling_loop\",[\":sequential\",\":timeouts\",[\":if\",[\":is_supported\",\":xhr_polling\"],\":xhr_polling\",\":xdr_polling\"]]],[\":def\",\"http_loop\",[\":if\",[\":is_supported\",\":streaming_loop\"],[\":best_connected_ever\",\":streaming_loop\",[\":delayed\",4E3,[\":polling_loop\"]]],[\":polling_loop\"]]],[\":def\",\"http_fallback_loop\",[\":if\",[\":is_supported\",\":http_loop\"],[\":http_loop\"],[\":sockjs_loop\"]]],[\":def\",\"strategy\",[\":cached\",18E5,[\":first_connected\",[\":if\",\n[\":is_supported\",\":ws\"],b.encrypted?[\":best_connected_ever\",\":ws_loop\",[\":delayed\",2E3,[\":http_fallback_loop\"]]]:[\":best_connected_ever\",\":ws_loop\",[\":delayed\",2E3,[\":wss_loop\"]],[\":delayed\",5E3,[\":http_fallback_loop\"]]],[\":if\",[\":is_supported\",\":flash\"],[\":best_connected_ever\",\":flash_loop\",[\":delayed\",2E3,[\":http_fallback_loop\"]]],[\":http_fallback_loop\"]]]]]]]}}).call(this);\n(function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}};Pusher.getClusterConfig=\nfunction(b){return{wsHost:\"ws-\"+b+\".pusher.com\",httpHost:\"sockjs-\"+b+\".pusher.com\"}}}).call(this);(function(){function b(b){var a=function(a){Error.call(this,a);this.name=b};Pusher.Util.extend(a.prototype,Error.prototype);return a}Pusher.Errors={BadEventName:b(\"BadEventName\"),RequestTimedOut:b(\"RequestTimedOut\"),TransportPriorityTooLow:b(\"TransportPriorityTooLow\"),TransportClosed:b(\"TransportClosed\"),UnsupportedTransport:b(\"UnsupportedTransport\"),UnsupportedStrategy:b(\"UnsupportedStrategy\")}}).call(this);\n(function(){function b(a){this.callbacks=new c;this.global_callbacks=[];this.failThrough=a}function c(){this._callbacks={}}var a=b.prototype;a.bind=function(a,b,c){this.callbacks.add(a,b,c);return this};a.bind_all=function(a){this.global_callbacks.push(a);return this};a.unbind=function(a,b,c){this.callbacks.remove(a,b,c);return this};a.unbind_all=function(a,b){this.callbacks.remove(a,b);return this};a.emit=function(a,b){var c;for(c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](a,b);\nvar e=this.callbacks.get(a);if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].fn.call(e[c].context||window,b);else this.failThrough&&this.failThrough(a,b);return this};c.prototype.get=function(a){return this._callbacks[\"_\"+a]};c.prototype.add=function(a,b,c){a=\"_\"+a;this._callbacks[a]=this._callbacks[a]||[];this._callbacks[a].push({fn:b,context:c})};c.prototype.remove=function(a,b,c){!a&&!b&&!c?this._callbacks={}:(a=a?[\"_\"+a]:Pusher.Util.keys(this._callbacks),b||c?Pusher.Util.apply(a,function(a){this._callbacks[a]=\nPusher.Util.filter(this._callbacks[a]||[],function(a){return b&&b!==a.fn||c&&c!==a.context});0===this._callbacks[a].length&&delete this._callbacks[a]},this):Pusher.Util.apply(a,function(a){delete this._callbacks[a]},this))};Pusher.EventsDispatcher=b}).call(this);\n(function(){function b(a,d){this.lastId=0;this.prefix=a;this.name=d}var c=b.prototype;c.create=function(a){this.lastId++;var d=this.lastId,b=this.prefix+d,c=this.name+\"[\"+d+\"]\",e=!1,f=function(){e||(a.apply(null,arguments),e=!0)};this[d]=f;return{number:d,id:b,name:c,callback:f}};c.remove=function(a){delete this[a.number]};Pusher.ScriptReceiverFactory=b;Pusher.ScriptReceivers=new b(\"_pusher_script_\",\"Pusher.ScriptReceivers\")}).call(this);\n(function(){function b(a){this.src=a}var c=b.prototype;c.send=function(a){var d=this,b=\"Error loading \"+d.src;d.script=document.createElement(\"script\");d.script.id=a.id;d.script.src=d.src;d.script.type=\"text/javascript\";d.script.charset=\"UTF-8\";d.script.addEventListener?(d.script.onerror=function(){a.callback(b)},d.script.onload=function(){a.callback(null)}):d.script.onreadystatechange=function(){(\"loaded\"===d.script.readyState||\"complete\"===d.script.readyState)&&a.callback(null)};void 0===d.script.async&&\ndocument.attachEvent&&/opera/i.test(navigator.userAgent)?(d.errorScript=document.createElement(\"script\"),d.errorScript.id=a.id+\"_error\",d.errorScript.text=a.name+\"('\"+b+\"');\",d.script.async=d.errorScript.async=!1):d.script.async=!0;var c=document.getElementsByTagName(\"head\")[0];c.insertBefore(d.script,c.firstChild);d.errorScript&&c.insertBefore(d.errorScript,d.script.nextSibling)};c.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null);this.script&&\nthis.script.parentNode&&this.script.parentNode.removeChild(this.script);this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript);this.errorScript=this.script=null};Pusher.ScriptRequest=b}).call(this);\n(function(){function b(a){this.options=a;this.receivers=a.receivers||Pusher.ScriptReceivers;this.loading={}}var c=b.prototype;c.load=function(a,d,b){var c=this;if(c.loading[a]&&0<c.loading[a].length)c.loading[a].push(b);else{c.loading[a]=[b];var e=new Pusher.ScriptRequest(c.getPath(a,d)),f=c.receivers.create(function(d){c.receivers.remove(f);if(c.loading[a]){var b=c.loading[a];delete c.loading[a];for(var h=function(a){a||e.cleanup()},m=0;m<b.length;m++)b[m](d,h)}});e.send(f)}};c.getRoot=function(a){var d=\nPusher.Util.getDocument().location.protocol;return(a&&a.encrypted||\"https:\"===d?this.options.cdn_https:this.options.cdn_http).replace(/\\/*$/,\"\")+\"/\"+this.options.version};c.getPath=function(a,d){return this.getRoot(d)+\"/\"+a+this.options.suffix+\".js\"};Pusher.DependencyLoader=b}).call(this);\n(function(){function b(){Pusher.ready()}function c(a){document.body?a():setTimeout(function(){c(a)},0)}function a(){c(b)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory(\"_pusher_dependencies\",\"Pusher.DependenciesReceivers\");Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers});window.JSON?a():Pusher.Dependencies.load(\"json2\",{},a)})();\n(function(){for(var b=String.fromCharCode,c=0;64>c;c++)\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c);var a=function(a){var d=a.charCodeAt(0);return 128>d?a:2048>d?b(192|d>>>6)+b(128|d&63):b(224|d>>>12&15)+b(128|d>>>6&63)+b(128|d&63)},d=function(a){var d=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0);return[\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(a>>>18),\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(a>>>\n12&63),2<=d?\"=\":\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(a>>>6&63),1<=d?\"=\":\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(a&63)].join(\"\")},h=window.btoa||function(a){return a.replace(/[\\s\\S]{1,3}/g,d)};Pusher.Base64={encode:function(d){return h(d.replace(/[^\\x00-\\x7F]/g,a))}}}).call(this);\n(function(){function b(a,b){this.url=a;this.data=b}function c(a){return Pusher.Util.mapObject(a,function(a){\"object\"===typeof a&&(a=JSON.stringify(a));return encodeURIComponent(Pusher.Base64.encode(a.toString()))})}var a=b.prototype;a.send=function(a){if(!this.request){var b=Pusher.Util.filterObject(this.data,function(a){return void 0!==a}),b=Pusher.Util.map(Pusher.Util.flatten(c(b)),Pusher.Util.method(\"join\",\"=\")).join(\"&\");this.request=new Pusher.ScriptRequest(this.url+\"/\"+a.number+\"?\"+b);this.request.send(a)}};\na.cleanup=function(){this.request&&this.request.cleanup()};Pusher.JSONPRequest=b}).call(this);\n(function(){function b(a,d,b){this.key=a;this.session=d;this.events=[];this.options=b||{};this.uniqueID=this.sent=0}var c=b.prototype;b.ERROR=3;b.INFO=6;b.DEBUG=7;c.log=function(a,d){a<=this.options.level&&(this.events.push(Pusher.Util.extend({},d,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())};c.error=function(a){this.log(b.ERROR,a)};c.info=function(a){this.log(b.INFO,a)};c.debug=function(a){this.log(b.DEBUG,a)};c.isEmpty=function(){return 0===\nthis.events.length};c.send=function(a,d){var b=this,c=Pusher.Util.extend({session:b.session,bundle:b.sent+1,key:b.key,lib:\"js\",version:b.options.version,cluster:b.options.cluster,features:b.options.features,timeline:b.events},b.options.params);b.events=[];a(c,function(a,c){a||b.sent++;d&&d(a,c)});return!0};c.generateUniqueID=function(){this.uniqueID++;return this.uniqueID};Pusher.Timeline=b}).call(this);\n(function(){function b(b,a){this.timeline=b;this.options=a||{}}b.prototype.send=function(b,a){var d=this;d.timeline.isEmpty()||d.timeline.send(function(a,g){var e=new Pusher.JSONPRequest(\"http\"+(b?\"s\":\"\")+\"://\"+(d.host||d.options.host)+d.options.path,a),f=Pusher.ScriptReceivers.create(function(a,b){Pusher.ScriptReceivers.remove(f);e.cleanup();b&&b.host&&(d.host=b.host);g&&g(a,b)});e.send(f)},a)};Pusher.TimelineSender=b}).call(this);\n(function(){function b(a){this.strategies=a}function c(a,b,c){var h=Pusher.Util.map(a,function(a,d,h,g){return a.connect(b,c(d,g))});return{abort:function(){Pusher.Util.apply(h,d)},forceMinPriority:function(a){Pusher.Util.apply(h,function(b){b.forceMinPriority(a)})}}}function a(a){return Pusher.Util.all(a,function(a){return Boolean(a.error)})}function d(a){!a.error&&!a.aborted&&(a.abort(),a.aborted=!0)}var h=b.prototype;h.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method(\"isSupported\"))};\nh.connect=function(b,d){return c(this.strategies,b,function(b,c){return function(h,g){(c[b].error=h)?a(c)&&d(!0):(Pusher.Util.apply(c,function(a){a.forceMinPriority(g.transport.priority)}),d(null,g))}})};Pusher.BestConnectedEverStrategy=b}).call(this);\n(function(){function b(a,b,d){this.strategy=a;this.transports=b;this.ttl=d.ttl||18E5;this.encrypted=d.encrypted;this.timeline=d.timeline}function c(a){return\"pusherTransport\"+(a?\"Encrypted\":\"Unencrypted\")}function a(a){var b=Pusher.Util.getLocalStorage();if(b)try{var h=b[c(a)];if(h)return JSON.parse(h)}catch(k){d(a)}return null}function d(a){var b=Pusher.Util.getLocalStorage();if(b)try{delete b[c(a)]}catch(d){}}var h=b.prototype;h.isSupported=function(){return this.strategy.isSupported()};h.connect=\nfunction(b,h){var f=this.encrypted,k=a(f),l=[this.strategy];if(k&&k.timestamp+this.ttl>=Pusher.Util.now()){var n=this.transports[k.transport];n&&(this.timeline.info({cached:!0,transport:k.transport,latency:k.latency}),l.push(new Pusher.SequentialStrategy([n],{timeout:2*k.latency+1E3,failFast:!0})))}var m=Pusher.Util.now(),p=l.pop().connect(b,function s(a,k){if(a)d(f),0<l.length?(m=Pusher.Util.now(),p=l.pop().connect(b,s)):h(a);else{var n=k.transport.name,t=Pusher.Util.now()-m,r=Pusher.Util.getLocalStorage();\nif(r)try{r[c(f)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:n,latency:t})}catch(u){}h(null,k)}});return{abort:function(){p.abort()},forceMinPriority:function(a){b=a;p&&p.forceMinPriority(a)}}};Pusher.CachedStrategy=b}).call(this);\n(function(){function b(a,b){this.strategy=a;this.options={delay:b.delay}}var c=b.prototype;c.isSupported=function(){return this.strategy.isSupported()};c.connect=function(a,b){var c=this.strategy,g,e=new Pusher.Timer(this.options.delay,function(){g=c.connect(a,b)});return{abort:function(){e.ensureAborted();g&&g.abort()},forceMinPriority:function(b){a=b;g&&g.forceMinPriority(b)}}};Pusher.DelayedStrategy=b}).call(this);\n(function(){function b(a){this.strategy=a}var c=b.prototype;c.isSupported=function(){return this.strategy.isSupported()};c.connect=function(a,b){var c=this.strategy.connect(a,function(a,e){e&&c.abort();b(a,e)});return c};Pusher.FirstConnectedStrategy=b}).call(this);\n(function(){function b(a,b,c){this.test=a;this.trueBranch=b;this.falseBranch=c}var c=b.prototype;c.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()};c.connect=function(a,b){return(this.test()?this.trueBranch:this.falseBranch).connect(a,b)};Pusher.IfStrategy=b}).call(this);\n(function(){function b(a,b){this.strategies=a;this.loop=Boolean(b.loop);this.failFast=Boolean(b.failFast);this.timeout=b.timeout;this.timeoutLimit=b.timeoutLimit}var c=b.prototype;c.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method(\"isSupported\"))};c.connect=function(a,b){var c=this,g=this.strategies,e=0,f=this.timeout,k=null,l=function(n,m){m?b(null,m):(e+=1,c.loop&&(e%=g.length),e<g.length?(f&&(f*=2,c.timeoutLimit&&(f=Math.min(f,c.timeoutLimit))),k=c.tryStrategy(g[e],\na,{timeout:f,failFast:c.failFast},l)):b(!0))},k=this.tryStrategy(g[e],a,{timeout:f,failFast:this.failFast},l);return{abort:function(){k.abort()},forceMinPriority:function(b){a=b;k&&k.forceMinPriority(b)}}};c.tryStrategy=function(a,b,c,g){var e=null,f=null;0<c.timeout&&(e=new Pusher.Timer(c.timeout,function(){f.abort();g(!0)}));f=a.connect(b,function(a,b){if(!a||!e||!e.isRunning()||c.failFast)e&&e.ensureAborted(),g(a,b)});return{abort:function(){e&&e.ensureAborted();f.abort()},forceMinPriority:function(a){f.forceMinPriority(a)}}};\nPusher.SequentialStrategy=b}).call(this);\n(function(){function b(a,b,c,e){this.name=a;this.priority=b;this.transport=c;this.options=e||{}}function c(a,b){Pusher.Util.defer(function(){b(a)});return{abort:function(){},forceMinPriority:function(){}}}var a=b.prototype;a.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})};a.connect=function(a,b){if(this.isSupported()){if(this.priority<a)return c(new Pusher.Errors.TransportPriorityTooLow,b)}else return c(new Pusher.Errors.UnsupportedStrategy,b);var g=this,\ne=!1,f=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),k=null,l=function(){f.unbind(\"initialized\",l);f.connect()},n=function(){k=new Pusher.Handshake(f,function(a){e=!0;q();b(null,a)})},m=function(a){q();b(a)},p=function(){q();b(new Pusher.Errors.TransportClosed(f))},q=function(){f.unbind(\"initialized\",l);f.unbind(\"open\",n);f.unbind(\"error\",m);f.unbind(\"closed\",p)};f.bind(\"initialized\",l);f.bind(\"open\",n);f.bind(\"error\",m);f.bind(\"closed\",p);f.initialize();return{abort:function(){e||\n(q(),k?k.close():f.close())},forceMinPriority:function(a){e||g.priority<a&&(k?k.close():f.close())}}};Pusher.TransportStrategy=b}).call(this);\n(function(){function b(a,b,c){return a+(b.encrypted?\"s\":\"\")+\"://\"+(b.encrypted?b.hostEncrypted:b.hostUnencrypted)+c}function c(a,b){return\"/app/\"+a+(\"?protocol=\"+Pusher.PROTOCOL+\"&client=js&version=\"+Pusher.VERSION+(b?\"&\"+b:\"\"))}Pusher.URLSchemes={ws:{getInitial:function(a,d){return b(\"ws\",d,c(a,\"flash=false\"))}},flash:{getInitial:function(a,d){return b(\"ws\",d,c(a,\"flash=true\"))}},sockjs:{getInitial:function(a,c){return b(\"http\",c,c.httpPath||\"/pusher\",\"\")},getPath:function(a,b){return c(a)}},http:{getInitial:function(a,\nd){var h=(d.httpPath||\"/pusher\")+c(a);return b(\"http\",d,h)}}}}).call(this);\n(function(){function b(a,b,c,g,e){Pusher.EventsDispatcher.call(this);this.hooks=a;this.name=b;this.priority=c;this.key=g;this.options=e;this.state=\"new\";this.timeline=e.timeline;this.activityTimeout=e.activityTimeout;this.id=this.timeline.generateUniqueID()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)};c.supportsPing=function(){return Boolean(this.hooks.supportsPing)};c.initialize=function(){var a=\nthis;a.timeline.info(a.buildTimelineMessage({transport:a.name+(a.options.encrypted?\"s\":\"\")}));a.hooks.beforeInitialize&&a.hooks.beforeInitialize.call(a);if(a.hooks.isInitialized())a.changeState(\"initialized\");else if(a.hooks.file)a.changeState(\"initializing\"),Pusher.Dependencies.load(a.hooks.file,{encrypted:a.options.encrypted},function(b,c){if(a.hooks.isInitialized())a.changeState(\"initialized\"),c(!0);else{if(b)a.onError(b);a.onClose();c(!1)}});else a.onClose()};c.connect=function(){var a=this;if(a.socket||\n\"initialized\"!==a.state)return!1;var b=a.hooks.urls.getInitial(a.key,a.options);try{a.socket=a.hooks.getSocket(b,a.options)}catch(c){return Pusher.Util.defer(function(){a.onError(c);a.changeState(\"closed\")}),!1}a.bindListeners();Pusher.debug(\"Connecting\",{transport:a.name,url:b});a.changeState(\"connecting\");return!0};c.close=function(){return this.socket?(this.socket.close(),!0):!1};c.send=function(a){var b=this;return\"open\"===b.state?(Pusher.Util.defer(function(){b.socket&&b.socket.send(a)}),!0):\n!1};c.ping=function(){\"open\"===this.state&&this.supportsPing()&&this.socket.ping()};c.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options));this.changeState(\"open\");this.socket.onopen=void 0};c.onError=function(a){this.emit(\"error\",{type:\"WebSocketError\",error:a});this.timeline.error(this.buildTimelineMessage({error:a.toString()}))};c.onClose=function(a){a?this.changeState(\"closed\",{code:a.code,reason:a.reason,wasClean:a.wasClean}):\nthis.changeState(\"closed\");this.unbindListeners();this.socket=void 0};c.onMessage=function(a){this.emit(\"message\",a)};c.onActivity=function(){this.emit(\"activity\")};c.bindListeners=function(){var a=this;a.socket.onopen=function(){a.onOpen()};a.socket.onerror=function(b){a.onError(b)};a.socket.onclose=function(b){a.onClose(b)};a.socket.onmessage=function(b){a.onMessage(b)};a.supportsPing()&&(a.socket.onactivity=function(){a.onActivity()})};c.unbindListeners=function(){this.socket&&(this.socket.onopen=\nvoid 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))};c.changeState=function(a,b){this.state=a;this.timeline.info(this.buildTimelineMessage({state:a,params:b}));this.emit(a,b)};c.buildTimelineMessage=function(a){return Pusher.Util.extend({cid:this.id},a)};Pusher.TransportConnection=b}).call(this);\n(function(){function b(a){this.hooks=a}var c=b.prototype;c.isSupported=function(a){return this.hooks.isSupported(a)};c.createConnection=function(a,b,c,g){return new Pusher.TransportConnection(this.hooks,a,b,c,g)};Pusher.Transport=b}).call(this);\n(function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(a){return new (window.WebSocket||window.MozWebSocket)(a)}});Pusher.FlashTransport=new Pusher.Transport({file:\"flashfallback\",urls:Pusher.URLSchemes.flash,handlesActivityChecks:!1,supportsPing:!1,isSupported:function(){try{return Boolean(new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\"))}catch(a){try{var b=\nPusher.Util.getNavigator();return Boolean(b&&b.mimeTypes&&void 0!==b.mimeTypes[\"application/x-shockwave-flash\"])}catch(c){return!1}}},beforeInitialize:function(){void 0===window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&(window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0);window.WEB_SOCKET_SWF_LOCATION=Pusher.Dependencies.getRoot({encrypted:this.options.encrypted})+\"/WebSocketMain.swf\"},isInitialized:function(){return void 0!==window.FlashWebSocket},getSocket:function(a){return new FlashWebSocket(a)}});\nPusher.SockJSTransport=new Pusher.Transport({file:\"sockjs\",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(a,b){return new SockJS(a,null,{js_path:Pusher.Dependencies.getPath(\"sockjs\",{encrypted:b.encrypted}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(a,b){a.send(JSON.stringify({path:b}))}});var b={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,\nsupportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},c=Pusher.Util.extend({getSocket:function(a){return Pusher.HTTP.getStreamingSocket(a)}},b),b=Pusher.Util.extend({getSocket:function(a){return Pusher.HTTP.getPollingSocket(a)}},b),a={file:\"xhr\",isSupported:Pusher.Util.isXHRSupported},d={file:\"xdr\",isSupported:function(a){return Pusher.Util.isXDRSupported(a.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},c,a));Pusher.XDRStreamingTransport=\nnew Pusher.Transport(Pusher.Util.extend({},c,d));Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},b,a));Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},b,d))}).call(this);\n(function(){function b(a,b,c){this.manager=a;this.transport=b;this.minPingDelay=c.minPingDelay;this.maxPingDelay=c.maxPingDelay;this.pingDelay=void 0}var c=b.prototype;c.createConnection=function(a,b,c,g){var e=this;g=Pusher.Util.extend({},g,{activityTimeout:e.pingDelay});var f=e.transport.createConnection(a,b,c,g),k=null,l=function(){f.unbind(\"open\",l);f.bind(\"closed\",n);k=Pusher.Util.now()},n=function(a){f.unbind(\"closed\",n);1002===a.code||1003===a.code?e.manager.reportDeath():!a.wasClean&&k&&(a=\nPusher.Util.now()-k,a<2*e.maxPingDelay&&(e.manager.reportDeath(),e.pingDelay=Math.max(a/2,e.minPingDelay)))};f.bind(\"open\",l);return f};c.isSupported=function(a){return this.manager.isAlive()&&this.transport.isSupported(a)};Pusher.AssistantToTheTransportManager=b}).call(this);\n(function(){function b(a){this.options=a||{};this.livesLeft=this.options.lives||Infinity}var c=b.prototype;c.getAssistant=function(a){return new Pusher.AssistantToTheTransportManager(this,a,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})};c.isAlive=function(){return 0<this.livesLeft};c.reportDeath=function(){this.livesLeft-=1};Pusher.TransportManager=b}).call(this);\n(function(){function b(a){return function(b){return[a.apply(this,arguments),b]}}function c(a,b){if(0===a.length)return[[],b];var h=d(a[0],b),e=c(a.slice(1),h[1]);return[[h[0]].concat(e[0]),e[1]]}function a(a,b){if(\"string\"===typeof a[0]&&\":\"===a[0].charAt(0)){var h=b[a[0].slice(1)];if(1<a.length){if(\"function\"!==typeof h)throw\"Calling non-function \"+a[0];var e=[Pusher.Util.extend({},b)].concat(Pusher.Util.map(a.slice(1),function(a){return d(a,Pusher.Util.extend({},b))[0]}));return h.apply(this,e)}return[h,\nb]}return c(a,b)}function d(b,c){if(\"string\"===typeof b){var d;if(\"string\"===typeof b&&\":\"===b.charAt(0)){d=c[b.slice(1)];if(void 0===d)throw\"Undefined symbol \"+b;d=[d,c]}else d=[b,c];return d}return\"object\"===typeof b&&b instanceof Array&&0<b.length?a(b,c):[b,c]}var h={ws:Pusher.WSTransport,flash:Pusher.FlashTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},\ng={isSupported:function(){return!1},connect:function(a,b){var c=Pusher.Util.defer(function(){b(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){c.ensureAborted()},forceMinPriority:function(){}}}},e={extend:function(a,b,c){return[Pusher.Util.extend({},b,c),a]},def:function(a,b,c){if(void 0!==a[b])throw\"Redefining symbol \"+b;a[b]=c;return[void 0,a]},def_transport:function(a,b,c,d,e,p){var q=h[c];if(!q)throw new Pusher.Errors.UnsupportedTransport(c);c=(!a.enabledTransports||-1!==Pusher.Util.arrayIndexOf(a.enabledTransports,\nb))&&(!a.disabledTransports||-1===Pusher.Util.arrayIndexOf(a.disabledTransports,b))&&(\"flash\"!==b||!0!==a.disableFlash)?new Pusher.TransportStrategy(b,d,p?p.getAssistant(q):q,Pusher.Util.extend({key:a.key,encrypted:a.encrypted,timeline:a.timeline,ignoreNullOrigin:a.ignoreNullOrigin},e)):g;d=a.def(a,b,c)[1];d.transports=a.transports||{};d.transports[b]=c;return[void 0,d]},transport_manager:b(function(a,b){return new Pusher.TransportManager(b)}),sequential:b(function(a,b){var c=Array.prototype.slice.call(arguments,\n2);return new Pusher.SequentialStrategy(c,b)}),cached:b(function(a,b,c){return new Pusher.CachedStrategy(c,a.transports,{ttl:b,timeline:a.timeline,encrypted:a.encrypted})}),first_connected:b(function(a,b){return new Pusher.FirstConnectedStrategy(b)}),best_connected_ever:b(function(){var a=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(a)}),delayed:b(function(a,b,c){return new Pusher.DelayedStrategy(c,{delay:b})}),\"if\":b(function(a,b,c,d){return new Pusher.IfStrategy(b,\nc,d)}),is_supported:b(function(a,b){return function(){return b.isSupported()}})};Pusher.StrategyBuilder={build:function(a,b){var c=Pusher.Util.extend({},e,b);return d(a,c)[1].strategy}}}).call(this);\n(function(){Pusher.Protocol={decodeMessage:function(b){try{var c=JSON.parse(b.data);if(\"string\"===typeof c.data)try{c.data=JSON.parse(c.data)}catch(a){if(!(a instanceof SyntaxError))throw a;}return c}catch(d){throw{type:\"MessageParseError\",error:d,data:b.data};}},encodeMessage:function(b){return JSON.stringify(b)},processHandshake:function(b){b=this.decodeMessage(b);if(\"pusher:connection_established\"===b.event){if(!b.data.activity_timeout)throw\"No activity timeout specified in handshake\";return{action:\"connected\",\nid:b.data.socket_id,activityTimeout:1E3*b.data.activity_timeout}}if(\"pusher:error\"===b.event)return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw\"Invalid handshake\";},getCloseAction:function(b){return 4E3>b.code?1002<=b.code&&1004>=b.code?\"backoff\":null:4E3===b.code?\"ssl_only\":4100>b.code?\"refused\":4200>b.code?\"backoff\":4300>b.code?\"retry\":\"refused\"},getCloseError:function(b){return 1E3!==b.code&&1001!==b.code?{type:\"PusherError\",data:{code:b.code,message:b.reason||b.message}}:\nnull}}}).call(this);\n(function(){function b(a,b){Pusher.EventsDispatcher.call(this);this.id=a;this.transport=b;this.activityTimeout=b.activityTimeout;this.bindListeners()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()};c.send=function(a){return this.transport.send(a)};c.send_event=function(a,b,c){a={event:a,data:b};c&&(a.channel=c);Pusher.debug(\"Event sent\",a);return this.send(Pusher.Protocol.encodeMessage(a))};c.ping=\nfunction(){this.transport.supportsPing()?this.transport.ping():this.send_event(\"pusher:ping\",{})};c.close=function(){this.transport.close()};c.bindListeners=function(){var a=this,b={message:function(b){var c;try{c=Pusher.Protocol.decodeMessage(b)}catch(d){a.emit(\"error\",{type:\"MessageParseError\",error:d,data:b.data})}if(void 0!==c){Pusher.debug(\"Event recd\",c);switch(c.event){case \"pusher:error\":a.emit(\"error\",{type:\"PusherError\",data:c.data});break;case \"pusher:ping\":a.emit(\"ping\");break;case \"pusher:pong\":a.emit(\"pong\")}a.emit(\"message\",\nc)}},activity:function(){a.emit(\"activity\")},error:function(b){a.emit(\"error\",{type:\"WebSocketError\",error:b})},closed:function(b){c();b&&b.code&&a.handleCloseEvent(b);a.transport=null;a.emit(\"closed\")}},c=function(){Pusher.Util.objectApply(b,function(b,c){a.transport.unbind(c,b)})};Pusher.Util.objectApply(b,function(b,c){a.transport.bind(c,b)})};c.handleCloseEvent=function(a){var b=Pusher.Protocol.getCloseAction(a);(a=Pusher.Protocol.getCloseError(a))&&this.emit(\"error\",a);b&&this.emit(b)};Pusher.Connection=\nb}).call(this);\n(function(){function b(a,b){this.transport=a;this.callback=b;this.bindListeners()}var c=b.prototype;c.close=function(){this.unbindListeners();this.transport.close()};c.bindListeners=function(){var a=this;a.onMessage=function(b){a.unbindListeners();try{var c=Pusher.Protocol.processHandshake(b);\"connected\"===c.action?a.finish(\"connected\",{connection:new Pusher.Connection(c.id,a.transport),activityTimeout:c.activityTimeout}):(a.finish(c.action,{error:c.error}),a.transport.close())}catch(g){a.finish(\"error\",{error:g}),\na.transport.close()}};a.onClosed=function(b){a.unbindListeners();var c=Pusher.Protocol.getCloseAction(b)||\"backoff\";b=Pusher.Protocol.getCloseError(b);a.finish(c,{error:b})};a.transport.bind(\"message\",a.onMessage);a.transport.bind(\"closed\",a.onClosed)};c.unbindListeners=function(){this.transport.unbind(\"message\",this.onMessage);this.transport.unbind(\"closed\",this.onClosed)};c.finish=function(a,b){this.callback(Pusher.Util.extend({transport:this.transport,action:a},b))};Pusher.Handshake=b}).call(this);\n(function(){function b(a,b){Pusher.EventsDispatcher.call(this);this.key=a;this.options=b||{};this.state=\"initialized\";this.connection=null;this.encrypted=!!b.encrypted;this.timeline=this.options.timeline;this.connectionCallbacks=this.buildConnectionCallbacks();this.errorCallbacks=this.buildErrorCallbacks();this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=this;Pusher.Network.bind(\"online\",function(){c.timeline.info({netinfo:\"online\"});(\"connecting\"===c.state||\"unavailable\"===\nc.state)&&c.retryIn(0)});Pusher.Network.bind(\"offline\",function(){c.timeline.info({netinfo:\"offline\"});c.connection&&c.sendActivityCheck()});this.updateStrategy()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.connect=function(){!this.connection&&!this.runner&&(this.strategy.isSupported()?(this.updateState(\"connecting\"),this.startConnecting(),this.setUnavailableTimer()):this.updateState(\"failed\"))};c.send=function(a){return this.connection?this.connection.send(a):!1};\nc.send_event=function(a,b,c){return this.connection?this.connection.send_event(a,b,c):!1};c.disconnect=function(){this.disconnectInternally();this.updateState(\"disconnected\")};c.isEncrypted=function(){return this.encrypted};c.startConnecting=function(){var a=this,b=function(c,g){c?a.runner=a.strategy.connect(0,b):\"error\"===g.action?(a.emit(\"error\",{type:\"HandshakeError\",error:g.error}),a.timeline.error({handshakeError:g.error})):(a.abortConnecting(),a.handshakeCallbacks[g.action](g))};a.runner=a.strategy.connect(0,\nb)};c.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)};c.disconnectInternally=function(){this.abortConnecting();this.clearRetryTimer();this.clearUnavailableTimer();this.connection&&this.abandonConnection().close()};c.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})};c.retryIn=function(a){var b=this;b.timeline.info({action:\"retry\",delay:a});0<a&&b.emit(\"connecting_in\",Math.round(a/1E3));b.retryTimer=\nnew Pusher.Timer(a||0,function(){b.disconnectInternally();b.connect()})};c.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)};c.setUnavailableTimer=function(){var a=this;a.unavailableTimer=new Pusher.Timer(a.options.unavailableTimeout,function(){a.updateState(\"unavailable\")})};c.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()};c.sendActivityCheck=function(){var a=this;a.stopActivityCheck();a.connection.ping();\na.activityTimer=new Pusher.Timer(a.options.pongTimeout,function(){a.timeline.error({pong_timed_out:a.options.pongTimeout});a.retryIn(0)})};c.resetActivityCheck=function(){var a=this;a.stopActivityCheck();a.connection.handlesActivityChecks()||(a.activityTimer=new Pusher.Timer(a.activityTimeout,function(){a.sendActivityCheck()}))};c.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()};c.buildConnectionCallbacks=function(){var a=this;return{message:function(b){a.resetActivityCheck();\na.emit(\"message\",b)},ping:function(){a.send_event(\"pusher:pong\",{})},activity:function(){a.resetActivityCheck()},error:function(b){a.emit(\"error\",{type:\"WebSocketError\",error:b})},closed:function(){a.abandonConnection();a.shouldRetry()&&a.retryIn(1E3)}}};c.buildHandshakeCallbacks=function(a){var b=this;return Pusher.Util.extend({},a,{connected:function(a){b.activityTimeout=Math.min(b.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||Infinity);b.clearUnavailableTimer();b.setConnection(a.connection);\nb.socket_id=b.connection.id;b.updateState(\"connected\",{socket_id:b.socket_id})}})};c.buildErrorCallbacks=function(){function a(a){return function(c){c.error&&b.emit(\"error\",{type:\"WebSocketError\",error:c.error});a(c)}}var b=this;return{ssl_only:a(function(){b.encrypted=!0;b.updateStrategy();b.retryIn(0)}),refused:a(function(){b.disconnect()}),backoff:a(function(){b.retryIn(1E3)}),retry:a(function(){b.retryIn(0)})}};c.setConnection=function(a){this.connection=a;for(var b in this.connectionCallbacks)this.connection.bind(b,\nthis.connectionCallbacks[b]);this.resetActivityCheck()};c.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);a=this.connection;this.connection=null;return a}};c.updateState=function(a,b){var c=this.state;this.state=a;c!==a&&(Pusher.debug(\"State changed\",c+\" -> \"+a),this.timeline.info({state:a,params:b}),this.emit(\"state_change\",{previous:c,current:a}),this.emit(a,b))};c.shouldRetry=function(){return\"connecting\"===\nthis.state||\"connected\"===this.state};Pusher.ConnectionManager=b}).call(this);\n(function(){function b(){Pusher.EventsDispatcher.call(this);var b=this;void 0!==window.addEventListener&&(window.addEventListener(\"online\",function(){b.emit(\"online\")},!1),window.addEventListener(\"offline\",function(){b.emit(\"offline\")},!1))}Pusher.Util.extend(b.prototype,Pusher.EventsDispatcher.prototype);b.prototype.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine};Pusher.NetInfo=b;Pusher.Network=new b}).call(this);\n(function(){function b(){this.reset()}var c=b.prototype;c.get=function(a){return Object.prototype.hasOwnProperty.call(this.members,a)?{id:a,info:this.members[a]}:null};c.each=function(a){var b=this;Pusher.Util.objectApply(b.members,function(c,g){a(b.get(g))})};c.setMyID=function(a){this.myID=a};c.onSubscription=function(a){this.members=a.presence.hash;this.count=a.presence.count;this.me=this.get(this.myID)};c.addMember=function(a){null===this.get(a.user_id)&&this.count++;this.members[a.user_id]=a.user_info;\nreturn this.get(a.user_id)};c.removeMember=function(a){var b=this.get(a.user_id);b&&(delete this.members[a.user_id],this.count--);return b};c.reset=function(){this.members={};this.count=0;this.me=this.myID=null};Pusher.Members=b}).call(this);\n(function(){function b(a,b){Pusher.EventsDispatcher.call(this,function(b,c){Pusher.debug(\"No callbacks on \"+a+\" for \"+b)});this.name=a;this.pusher=b;this.subscribed=!1}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.authorize=function(a,b){return b(!1,{})};c.trigger=function(a,b){if(0!==a.indexOf(\"client-\"))throw new Pusher.Errors.BadEventName(\"Event '\"+a+\"' does not start with 'client-'\");return this.pusher.send_event(a,b,this.name)};c.disconnect=function(){this.subscribed=\n!1};c.handleEvent=function(a,b){0===a.indexOf(\"pusher_internal:\")?\"pusher_internal:subscription_succeeded\"===a&&(this.subscribed=!0,this.emit(\"pusher:subscription_succeeded\",b)):this.emit(a,b)};c.subscribe=function(){var a=this;a.authorize(a.pusher.connection.socket_id,function(b,c){b?a.handleEvent(\"pusher:subscription_error\",c):a.pusher.send_event(\"pusher:subscribe\",{auth:c.auth,channel_data:c.channel_data,channel:a.name})})};c.unsubscribe=function(){this.pusher.send_event(\"pusher:unsubscribe\",{channel:this.name})};\nPusher.Channel=b}).call(this);(function(){function b(a,b){Pusher.Channel.call(this,a,b)}var c=b.prototype;Pusher.Util.extend(c,Pusher.Channel.prototype);c.authorize=function(a,b){return(new Pusher.Channel.Authorizer(this,this.pusher.config)).authorize(a,b)};Pusher.PrivateChannel=b}).call(this);\n(function(){function b(a,b){Pusher.PrivateChannel.call(this,a,b);this.members=new Pusher.Members}var c=b.prototype;Pusher.Util.extend(c,Pusher.PrivateChannel.prototype);c.authorize=function(a,b){var c=this;Pusher.PrivateChannel.prototype.authorize.call(c,a,function(a,e){if(!a){if(void 0===e.channel_data){Pusher.warn(\"Invalid auth response for channel '\"+c.name+\"', expected 'channel_data' field\");b(\"Invalid auth response\");return}var f=JSON.parse(e.channel_data);c.members.setMyID(f.user_id)}b(a,e)})};\nc.handleEvent=function(a,b){switch(a){case \"pusher_internal:subscription_succeeded\":this.members.onSubscription(b);this.subscribed=!0;this.emit(\"pusher:subscription_succeeded\",this.members);break;case \"pusher_internal:member_added\":var c=this.members.addMember(b);this.emit(\"pusher:member_added\",c);break;case \"pusher_internal:member_removed\":(c=this.members.removeMember(b))&&this.emit(\"pusher:member_removed\",c);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,a,b)}};c.disconnect=\nfunction(){this.members.reset();Pusher.PrivateChannel.prototype.disconnect.call(this)};Pusher.PresenceChannel=b}).call(this);\n(function(){function b(){this.channels={}}var c=b.prototype;c.add=function(a,b){if(!this.channels[a]){var c=this.channels,g;g=0===a.indexOf(\"private-\")?new Pusher.PrivateChannel(a,b):0===a.indexOf(\"presence-\")?new Pusher.PresenceChannel(a,b):new Pusher.Channel(a,b);c[a]=g}return this.channels[a]};c.all=function(a){return Pusher.Util.values(this.channels)};c.find=function(a){return this.channels[a]};c.remove=function(a){var b=this.channels[a];delete this.channels[a];return b};c.disconnect=function(){Pusher.Util.objectApply(this.channels,\nfunction(a){a.disconnect()})};Pusher.Channels=b}).call(this);\n(function(){Pusher.Channel.Authorizer=function(b,a){this.channel=b;this.type=a.authTransport;this.options=a;this.authOptions=(a||{}).auth||{}};Pusher.Channel.Authorizer.prototype={composeQuery:function(b){b=\"socket_id=\"+encodeURIComponent(b)+\"&channel_name=\"+encodeURIComponent(this.channel.name);for(var a in this.authOptions.params)b+=\"&\"+encodeURIComponent(a)+\"=\"+encodeURIComponent(this.authOptions.params[a]);return b},authorize:function(b,a){return Pusher.authorizers[this.type].call(this,b,a)}};\nvar b=1;Pusher.auth_callbacks={};Pusher.authorizers={ajax:function(b,a){var d;d=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject(\"Microsoft.XMLHTTP\");d.open(\"POST\",this.options.authEndpoint,!0);d.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");for(var h in this.authOptions.headers)d.setRequestHeader(h,this.authOptions.headers[h]);d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){var b,c=!1;try{b=JSON.parse(d.responseText),\nc=!0}catch(f){a(!0,\"JSON returned from webapp was invalid, yet status code was 200. Data was: \"+d.responseText)}c&&a(!1,b)}else Pusher.warn(\"Couldn't get auth info from your webapp\",d.status),a(!0,d.status)};d.send(this.composeQuery(b));return d},jsonp:function(c,a){void 0!==this.authOptions.headers&&Pusher.warn(\"Warn\",\"To send headers with the auth request, you must use AJAX, rather than JSONP.\");var d=b.toString();b++;var h=Pusher.Util.getDocument(),g=h.createElement(\"script\");Pusher.auth_callbacks[d]=\nfunction(b){a(!1,b)};g.src=this.options.authEndpoint+\"?callback=\"+encodeURIComponent(\"Pusher.auth_callbacks['\"+d+\"']\")+\"&\"+this.composeQuery(c);d=h.getElementsByTagName(\"head\")[0]||h.documentElement;d.insertBefore(g,d.firstChild)}}}).call(this);\n"
          },
          "redirectURL": "",
          "headersSize": 530,
          "bodySize": 15477
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 47,
          "connect": 16,
          "send": 131,
          "wait": 100,
          "receive": 0
        }
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:25.991-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://native.sharethrough.com/assets/sfp.js",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "native.sharethrough.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "If-Modified-Since",
              "value": "Tue, 13 Dec 2016 20:09:45 GMT"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 430
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_119",
        "startedDateTime": "2016-12-14T14:34:26.005-06:00",
        "time": 0,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://www.googleadservices.com/pagead/conversion.js",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "www.googleadservices.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://abcnews.go.com/Politics/clinton-rebounds-enthusiasm-trump-slips-tight-race-poll/story?id=43309964&cid=abcnp_tco"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 0
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "p3p",
              "value": "policyref=\"http://www.googleadservices.com/pagead/p3p.xml\", CP=\"NOI DEV PSA PSD IVA IVD OTP OUR OTR IND OTC\""
            },
            {
              "name": "Timing-Allow-Origin",
              "value": "*"
            },
            {
              "name": "Content-Type",
              "value": "text/javascript; charset=UTF-8"
            },
            {
              "name": "Etag",
              "value": "12359061525312300059"
            },
            {
              "name": "Date",
              "value": "Wed, 14 Dec 2016 20:32:15 GMT"
            },
            {
              "name": "Expires",
              "value": "Wed, 14 Dec 2016 20:32:15 GMT"
            },
            {
              "name": "Cache-Control",
              "value": "private, max-age=86400"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Content-Disposition",
              "value": "attachment; filename=\"f.txt\""
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Server",
              "value": "cafe"
            },
            {
              "name": "Content-Length",
              "value": "5808"
            },
            {
              "name": "x-xss-protection",
              "value": "1; mode=block"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "text/javascript; charset=UTF-8",
            "size": 15294,
            "text": "(function(){var g=this,l=function(a){return\"string\"==typeof a},aa=function(a,b,c){return a.call.apply(a.bind,arguments)},ba=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},m=function(a,b,c){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return m.apply(null,\narguments)},ca=Date.now||function(){return+new Date};var p=function(){var a=!1;try{var b=Object.defineProperty({},\"passive\",{get:function(){a=!0}});window.addEventListener(\"test\",null,b)}catch(c){}return a}(),da=function(a,b,c){a.addEventListener?a.addEventListener(b,c,p?void 0:!1):a.attachEvent&&a.attachEvent(\"on\"+b,c)};var q=function(a){return{visible:1,hidden:2,prerender:3,preview:4}[a.webkitVisibilityState||a.mozVisibilityState||a.visibilityState||\"\"]||0},ea=function(a){var b;a.mozVisibilityState?b=\"mozvisibilitychange\":a.webkitVisibilityState?b=\"webkitvisibilitychange\":a.visibilityState&&(b=\"visibilitychange\");return b},t=function(a,b){if(3==q(b))return!1;a();return!0},fa=function(a,b){if(!t(a,b)){var c=!1,d=ea(b),e=function(){if(!c&&t(a,b)){c=!0;var f=e;b.removeEventListener?b.removeEventListener(d,f,p?void 0:\n!1):b.detachEvent&&b.detachEvent(\"on\"+d,f)}};d&&da(b,d,e)}};var u=function(a){a=parseFloat(a);return isNaN(a)||1<a||0>a?0:a};var ga=u(\"0.20\"),ha=u(\"0.01\");var ia=/^true$/.test(\"false\")?!0:!1;var v=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},x=function(a,b){return a<b?-1:a>b?1:0};var ja=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ka=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=l(a)?a.split(\"\"):a,k=0;k<d;k++)if(k in h){var r=h[k];b.call(c,r,k,a)&&(e[f++]=r)}return e},la=Array.prototype.map?\nfunction(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=l(a)?a.split(\"\"):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},ma=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)};var y=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};var z;a:{var A=g.navigator;if(A){var B=A.userAgent;if(B){z=B;break a}}z=\"\"};var C=function(a){C[\" \"](a);return a};C[\" \"]=function(){};var oa=function(a,b){var c=na;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};var pa=-1!=z.indexOf(\"Opera\"),D=-1!=z.indexOf(\"Trident\")||-1!=z.indexOf(\"MSIE\"),sa=-1!=z.indexOf(\"Edge\"),E=-1!=z.indexOf(\"Gecko\")&&!(-1!=z.toLowerCase().indexOf(\"webkit\")&&-1==z.indexOf(\"Edge\"))&&!(-1!=z.indexOf(\"Trident\")||-1!=z.indexOf(\"MSIE\"))&&-1==z.indexOf(\"Edge\"),ta=-1!=z.toLowerCase().indexOf(\"webkit\")&&-1==z.indexOf(\"Edge\"),F=function(){var a=g.document;return a?a.documentMode:void 0},G;\na:{var H=\"\",I=function(){var a=z;if(E)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(sa)return/Edge\\/([\\d\\.]+)/.exec(a);if(D)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(ta)return/WebKit\\/(\\S+)/.exec(a);if(pa)return/(?:Version)[ \\/]?(\\S+)/.exec(a)}();I&&(H=I?I[1]:\"\");if(D){var J=F();if(null!=J&&J>parseFloat(H)){G=String(J);break a}}G=H}\nvar K=G,na={},ua=function(a){oa(a,function(){for(var b=0,c=v(String(K)).split(\".\"),d=v(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||\"\",k=d[f]||\"\";do{h=/(\\d*)(\\D*)(.*)/.exec(h)||[\"\",\"\",\"\",\"\"];k=/(\\d*)(\\D*)(.*)/.exec(k)||[\"\",\"\",\"\",\"\"];if(0==h[0].length&&0==k[0].length)break;b=x(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||x(0==h[2].length,0==k[2].length)||x(h[2],k[2]);h=h[3];k=k[3]}while(0==b)}return 0<=b})},va;var wa=g.document;\nva=wa&&D?F()||(\"CSS1Compat\"==wa.compatMode?parseInt(K,10):5):void 0;var L;if(!(L=!E&&!D)){var M;if(M=D)M=9<=Number(va);L=M}L||E&&ua(\"1.9.1\");D&&ua(\"9\");var N=function(a){try{var b;if(b=!!a&&null!=a.location.href)a:{try{C(a.foo);b=!0;break a}catch(c){}b=!1}return b}catch(c){return!1}},xa=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(void 0,a[c],c,a)};var ya=document;var za=!!window.google_async_iframe_id,O=za&&window.parent||window;var Aa=function(a,b,c){for(;0<=(b=a.indexOf(\"fmt\",b))&&b<c;){var d=a.charCodeAt(b-1);if(38==d||63==d)if(d=a.charCodeAt(b+3),!d||61==d||38==d||35==d)return b;b+=4}return-1},Ba=/#|$/,Ca=/[?&]($|#)/;var Q=function(a){Da();this.enabled=Math.random()<a;this.i=[]},Da=g.performance&&g.performance.now?m(g.performance.now,g.performance):ca;Q.prototype.install=function(a){a=a||window;a.google_js_reporting_queue=a.google_js_reporting_queue||[];this.i=a.google_js_reporting_queue};Q.prototype.disable=function(){this.i.length=0;this.enabled=!1};(new Q(1)).install(function(){if(za&&!N(O)){var a=\".\"+ya.domain;try{for(;2<a.split(\".\").length&&!N(O);)ya.domain=a=a.substr(a.indexOf(\".\")+1),O=window.parent}catch(b){}N(O)||(O=window)}return O}());var Ea=function(){this.h={};this.a={};this.j=!1;for(var a=[2,3],b=0,c=a.length;b<c;++b)this.a[a[b]]=\"\"},Fa=function(){try{var a=window.top.location.hash;if(a){var b=a.match(/\\bdeid=([\\d,]+)/);return b&&b[1]||\"\"}}catch(c){}return\"\"},Ga=function(a,b,c){var d=R;if(!d.j&&(c?d.a.hasOwnProperty(c)&&\"\"==d.a[c]:1)){var e;if(e=(e=Fa().match(new RegExp(\"\\\\b(\"+a.join(\"|\")+\")\\\\b\")))&&e[0]||null)a=e;else a:{if(!(1E-4>Math.random())&&(e=Math.random(),e<b)){b=window;try{var f=new Uint32Array(1);b.crypto.getRandomValues(f);\ne=f[0]/65536/65536}catch(h){e=Math.random()}a=a[Math.floor(e*a.length)];break a}a=null}a&&\"\"!=a&&(c?d.a.hasOwnProperty(c)&&(d.a[c]=a):d.h[a]=!0)}},Ha=function(a){var b=R;return b.a.hasOwnProperty(a)?b.a[a]:\"\"},Ia=function(){var a=R,b=[];xa(a.h,function(a,d){b.push(d)});xa(a.a,function(a){\"\"!=a&&b.push(a)});return b};var R,S=\"google_conversion_id google_conversion_format google_conversion_type google_conversion_order_id google_conversion_language google_conversion_value google_conversion_currency google_conversion_domain google_conversion_label google_conversion_color google_disable_viewthrough google_enable_display_cookie_match google_remarketing_only google_remarketing_for_search google_conversion_items google_custom_params google_conversion_date google_conversion_time google_conversion_js_version onload_callback opt_image_generator google_conversion_page_url google_conversion_referrer_url\".split(\" \"),\nT=[\"google_conversion_first_time\",\"google_conversion_snippets\"];function U(a){return null!=a?encodeURIComponent(a.toString()):\"\"}function Ja(a){return null!=a?a.toString().substring(0,512):\"\"}function V(a,b){b=U(b);return\"\"!=b&&(a=U(a),\"\"!=a)?\"&\".concat(a,\"=\",b):\"\"}function W(a){var b=typeof a;return null==a||\"object\"==b||\"function\"==b?null:String(a).replace(/,/g,\"\\\\,\").replace(/;/g,\"\\\\;\").replace(/=/g,\"\\\\=\")}\nfunction Ka(a){var b;if((a=a.google_custom_params)&&\"object\"==typeof a&&\"function\"!=typeof a.join){var c=[];for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var d=a[b];if(d&&\"function\"==typeof d.join){for(var e=[],f=0;f<d.length;++f){var h=W(d[f]);null!=h&&e.push(h)}d=0==e.length?null:e.join(\",\")}else d=W(d);(e=W(b))&&null!=d&&c.push(e+\"=\"+d)}b=c.join(\";\")}else b=\"\";return\"\"==b?\"\":\"&\".concat(\"data=\",encodeURIComponent(b))}\nfunction X(a){return\"number\"!=typeof a&&\"string\"!=typeof a?\"\":U(a.toString())}function La(a){if(!a)return\"\";a=a.google_conversion_items;if(!a)return\"\";for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=[];e&&(f.push(X(e.value)),f.push(X(e.quantity)),f.push(X(e.item_id)),f.push(X(e.adwords_grouping)),f.push(X(e.sku)),b.push(\"(\"+f.join(\"*\")+\")\"))}return 0<b.length?\"&item=\"+b.join(\"\"):\"\"}\nfunction Ma(a,b,c){var d=[];if(a){var e=a.screen;e&&(d.push(V(\"u_h\",e.height)),d.push(V(\"u_w\",e.width)),d.push(V(\"u_ah\",e.availHeight)),d.push(V(\"u_aw\",e.availWidth)),d.push(V(\"u_cd\",e.colorDepth)));a.history&&d.push(V(\"u_his\",a.history.length))}c&&\"function\"==typeof c.getTimezoneOffset&&d.push(V(\"u_tz\",-c.getTimezoneOffset()));b&&(\"function\"==typeof b.javaEnabled&&d.push(V(\"u_java\",b.javaEnabled())),b.plugins&&d.push(V(\"u_nplug\",b.plugins.length)),b.mimeTypes&&d.push(V(\"u_nmime\",b.mimeTypes.length)));\nreturn d.join(\"\")}function Na(a){a=a?a.title:\"\";if(void 0==a||\"\"==a)return\"\";var b=function(a){try{return decodeURIComponent(a),!0}catch(e){return!1}};a=encodeURIComponent(a);for(var c=256;!b(a.substr(0,c));)c--;return\"&tiba=\"+a.substr(0,c)}function Oa(a,b,c,d){var e=\"\";if(b){var f;f=a.top==a?0:(f=a.location.ancestorOrigins)?f[f.length-1]==a.location.origin?1:2:N(a.top)?1:2;a=c?c:1==f?a.top.location.href:a.location.href;e+=V(\"frm\",f);e+=V(\"url\",Ja(a));e+=V(\"ref\",Ja(d||b.referrer))}return e}\nfunction Y(a,b){return!(ia||b&&Pa.test(navigator.userAgent))||a&&a.location&&a.location.protocol&&\"https:\"==a.location.protocol.toString().toLowerCase()?\"https:\":\"http:\"}function Qa(a,b,c){c=c.google_remarketing_only?\"googleads.g.doubleclick.net\":c.google_conversion_domain||\"www.googleadservices.com\";return Y(a,/www[.]googleadservices[.]com/i.test(c))+\"//\"+c+\"/pagead/\"+b}\nfunction Ra(a,b,c,d){var e=\"/?\";\"landing\"==d.google_conversion_type&&(e=\"/extclk?\");var e=Qa(a,[d.google_remarketing_only?\"viewthroughconversion/\":\"conversion/\",U(d.google_conversion_id),e,\"random=\",U(d.google_conversion_time)].join(\"\"),d),f;a:{f=d.google_conversion_language;if(null!=f){f=f.toString();if(2==f.length){f=V(\"hl\",f);break a}if(5==f.length){f=V(\"hl\",f.substring(0,2))+V(\"gl\",f.substring(3,5));break a}}f=\"\"}a=[V(\"cv\",d.google_conversion_js_version),V(\"fst\",d.google_conversion_first_time),\nV(\"num\",d.google_conversion_snippets),V(\"fmt\",d.google_conversion_format),V(\"value\",d.google_conversion_value),V(\"currency_code\",d.google_conversion_currency),V(\"label\",d.google_conversion_label),V(\"oid\",d.google_conversion_order_id),V(\"bg\",d.google_conversion_color),f,V(\"guid\",\"ON\"),V(\"disvt\",d.google_disable_viewthrough),V(\"eid\",Ia().join()),La(d),Ma(a,b,d.google_conversion_date),Ka(d),Oa(a,c,d.google_conversion_page_url,d.google_conversion_referrer_url),d.google_remarketing_for_search&&!d.google_conversion_domain?\n\"&srr=n\":\"\",Na(c)].join(\"\")+Sa();return e+a}var Ta=function(a,b,c,d,e,f){return'<iframe name=\"'+a+'\" title=\"'+b+'\" width=\"'+d+'\" height=\"'+e+'\" src=\"'+c+'\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\"'+(f?' style=\"display:none\"':\"\")+' scrolling=\"no\"></iframe>'};\nfunction Ua(a){return{ar:1,bg:1,cs:1,da:1,de:1,el:1,en_AU:1,en_US:1,en_GB:1,es:1,et:1,fi:1,fr:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,iw:1,ja:1,ko:1,lt:1,nl:1,no:1,pl:1,pt_BR:1,pt_PT:1,ro:1,ru:1,sk:1,sl:1,sr:1,sv:1,th:1,tl:1,tr:1,vi:1,zh_CN:1,zh_TW:1}[a]?a+\".html\":\"en_US.html\"}\nvar Z={g:{c:\"27391101\",b:\"27391102\"},f:{c:\"376635470\",b:\"376635471\"}},Sa=function(){var a=ma.apply([],la(y(Z),function(a){return y(a)},void 0)),b=ka(Fa().split(\",\"),function(b){return\"\"!=b&&!(0<=ja(a,b))});return 0<b.length?\"&debug_experiment_id=\"+b.join(\",\"):\"\"},Pa=/Android ([01]\\.|2\\.[01])/i,Va=function(){var a=Z.g;R&&Ga([a.c,a.b],ha,3)},Wa=function(a,b){if(!b.google_remarketing_only||!b.google_enable_display_cookie_match||(R?Ha(2):\"\")!=Z.f.b)return\"\";a=Y(a,!1)+\"//bid.g.doubleclick.net/xbbe/pixel?d=KAE\";\nreturn Ta(\"google_cookie_match_frame\",\"Google cookie match frame\",a,1,1,!0)};\nfunction Xa(a,b,c,d){var e=\"\";d.google_remarketing_only&&d.google_enable_display_cookie_match&&(R&&Ga([Z.f.c,Z.f.b],ga,2),e=Wa(a,d));3!=d.google_conversion_format||d.google_remarketing_only||d.google_conversion_domain||Va();b=Ra(a,b,c,d);var f=function(a,b,c,d){return'<img height=\"'+c+'\" width=\"'+b+'\" border=\"0\" alt=\"\" src=\"'+a+'\"'+(d?' style=\"display:none\"':\"\")+\" />\"};return 0==d.google_conversion_format&&null==d.google_conversion_domain?'<a href=\"'+(Y(a,!1)+\"//services.google.com/sitestats/\"+Ua(d.google_conversion_language)+\n\"?cid=\"+U(d.google_conversion_id))+'\" target=\"_blank\">'+f(b,135,27,!1)+\"</a>\"+e:1<d.google_conversion_snippets||3==d.google_conversion_format?Ya(c,b)?e:f(b,1,1,!0)+e:Ta(\"google_conversion_frame\",\"Google conversion frame\",b,2==d.google_conversion_format?200:300,2==d.google_conversion_format?26:13,!1)+e}function Za(){return new Image}\nfunction Ya(a,b){if((R?Ha(3):\"\")==Z.g.b)try{var c;var d;var e=b.search(Ba),f=Aa(b,0,e);if(0>f)d=null;else{var h=b.indexOf(\"&\",f);if(0>h||h>e)h=e;f+=4;d=decodeURIComponent(b.substr(f,h-f).replace(/\\+/g,\" \"))}if(3!=d)c=!1;else{var k=b.search(Ba);d=0;for(var r,e=[];0<=(r=Aa(b,d,k));)e.push(b.substring(d,r)),d=Math.min(b.indexOf(\"&\",r)+1||k,k);e.push(b.substr(d));var n=[e.join(\"\").replace(Ca,\"$1\"),\"&\",\"fmt\"];n.push(\"=\",encodeURIComponent(\"4\"));if(n[1]){var w=n[0],P=w.indexOf(\"#\");0<=P&&(n.push(w.substr(P)),\nn[0]=w=w.substr(0,P));var qa=w.indexOf(\"?\");0>qa?n[1]=\"?\":qa==w.length-1&&(n[1]=void 0)}var ra=a.createElement(\"script\");ra.src=n.join(\"\");a.getElementsByTagName(\"script\")[0].parentElement.appendChild(ra);c=!0}return c}catch(fb){}return!1}function $a(a,b){var c=a.opt_image_generator&&a.opt_image_generator.call;b+=V(\"async\",\"1\");var d=Za;c&&(d=a.opt_image_generator);a=d();a.src=b;a.onload=function(){}}\nfunction ab(a,b,c){var d;d=[U(c.google_conversion_id),\"/?random=\",Math.floor(1E9*Math.random())].join(\"\");d=Y(a,!1)+\"//www.google.com/ads/user-lists/\"+d;d+=[V(\"label\",c.google_conversion_label),V(\"fmt\",\"3\"),Oa(a,b,c.google_conversion_page_url,c.google_conversion_referrer_url)].join(\"\");$a(c,d)}\nfunction bb(a){if(\"landing\"==a.google_conversion_type||!a.google_conversion_id||a.google_remarketing_only&&a.google_disable_viewthrough)return!1;a.google_conversion_date=new Date;a.google_conversion_time=a.google_conversion_date.getTime();a.google_conversion_snippets=\"number\"==typeof a.google_conversion_snippets&&0<a.google_conversion_snippets?a.google_conversion_snippets+1:1;\"number\"!=typeof a.google_conversion_first_time&&(a.google_conversion_first_time=a.google_conversion_time);a.google_conversion_js_version=\n\"8\";0!=a.google_conversion_format&&1!=a.google_conversion_format&&2!=a.google_conversion_format&&3!=a.google_conversion_format&&(a.google_conversion_format=1);!1!==a.google_enable_display_cookie_match&&(a.google_enable_display_cookie_match=!0);R=new Ea;return!0}function cb(a){for(var b=0;b<S.length;b++)a[S[b]]=null}function db(a){for(var b={},c=0;c<S.length;c++)b[S[c]]=a[S[c]];for(c=0;c<T.length;c++)b[T[c]]=a[T[c]];return b}\nfunction eb(a){var b=document.getElementsByTagName(\"head\")[0];b||(b=document.createElement(\"head\"),document.getElementsByTagName(\"html\")[0].insertBefore(b,document.getElementsByTagName(\"body\")[0]));var c=document.createElement(\"script\");c.src=Qa(window,\"conversion_debug_overlay.js\",a);b.appendChild(c)};(function(a,b,c){if(a)if(null!=/[\\?&;]google_debug/.exec(document.URL))eb(a);else{try{if(bb(a))if(3==q(c)){var d=db(a),e=\"google_conversion_\"+Math.floor(1E9*Math.random());c.write('<span id=\"'+e+'\"></span>');fa(function(){try{var f=c.getElementById(e);f&&(f.innerHTML=Xa(a,b,c,d),d.google_remarketing_for_search&&!d.google_conversion_domain&&ab(a,c,d))}catch(h){}},c)}else c.write(Xa(a,b,c,a)),a.google_remarketing_for_search&&!a.google_conversion_domain&&ab(a,c,a)}catch(f){}cb(a)}})(window,navigator,\ndocument);}).call(this);\n"
          },
          "redirectURL": "",
          "headersSize": 0,
          "bodySize": 5808
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 0,
          "receive": 0
        }
      }
    ]
  }
}