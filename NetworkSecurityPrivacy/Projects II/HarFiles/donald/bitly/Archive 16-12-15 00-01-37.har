{
  "log": {
    "version": "1.1",
    "creator": {
      "name": "Firefox",
      "version": "50.0"
    },
    "browser": {
      "name": "Firefox",
      "version": "50.0"
    },
    "pages": [
      {
        "startedDateTime": "2016-12-15T00:01:35.631-06:00",
        "id": "page_103",
        "title": "Connecting…",
        "pageTimings": {
          "onContentLoad": -1,
          "onLoad": -1
        }
      }
    ],
    "entries": [
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:35.631-06:00",
        "time": 206,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://twt-assets.washtimes.com/v4/images/icons/arrow-zoom.7d9b5d6db57a.png",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "twt-assets.washtimes.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://twt-assets.washtimes.com/css/global.ee2e5f522d68.css"
            },
            {
              "name": "Cookie",
              "value": "__cfduid=da537e2dfaea7a5143e34db1550ced9261481781692"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [
            {
              "name": "__cfduid",
              "value": "da537e2dfaea7a5143e34db1550ced9261481781692"
            }
          ],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 414
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Date",
              "value": "Thu, 15 Dec 2016 06:01:34 GMT"
            },
            {
              "name": "Content-Type",
              "value": "image/png"
            },
            {
              "name": "Content-Length",
              "value": "273"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Expires",
              "value": "Sat, 12 Aug 2017 09:57:36 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Wed, 08 Jul 2015 19:16:41 GMT"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Via",
              "value": "1.1 varnish"
            },
            {
              "name": "x-backend",
              "value": "web1"
            },
            {
              "name": "X-Cacheable",
              "value": "NO:Not Cacheable"
            },
            {
              "name": "X-Varnish",
              "value": "776834378"
            },
            {
              "name": "CF-Cache-Status",
              "value": "HIT"
            },
            {
              "name": "Cache-Control",
              "value": "public, max-age=20750162"
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Server",
              "value": "cloudflare-nginx"
            },
            {
              "name": "CF-RAY",
              "value": "3117ae85d04e5619-ORD"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "image/png",
            "size": 273,
            "encoding": "base64",
            "text": "iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAIAAAAmKNuZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALNJREFUeNpinC6uxUA9wMRAVTBq3JAwTkRHI/r0LiBJBeOApviuXcArKw0kpaxMKTIOYhY7Py+QDST91i1QDw8g0zhks+DAcWIrxEQgaVKSjcs4Fkyhz4+fAhE7P3qQAU0E+hpo3LNjp0lw3c+PnzcHJ7y5cgNTCuJAYW0N0sIOj4mQ0CQ5ZvGbSE66I8NEArkCmO6AiDrGAcPIYUIrnpAiKqEge3aNS/BoATVqHPWNAwgwAElTQOjopsYqAAAAAElFTkSuQmCC"
          },
          "redirectURL": "",
          "headersSize": 464,
          "bodySize": 273
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 86,
          "send": 0,
          "wait": 120,
          "receive": 0
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:35.659-06:00",
        "time": 0,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://fonts.gstatic.com/s/opensans/v13/xjAJXh38I15wypJXxuGMBo4P5ICox8Kq3LLUNMylGO4.woff2",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "fonts.gstatic.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "application/font-woff2;q=1.0,application/font-woff;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "identity"
            },
            {
              "name": "Referer",
              "value": "http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic|Montserrat:400,700|Signika:400,600"
            },
            {
              "name": "Origin",
              "value": "http://www.washingtontimes.com"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 0
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Content-Type",
              "value": "font/woff2"
            },
            {
              "name": "Access-Control-Allow-Origin",
              "value": "*"
            },
            {
              "name": "Timing-Allow-Origin",
              "value": "*"
            },
            {
              "name": "Date",
              "value": "Wed, 07 Dec 2016 15:13:12 GMT"
            },
            {
              "name": "Expires",
              "value": "Thu, 07 Dec 2017 15:13:12 GMT"
            },
            {
              "name": "Last-Modified",
              "value": "Mon, 27 Apr 2015 23:46:21 GMT"
            },
            {
              "name": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "name": "Server",
              "value": "sffe"
            },
            {
              "name": "Content-Length",
              "value": "14968"
            },
            {
              "name": "X-XSS-Protection",
              "value": "1; mode=block"
            },
            {
              "name": "Cache-Control",
              "value": "public, max-age=31536000"
            },
            {
              "name": "Age",
              "value": "657881"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "font/woff2",
            "size": 0,
            "encoding": "base64",
            "text": ""
          },
          "redirectURL": "",
          "headersSize": 0,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 0,
          "send": 0,
          "wait": 0,
          "receive": 0
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:35.762-06:00",
        "time": 502,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://bit.ly//1Qjcu2C",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "bit.ly"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Cookie",
              "value": "_bit=gbf5Vo-2429c5da08a57639d4-00x; _ga=GA1.2.407938193.1481781480; _gat=1"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Upgrade-Insecure-Requests",
              "value": "1"
            }
          ],
          "cookies": [
            {
              "name": "_bit",
              "value": "gbf5Vo-2429c5da08a57639d4-00x"
            },
            {
              "name": "_ga",
              "value": "GA1.2.407938193.1481781480"
            },
            {
              "name": "_gat",
              "value": "1"
            }
          ],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 403
        },
        "response": {
          "status": 301,
          "statusText": "Moved Permanently",
          "httpVersion": "HTTP/1.1",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 331,
          "send": 0,
          "wait": 171,
          "receive": 0
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:35.885-06:00",
        "time": 482,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://c.newsinc.com/getids?uid=&callback=jQuery19101274734648678988_1481781692974&_=1481781692975",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "c.newsinc.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "uid",
              "value": ""
            },
            {
              "name": "callback",
              "value": "jQuery19101274734648678988_1481781692974"
            },
            {
              "name": "_",
              "value": "1481781692975"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 415
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Access-Control-Allow-Methods",
              "value": "GET, POST"
            },
            {
              "name": "Access-Control-Allow-Origin",
              "value": "*"
            },
            {
              "name": "Alternate-Protocol",
              "value": "443:ndn-spdy/3"
            },
            {
              "name": "Cache-Control",
              "value": "private, max-age=0, no-cache, must-revalidate"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Date",
              "value": "Thu, 15 Dec 2016 06:01:35 GMT"
            },
            {
              "name": "Etag",
              "value": "ef6184f8-c28b-11e6-9927-0a4e33a29963"
            },
            {
              "name": "Expires",
              "value": "Thu, 01 Dec 1970 00:00:00 GMT"
            },
            {
              "name": "Server",
              "value": "nginx"
            },
            {
              "name": "Set-Cookie",
              "value": "ANALYTICS_USER_TOKEN=ef6184d8-c28b-11e6-9927-0a4e33a29963; Domain=newsinc.com; Expires=Wed, 02-Mar-2044 17:14:54 GMT; Path=/"
            },
            {
              "name": "Content-Length",
              "value": "140"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [
            {
              "name": "ANALYTICS_USER_TOKEN",
              "value": "ef6184d8-c28b-11e6-9927-0a4e33a29963"
            }
          ],
          "content": {
            "mimeType": "application/javascript",
            "size": 140,
            "text": "jQuery19101274734648678988_1481781692974({ \"uid\": \"ef6184d8-c28b-11e6-9927-0a4e33a29963\", \"insid\": \"ef6184f8-c28b-11e6-9927-0a4e33a29963\" })"
          },
          "redirectURL": "",
          "headersSize": 547,
          "bodySize": 140
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 44,
          "connect": 164,
          "send": 7,
          "wait": 267,
          "receive": 0
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:35.885-06:00",
        "time": 482,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://pixel.quantserve.com/pixel/p-573scDfDoUH6o.gif?labels=93050,1481781695831",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "pixel.quantserve.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "Cookie",
              "value": "mc=585230c7-aed46-305e0-edbc8"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [
            {
              "name": "mc",
              "value": "585230c7-aed46-305e0-edbc8"
            }
          ],
          "queryString": [
            {
              "name": "labels",
              "value": "93050,1481781695831"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 436
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Connection",
              "value": "Close"
            },
            {
              "name": "Content-Type",
              "value": "image/gif"
            },
            {
              "name": "Cache-Control",
              "value": "private, no-cache, no-store, proxy-revalidate"
            },
            {
              "name": "Pragma",
              "value": "no-cache"
            },
            {
              "name": "Expires",
              "value": "Fri, 04 Aug 1978 12:00:00 GMT"
            },
            {
              "name": "Date",
              "value": "Thu, 15 Dec 2016 06:01:35 GMT"
            },
            {
              "name": "Server",
              "value": "QS"
            },
            {
              "name": "Content-Length",
              "value": "35"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "image/gif",
            "size": 35,
            "encoding": "base64",
            "text": "R0lGODlhAQABAAAAACwAAAAAAQABAID///8AAAACAkQBADs="
          },
          "redirectURL": "",
          "headersSize": 252,
          "bodySize": 35
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 43,
          "connect": 167,
          "send": 5,
          "wait": 267,
          "receive": 0
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:35.941-06:00",
        "time": 768,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://launch.newsinc.com/161/js/models/Ndn/Widget.js",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "launch.newsinc.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 370
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "x-amz-id-2",
              "value": "3t9yXvUEgKQ0ZbGg5LpZ/f//yv2H09UFnZ8MJZnzq/TnqrZwqyzvSBDeajNPiv0wB3T/5IhxiTI="
            },
            {
              "name": "x-amz-request-id",
              "value": "A5E5E9F9F3989210"
            },
            {
              "name": "Last-Modified",
              "value": "Tue, 06 Dec 2016 21:55:56 GMT"
            },
            {
              "name": "Etag",
              "value": "\"112451bac94f067ce9cded4e67dfebad\""
            },
            {
              "name": "Accept-Ranges",
              "value": "bytes"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Server",
              "value": "AmazonS3"
            },
            {
              "name": "Access-Control-Allow-Origin",
              "value": "*, *"
            },
            {
              "name": "Vary",
              "value": "Accept-Encoding"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Cache-Control",
              "value": "max-age=604800"
            },
            {
              "name": "Expires",
              "value": "Thu, 22 Dec 2016 06:01:34 GMT"
            },
            {
              "name": "Date",
              "value": "Thu, 15 Dec 2016 06:01:34 GMT"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "Connection",
              "value": "keep-alive, Transfer-Encoding"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "application/javascript",
            "size": 1133864,
            "text": "/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\r\n\r\n/*\tSWFObject v2.2 <http://code.google.com/p/swfobject/> \n\tis released under the MIT License <http://www.opensource.org/licenses/mit-license.php> \n*/\r\n\r\n/**\n * @license\n * Video.js 5.9.2 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */\r\n\r\n/*! Time Tracking -------------------------------------------------------------- */\r\n\r\n/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\r\n\r\n/**\n\t * videojs-contrib-hls\n\t * @version 2.1.1\n\t * @copyright 2016 Brightcove, Inc\n\t * @license Apache-2.0\n\t */\r\n\r\n/*\n\t * aes.js\n\t *\n\t * This file contains an adaptation of the AES decryption algorithm\n\t * from the Standford Javascript Cryptography Library. That work is\n\t * covered by the following copyright and permissions notice:\n\t *\n\t * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n\t * All rights reserved.\n\t *\n\t * Redistribution and use in source and binary forms, with or without\n\t * modification, are permitted provided that the following conditions are\n\t * met:\n\t *\n\t * 1. Redistributions of source code must retain the above copyright\n\t *    notice, this list of conditions and the following disclaimer.\n\t *\n\t * 2. Redistributions in binary form must reproduce the above\n\t *    copyright notice, this list of conditions and the following\n\t *    disclaimer in the documentation and/or other materials provided\n\t *    with the distribution.\n\t *\n\t * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n\t * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n\t * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n\t * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n\t * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n\t * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n\t * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n\t * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n\t * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n\t * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n\t * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t *\n\t * The views and conclusions contained in the software and documentation\n\t * are those of the authors and should not be interpreted as representing\n\t * official policies, either expressed or implied, of the authors.\n\t */\r\n\r\n/*\n\t * pkcs7.pad\n\t * https://github.com/brightcove/pkcs7\n\t *\n\t * Copyright (c) 2014 Brightcove\n\t * Licensed under the apache2 license.\n\t */\r\n\r\n/*\n\t * pkcs7\n\t * https://github.com/brightcove/pkcs7\n\t *\n\t * Copyright (c) 2014 Brightcove\n\t * Licensed under the apache2 license.\n\t */\r\n\r\n/*\n\t * pkcs7.unpad\n\t * https://github.com/brightcove/pkcs7\n\t *\n\t * Copyright (c) 2014 Brightcove\n\t * Licensed under the apache2 license.\n\t */\r\n\r\n/**\n\t * videojs-contrib-media-sources\n\t *\n\t * Copyright (c) 2015 Brightcove\n\t * All rights reserved.\n\t *\n\t * Handles communication between the browser-world and the mux.js\n\t * transmuxer running inside of a WebWorker by exposing a simple\n\t * message-based interface to a Transmuxer object.\n\t */\r\n\r\n/**\n\t * mux.js\n\t *\n\t * Copyright (c) 2016 Brightcove\n\t * All rights reserved.\n\t *\n\t * A stream-based aac to mp4 converter. This utility can be used to\n\t * deliver mp4s to a SourceBuffer on platforms that support native\n\t * Media Source Extensions.\n\t */\r\n\r\n/**\n\t * mux.js\n\t *\n\t * Copyright (c) 2015 Brightcove\n\t * All rights reserved.\n\t *\n\t * Reads in-band caption information from a video elementary\n\t * stream. Captions must follow the CEA-708 standard for injection\n\t * into an MPEG-2 transport streams.\n\t * @see https://en.wikipedia.org/wiki/CEA-708\n\t */\r\n\r\n/**\n\t * mux.js\n\t *\n\t * Copyright (c) 2015 Brightcove\n\t * All rights reserved.\n\t *\n\t * A stream-based mp2t to mp4 converter. This utility can be used to\n\t * deliver mp4s to a SourceBuffer on platforms that support native\n\t * Media Source Extensions.\n\t */\r\n\r\n/**\n\t * mux.js\n\t *\n\t * Copyright (c) 2015 Brightcove\n\t * All rights reserved.\n\t *\n\t * Functions that generate fragmented MP4s suitable for use with Media\n\t * Source Extensions.\n\t */\r\n\r\n/**\n\t * mux.js\n\t *\n\t * Copyright (c) 2014 Brightcove\n\t * All rights reserved.\n\t *\n\t * A lightweight readable stream implemention that handles event dispatching.\n\t * Objects that inherit from streams should call init in their constructors.\n\t */\r\n\r\n/*!\n\n\t    Copyright (c) 2011 Peter van der Spek\n\n\t    Permission is hereby granted, free of charge, to any person obtaining a copy\n\t    of this software and associated documentation files (the \"Software\"), to deal\n\t    in the Software without restriction, including without limitation the rights\n\t    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\t    copies of the Software, and to permit persons to whom the Software is\n\t    furnished to do so, subject to the following conditions:\n\n\t    The above copyright notice and this permission notice shall be included in\n\t    all copies or substantial portions of the Software.\n\n\t    THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\t    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\t    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\t    THE SOFTWARE.\n\n\t */\r\n\r\n/*! Backstretch - v2.0.4 - 2013-06-19\n* http://srobbin.com/jquery-plugins/backstretch/\n* Copyright (c) 2013 Scott Robbin; Licensed MIT */\r\n\r\n/**\n * FastClick: Set up handling of fast clicks\n *\n * On touch WebKit (eg Android, iPhone) onclick events are usually \n * delayed by ~300ms to ensure that they are clicks rather than other\n * interactions such as double-tap to zoom.\n *\n * To work around this, add a document listener which converts touches\n * to clicks on a global basis, excluding scrolls and gestures.  The \n * default click events are then cancelled to prevent double-clicks.\n *\n * This function automatically adapts if no action is required (eg if \n * touch events are not supported), and also handles functionality such\n * as preventing actions in the page while the section selector\n * is displaying.\n *\n * One alternative is to use ontouchend events for everything, but that\n * prevents non-touch interaction, and\n * requires checks everywhere to ensure that a touch wasn't a \n * scroll/swipe/etc.\n *\n * ------\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the \n * \"Software\"), to deal in the Software without restriction, including \n * without limitation the rights to use, copy, modify, merge, publish, \n * distribute, sublicense, and/or sell copies of the Software, and to \n * permit persons to whom the Software is furnished to do so, subject \n * to the following conditions:\n * \n * The below copyright notice and this permission notice shall be \n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF \n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND \n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS \n * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN \n * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN \n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE \n * SOFTWARE.\n *\n * @licence MIT License (http://www.opensource.org/licenses/mit-license.php)\n * @copyright (c) 2011 Assanka Limited\n * @author Rowan Beentje <rowan@assanka.net>, Matt Caruana Galizia <matt@assanka.net>\n */\r\n\r\n/**\n * BxSlider v4.1 - Fully loaded, responsive content slider\n * http://bxslider.com\n *\n * Copyright 2012, Steven Wanderski - http://stevenwanderski.com - http://bxcreative.com\n * Written while drinking Belgian ales and listening to jazz\n *\n * Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n */\r\n\r\n/*!\n\t * jQuery resize event - v1.1 - 3/14/2010\n\t * http://benalman.com/projects/jquery-resize-plugin/\n\t * \n\t * Copyright (c) 2010 \"Cowboy\" Ben Alman\n\t * Dual licensed under the MIT and GPL licenses.\n\t * http://benalman.com/about/license/\n\t */\r\n\r\n// Copyright (c) 2010 \"Cowboy\" Ben Alman,\r\n\r\n// Dual licensed under the MIT and GPL licenses.\r\n\r\n// http://benalman.com/about/license/\r\n\r\n/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\r\n\r\n/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */\r\n\r\n/*! Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */\r\n\r\n/**\n* simplePagination.js v1.5\n* A simple jQuery pagination plugin.\n* http://flaviusmatis.github.com/simplePagination.js/\n*\n* Copyright 2012, Flavius Matis\n* Released under the MIT license.\n* http://flaviusmatis.github.com/license.html\n*/\r\n\r\n/*\n \n bootpag - jQuery plugin for dynamic pagination\n\n Copyright (c) 2013 botmonster@7items.com\n\n Licensed under the MIT license:\n   http://www.opensource.org/licenses/mit-license.php\n\n Project home:\n   http://botmonster.com/jquery-bootpag/\n\n Version:  1.0.4\n\n*/\r\n\r\nNdn_Require.define(\"models/Ndn/Widget/CssInjector\",[\"jquery\",\"underscore\",\"require\"],function(e,t,n){var i=[\"VideoPlayer/Inline\",\"VideoPlayer/Inline590\",\"VideoLauncher/Horizontal\",\"VideoLauncher/VerticalTower\"],o=_nw2e.appUrl,r={};return{isCssFileInjected:function(e){return!!r[e]},getCssFilesNeeded:function(e){var n=[\"NdnEmbed\",\"NdnEmbed2\"];return e&&t.contains(i,e)&&n.push(\"models/Ndn/Widget/\"+e+\"Model\"),n},injectCssFiles:function(t){Ndn_Require.require([\"models/Ndn/Widget\"],e.proxy(function(n){if(n.isBuilt())for(var i=0;i<t.length;i++){var a=t[i],s=o+\"/css/\"+a+\".css\";this.isCssFileInjected(a)||(document.createStyleSheet?document.createStyleSheet(s):e(\"head\").append('<link rel=\"stylesheet\" type=\"text/css\" href=\"'+s+'\" />'),r[a]=!0)}else{for(var i=0;i<t.length;i++){var a=t[i],s=o+\"/less/\"+a+\".less\";this.isCssFileInjected(a)||(e(\"head\").append('<link rel=\"stylesheet/less\" type=\"text/css\" href=\"'+s+'\" />'),r[a]=!0)}e(\"head\").append('<script src=\"'+o+'/js/lib/less.js\"></script>')}},this))},injectCss:function(e){this.injectCssFiles(this.getCssFilesNeeded(e))}}}),Ndn_Require.define(\"models/Ndn/PlayerServices/Cache\",[\"backbone\",\"jquery\"],function(e,t){var n,i={},o={};return{cachePlaylistData:function(e,n){if(e.playlistId){var o=\"undefined\"==typeof i[e.playlistId]||!i[e.playlistId].isCompletelyLoaded&&i[e.playlistId].items.length<e.items.length;o&&(e.isCompletelyLoaded=e.items.length<n,i[e.playlistId]=e,t.each(e.items,t.proxy(function(e,t){this.cacheVideoData(t)},this)))}},getPlaylistData:function(e,t){return\"undefined\"!=typeof i[e]&&(i[e].isCompletelyLoaded||\"undefined\"==typeof t||i[e].items.length>=t)?i[e]:null},cacheVideoData:function(e){\"undefined\"==typeof o[e.videoId]&&(o[e.videoId]=e,n=e)},getLastCachedVideoData:function(){return n},getVideoData:function(e){return\"undefined\"!=typeof o[e]?o[e]:void 0},getCache:function(){return o}}}),Ndn_Require.define(\"models/Ndn/PlayerServices/Parser/DeliverySettings\",[\"jquery\",\"models/Ndn/Utils/UrlParser\"],function(e,t){var n={\"boolean\":{launchModal:!1,analytics_chartbeat:!1,playOnInViewToggle:!1,secretMediaTimeoutUI:!1,rmmEarlyContent:!1,easi_flash_slider:!0,videojs:!1,da_premium:!1},integer:{rmm_cp:0,easiTimeout:20,floatPercent:40,muteInterval:0,pb_default:1,rmm_easi_attempts:2,da_inview_d:15,da_inview_nd:15,da_inline_d:15,da_inline_nd:15,da_slider_d:15,da_slider_nd:15,easi_t_inview_d:15,easi_t_inview_nd:15,easi_t_inline_d:15,easi_t_inline_nd:15,da_spree_d:0},string:{float_player:\"\",forceHtmlForSections:\"\",da_spree_pause:\"0\"}},i={};e.each(n,function(t,n){e.each(n,function(e){i[e]=t})});var o=function(){var n={},o=t.getUrlParam(\"ndn_deliverySettings\")||\"\",r=t.parseParams(o);return e.each(r,function(e,t){var o=i[e];o&&(n[e]=t)}),n}();return{parseSettings:function(t){var r={},a=this;return e.each(t,function(){var e=this.Name,t=i[e];\"undefined\"!=typeof t&&(r[e]=a.parseSettingValue(this.Value,t))}),e.each(i,function(e,t){\"undefined\"==typeof r[e]&&(r[e]=n[t][e])}),e.each(o,function(e,t){var n=i[e];n&&(r[e]=a.parseSettingValue(o[e],n))}),r},parseSettingValue:function(e,t){return\"boolean\"==t?\"true\"==e.toLowerCase()||\"1\"==e.toLowerCase():\"integer\"==t?parseInt(e):\"string\"==t?e:void 0}}}),Ndn_Require.define(\"models/Ndn/PlayerServices/Parser\",[\"underscore\",\"jquery\",\"backbone\",\"models/Ndn/App\",\"models/Ndn/PlayerServices/Parser/DeliverySettings\"],function(e,t,n,i,o){var r={parseResponse:function(n,a){var s,l=n.LandingURL&&\"http://landing.newsinc.com/shared/video.html\"!=n.LandingURL?n.LandingURL:\"http://launch.newsinc.com/share.html\",u=function(){var e=n.LandingPageAllowed?\"studio\":\"popup\";return\"studio\"==e||i.isEmbeddedByIframe()||t.each(n.DeliverySettings,function(){return\"launchModal\"==this.Name&&\"true\"==this.Value||i.getSetting(\"launchModalEmbeds\")?(e=\"modal\",!1):void 0}),e}(),c=\"studio\"==u?l:\"http://\"+i.getAppDomain()+\"/\",d=o.parseSettings(n.DeliverySettings),p={playlists:{},associatedPlaylists:[],defaultConfig:{widgetId:n.WidgetID,trackingGroup:n.TrackingGroup,type:\"VideoPlayer/Single\",\"float\":\"default\",siteSection:n.SiteSectionName,autoPlay:!n.DisableVideoPlayOnLoad,continuousPlay:n.ContinuousPlay,videoId:\"\",playlistId:\"\",adsEnabled:!n.DisableAds,rmmSoundOn:!1,playOnMouseover:!!n.PlayOnMouseover||!1,playOnInView:!1,hideWhenUnavailable:!1},launchToStudio:{enabled:n.LandingPageAllowed,url:n.LandingURL},settings:{behavior:{},deliverySettings:d,launcher:{behavior:u,landingPageUrl:c},share:{enabled:!n.DisableSocialNetworking&&!n.DisableSingleEmbed,mode:{email:!n.DisableSocialNetworking,social:!n.DisableSingleEmbed},directLinkLandingPageUrl:l},dfp:function(){function e(e){var t;return(t=e.match(/_(\\d+)$/))?t[1]:void 0}var t,i=!1;return n.Dfp?(n.Dfp.Substituted?(i=!0,t={accountNumber:n.Dfp.Substituted.Account,adOwnershipGroupId:n.Dfp.Substituted.OwnershipGroup,adTrackingGroupId:n.Dfp.Substituted.TrackingGroup},t.adTrackingGroupId!=n.Dfp.Direct.TrackingGroup&&(t.unused={adTrackingGroupId:n.Dfp.Direct.TrackingGroup,adTrackingGroupNumber:e(n.Dfp.Direct.TrackingGroup)||\"\",reason:n.Dfp.SubstitutedReason||\"\"})):t={accountNumber:n.Dfp.Direct.Account,adOwnershipGroupId:n.Dfp.Direct.OwnershipGroup,adTrackingGroupId:n.Dfp.Direct.TrackingGroup},t.adTrackingGroupNumber=e(t.adTrackingGroupId)||\"\",t.isSafeViralOverride=i,t.adCampaignId=t.adTrackingGroupNumber,t.defaultAdCampaignId=n.TrackingGroup,t):{}}(),analytics:{},ads:{enabled:!n.DisableAds,server:n.AdServer}},distributor:{name:n.DistributorName},siteSection:n.SiteSectionName},h=this.parsePlaylistsData(n.Playlists,a);return e.each(h,function(e){p.associatedPlaylists.push({id:e.playlistId,label:e.title}),e.items.length&&(s=e.playlistId,p.playlists[s]=e)}),p.defaultConfig.playlistId=s,e.each(n.Playlists,function(e){if(9999999==e.playlistid&&e.Contents[0]){for(var t=e.Contents[0],n=p.playlists[s].items,i=0;i<n.length;i++){var o=n[i];if(o.videoId==t.ContentID){p.videoIndex=i;break}}\"undefined\"==typeof p.videoIndex&&(p.videosData=p.videosData||[],p.videosData.push(r.parseVideoData(t)))}if(-1===e.playlistid)for(var i=0;i<e.Contents.length;i++){var t=e.Contents[i];p.videosData=p.videosData||[],p.videosData.push(r.parseVideoData(t))}}),p},parsePlaylistsData:function(t,n){var i=[];return e.each(t,function(t){if(9999999!==t.playlistid){var n={playlistId:t.playlistid,title:t.Title,items:[]},o=e.sortBy(t.Contents,function(e){return e.ContentOrder});e.each(o,function(e){n.items.push(r.parseVideoData(e))}),i.push(n)}}),i},parseVideoData:function(t){for(var n={videoId:t.ContentID,videoTitle:this.stripStringOfHtml(t.Name),description:this.stripStringOfHtml(t.Description),antiKeywords:t.AKW,publishedOn:t.PubDate,hasDynamicStillImages:!1,mediaContent:[],subtitles:[],provider:{id:t.CPID,trackingGroup:t.ContentPartnerID,name:t.ProducerName,category:t.ProducerCategory,logoUrl:this.getAssetUrl(\"producerLogo\",t.ProducerLogo)},settings:{share:{embedCode:{enabled:!!t.EmbedCodeAccessible}}}},o=[],a=0;a<t.Assets.length;a++){var s=t.Assets[a];if(\"src\"==s.AssetType)o.push(s);else if(\"stillFrame\"==s.AssetType)n.stillImageUrl=this.getAssetUrl(\"stillFrame\",s.AssetLocation),n.stillImageXLUrl=n.stillImageXLUrl||n.stillImageUrl;else if(\"StillFrameXL\"==s.AssetType)n.stillImageXLUrl=this.getAssetUrl(\"stillFrame\",s.AssetLocation);else if(\"thumbnail\"==s.AssetType)n.thumbnailUrl=this.getAssetUrl(\"thumbnail\",s.AssetLocation);else if(e.contains([\"closedcaption\",\"smpte-tt\",\"vtt\"],s.AssetType)){var l=\"vtt\"==s.AssetType?\"text/vtt\":\"application/ttml+xml\";n.subtitles.push({type:l,language:\"en-us\",url:this.getAssetUrl(\"subtitle\",s.AssetLocation)})}else\"kraken\"==s.AssetType&&(n.hasDynamicStillImages=!0)}var u=e.sortBy(o,function(e){return e.AssetSortOrder}),c=function(){for(var e,t=0;t<u.length;t++)\"video/progressive\"==u[t].AssetMimeType&&(e=u[t].AssetLocation);return function(t){return\"/\"!=t.AssetLocation.charAt(0)?t.AssetLocation:\"video/f4m\"==t.AssetMimeType&&i.isOnSsl()?r.getAssetUrl(\"video/progressive\",e):r.getAssetUrl(t.AssetMimeType,t.AssetLocation)}}();return n.mediaContent=e.map(u,function(e){return{type:\"video/progressive\"!=e.AssetMimeType?e.AssetMimeType:\"video/mp4\",medium:\"video\",duration:e.Duration,url:c(e)}}),n.duration=n.mediaContent[0].duration,n.displayDuration=r.prettifyVideoDuration(n.mediaContent[0].duration),n},stripStringOfHtml:function(e){var t=/(<([^>]+)>)/gi;return e.replace(t,\"\")},getAssetUrl:function(e,t){return\"/\"!=t.charAt(0)?t:this.getAssetBaseUrl(e)+t},getAssetBaseUrl:function(e){var t={producerLogo:[\"http://assets.newsinc.com\",\"https://assets-s.newsinc.com\"],stillFrame:[\"http://content-img.newsinc.com\",\"https://content-img-s.newsinc.com\"],thumbnail:[\"http://content-img.newsinc.com\",\"https://content-img-s.newsinc.com\"],subtitle:[\"http://content.newsinc.com\",\"https://content-s.newsinc.com\"],\"video/mp4\":[\"http://content-mp4.newsinc.com\",\"https://content-s.newsinc.com\"],\"application/x-mpeg\":[\"http://ndn_mp4-vh.akamaihd.net\",\"https://ndn_mp4-vh.akamaihd.net\"],\"application/x-mpegURL\":[\"http://ndnmedia-vh.akamaihd.net\",\"https://ndnmedia-vh.akamaihd.net\"],\"video/f4m\":[\"http://ndnmedia-vh.akamaihd.net\",\"https://ndnmedia-vh.akamaihd.net\"],\"video/x-flv\":[\"rtmp://cp98516.edgefcs.net\",\"rtmp://cp98516.edgefcs.net\"],\"video/progressive\":[\"http://ndnmedia-a.akamaihd.net\",\"https://ndnmedia-a.akamaihd.net\"]};return\"undefined\"!=typeof t[e]?t[e][\"http:\"==window.location.protocol?0:1]:void 0},prettifyVideoDuration:function(e){var t=parseInt(e,10);t=0>t?0:t;var n=Math.floor(t/60),i=n>59?i=Math.floor(n/60):i,o=t%60;return o=10>o?\"0\"+o:o,i>0&&\"undefined\"!=i?(n%=60,n=10>n?\"0\"+n:n,t=i+\":\"+n+\":\"+o):t=n+\":\"+o,t}};return r}),Ndn_Require.define(\"models/Ndn/PlayerServices\",[\"jquery\",\"underscore\",\"require\",\"models/Ndn/PlayerServices/Cache\",\"models/Ndn/PlayerServices/Parser\",\"models/Ndn/Utils/UrlParser\",\"models/Ndn/App\",\"models/Ndn/Debug\"],function(e,t,n,i,o,r,a,s){var l={getBaseUrl:function(e){return\"undefined\"==typeof e&&(e=r.getUrlVar(\"ndn_playerServicesEnv\")||\"\"),e=e.replace(/[^A-Za-z0-9-_]/g,\"\"),\"//\"+(e?e+\"-\":\"\")+\"lps2.newsinc.com\"},getEndpointUrl:function(e,t,n,i,o,r,s,l){var u=this.getBaseUrl(),c=\"&insid=\"+(a.getPageViewSessionId()||\"\")+\"&uut=\"+(a.getUniqueUserId()||\"\")+\"&embedIndex=\"+e+\"&ver=\"+a.getBuild()+\"&benv=\"+a.getEnv()+\"&embedOriginUrl=\"+encodeURIComponent(a.getEmbedOriginUrl());if(s&&l)return u+\"/player/show/\"+s+\"/\"+l+\"?trackingGroupId=\"+(n?n:\"0\")+\"&widgetId=\"+(t?t:\"0\")+\"&playlistId=\"+(i?i:\"0\")+c;var d=this.getItemLimit(r);return u+\"/player/show/\"+(n||\"0\")+\"/\"+(t||\"0\")+\"/\"+(i||\"0\")+\"/\"+(o||\"0\")+\"/3\"+(d?\"/\"+d:\"\")+\"?d=\"+(new Date).getTime()+c},getItemLimit:function(e){return e&&40>=e?t.contains([1,3],e)||(e=e>15?40:15):e=null,e},fetch:function(t){var n=t.embedIndex,i=t.trackingGroup,r=t.configId,a=t.playlistItemsLimit,u=t.playlistId,c=t.videoId,d=t.providerId,p=t.providerStoryId,h=\"undefined\"!=typeof t.cacheData?t.cacheData:!0;return e.Deferred(e.proxy(function(t){e.ajax({type:\"GET\",url:this.getEndpointUrl(n,r,i,u,c,a,d,p),contentType:\"json\",dataType:\"jsonp\"}).done(function(e){if(s.log(\"playerServices\",\"[Ndn_PlayerServices] Response:\",e),!e||!e.Playlists)return t.reject();var n=o.parseResponse(e,a);s.inMode(\"playerServices\")&&console.log(\"[Ndn_PlayerServices] Parsed response:\",n),h&&l.cachePlaylistAndVideoData(n,a),t.resolve(n)}).fail(function(){t.reject({reason:d||p?\"storyVideoUnavailable\":\"\"})})},this)).promise()},cachePlaylistAndVideoData:function(t,n){e.each(t.playlists,function(){i.cachePlaylistData(this,n)}),t.videosData&&e.each(t.videosData,function(){i.cacheVideoData(this)})},getPlaylist:function(e){},getPlaylistData:function(t,n,o){s.log(\"playerServices\",\"Ndn_PlayerServices.getPlaylistData(\",arguments,\");\");var r=n.config,a=n.embedIndex,l=\"undefined\"==typeof o?n.settings.behavior.playlistItemsLimit:0;return e.Deferred(e.proxy(function(n){var o=i.getPlaylistData(t,l);o?n.resolve(o):this.fetch({embedIndex:a,trackingGroup:r.trackingGroup,configId:r.widgetId,playlistId:t,playlistItemsLimit:l}).done(e.proxy(function(){o=i.getPlaylistData(t,l),o?n.resolve(o):n.reject()},this)).fail(n.reject)},this)).promise()},getVideoData:function(t,n){var o=n.getConfig(),r=n.get(\"embedIndex\");return e.Deferred(e.proxy(function(n){var a=i.getVideoData(t);a?n.resolve(a):this.fetch({embedIndex:r,trackingGroup:o.trackingGroup,configId:o.widgetId,playlistId:o.playlistId,playlistItemsLimit:1,videoId:t}).done(e.proxy(function(){a=i.getVideoData(t),a?n.resolve(a):n.reject()},this)).fail(n.reject)},this)).promise()}};return l}),Ndn_Require.define(\"models/Ndn/VideoFeeder\",[\"underscore\",\"jquery\",\"backbone\",\"models/Ndn/PlayerServices\",\"models/Ndn/PlayerServices/Cache\"],function(e,t,n,i,o){var r=n.Model.extend({defaults:{videoData:null,playlistId:null,videoIndex:null,lastPlaylistId:null,playlistIndex:null,productSettings:null,playlists:null},initialize:function(e){this.set({productSettings:e.productSettings,playlists:e.playlists,playlistIndex:\"undefined\"!=typeof e.playlistIndex?e.playlistIndex:null,playlistId:\"undefined\"!=typeof e.playlistId?e.playlistId:null,videoIndex:\"undefined\"!=typeof e.videoIndex?e.videoIndex:null,videoData:\"undefined\"!=typeof e.videoData?e.videoData:null})},reset:function(){this.set({playlistIndex:null,playlistId:null,videoIndex:null,videoData:null})},getCurrentVideo:function(){return{playlistIndex:this.get(\"playlistIndex\"),playlistId:this.get(\"playlistId\"),videoIndex:this.get(\"videoIndex\"),videoData:this.get(\"videoData\")}},getPlaylistItemsFromCache:function(e){var t=this.get(\"playlists\"),n=this.getPlaylistIdByIndex(e),i=t[e],r=i[1],a=n?o.getPlaylistData(n,r):t[0];if(n){var a=o.getPlaylistData(n,r);return a?a.items:null}return t[0]},getPlaylistIdByIndex:function(t){var n=this.get(\"playlists\")[t];return n?e.contains([\"undefined\",\"object\"],typeof n[0])?null:n[0]:!1},setCurrentVideo:function(e){this.set({playlistIndex:e.playlistIndex,playlistId:this.getPlaylistIdByIndex(e.playlistIndex),videoIndex:e.videoIndex,videoData:this.getPlaylistItemsFromCache(e.playlistIndex)[e.videoIndex]})},setNextVideo:function(e){if(!e||!e.playlistIndex&&!e.videoIndex)return this.reset();var t;if(e.videoIndex>0)t={playlistIndex:e.playlistIndex,videoIndex:e.videoIndex-1};else{if(0==e.playlistIndex)return this.reset();var n=this.getPlaylistItemsFromCache(e.playlistIndex-1);t={playlistIndex:e.playlistIndex-1,videoIndex:n.length-1}}this.setCurrentVideo(t)},getNextVideo:function(){var e=this;return this.peekNextVideo().always(function(t){e.set(t),e.trigger(\"videoFed\",t)})},peekNextVideo:function(e){e=e||{};var n,r,a=e.currentVideo||this.getCurrentVideo();null===a.playlistIndex&&null===a.videoIndex?(r=this.getPlaylistItemsFromCache(0),n={playlistIndex:0,playlistId:this.getPlaylistIdByIndex(0),videoIndex:0,videoData:r&&r[0]}):(r=this.getPlaylistItemsFromCache(a.playlistIndex),n=r[a.videoIndex+1]?{playlistIndex:a.playlistIndex,playlistId:a.playlistId,videoIndex:a.videoIndex+1,videoData:r[a.videoIndex+1]}:{playlistIndex:a.playlistIndex+1,videoIndex:0});var s=this;return t.Deferred(function(e){if(n.videoData)return e.resolve(n);var t=s.get(\"playlists\"),r=t[n.playlistIndex];if(!r)return e.reject();var a=r[1]||0,l=s.getPlaylistIdByIndex(n.playlistIndex);i.getPlaylistData(l,s.get(\"productSettings\"),a).done(function(){var t=o.getPlaylistData(l);return n.playlistId=l,n.videoData=t.items[n.videoIndex],n.videoData?e.resolve(n):n.playlistId==lastPlaylistId?e.reject():void 0})}).promise()},peekNextVideos:function(e,n,i){i=i||[];var o=n||new r({productSettings:this.get(\"productSettings\"),playlists:this.get(\"playlists\"),playlistIndex:this.get(\"playlistIndex\"),playlistId:this.get(\"playlistId\"),videoIndex:this.get(\"videoIndex\"),videoData:this.get(\"videoData\")}),a=this;return t.Deferred(function(t){o.getNextVideo().done(function(n){i.push(n),e--,e?a.peekNextVideos(e,o,i).always(function(){t.resolve(i)}):t.resolve(i)}).fail(function(){t.resolve(i)})}).promise()}});return r}),Ndn_Require.define(\"models/Ndn/Viewer/Step\",[\"jquery\",\"backbone\",\"models/Ndn/Debug\"],function(e,t,n){return t.Model.extend({defaults:{viewer:null,stepName:null,currentStep:null,parentStep:null,sessions:null},initialize:function(e){this.set({viewer:e.viewer,stepName:e.stepName,parentStep:e.parentStep,sessions:[]}),\"top\"==e.stepName&&this.setCurrentStep(this)},start:function(){return n.inMode(\"steps\")&&console.log(\"step\"+this.get(\"stepName\")+\": START\"),this.get(\"viewer\").getSteps().getCurrentStep().recordStep(this),this},end:function(){return n.inMode(\"steps\")&&console.log(\"step\"+this.get(\"stepName\")+\": END\"),this.setCurrentStep(this.getParentStep()),this},isRootStep:function(){return null===this.get(\"parentStep\")},getRootStep:function(){return this.isRootStep()?this:this.getParentStep().getRootStep()},getParentStep:function(){return this.get(\"parentStep\")},setParentStep:function(e){this.getParentStep()||this.set(\"parentStep\",e)},setCurrentStep:function(e){this.isRootStep()?this.set(\"currentStep\",e):this.getRootStep().setCurrentStep(e)},concludeAllSteps:function(){for(;!this.getCurrentStep().isRootStep();)this.getCurrentStep().end()},getCurrentStep:function(){return this.getRootStep().get(\"currentStep\")},recordSession:function(e){this.get(\"sessions\").push(e)},recordStep:function(e){e.setParentStep(this),this.get(\"sessions\").push(e),this.setCurrentStep(e)},getData:function(){for(var e=[],t=this.get(\"sessions\"),n=0;n<t.length;n++){var i=t[n];\"number\"==typeof i?e.push(i):e.push(i.getData())}return[this.get(\"stepName\"),e]}})}),Ndn_Require.define(\"models/Ndn/Utils/DomElement\",[\"jquery\"],function(e){var t={},n=function(){var e=0;return function(){return\"ndnDomElementCondition\"+e++}}();return{getFullHtml:function(e){var t=document.createElement(\"div\");return t.appendChild(e.cloneNode(!0)),t.innerHTML},onceMeetsCondition:function(i,o,r,a){\"undefined\"==typeof r&&(r=n()),\"undefined\"==typeof a&&(a=500);var s=e(i);return e.Deferred(function(e){if(o(s))return e.resolve();if(s.data(r))t[r][s.data(r)].done(function(){e.resolve()});else{var n=setInterval(function(){o(s)&&(clearInterval(s.data(r)),s.removeData(r),e.resolve(),delete t[r][n])},a);t[r]=t[r]||{},t[r][n]=e,s.data(r,n)}}).promise()},onceVisible:function(e){return this.onceMeetsCondition(e,function(e){return e.is(\":visible\")},\"isVisible\")},onceHasWidthAndHeight:function(e){return this.onceMeetsCondition(e,function(e){return e.width()&&e.height()},\"ndnWidthAndHeightInterval\")}}}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule\",[\"jquery\",\"underscore\",\"backbone\",\"models/Ndn/Debug\"],function(e,t,n,i){return n.Model.extend({defaults:{viewer:null,isActive:null,isReady:null,sessionParams:null,state:null,containerElement:null,preEventListener:null,postEventListener:null,scheduleLog:null,originalScheduleLog:null,currentQuartile:null,moduleSessionIndex:null,isHalted:null,debugInfo:null},initialize:function(t){this.set({viewer:t.viewer,containerElement:t.containerElement,isActive:!1,isReady:!1,state:{},moduleSessionIndex:-1,preEventListener:new n.Model,postEventListener:new n.Model,debugInfo:{jqueryVersion:e.fn.jquery}}),this.maintainVisibility(),this.mantainState(),this.maintainScheduleLog(),this.manageEvents(),this.initializeEventProcessing(),this.surfaceEvents(t.eventsReceiver||this.getViewer())},manageEvents:function(){var e=this,n=this.getPreEventListener(),i=this.getPostEventListener();n.on({\"adRequest adLoad adStart\":function(){e.trigger(\"adPlayerStart\")},videoStart:function(){e.isAdPlayerEnabled()&&e.trigger(\"adPlayerEnd\")},viewerModuleEnd:function(){e.isContentPlayerEnabled()||e.trigger(\"adPlayerEnd\")}}),n.on({videoStart:function(){e.isContentPlayerEnabled()||e.endSession()}}),i.on({videoEnd:function(){return e.isContentPlayerEnabled()?e.endSession():void 0}}),function(){function o(t){e.set(\"currentQuartile\",t);var n=e.getSessionParams();e.trigger(e.isShowingAdPlayer()?\"adQuartile\":\"videoQuartile\",{quartile:t,currentTime:100==t?e.getDuration():e.getCurrentTime(),playerWidth:e.getContainerElement().width(),playerHeight:e.getContainerElement().height(),videoData:n.videoData,cpvNumber:n.cpvNumber})}n.on({\"adEnd videoEnd\":function(){o(100)}}),i.on({\"adStart videoStart\":function(){o(0)},\"adTimeUpdate videoTimeUpdate\":function(){var n=Math.floor(e.getCurrentTime()/e.getDuration()*100);t.contains([25,50,75],n)&&n>e.get(\"currentQuartile\")&&o(n)}})}()},getPreEventListener:function(){return this.get(\"preEventListener\")},getPostEventListener:function(){return this.get(\"postEventListener\")},maintainScheduleLog:function(){var t={adRequest:\"adRequests\",adEnd:\"adsPlayed\",videoEnd:\"videosCompleted\"},n=this;e.each(t,function(e,t){n.on(e,function(){n.incrementScheduleItem(t)})})},maintainVisibility:function(){this.on({viewerModuleStart:function(){this.getContainerElement().show()},viewerModuleEnd:function(){}})},incrementScheduleItem:function(e){var t=this.getScheduleLog(),n={};n[e]=(t[e]||0)+1,this.updateScheduleLog(n)},initializeEventProcessing:function(){var e=this.trigger,n=this,o=this.getViewer(),r=this.getPreEventListener(),a=this.getPostEventListener();this.trigger=function(s,l){var u=n.getModuleSessionIndex();i.inMode(\"attemptedEvents\")&&console.log(\"[Ndn_Viewer_ViewerModule ATTEMPTED EVENT] \"+s);var c=function(e){i.inMode(\"unexpectedEvents\")&&console.log(\"[Ndn_Viewer_ViewerModule UNEXPECTED EVENT] \"+e+(n.isActive()?\"\":\" (inactive)\"))};if(!n.isActive()&&\"ready\"!=s)return c(s);var d={viewerModuleStart:function(){return n.isSessionActive()},adPlayerStart:function(){return n.isShowingAdPlayer()},adPlayerEnd:function(){return!n.isShowingAdPlayer()},videoStart:function(){return n.isShowingVideo()},adStart:function(){return n.isShowingAd()},adEnd:function(){return!n.isShowingAd()},videoEnd:function(){return!n.isShowingVideo()},videoTimeUpdate:function(){return!n.isShowingVideo()||!n.isPlaying()},adTimeUpdate:function(){return!n.isShowingAd()||!n.isPlaying()},videoPause:function(){return!n.isShowingVideo()||!n.isPlaying()},adPause:function(){return!n.isShowingAd()||!n.isPlaying()},videoResume:function(){return!n.isShowingVideo()||n.isPlaying()},adResume:function(){return!n.isShowingAd()||n.isPlaying()}};return\"undefined\"!=typeof d[s]&&d[s]()?c(s):(o&&(l=t.extend({viewer:t.extend(o.getViewerEventData(),{moduleSessionIndex:u,sessionLog:n.getScheduleLog()})},l||{})),u==n.getModuleSessionIndex()&&r.trigger(s,l),u==n.getModuleSessionIndex()&&e.apply(n,[s,l]),void(u==n.getModuleSessionIndex()&&a.trigger(s,l)))}},getSessionLog:function(){var n=t.extend({},this.get(\"originalScheduleLog\")),i=this.getScheduleLog(),o={};return e.each(i,function(e,t){var r=n[e]||0,a=i[e];o[e]=a-r}),o},getScheduleLog:function(){return this.get(\"scheduleLog\")||{}},updateScheduleLog:function(e){var n=this.get(\"scheduleLog\");n&&(n=t.extend(n,e),this.set(\"scheduleLog\",n))},toggleAdPlayer:function(e){this.set(\"adPlayerEnabled\",e)},toggleContentPlayer:function(e){this.set(\"contentPlayerEnabled\",e)},isAdPlayerEnabled:function(){return this.get(\"adPlayerEnabled\")},isContentPlayerEnabled:function(){return this.get(\"contentPlayerEnabled\")},applySessionDefaults:function(e,n){var i=t.extend(n,e);t.extend(e,i)},startSession:function(e,n){this.set({isActive:!0,sessionParams:e,scheduleLog:n,originalScheduleLog:t.extend({},n),state:{},moduleSessionIndex:this.getModuleSessionIndex()+1}),this.trigger(\"viewerModuleStart\")},getSessionParams:function(){return this.get(\"sessionParams\")},makeSessionClosure:function(e){var t=this.getViewer(),n=t.getSessionIndex();return function(){return t.getSessionIndex()==n?e.apply(this,arguments):void 0}},isActive:function(){return this.get(\"isActive\")},halt:function(){this.set(\"isHalted\",!0),this.endSession()},endSession:function(){if(this.isActive()){var e=this.getViewer();e&&e.logSession(this.getSessionLog()),this.trigger(\"viewerModuleEnd\",{halted:this.get(\"isHalted\")})}},toggleReady:function(e){this.set(\"isReady\",e),this.trigger(e?\"ready\":\"unready\")},isReady:function(){return this.get(\"isReady\")},onceReady:function(e){this.isReady()?e():this.once(\"ready\",function(){e()})},getContainerElement:function(){return this.get(\"containerElement\")},updateState:function(e){this.set(\"state\",t.extend({},this.getState(),e))},getState:function(){return this.get(\"state\")},isShowingVideo:function(){return this.getState().isShowingVideo},isShowingAd:function(){return this.getState().isShowingAd},isPlaying:function(){return this.getState().isPlaying},isPlayingVideo:function(){return this.isPlaying()&&this.isShowingVideo()},isPlayingAd:function(){return this.isPlaying()&&this.isShowingAd()},isShowingAdPlayer:function(){return this.getState().isShowingAdPlayer},isSessionActive:function(){return this.getState().isSessionActive},mantainState:function(){this.on({viewerModuleStart:function(){this.updateState({isSessionActive:!0})},adPlayerStart:function(){this.updateState({isShowingAdPlayer:!0})},adPlayerEnd:function(){this.updateState({isShowingAdPlayer:!1})},videoStart:function(){this.updateState({isShowingVideo:!0,isShowingAd:!1,isPlaying:!0})},adStart:function(){this.updateState({isShowingVideo:!1,isShowingAd:!0,isPlaying:!0})},adEnd:function(){this.updateState({isShowingAd:!1,isPlaying:!1})},videoEnd:function(){this.updateState({isShowingVideo:!1,isPlaying:!1})},\"adPause videoPause\":function(){this.updateState({isPlaying:!1})},\"adResume videoResume\":function(){this.updateState({isPlaying:!0})},\"viewerModuleStart viewerModuleEnd\":function(){this.updateState({isAdPlayerShowing:!1,isShowingVideo:!1,isShowingAd:!1,isPlaying:!1})},viewerModuleEnd:function(){this.updateState({isActive:!1,isSessionActive:!1})}})},getModuleSessionIndex:function(){return this.get(\"moduleSessionIndex\")},surfaceEvents:function(t){var n=this;if(t){var i=[\"viewerModuleStart\",\"adPlayerStart\",\"adRequest\",\"adLoad\",\"adStart\",\"adPause\",\"adResume\",\"adTimeUpdate\",\"adTimeout\",\"adEnd\",\"adError\",\"adUnavailable\",\"adCompanion\",\"adPlayerEnd\",\"adMute\",\"adUnmute\",\"adQuartile\",\"debugInfo\",\"error\",\"videoLoad\",\"fullscreenStart\",\"fullscreenEnd\",\"click\",\"videoQuartile\",\"videoStartRequest\",\"videoStart\",\"videoPause\",\"videoResume\",\"videoTimeUpdate\",\"videoEnd\",\"viewerModuleEnd\"];e.each(i,function(){var e=this+\"\";n.on(e,function(i){(n.isActive()||\"viewerModuleEnd\"==e)&&(\"viewerModuleEnd\"==e&&n.set(\"isActive\",!1),t.trigger(e,i))})})}},getViewer:function(){return this.get(\"viewer\")},debug:function(e,n){this.set(\"debugInfo\",t.extend(this.getDebugInfo(),e)),n&&this.trigger(\"debugInfo\",this.getDebugInfo())},getDebugInfo:function(){return this.get(\"debugInfo\")},pause:function(){},play:function(){},getPlaybackMode:function(){},getCurrentTime:function(){},getDuration:function(){}})}),Ndn_Require.define(\"lib/secret-media\",[],function(){return function(Aa,F,Ba){function Ca(e,t){function n(){}n.prototype=e;var i,o=new n;for(i in t)o[i]=t[i];return t.toString!==Object.prototype.toString&&(o.toString=t.toString),o}function Ia(e){return e instanceof Array?function(){return l.iter(e)}:\"function\"==typeof e.iterator?G(e,e.iterator):e.iterator}function G(e,t){if(null==t)return null;null==t.__id__&&(t.__id__=Ja++);var n;return null==e.hx__closures__?e.hx__closures__={}:n=e.hx__closures__[t.__id__],null==n&&(n=function(){return n.method.apply(n.scope,arguments)},n.scope=e,n.method=t,e.hx__closures__[t.__id__]=n),n}F.secretmedia=F.secretmedia||{},F.secretmedia.pptjs=F.secretmedia.pptjs||{},F.secretmedia.asbridge=F.secretmedia.asbridge||{},F.secretmedia.sdk=F.secretmedia.sdk||{};var I=function(){return m.__string_rec(this,\"\")},X=function(e,t){t=t.split(\"u\").join(\"\"),this.r=new RegExp(e,t)};X.__name__=!0,X.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},__class__:X};var q=function(){};q.__name__=!0,q.urlEncode=function(e){return encodeURIComponent(e)},q.startsWith=function(e,t){return e.length>=t.length&&l.substr(e,0,t.length)==t},q.endsWith=function(e,t){var n=t.length,i=e.length;return i>=n&&l.substr(e,i-n,n)==t},q.isSpace=function(e,t){var n=l.cca(e,t);return n>8&&14>n||32==n},q.ltrim=function(e){for(var t=e.length,n=0;t>n&&q.isSpace(e,n);)n++;return n>0?l.substr(e,n,t-n):e},q.rtrim=function(e){for(var t=e.length,n=0;t>n&&q.isSpace(e,t-n-1);)n++;return n>0?l.substr(e,0,t-n):e},q.trim=function(e){return q.ltrim(q.rtrim(e))},q.replace=function(e,t,n){return e.split(t).join(n)},q.hex=function(e,t){var n=\"\",i=d.unmangle(\"_229\");do n=i.charAt(15&e)+n,e>>>=4;while(e>0);if(null!=t)for(;n.length<t;)n=\"0\"+n;return n},q.fastCodeAt=function(e,t){return e.charCodeAt(t)};var l=function(){};l.__name__=!0,l.cca=function(e,t){var n=e.charCodeAt(t);return n!=n?void 0:n},l.substr=function(e,t,n){return null!=t&&0!=t&&null!=n&&0>n?\"\":(null==n&&(n=e.length),0>t?(t=e.length+t,0>t&&(t=0)):0>n&&(n=e.length+n-t),e.substr(t,n))},l.indexOf=function(e,t,n){var i=e.length;for(0>n&&(n+=i,0>n&&(n=0));i>n;){if(e[n]===t)return n;n++}return-1},l.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var pa=function(){};pa.__name__=!0;var Da=function(){};Da.__name__=!0,Da.exists=function(e,t){for(var n=Ia(e)();n.hasNext();){var i=n.next();if(t(i))return!0}return!1};var la=function(){this.length=0};la.__name__=!0,la.prototype={iterator:function(){return new fa(this.h)},__class__:la};var fa=function(e){this.head=e,this.val=null};fa.__name__=!0,fa.prototype={hasNext:function(){return null!=this.head},next:function(){return this.val=this.head[0],this.head=this.head[1],this.val},__class__:fa};var Fa={__name__:!0,_1:function(e,t){var n=d.unmangle(\"_1\");return e[n](t)},_2:function(e,t,n){var i=d.unmangle(\"_2\");e[i](t,n)}};Math.__name__=!0;var t=function(){};t.__name__=!0,t.hasField=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.field=function(e,t){try{return e[t]}catch(i){return i instanceof n&&(i=i.val),null}},t.setField=function(e,t,n){e[t]=n},t.callMethod=function(e,t,n){return t.apply(e,n)};var k=function(){};k.__name__=!0,k.string=function(e){return m.__string_rec(e,\"\")},k.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=l.cca(e,1)&&88!=l.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t},k.random=function(e){return 0>=e?0:Math.floor(Math.random()*e)};var N=function(){};N.__name__=!0;var ga=function(e){this.url=e,this.headers=new la,this.params=new la,this.async=!0};ga.__name__=!0,ga.prototype={setPostData:function(e){return this.postData=e,this},cancel:function(){null!=this.req&&(this.req.abort(),this.req=null)},request:function(e){var t=this;t.responseData=null;var i=this.req=J.createXMLHttpRequest(),o=function(e){if(4==i.readyState){var o;try{o=i.status}catch(r){r instanceof n&&(r=r.val),o=null}if(null!=o&&(e=window.location.protocol.toLowerCase(),new X(\"^(?:about|app|app-storage|.+-extension|file|res|widget):$\",\"\").match(e)&&(o=null!=i.responseText?200:404)),void 0==o&&(o=null),null!=o&&t.onStatus(o),null!=o&&o>=200&&400>o)t.req=null,t.onData(t.responseData=i.responseText);else if(null==o)t.req=null,t.onError(\"Failed to connect or resolve host\");else switch(o){case 12029:t.req=null,t.onError(\"Failed to connect to host\");break;case 12007:t.req=null,t.onError(\"Unknown host\");break;default:t.req=null,t.responseData=i.responseText,t.onError(\"Http Error #\"+i.status)}}};this.async&&(i.onreadystatechange=o);var r=this.postData;if(null!=r)e=!0;else for(var a=new fa(this.params.h);null!=a.head;){var s;a.val=a.head[0],a.head=a.head[1],s=a.val,r=null==r?\"\":r+\"&\",r+=encodeURIComponent(s.param)+\"=\"+encodeURIComponent(s.value)}try{if(e)i.open(\"POST\",this.url,this.async);else if(null!=r){var l=1>=this.url.split(\"?\").length;i.open(\"GET\",this.url+(l?\"?\":\"&\")+r,this.async),r=null}else i.open(\"GET\",this.url,this.async)}catch(u){return u instanceof n&&(u=u.val),t.req=null,void this.onError(u.toString())}for(!Da.exists(this.headers,function(e){return\"Content-Type\"==e.header})&&e&&null==this.postData&&i.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),e=new fa(this.headers.h);null!=e.head;)e.val=e.head[0],e.head=e.head[1],a=e.val,i.setRequestHeader(a.header,a.value);i.send(r),this.async||o(null)},onData:function(e){},onError:function(e){},onStatus:function(e){},__class__:ga};var qa=function(e,t){this.high=e,this.low=t};qa.__name__=!0,qa.prototype={__class__:qa};var h=function(){};\nh.__name__=!0,h.trace=function(e,t){m.__trace(e,t)};var ha=function(){};ha.__name__=!0,ha.getString=function(e){for(var t=0,n=ha.content;t<n.length;){var i=n[t];if(++t,i.name==e)return null!=i.str?i.str:A.decode(i.data).toString()}return null};var Y=function(e){var t=this;this.id=setInterval(function(){t.run()},e)};Y.__name__=!0,Y.delay=function(e,t){var n=new Y(t);return n.run=function(){n.stop(),e()},n},Y.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Y};var w=function(e){this.length=e.byteLength,this.b=new ra(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};w.__name__=!0,w.alloc=function(e){return new w(new sa(e))},w.ofString=function(e){for(var t=[],n=0;n<e.length;){var i=q.fastCodeAt(e,n++);i>=55296&&56319>=i&&(i=i-55232<<10|1023&q.fastCodeAt(e,n++)),127>=i?t.push(i):(2047>=i?t.push(192|i>>6):(65535>=i?t.push(224|i>>12):(t.push(240|i>>18),t.push(128|i>>12&63)),t.push(128|i>>6&63)),t.push(128|63&i))}return new w(new ra(t).buffer)},w.prototype={get:function(e){return this.b[e]},set:function(e,t){this.b[e]=255&t},getString:function(e,t){if(0>e||0>t||e+t>this.length)throw new n(B.OutsideBounds);for(var i=\"\",o=this.b,r=String.fromCharCode,a=e,s=e+t;s>a;){var l=o[a++];if(128>l){if(0==l)break;i+=r(l)}else if(224>l)i+=r((63&l)<<6|127&o[a++]);else if(240>l)var u=o[a++],i=i+r((31&l)<<12|(127&u)<<6|127&o[a++]);else var u=o[a++],c=o[a++],l=(15&l)<<18|(127&u)<<12|(127&c)<<6|127&o[a++],i=i+r((l>>10)+55232),i=i+r(1023&l|56320)}return i},toString:function(){return this.getString(0,this.length)},__class__:w};var A=function(){};A.__name__=!0,A.encode=function(e,t){null==t&&(t=!0);var n=new Z(A.BYTES).encodeBytes(e).toString();if(t)switch(e.length%3){case 1:n+=\"==\";break;case 2:n+=\"=\"}return n},A.decode=function(e,t){if(null==t&&(t=!0),t)for(;61==l.cca(e,e.length-1);)e=l.substr(e,0,-1);return new Z(A.BYTES).decodeBytes(w.ofString(e))};var Z=function(e){for(var t=e.length,i=1;t>1<<i;)i++;if(i>8||t!=1<<i)throw new n(\"BaseCode : base length must be a power of two.\");this.base=e,this.nbits=i};Z.__name__=!0,Z.prototype={encodeBytes:function(e){for(var t=this.nbits,n=this.base,i=8*e.length/t|0,o=w.alloc(i+(0==8*e.length%t?0:1)),r=0,a=0,s=(1<<t)-1,l=0,u=0;i>u;){for(;t>a;)a+=8,r<<=8,r|=e.get(l++);a-=t,o.set(u++,n.b[r>>a&s])}return a>0&&o.set(u++,n.b[r<<t-a&s]),o},initTable:function(){for(var e=[],t=0;256>t;){var n=t++;e[n]=-1}for(t=0,n=this.base.length;n>t;){var i=t++;e[this.base.b[i]]=i}this.tbl=e},decodeBytes:function(e){var t=this.nbits;null==this.tbl&&this.initTable();for(var i=this.tbl,o=e.length*t>>3,r=w.alloc(o),a=0,s=0,l=0,u=0;o>u;){for(;8>s;){var s=s+t,a=a<<t,c=i[e.get(l++)];if(-1==c)throw new n(\"BaseCode : invalid encoded char\");a|=c}s-=8,r.set(u++,a>>s&255)}return r},__class__:Z};var K=function(){};K.__name__=!0,K.encode=function(e){var t=new K;return e=t.doEncode(K.str2blks(e)),t.hex(e)},K.str2blks=function(e){for(var t=(e.length+8>>6)+1,n=[],i=16*t,o=0;i>o;){var r=o++;n[r]=0}for(i=0;i<e.length;)n[i>>2]|=l.cca(e,i)<<(8*e.length+i)%4*8,i++;return n[i>>2]|=128<<(8*e.length+i)%4*8,e=8*e.length,t=16*t-2,n[t]=255&e,n[t]|=(e>>>8&255)<<8,n[t]|=(e>>>16&255)<<16,n[t]|=(e>>>24&255)<<24,n},K.prototype={bitOR:function(e,t){return(e>>>1|t>>>1)<<1|1&e|1&t},bitXOR:function(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t},bitAND:function(e,t){return(e>>>1&t>>>1)<<1|1&e&t&1},addme:function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},hex:function(e){for(var t=\"\",n=0;n<e.length;){var i=e[n];++n;for(var o=0;4>o;)var r=o++,t=t+(\"0123456789abcdef\".charAt(i>>8*r+4&15)+\"0123456789abcdef\".charAt(i>>8*r&15))}return t},rol:function(e,t){return e<<t|e>>>32-t},cmn:function(e,t,n,i,o,r){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(i,r)),o),n)},ff:function(e,t,n,i,o,r,a){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(~t,i)),e,t,o,r,a)},gg:function(e,t,n,i,o,r,a){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(n,~i)),e,t,o,r,a)},hh:function(e,t,n,i,o,r,a){return this.cmn(this.bitXOR(this.bitXOR(t,n),i),e,t,o,r,a)},ii:function(e,t,n,i,o,r,a){return this.cmn(this.bitXOR(n,this.bitOR(t,~i)),e,t,o,r,a)},doEncode:function(e){for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,r=0;r<e.length;)var a=t,s=n,l=i,u=o,t=this.ff(t,n,i,o,e[r],7,-680876936),o=this.ff(o,t,n,i,e[r+1],12,-389564586),i=this.ff(i,o,t,n,e[r+2],17,606105819),n=this.ff(n,i,o,t,e[r+3],22,-1044525330),t=this.ff(t,n,i,o,e[r+4],7,-176418897),o=this.ff(o,t,n,i,e[r+5],12,1200080426),i=this.ff(i,o,t,n,e[r+6],17,-1473231341),n=this.ff(n,i,o,t,e[r+7],22,-45705983),t=this.ff(t,n,i,o,e[r+8],7,1770035416),o=this.ff(o,t,n,i,e[r+9],12,-1958414417),i=this.ff(i,o,t,n,e[r+10],17,-42063),n=this.ff(n,i,o,t,e[r+11],22,-1990404162),t=this.ff(t,n,i,o,e[r+12],7,1804603682),o=this.ff(o,t,n,i,e[r+13],12,-40341101),i=this.ff(i,o,t,n,e[r+14],17,-1502002290),n=this.ff(n,i,o,t,e[r+15],22,1236535329),t=this.gg(t,n,i,o,e[r+1],5,-165796510),o=this.gg(o,t,n,i,e[r+6],9,-1069501632),i=this.gg(i,o,t,n,e[r+11],14,643717713),n=this.gg(n,i,o,t,e[r],20,-373897302),t=this.gg(t,n,i,o,e[r+5],5,-701558691),o=this.gg(o,t,n,i,e[r+10],9,38016083),i=this.gg(i,o,t,n,e[r+15],14,-660478335),n=this.gg(n,i,o,t,e[r+4],20,-405537848),t=this.gg(t,n,i,o,e[r+9],5,568446438),o=this.gg(o,t,n,i,e[r+14],9,-1019803690),i=this.gg(i,o,t,n,e[r+3],14,-187363961),n=this.gg(n,i,o,t,e[r+8],20,1163531501),t=this.gg(t,n,i,o,e[r+13],5,-1444681467),o=this.gg(o,t,n,i,e[r+2],9,-51403784),i=this.gg(i,o,t,n,e[r+7],14,1735328473),n=this.gg(n,i,o,t,e[r+12],20,-1926607734),t=this.hh(t,n,i,o,e[r+5],4,-378558),o=this.hh(o,t,n,i,e[r+8],11,-2022574463),i=this.hh(i,o,t,n,e[r+11],16,1839030562),n=this.hh(n,i,o,t,e[r+14],23,-35309556),t=this.hh(t,n,i,o,e[r+1],4,-1530992060),o=this.hh(o,t,n,i,e[r+4],11,1272893353),i=this.hh(i,o,t,n,e[r+7],16,-155497632),n=this.hh(n,i,o,t,e[r+10],23,-1094730640),t=this.hh(t,n,i,o,e[r+13],4,681279174),o=this.hh(o,t,n,i,e[r],11,-358537222),i=this.hh(i,o,t,n,e[r+3],16,-722521979),n=this.hh(n,i,o,t,e[r+6],23,76029189),t=this.hh(t,n,i,o,e[r+9],4,-640364487),o=this.hh(o,t,n,i,e[r+12],11,-421815835),i=this.hh(i,o,t,n,e[r+15],16,530742520),n=this.hh(n,i,o,t,e[r+2],23,-995338651),t=this.ii(t,n,i,o,e[r],6,-198630844),o=this.ii(o,t,n,i,e[r+7],10,1126891415),i=this.ii(i,o,t,n,e[r+14],15,-1416354905),n=this.ii(n,i,o,t,e[r+5],21,-57434055),t=this.ii(t,n,i,o,e[r+12],6,1700485571),o=this.ii(o,t,n,i,e[r+3],10,-1894986606),i=this.ii(i,o,t,n,e[r+10],15,-1051523),n=this.ii(n,i,o,t,e[r+1],21,-2054922799),t=this.ii(t,n,i,o,e[r+8],6,1873313359),o=this.ii(o,t,n,i,e[r+15],10,-30611744),i=this.ii(i,o,t,n,e[r+6],15,-1560198380),n=this.ii(n,i,o,t,e[r+13],21,1309151649),t=this.ii(t,n,i,o,e[r+4],6,-145523070),o=this.ii(o,t,n,i,e[r+11],10,-1120210379),i=this.ii(i,o,t,n,e[r+2],15,718787259),n=this.ii(n,i,o,t,e[r+9],21,-343485551),t=this.addme(t,a),n=this.addme(n,s),i=this.addme(i,l),o=this.addme(o,u),r=r+16;return[t,n,i,o]},__class__:K};var L=function(){this.h={}};L.__name__=!0,L.__interfaces__=[N],L.prototype={set:function(e,t){null!=r[e]?this.setReserved(e,t):this.h[e]=t},get:function(e){return null!=r[e]?this.getReserved(e):this.h[e]},setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh[\"$\"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh[\"$\"+e]},remove:function(e){if(null!=r[e]){if(e=\"$\"+e,null==this.rh||!this.rh.hasOwnProperty(e))return!1;delete this.rh[e]}else{if(!this.h.hasOwnProperty(e))return!1;delete this.h[e]}return!0},keys:function(){var e=this.arrayKeys();return l.iter(e)},arrayKeys:function(){var e,t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(e);if(null!=this.rh)for(e in this.rh)36==e.charCodeAt(0)&&t.push(e.substr(1));return t},__class__:L};var B={__ename__:!0,__constructs__:[\"Blocked\",\"Overflow\",\"OutsideBounds\",\"Custom\"],Blocked:[\"Blocked\",0]};B.Blocked.toString=I,B.Blocked.__enum__=B,B.Overflow=[\"Overflow\",1],B.Overflow.toString=I,B.Overflow.__enum__=B,B.OutsideBounds=[\"OutsideBounds\",2],B.OutsideBounds.toString=I,B.OutsideBounds.__enum__=B,B.Custom=function(e){return e=[\"Custom\",3,e],e.__enum__=B,e.toString=I,e};var n=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,n)};n.__name__=!0,n.__super__=Error,n.prototype=Ca(Error.prototype,{__class__:n});var m=function(){};m.__name__=!0,m.__unhtml=function(e){return e.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\")},m.__trace=function(e,t){var n;if(n=null!=t?t.fileName+\":\"+t.lineNumber+\": \":\"\",n+=m.__string_rec(e,\"\"),null!=t&&null!=t.customParams)for(var i=0,o=t.customParams;i<o.length;){var r=o[i];++i,n+=\",\"+m.__string_rec(r,\"\")}var a;\"undefined\"!=typeof document&&null!=(a=document.getElementById(\"haxe:trace\"))?a.innerHTML+=m.__unhtml(n)+\"<br/>\":\"undefined\"!=typeof Aa&&null!=Aa.log&&Aa.log(n)},m.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;return null!=t?t:(e=m.__nativeClassName(e),null!=e?m.__resolveNativeClass(e):null)},m.__string_rec=function(e,t){if(null==e)return\"null\";if(5<=t.length)return\"<...>\";var i=typeof e;switch(\"function\"==i&&(e.__name__||e.__ename__)&&(i=\"object\"),i){case\"object\":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];i=e[0]+\"(\",t+=\"\t\";for(var o=2,r=e.length;r>o;)var a=o++,i=2!=a?i+(\",\"+m.__string_rec(e[a],t)):i+m.__string_rec(e[a],t);return i+\")\"}for(i=e.length,o=\"[\",t+=\"\t\",r=0;i>r;)a=r++,o+=(a>0?\",\":\"\")+m.__string_rec(e[a],t);return o+\"]\"}try{o=e.toString}catch(s){return s instanceof n&&(s=s.val),\"???\"}if(null!=o&&o!=Object.toString&&\"function\"==typeof o&&(i=e.toString(),\"[object Object]\"!=i))return i;i=null,o=\"{\\n\",t+=\"\t\",r=null!=e.hasOwnProperty;for(i in e)r&&!e.hasOwnProperty(i)||\"prototype\"==i||\"__class__\"==i||\"__super__\"==i||\"__interfaces__\"==i||\"__properties__\"==i||(2!=o.length&&(o+=\", \\n\"),o+=t+i+\" : \"+m.__string_rec(e[i],t));return t=t.substring(1),o+(\"\\n\"+t+\"}\");case\"function\":return\"<function>\";case\"string\":return e;default:return String(e)}},m.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var n=e.__interfaces__;if(null!=n)for(var i=0,o=n.length;o>i;){var r=i++,r=n[r];if(r==t||m.__interfLoop(r,t))return!0}return m.__interfLoop(e.__super__,t)},m.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Ka:return(0|e)===e;case Ga:return\"number\"==typeof e;case Ha:return\"boolean\"==typeof e;case String:return\"string\"==typeof e;case Array:return e instanceof Array&&null==e.__enum__;case La:return!0;default:if(null==e)return!1;if(\"function\"==typeof t){if(e instanceof t||m.__interfLoop(m.getClass(e),t))return!0}else if(\"object\"==typeof t&&m.__isNativeObj(t)&&e instanceof t)return!0;return t==Ma&&null!=e.__name__||t==Na&&null!=e.__ename__?!0:e.__enum__==t}},m.__nativeClassName=function(e){return e=m.__toStr.call(e).slice(8,-1),\"Object\"==e||\"Function\"==e||\"Math\"==e||\"JSON\"==e?null:e},m.__isNativeObj=function(e){return null!=m.__nativeClassName(e)},m.__resolveNativeClass=function(e){return Ba[e]};var J=function(){};J.__name__=!0,J.getLocalStorage=function(){try{var e=window.localStorage;return e.getItem(\"\"),e}catch(t){return t instanceof n&&(t=t.val),null}},J.getSessionStorage=function(){try{var e=window.sessionStorage;return e.getItem(\"\"),e}catch(t){return t instanceof n&&(t=t.val),null}},J.createXMLHttpRequest=function(){if(\"undefined\"!=typeof XMLHttpRequest)return new XMLHttpRequest;if(\"undefined\"!=typeof ActiveXObject)return new ActiveXObject(\"Microsoft.XMLHTTP\");throw new n(\"Unable to create XMLHttpRequest object.\")};var H=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{this.a=[];for(var t=0;e>t;){var n=t++;this.a[n]=0}this.byteLength=e}};H.__name__=!0,H.sliceImpl=function(e,t){var n=new ra(this,e,null==t?null:t-e),i=new sa(n.byteLength);return new ra(i).set(n),i},H.prototype={slice:function(e,t){return new H(this.a.slice(e,t))},__class__:H};var O=function(){};O.__name__=!0,O._new=function(e,t,i){if(\"number\"==typeof e){for(i=[],t=0;e>t;){var o=t++;i[o]=0}i.byteLength=i.length,i.byteOffset=0,i.buffer=new H(i)}else if(m.__instanceof(e,H))null==t&&(t=0),null==i&&(i=e.byteLength-t),i=0==t?e.a:e.a.slice(t,t+i),i.byteLength=i.length,i.byteOffset=t,i.buffer=e;else{if(!(e instanceof Array&&null==e.__enum__))throw new n(\"TODO \"+k.string(e));i=e.slice(),i.byteLength=i.length,i.byteOffset=0,i.buffer=new H(i)}return i.subarray=O._subarray,i.set=O._set,i},O._set=function(e,t){if(m.__instanceof(e.buffer,H)){if(e.byteLength+t>this.byteLength)throw new n(\"set() outside of range\");for(var i=0,o=e.byteLength;o>i;){var r=i++;this[r+t]=e[r]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new n(\"TODO\");if(e.length+t>this.byteLength)throw new n(\"set() outside of range\");for(i=0,o=e.length;o>i;)r=i++,this[r+t]=e[r]}},O._subarray=function(e,t){var n=O._new(this.slice(e,t));return n.byteOffset=e,n};var x=function(){};x.__name__=!0,x.prototype={__class__:x};var ia=function(e){this.prefix=e};ia.__name__=!0,ia.__interfaces__=[x],ia.prototype={encode:function(e){return q.startsWith(e,this.prefix)||(e=this.prefix+e),e},decode:function(e){return q.startsWith(e,this.prefix)&&(e=l.substr(e,this.prefix.length,null)),e},__class__:ia};var R=function(e,t){null==t&&(t=\"\"),this.obfuscate=new C(e),this.prefixer=new ia(t)};R.__name__=!0,R.__interfaces__=[x],R.fromUrl=function(e,t){null==t&&(t=\"\");var n=new ia(t).decode(e),n=u.getTopLevelDomain(n);return new R(n,t)},R.prototype={encode:function(e){return e=this.obfuscate.encode(e),this.prefixer.encode(e)},decode:function(e){return e=this.prefixer.decode(e),this.obfuscate.decode(e)},__class__:R};var aa=F.secretmedia.sdk.SdkJs=function(e,t,n,i,o){null==o&&(o=\"\"),null==i&&(i=\"\"),null==n&&(n=!1),this.ppt=new ma(e,t,n,i,o)};aa.__name__=!0,aa.main=function(){v.overrideTrace()},aa.prototype={unblock:function(e,t){this.ppt.unblock(e,t)},proxify:function(e){return this.ppt.proxify(e)},__class__:aa},N=F.SMSdk=function(e,t,n,i,o){aa.call(this,e,t,n,i,o)},N.__name__=!0,N.main=function(){},N.__super__=aa,N.prototype=Ca(aa.prototype,{__class__:N});var ba=function(e,t){null==t&&(t=\"\"),this.config=e,this.prefix=t};ba.__name__=!0,ba.fromAppKey=function(e,t){null==t&&(t=\"\");var n=ta.decode(e);return new ba({gitHash:pa.gitHash,publisherId:n[d.unmangle(\"_62\")],sdkVersion:\"1.0.0\",proxyDomain:n[d.unmangle(\"_55\")]},t)},ba.prototype={getConfigUrl:function(){var e={};d.set(\"_57\",e,this.config.publisherId),d.set(\"_55\",e,this.config.proxyDomain),d.set(\"_58\",e,this.config.sdkVersion),d.set(\"_59\",e,this.config.gitHash);var t=d.unmangle(\"_60\");return d.set(\"_61\",e,t),e=ua.encode(e),this.prefix+e},parseConfig:function(e){return va.decode(e)},getProxy:function(e){return new R(this.config.proxyDomain,this.prefix)},__class__:ba};var S={__ename__:!0,__constructs__:[\"InvalidAbsoluteUrl\",\"InvalidScheme\",\"InvalidSubDomain\"],InvalidAbsoluteUrl:function(e){return e=[\"InvalidAbsoluteUrl\",0,e],e.__enum__=S,e.toString=I,e},InvalidScheme:function(e){return e=[\"InvalidScheme\",1,e],e.__enum__=S,e.toString=I,e},InvalidSubDomain:function(e){return e=[\"InvalidSubDomain\",2,e],e.__enum__=S,e.toString=I,e}},d={__name__:!0,_new:function(e){return e},unmangle:function(e){return d.map[e]},set:function(e,t,n){return t[d.unmangle(e)]=n}},u=function(){};u.__name__=!0,u.isSpecial=function(e){for(var t=0,n=u.SPECIAL_PREFIXES;t<n.length;){var i=n[t];if(++t,0==e.indexOf(i))return!0}return!1},u.makeAbsolute=function(e,t){if(\"\"==e)return t;if(u.isSpecial(e))return e;var i,o=e.indexOf(\"?\");i=o>=0?l.substr(e,o,null):null;var r;r=null!=i?l.substr(e,0,o):e;var o=r.indexOf(\"//\"),a=r.indexOf(\"/\");if(o>0&&o==a)return e;var a=t.indexOf(\"//\"),s=t.indexOf(\"/\");if(0>=a||a!=s)throw new n(S.InvalidAbsoluteUrl(t));if(0==o)return l.substr(t,0,a)+e;var o=l.substr(t,0,a),s=l.substr(t,a+2,null),a=s.indexOf(\"/\"),a=0>a?s:l.substr(s,0,a),s=l.substr(s,a.length+1,null),c=s.indexOf(\"?\"),s=(null!=(c>=0?l.substr(s,c,null):null)?l.substr(s,0,c):s).split(\"/\");for(s.pop(),r=r.split(\"/\"),null!=i&&(c=r.pop(),r.push(c+i)),i=\"\"==r[0]?[]:s.slice(0),s=0;s<r.length;)switch(c=r[s],++s,c){case\"..\":i.pop();break;case\".\":break;default:i.push(c)}return\"\"!=i[0]&&i.unshift(\"\"),o+\"//\"+a+i.join(\"/\")},u.getDomain=function(e){var t=e.indexOf(\"//\");if(0>t||t!=e.indexOf(\"/\"))throw new n(S.InvalidAbsoluteUrl(e));return e=l.substr(e,t+2,null),t=e.indexOf(\"/\"),t>0?l.substr(e,0,t):e},u.getTopLevelDomain=function(e){return u.getDomain(e).split(\".\").slice(-2).join(\".\")},u.getExtension=function(e){var t=e.indexOf(\"?\");return t>-1&&(e=l.substr(e,0,t)),e=e.split(\".\"),1<e.length?e.pop():\"\"},u.current=function(){return window.document.location.href};var T=function(){this.nextId=0,this.instances=new L,this.callbacks=new L,v.overrideTrace()};T.__name__=!0,T.prototype={callCallback:function(e,t){try{var i=this.callbacks.get(e);if(null!=i)return h.trace(d.unmangle(\"_125\")+k.string(i.fun)+d.unmangle(\"_9\")+k.string(t),{fileName:\"BridgeBase.hx\",lineNumber:87,className:\"secretmedia.asbridge.BridgeBase\",methodName:\"callCallback\"}),this.callbacks.remove(e),i.fun.apply(i.scope,t)}catch(o){o instanceof n&&(o=o.val),h.trace(d.unmangle(\"_126\")+k.string(o)+d.unmangle(\"_127\")+e+d.unmangle(\"_128\")+k.string(t)+\")\",{fileName:\"BridgeBase.hx\",lineNumber:93,className:\"secretmedia.asbridge.BridgeBase\",methodName:\"callCallback\"})}return null},createCallback:function(e,t){var n=d.unmangle(\"_129\")+this.nextId++ +\"_\"+Math.round(1e4*Math.random());return h.trace(d.unmangle(\"_130\")+n,{fileName:\"BridgeBase.hx\",lineNumber:107,className:\"secretmedia.asbridge.BridgeBase\",methodName:\"createCallback\"}),this.callbacks.set(n,{scope:e,fun:t}),n},addInstance:function(e){var t=d.unmangle(\"_131\")+this.nextId++ +\"_\"+Math.round(1e4*Math.random());return h.trace(d.unmangle(\"_132\")+t,{fileName:\"BridgeBase.hx\",lineNumber:124,className:\"secretmedia.asbridge.BridgeBase\",methodName:\"addInstance\"}),this.instances.set(t,e),t},findInstance:function(e){return this.instances.get(e)},__class__:T};var ca=F.secretmedia.asbridge.BridgeToAs=function(){this.loadedCbk=[],T.call(this),this.bridgeName=\"_\"+Math.floor(1e5*Math.random()),t.setField(window,this.bridgeName,this)};ca.__name__=!0,ca.main=function(){},ca.__super__=T,ca.prototype=Ca(T.prototype,{loadSwf:function(e,t,n){var i=this;if(h.trace(e,{fileName:\"BridgeToAs.hx\",lineNumber:45,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"loadSwf\"}),null!=this.objectTag)h.trace(d.unmangle(\"_107\"),{fileName:\"BridgeToAs.hx\",lineNumber:47,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"loadSwf\"}),t();else if(this.loadedCbk.push({success:t,timeout:n}),null==this.flashLoader){this.flashLoader=new wa,t=new L,n=d.unmangle(\"_108\");var o=d.unmangle(\"_109\");null!=r[n]?t.setReserved(n,o):t.h[n]=o,n=d.unmangle(\"_110\"),o=d.unmangle(\"_111\"),null!=r[n]?t.setReserved(n,o):t.h[n]=o,n=d.unmangle(\"_112\"),null!=r[n]?t.setReserved(n,\"1\"):t.h[n]=\"1\",n=d.unmangle(\"_113\"),null!=r[n]?t.setReserved(n,\"1\"):t.h[n]=\"1\",n=new L,n.set(T.FLASHVAR_BRIDGE_NAME,this.bridgeName);var a=this.flashLoader.createSwfObject(e,\"\"+this.bridgeName+d.unmangle(\"_115\"),t,t,n),s=Y.delay(function(){for(h.trace(d.unmangle(\"_116\")+2e3,{fileName:\"BridgeToAs.hx\",lineNumber:66,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"loadSwf\"}),window.document.body.removeChild(a);0<i.loadedCbk.length;)i.loadedCbk.shift().timeout()},2e3);this.onFlashLoaded=function(){for(h.trace(d.unmangle(\"_117\")+k.string(a),{fileName:\"BridgeToAs.hx\",lineNumber:71,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"loadSwf\"}),i.objectTag=a,s.stop();0<i.loadedCbk.length;)i.loadedCbk.shift().success()},window.document.body.appendChild(a)}},callAsCallback:function(e,t){h.trace(this.bridgeName,{fileName:\"BridgeToAs.hx\",lineNumber:88,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"callAsCallback\",customParams:[e,t]});for(var n=0,i=t.length;i>n;){var o=n++;\"string\"==typeof t[o]&&(t[o]=\"'\"+k.string(t[o])+\"'\")}return this.callAsMethod(d.unmangle(\"_121\"),[e,t])},callAsMethod:function(e,i){if(null==i&&(i=[]),null==this.objectTag){var o=window.document.getElementsByTagName(d.unmangle(\"_72\"));this.objectTag=this.findMyFlash(o),null==this.objectTag&&(o=window.document.getElementsByTagName(d.unmangle(\"_118\")),this.objectTag=this.findMyFlash(o))}if(null!=this.objectTag&&null!=t.field(this.objectTag,e)){h.trace(this.objectTag,{fileName:\"BridgeToAs.hx\",lineNumber:117,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"callAsMethod\",customParams:[e,t.field(this.objectTag,e)]});try{return t.callMethod(this.objectTag,t.field(this.objectTag,e),i)}catch(r){r instanceof n&&(r=r.val),h.trace(d.unmangle(\"_119\")+k.string(r),{fileName:\"BridgeToAs.hx\",lineNumber:123,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"callAsMethod\"})}}else h.trace(d.unmangle(\"_120\")+this.bridgeName+\")\",{fileName:\"BridgeToAs.hx\",lineNumber:127,className:\"secretmedia.asbridge.BridgeToAs\",methodName:\"callAsMethod\",customParams:[this.objectTag,e]});return null},findMyFlash:function(e){for(var n=0;n<e.length;){var i=e[n];if(++n,null!=t.field(i,this.bridgeName))return i}return null},__class__:ca});var wa=function(){};wa.__name__=!0,wa.prototype={createSwfObject:function(e,n,i,o,a){for(var s=\"\",l=a.keys();l.hasNext();)var u=l.next(),s=s+(u+\"=\"+q.urlEncode(null!=r[u]?a.getReserved(u):a.h[u])+\"&\");for(a=d.unmangle(\"_94\"),null!=r[a]?i.setReserved(a,s):i.h[a]=s,a=d.unmangle(\"_94\"),null!=r[a]?o.setReserved(a,s):o.h[a]=s,s=d.unmangle(\"_61\"),a=d.unmangle(\"_95\"),null!=r[s]?i.setReserved(s,a):i.h[s]=a,t.hasField(window,d.unmangle(\"_96\"))?(s=d.unmangle(\"_97\"),a=d.unmangle(\"_98\"),null!=r[s]?i.setReserved(s,a):i.h[s]=a,s=d.unmangle(\"_27\"),null!=r[s]?o.setReserved(s,e):o.h[s]=e):(s=d.unmangle(\"_99\"),null!=r[s]?i.setReserved(s,e):i.h[s]=e),s=e=\"\",a=i.keys();a.hasNext();)l=a.next(),e+=\" \"+l+d.unmangle(\"_100\")+(null!=r[l]?i.getReserved(l):i.h[l])+'\"';for(i=o.keys();i.hasNext();)a=i.next(),s+=\" \"+a+d.unmangle(\"_100\")+(null!=r[a]?o.getReserved(a):o.h[a])+'\"';for(n=d.unmangle(\"_101\")+n+'\"'+e+\">\",i=o.keys();i.hasNext();)e=i.next(),n+=d.unmangle(\"_102\")+e+d.unmangle(\"_103\")+(null!=r[e]?o.getReserved(e):o.h[e])+d.unmangle(\"_104\");return n+=d.unmangle(\"_105\"),o=window.document.createElement(d.unmangle(\"_106\")),o.innerHTML=n,n=o.firstChild,o.removeChild(n),n},__class__:wa};var ta=function(){};ta.__name__=!0,ta.encode=function(e){return e=JSON.stringify(e),A.encode(w.ofString(e))},ta.decode=function(e){return e=A.decode(e).toString(),JSON.parse(e)};var va=function(){};va.__name__=!0,va.decode=function(e){return e=A.decode(e.substring(15)).toString(),JSON.parse(e)},va.encode=function(e){throw new n(d.unmangle(\"_42\"))};var ua=function(){};ua.__name__=!0,ua.encode=function(e){var t=JSON.stringify(e),t=(new D).encode(t);return d.unmangle(\"_54\")+U.string(V.BASE32,30)+\".\"+e[d.unmangle(\"_55\")]+\"/\"+t},ua.decode=function(e){var t=e.indexOf(\"?\");for(t>=0&&(e=e.substring(0,t)),e=e.split(\"/\");\"\"==e[0];)e.shift();return e=(new D).decode(e.slice(1).join(\"/\")),JSON.parse(e)};var C=function(e){if(2!=e.split(\".\").length)throw new n(\"Invalid proxy domain \"+e+\" (should be a top level domain, with 1 dot only)\");this.proxyDomain=e,this.hosts=new na,this.paths=new D,this.queryStrings=new ja};C.__name__=!0,C.__interfaces__=[x],C.chunkSubdomain=function(e){if(63<=e.length){for(var t=[],n=0;n<e.length;)t.push(l.substr(e,n,60)),n+=60;return t.join(\".\")}return e},C.prototype={isEncoded:function(e){return e=u.getDomain(e),q.endsWith(e,this.proxyDomain)},encode:function(e){if(u.isSpecial(e)||this.isEncoded(e))return e;var t=e.indexOf(\"#\"),i=\"\";t>-1&&(i=e.substring(t),e=e.substring(0,t));for(var t=e.indexOf(d.unmangle(\"_245\"))+d.unmangle(\"_245\").length,t=e.indexOf(\"/\",t),o=e.substring(0,t),t=e.substring(t),r=2*(Math.round(43*Math.random())+6),a=null,s=C.SCHEMES.keys();s.hasNext();){var c=s.next(),p=c+d.unmangle(\"_245\");if(0==e.indexOf(p)){a=k.string(r+C.SCHEMES.get(c)),o=o.substring(p.length);break}}if(null==a)throw new n(S.InvalidScheme(e));return e=this.hosts.encode(a+o),e=C.chunkSubdomain(e),o=\"\",r=d.unmangle(\"_246\"),a=t.indexOf(r),a>0?(s=t.substring(0,a+r.length),o=l.substr(t,a+r.length,null),0<o.length&&(o=l.substr(o,0,1)+this.queryStrings.encode(l.substr(o,1,null))),r=this.paths.encode(s)+r):r=this.paths.encode(t),t=u.getExtension(t),-1<l.indexOf(C.KEEP_EXTENSIONS,t,0)&&(r+=\".\"+t),d.unmangle(\"_247\")+e+\".\"+this.proxyDomain+\"/\"+r+o+i},decode:function(e){if(!this.isEncoded(e))return e;var t=e.indexOf(\"#\"),i=\"\";t>-1&&(i=e.substring(t),e=e.substring(0,t));var o=e.indexOf(d.unmangle(\"_245\"))+d.unmangle(\"_245\").length,r=e.indexOf(\"/\",o)+1,t=e.substring(0,r-1),t=t.substring(o),t=t.split(\".\");if(3>t.length)throw new n(S.InvalidSubDomain(e));t.pop(),t.pop();for(var t=t.join(\"\"),t=this.hosts.decode(t),o=k.parseInt(t.substring(0,2)),a=\"\",s=C.SCHEMES.keys();s.hasNext();){var u=s.next();if(o%2==C.SCHEMES.get(u)){a=u;break}}if(\"\"==a)throw new n(S.InvalidScheme(e));return t=a+d.unmangle(\"_245\")+t.substring(2),e=e.substring(r),r=\"\",o=e.indexOf(\"?\"),o>=0&&(r=e.substring(o),r=l.substr(r,0,1)+this.queryStrings.decode(l.substr(r,1,null)),e=e.substring(0,o)),o=e.indexOf(\".\"),o>=0&&(e=e.substring(0,o)),e=this.paths.decode(e),t+e+r+i},__class__:C};var V=function(){};V.__name__=!0;var na=function(e){null==e&&(e=-1),this.keys=new oa(d.unmangle(\"_230\"),d.unmangle(\"_231\")),this.seed=-1==e?(new Date).getHours():e};na.__name__=!0,na.__interfaces__=[x],na.prototype={encode:function(e){var t=V.BASE32.charAt(this.seed%24);return e=new W(this.keys,t).encode(e),t+M.encode(e,!1).toLowerCase()},decode:function(e){var t=l.substr(e,0,1),t=new W(this.keys,t);return e=l.substr(e,1,null).toUpperCase(),t.decode(M.decode(e,!1))},__class__:na};var oa=function(e,t){this.key=e,this.shared=t};oa.__name__=!0,oa.prototype={md5Pair:function(e){return e=K.encode(e+this.shared),{a:da.parseHex(e.charAt(0)),b:da.parseHex(e.charAt(1))+1}},__class__:oa};var D=function(){this.keys=new oa(d.unmangle(\"_45\"),d.unmangle(\"_46\"))};D.__name__=!0,D.__interfaces__=[x],D.prototype={encodeSpecialChars:function(e){for(var t=D.replacements.keys();t.hasNext();){var n=t.next(),i=D.replacements.get(n);e=q.replace(e,n,i[k.random(i.length)])}return e},decodeSpecialChars:function(e){for(var t=D.replacements.keys();t.hasNext();)for(var n=t.next(),i=0,o=D.replacements.get(n);i<o.length;){var r=o[i];++i,e=q.replace(e,r,n)}return e},encode:function(e){var t=U.string(V.BASE64,8),n=this.keys.md5Pair(t),i=new W(this.keys,t),t=t+U.string(V.BASE64,n.a),t=t+A.encode(i.encode(e),!1),t=t+U.string(V.BASE64,n.b);return this.encodeSpecialChars(t)},decode:function(e){e=this.decodeSpecialChars(e);var t=l.substr(e,0,8),n=this.keys.md5Pair(t),t=new W(this.keys,t),i=8+n.a;return e=l.substr(e,i,e.length-i-n.b),t.decode(A.decode(e,!1)).toString()},__class__:D};var ja=function(){};ja.__name__=!0,ja.__interfaces__=[x],ja.prototype={encode:function(e){return e.split(\"&amp;\").map(function(e){for(var t=\"\",n=0,i=e.length;i>n;)var o=n++,r=e.charAt(o),t=0!=o&&0==o%3&&0>e.substring(o-2,o).indexOf(\"%\")&&new X(\"^[a-zA-Z0-9]$\",\"\").match(r)?t+(\"%\"+q.hex(l.cca(r,0),2)):t+r;return t}).join(\"&amp;\")},decode:function(e){return e.split(\"&amp;\").map(function(e){for(var t=\"\",n=0;n<e.length;){var i=e.charAt(n);if(\"%\"==i){var o=l.substr(e,n+1,2),o=da.decodeChar(o);null!=o&&new X(\"^[a-zA-Z0-9]$\",\"\").match(o)?(t+=o,n+=2):t+=i}else t+=i;n++}return t}).join(\"&amp;\")},__class__:ja};var W=function(e,t){this.keys=e,this.salt=t};W.__name__=!0,W.prototype={encode:function(e){return e=[this.keys.key,e].join(\":\"),xa.encode(w.ofString(e),this.salt,this.keys.shared)},decode:function(e){if(e=xa.encode(e,this.salt,this.keys.shared).toString().split(\":\"),e[0]!=this.keys.key)throw new n(d.unmangle(\"_56\"));return e.slice(1).join(\":\")},__class__:W};var M=function(){};M.__name__=!0,M.encode=function(e,t){null==t&&(t=!0);var n=new Z(M.BYTES).encodeBytes(e).toString();if(t&&0<n.length%8)for(var i=0,o=8-n.length%8;o>i;)i++,n+=\"=\";return n},M.decode=function(e,t){if(null==t&&(t=!0),t)for(;61==l.cca(e,e.length-1);)e=l.substr(e,0,-1);return new Z(M.BYTES).decodeBytes(w.ofString(e))};var da=function(){};da.__name__=!0,da.parseHex=function(e){return k.parseInt(d.unmangle(\"_47\")+e)},da.encodeChar=function(e){return q.hex(l.cca(e,0),2)},da.decodeChar=function(e){return e=k.parseInt(d.unmangle(\"_47\")+e),null==e?null:String.fromCharCode(e)};var U=function(){};U.__name__=!0,U[\"char\"]=function(e){return e.charAt(k.random(e.length))},U.string=function(e,t){for(var n=[],i=0;t>i;)i++,n.push(e.charAt(k.random(e.length)));return n.join(\"\")},U.pick=function(e){return e[k.random(e.length)]};var xa=function(){};xa.__name__=!0,xa.encode=function(e,t,n){for(var i=Math.floor(e.length/16),i=i+1,o=\"\",r=0;i>r;)var a=r++,o=o+K.encode(t+a+K.encode(n));for(t=w.alloc(e.length),n=0,i=e.length;i>n;)r=n++,t.set(r,e.b[r]^l.cca(o,r));return t};var ya=function(){};ya.__name__=!0,ya.prototype={substitute:function(e,n,i){var o=d.unmangle(n);null==t.field(e,\"_\"+o)&&t.setField(e,\"_\"+o,t.field(e,o)),e[o]=function(){return h.trace(d.unmangle(\"_8\")+o+d.unmangle(\"_9\")+arguments[0],{fileName:\"Interceptor.hx\",lineNumber:32,className:\"secretmedia.dom.Interceptor\",methodName:\"substitute\"}),i(this,t.field(e,\"_\"+o),arguments)}},poll:function(e,t){var n=null,n=function(i){for(i=0;i<e.length;){var o=e[i];++i;for(var o=window.document.getElementsByTagName(o),r=0;r<o.length;){var a=o[r];++r,t(a)}}window.requestAnimationFrame(n)};n()},__class__:ya};var y=function(e,t,i){null==i&&(i=\"\"),this.urls=new R(e,i),e=J.getLocalStorage(),i=null;var o=d.unmangle(\"_0\");if(null!=e&&null!=e.getItem(o)?i=e.getItem(o):null!=t?this.whiteList=t:i=ha.getString(o),null!=i)try{this.whiteList=JSON.parse(i)}catch(r){r instanceof n&&(r=r.val),h.trace(\"VirtDom:: Error parsing the white list \"+i,{fileName:\"VirtDom.hx\",lineNumber:85,className:\"secretmedia.dom.VirtDom\",methodName:\"new\"})}h.trace(\"VirtDom:: White list is now\",{fileName:\"VirtDom.hx\",lineNumber:88,className:\"secretmedia.dom.VirtDom\",methodName:\"new\",customParams:[this.whiteList]})};y.__name__=!0,y.startVirtualDom=function(e,t,n){if(null==n&&(n=\"\"),y.doOnlyOnce(window.document.getElementsByTagName(\"html\")[0])){h.trace(d.unmangle(\"_5\")+e,{fileName:\"VirtDom.hx\",lineNumber:42,className:\"secretmedia.dom.VirtDom\",methodName:\"startVirtualDom\"}),e=new y(e,t,n),t=new ya,n=window;var i;i=n[d.unmangle(\"_6\")][d.unmangle(\"_7\")],t.substitute(i,\"_10\",G(e,e.appendChildAndInsertBefore)),t.substitute(i,\"_33\",G(e,e.appendChildAndInsertBefore)),t.substitute(n[d.unmangle(\"_34\")],\"_35\",G(e,e.createNewElement)),t.substitute(n[d.unmangle(\"_34\")],\"_37\",G(e,e.postMessage)),t.poll([d.unmangle(\"_30\"),d.unmangle(\"_25\"),d.unmangle(\"_23\"),d.unmangle(\"_24\")],G(e,e.processPolledElement))}},y.callSuper=function(e,t,i){var o=null;try{o=t.apply(e,i)}catch(r){r instanceof n&&(r=r.val),h.trace(d.unmangle(\"_32\"),{fileName:\"VirtDom.hx\",lineNumber:101,className:\"secretmedia.dom.VirtDom\",methodName:\"callSuper\"})}return o},y.doOnlyOnce=function(e){return null==Fa._1(e,d.unmangle(\"_3\"))?(Fa._2(e,d.unmangle(\"_3\"),d.unmangle(\"_4\")),!0):!1},y.prototype={appendChildAndInsertBefore:function(e,t,n){return h.trace(d.unmangle(\"_11\"),{fileName:\"VirtDom.hx\",lineNumber:115,className:\"secretmedia.dom.VirtDom\",methodName:\"appendChildAndInsertBefore\"}),n[0]=this.processElement(n[0]),y.callSuper(e,t,n)},createNewElement:function(e,t,n){return h.trace(d.unmangle(\"_36\"),{fileName:\"VirtDom.hx\",lineNumber:129,className:\"secretmedia.dom.VirtDom\",methodName:\"createNewElement\"}),e=y.callSuper(window.document,t,n),this.processElement(e),e},postMessage:function(e,t,n){return h.trace(d.unmangle(\"_38\"),{fileName:\"VirtDom.hx\",lineNumber:145,className:\"secretmedia.dom.VirtDom\",methodName:\"postMessage\"}),n[1]=\"*\",y.callSuper(e,t,n)},processPolledElement:function(e){this.processElement(e,!0)},processElement:function(e,t){null==t&&(t=!1);try{var i;switch(e.nodeType){case 3:i=null;break;default:i=e.tagName.toUpperCase()}if(i==d.unmangle(\"_23\")){var o=e.src;if(this.changeSrc(e),t&&e.src!=o){var r=e.parentNode;r.removeChild(e);var a=window.document.createElement(\"script\");a.src=o,r.insertBefore(a,r.firstChild),h.trace(d.unmangle(\"_22\")+a.src,{fileName:\"VirtDom.hx\",lineNumber:182,\nclassName:\"secretmedia.dom.VirtDom\",methodName:\"processElement\"})}}else if(i==d.unmangle(\"_24\"))this.changeSrc(e);else if(i==d.unmangle(\"_25\")){var s=e.src;if(this.changeSrc(e),t&&e.src!=s){var l=e.parentNode;null!=l&&(l.insertBefore(e,l.firstChild),h.trace(d.unmangle(\"_22\")+e.src,{fileName:\"VirtDom.hx\",lineNumber:196,className:\"secretmedia.dom.VirtDom\",methodName:\"processElement\"}))}}else i==d.unmangle(\"_30\")&&this.processObject(e)}catch(u){u instanceof n&&(u=u.val),h.trace(d.unmangle(\"_31\")+k.string(e),{fileName:\"VirtDom.hx\",lineNumber:206,className:\"secretmedia.dom.VirtDom\",methodName:\"processElement\"})}return e},isInWhiteList:function(e){if(1==this.whiteList[d.unmangle(\"_19\")])return!0;if(null!=this.whiteList[d.unmangle(\"_20\")])for(var t=0,n=this.whiteList[d.unmangle(\"_20\")];t<n.length;){var i=n[t];if(++t,new X(i.url,\"i\").match(e))return!0}return h.trace(d.unmangle(\"_21\")+e,{fileName:\"VirtDom.hx\",lineNumber:240,className:\"secretmedia.dom.VirtDom\",methodName:\"isInWhiteList\"}),!1},processUrl:function(e){return e=this.urls.encode(u.makeAbsolute(e,window.document.location.href)),h.trace(d.unmangle(\"_18\")+e,{fileName:\"VirtDom.hx\",lineNumber:246,className:\"secretmedia.dom.VirtDom\",methodName:\"processUrl\"}),e},changeSrc:function(e){var t=e[d.unmangle(\"_12\")];switch(t){case\"\":break;default:y.doOnlyOnce(e)&&this.isInWhiteList(t)&&(h.trace(d.unmangle(\"_13\")+k.string(e)+\" \"+e.src,{fileName:\"VirtDom.hx\",lineNumber:255,className:\"secretmedia.dom.VirtDom\",methodName:\"changeSrc\"}),e.src=this.processUrl(e.src))}return e},processObject:function(e){var t=!1,n=e.data;if(\"\"==n)for(var n=e.getElementsByTagName(d.unmangle(\"_26\")),i=0;i<n.length;){var o=n[i];if(++i,o.name==d.unmangle(\"_27\")&&y.doOnlyOnce(o)){this.isInWhiteList(o.value)&&(o.value=this.processUrl(o.value),t=!0,h.trace(d.unmangle(\"_28\")+k.string(e)+\" \"+o.value,{fileName:\"VirtDom.hx\",lineNumber:277,className:\"secretmedia.dom.VirtDom\",methodName:\"processObject\"}));break}}else\"\"!=n&&y.doOnlyOnce(e)&&this.isInWhiteList(e.data)&&(h.trace(d.unmangle(\"_13\")+k.string(e)+\" \"+e.data,{fileName:\"VirtDom.hx\",lineNumber:285,className:\"secretmedia.dom.VirtDom\",methodName:\"processObject\"}),e.data=this.processUrl(e.data),t=!0);return t&&(t=e.getElementsByTagName(d.unmangle(\"_25\")),0<t.length&&(t=t[0],h.trace(d.unmangle(\"_29\")+k.string(e)+\" \"+k.string(t),{fileName:\"VirtDom.hx\",lineNumber:295,className:\"secretmedia.dom.VirtDom\",methodName:\"processObject\"}),this.changeSrc(t))),e},__class__:y},x=function(){},x.__name__=!0,x.prototype={__class__:x};var v=function(){};v.__name__=!0,v.__interfaces__=[x],v.overrideTrace=function(){var e=new v;return h.trace=G(e,e.trace),e},v.prototype={isDebug:function(){return this.eval(v.isDebugExpr)},trace:function(e,t){this.isDebug()&&this.call(v.traceFunction,Ea.toArray(e,t))},log:function(e,t){this.call(v.traceFunction,[e,t].filter(function(e){return null!=e}))},eval:function(a){return eval(a)},call:function(a,b){return eval(\"(\"+a+\")\").apply(null,[b])},__class__:v};var ka=function(e,t){null==t&&(t=!1),this.document=e,this.alwaysFire=t};ka.__name__=!0,ka.__interfaces__=[x],ka.prototype={log:function(e,n){if(null==n||!t.hasField(n,d.unmangle(\"_73\"))||!t.hasField(n,d.unmangle(\"_74\")))return h.trace(d.unmangle(\"_75\"),{fileName:\"FontLogger.hx\",lineNumber:42,className:\"secretmedia.logger.FontLogger\",methodName:\"log\"});if(this.alwaysFire||1>100*Math.random()){var i=d.unmangle(\"_76\")+e+\"-\"+k.string(n.clientId)+d.unmangle(\"_77\")+k.string(n.appKey);this.send(i,n)}},trace:function(e,t){},send:function(e,t){var n=this.document.createElement(\"style\");n.textContent=d.unmangle(\"_78\")+e+d.unmangle(\"_79\"),n.type=d.unmangle(\"_80\"),this.document.head.appendChild(n)},__class__:ka};var Ea=function(){};Ea.__name__=!0,Ea.toArray=function(e,t){var n=[e];return null!=t&&(null!=t.customParams&&(n=n.concat(t.customParams)),n.unshift(\"\"+t.fileName+\":\"+t.lineNumber+\" \"+t.className+d.unmangle(\"_86\")+t.methodName)),n};var ea=function(e){this.strategy=e};ea.__name__=!0,ea.__interfaces__=[x],ea.send=function(e,t){null==t&&(t={}),null==t.location&&(t.location=window.document.location.href);var n=JSON.stringify(t),i=new ga(e);i.setPostData(n),i.request(!0)},ea.prototype={log:function(e,t){var n=d.unmangle(\"_63\")+e,n=this.strategy.encode(n);ea.send(n,t)},trace:function(e,t){},__class__:ea};var za=function(){this.allowDetectionStateCache=!0,this.alwaysFireFontLogger=!1;var e=J.getLocalStorage();null!=e&&\"true\"==e.getItem(P.ENABLE_DEBUG)&&(this.alwaysFireFontLogger=\"true\"==e.getItem(P.ALWAYS_FIRE_FONT_LOGGER),this.allowDetectionStateCache=\"false\"!=e.getItem(P.ALLOW_DETECTION_STATE_CACHE))};za.__name__=!0,za.prototype={setDetectionState:function(e){var t=J.getSessionStorage();null!=t&&t.setItem(P.DETECTION_STATE,e)},getDetectionState:function(){if(0==this.allowDetectionStateCache)return null;var e=J.getSessionStorage();return null!=e?e.getItem(P.DETECTION_STATE):null},__class__:za};var P={__name__:!0},p={__name__:!0},Q=function(e){this.pingSwfUrl=e};Q.__name__=!0,Q.detectFlashPlayer=function(){if(null!=window.navigator.plugins&&0<window.navigator.plugins.length&&(t.hasField(window.navigator.plugins,d.unmangle(\"_154\"))||t.hasField(window.navigator.plugins,d.unmangle(\"_155\")))){var e=window.document.createElement(d.unmangle(\"_118\"));t.setField(e,d.unmangle(\"_61\"),d.unmangle(\"_95\")),window.document.body.appendChild(e);var n=\"Pan\"in e;return window.document.body.removeChild(e),n?(h.trace(d.unmangle(\"_157\"),{fileName:\"Detector.hx\",lineNumber:171,className:\"secretmedia.pptjs.Detector\",methodName:\"detectFlashPlayer\"}),!0):(h.trace(d.unmangle(\"_156\"),{fileName:\"Detector.hx\",lineNumber:168,className:\"secretmedia.pptjs.Detector\",methodName:\"detectFlashPlayer\"}),!1)}return h.trace(d.unmangle(\"_158\"),{fileName:\"Detector.hx\",lineNumber:174,className:\"secretmedia.pptjs.Detector\",methodName:\"detectFlashPlayer\"}),!1},Q.isPptCompatible=function(){try{return null!=J.getSessionStorage()&&(\"undefined\"!=typeof InstallTrigger||!!window.chrome&&!!window.chrome.webstore)}catch(e){return e instanceof n&&(e=e.val),!1}},Q.prototype={testDom:function(e){var t=!1;try{var i=window.document.createElement(d.unmangle(\"_106\"));i.setAttribute(d.unmangle(\"_133\"),e),i.setAttribute(d.unmangle(\"_134\"),e),i.setAttribute(d.unmangle(\"_135\"),d.unmangle(\"_136\")),window.document.body.appendChild(i),t=0==i.offsetWidth||0==i.offsetHeight,window.document.body.removeChild(i)}catch(o){o instanceof n&&(o=o.val),h.trace(d.unmangle(\"_137\"),{fileName:\"Detector.hx\",lineNumber:44,className:\"secretmedia.pptjs.Detector\",methodName:\"testDom\",customParams:[o]})}return h.trace(d.unmangle(\"_138\")+e+d.unmangle(\"_139\")+(null==t?\"null\":\"\"+t),{fileName:\"Detector.hx\",lineNumber:46,className:\"secretmedia.pptjs.Detector\",methodName:\"testDom\"}),t},testUrls:function(e,t,n,i){var o=this;if(0<e.length){var r=e.shift();this.ping(r,function(){h.trace(d.unmangle(\"_144\")+r,{fileName:\"Detector.hx\",lineNumber:58,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\"}),o.pingFlash(r,function(){h.trace(d.unmangle(\"_148\")+r,{fileName:\"Detector.hx\",lineNumber:60,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\"}),o.testUrls(e,t,n,i)},function(){h.trace(d.unmangle(\"_149\"),{fileName:\"Detector.hx\",lineNumber:63,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\",customParams:[r]}),n(303)},function(){h.trace(d.unmangle(\"_150\"),{fileName:\"Detector.hx\",lineNumber:68,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\",customParams:[r]}),i(2)})},function(e){h.trace(d.unmangle(\"_151\")+r,{fileName:\"Detector.hx\",lineNumber:72,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\"}),n(303)},function(){h.trace(d.unmangle(\"_152\")+r,{fileName:\"Detector.hx\",lineNumber:77,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\"}),i(1)})}else h.trace(d.unmangle(\"_153\"),{fileName:\"Detector.hx\",lineNumber:82,className:\"secretmedia.pptjs.Detector\",methodName:\"testUrls\"}),t()},ping:function(e,t,n,i){var o=new ga(e),r=!1,a=Y.delay(function(){h.trace(d.unmangle(\"_140\"),{fileName:\"Detector.hx\",lineNumber:97,className:\"secretmedia.pptjs.Detector\",methodName:\"ping\"}),r=!0,o.cancel(),i()},2e3);o.onData=function(e){r||(t(),a.stop())},o.onError=function(e){h.trace(d.unmangle(\"_141\")+e,{fileName:\"Detector.hx\",lineNumber:110,className:\"secretmedia.pptjs.Detector\",methodName:\"ping\"}),r||(n(e),a.stop())},o.onStatus=function(e){r||(h.trace(d.unmangle(\"_142\")+e+d.unmangle(\"_143\"),{fileName:\"Detector.hx\",lineNumber:118,className:\"secretmedia.pptjs.Detector\",methodName:\"ping\"}),o.cancel())},o.request()},pingFlash:function(e,t,n,i){var o=this;null==this.bridge&&(this.bridge=new ca),this.bridge.loadSwf(this.pingSwfUrl,function(){var r=o.bridge.createCallback(o.bridge,function(o){switch(h.trace(d.unmangle(\"_145\")+o+d.unmangle(\"_127\")+e+\")\",{fileName:\"Detector.hx\",lineNumber:136,className:\"secretmedia.pptjs.Detector\",methodName:\"pingFlash\"}),o){case d.unmangle(\"_122\"):t();break;case d.unmangle(\"_123\"):n();break;case d.unmangle(\"_124\"):i()}});h.trace(d.unmangle(\"_146\")+e+\")\",{fileName:\"Detector.hx\",lineNumber:143,className:\"secretmedia.pptjs.Detector\",methodName:\"pingFlash\"}),o.bridge.callAsMethod(d.unmangle(\"_147\"),[e,r])},function(){i()})},start:function(e,t,n,i){1!=e.enable?(h.trace(d.unmangle(\"_159\"),{fileName:\"Detector.hx\",lineNumber:204,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),i(111)):this.testDom(e.divId)?(h.trace(d.unmangle(\"_160\")+e.divId+\")\",{fileName:\"Detector.hx\",lineNumber:210,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),n(302)):(h.trace(d.unmangle(\"_161\")+e.divId+\")\",{fileName:\"Detector.hx\",lineNumber:214,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),0!=e.testUrls?this.testUrls(e.urls,function(){h.trace(d.unmangle(\"_162\"),{fileName:\"Detector.hx\",lineNumber:218,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),t(402)},function(e){h.trace(d.unmangle(\"_163\"),{fileName:\"Detector.hx\",lineNumber:222,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),n(e)},function(e){h.trace(d.unmangle(\"_164\"),{fileName:\"Detector.hx\",lineNumber:226,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),i(e)}):(h.trace(d.unmangle(\"_165\"),{fileName:\"Detector.hx\",lineNumber:231,className:\"secretmedia.pptjs.Detector\",methodName:\"start\"}),t(402)))},__class__:Q};var z={__ename__:!0,__constructs__:[\"NO_CONFIG_YET\",\"CONSTRUCTOR_PARAM\",\"LOADED\"],NO_CONFIG_YET:[\"NO_CONFIG_YET\",0]};z.NO_CONFIG_YET.toString=I,z.NO_CONFIG_YET.__enum__=z,z.CONSTRUCTOR_PARAM=[\"CONSTRUCTOR_PARAM\",1],z.CONSTRUCTOR_PARAM.toString=I,z.CONSTRUCTOR_PARAM.__enum__=z,z.LOADED=[\"LOADED\",2],z.LOADED.toString=I,z.LOADED.__enum__=z;var ma=F.secretmedia.pptjs.Ppt=function(e,t,i,o,r){if(null==r&&(r=\"\"),null==o&&(o=\"\"),null==i&&(i=!1),this.postLogger=this.fontLogger=null,this.initCallbacks=[],this.configProvenance=z.NO_CONFIG_YET,this.state=p.NONE,v.overrideTrace(),this.appKey=e,this.clientId=t,this.adBlockAlreadyDetected=i,this.prefix=r,this.browserStorageConfig=new za,this.fontLogger=new ka(window.document,this.browserStorageConfig.alwaysFireFontLogger),h.trace(\"hash: \"+pa.gitHash+\", appKey: \"+e,{fileName:\"Ppt.hx\",lineNumber:184,className:\"secretmedia.pptjs.Ppt\",methodName:\"new\"}),Q.isPptCompatible()){try{this.context=ba.fromAppKey(e,r),this.publisherId=this.context.config.publisherId}catch(a){a instanceof n&&(a=a.val),this.state=p.DISABLED,h.trace(\"could not decrypt app key \"+k.string(a),{fileName:\"Ppt.hx\",lineNumber:219,className:\"secretmedia.pptjs.Ppt\",methodName:\"new\"}),this.fontLogger.log(k.string(7),{appKey:e,clientId:t})}try{this.proxyDomain=this.context.config.proxyDomain,\"\"!=o?(this.configProvenance=z.CONSTRUCTOR_PARAM,this.onConfigSuccess(o)):(this.configUrl=this.context.getConfigUrl(),this.loadConfig())}catch(a){a instanceof n&&(a=a.val),this.state=p.DISABLED,h.trace(\"could not make config file URL: \"+k.string(a),{fileName:\"Ppt.hx\",lineNumber:244,className:\"secretmedia.pptjs.Ppt\",methodName:\"new\"}),this.fontLogger.log(k.string(8),{appKey:e,clientId:t})}}else h.trace(\"this browser is not supported\",{fileName:\"Ppt.hx\",lineNumber:187,className:\"secretmedia.pptjs.Ppt\",methodName:\"new\"}),this.state=p.DISABLED,this.fontLogger.log(k.string(105),{appKey:e,clientId:t})};ma.__name__=!0,ma.main=function(){v.overrideTrace(),h.trace(d.unmangle(\"_188\"),{fileName:\"Ppt.hx\",lineNumber:49,className:\"secretmedia.pptjs.Ppt\",methodName:\"main\"})},ma.prototype={callInitCallbacks:function(){h.trace(\"\"+this.initCallbacks.length+d.unmangle(\"_178\"),{fileName:\"Ppt.hx\",lineNumber:254,className:\"secretmedia.pptjs.Ppt\",methodName:\"callInitCallbacks\"});for(var e=0,t=this.initCallbacks;e<t.length;){var n=t[e];++e,n()}this.initCallbacks=[]},loadConfig:function(){this.state=p.INIT_PENDING,this.configProvenance=z.LOADED,h.trace(d.unmangle(\"_186\"),{fileName:\"Ppt.hx\",lineNumber:268,className:\"secretmedia.pptjs.Ppt\",methodName:\"loadConfig\",customParams:[this.configUrl]});var e=new ga(this.configUrl);e.onData=G(this,this.onConfigSuccess),e.onError=G(this,this.onConfigError),e.request()},onConfigTimeout:function(){h.trace(d.unmangle(\"_185\"),{fileName:\"Ppt.hx\",lineNumber:282,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigTimeout\"}),this.state=p.DISABLED,this.callInitCallbacks()},onConfigTimeoutPingFlash:function(){h.trace(d.unmangle(\"_184\"),{fileName:\"Ppt.hx\",lineNumber:294,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigTimeoutPingFlash\"}),this.onConfigTimeout()},onConfigError:function(e){h.trace(d.unmangle(\"_187\"),{fileName:\"Ppt.hx\",lineNumber:304,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigError\",customParams:[e]}),this.state=p.OUR_DOMAIN_BLOCKED,this.ourDomainBlocked(null,202)},onConfigErrorPingFlash:function(){h.trace(d.unmangle(\"_181\"),{fileName:\"Ppt.hx\",lineNumber:317,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigErrorPingFlash\"}),this.state=p.OUR_DOMAIN_BLOCKED,this.ourDomainBlocked(null,200)},onConfigSuccess:function(e){h.trace(d.unmangle(\"_170\"),{fileName:\"Ppt.hx\",lineNumber:331,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigSuccess\"});try{this.config=this.context.parseConfig(e)}catch(t){t instanceof n&&(t=t.val),h.trace(d.unmangle(\"_171\"),{fileName:\"Ppt.hx\",lineNumber:337,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigSuccess\",customParams:[t,e]})}null!=this.config.proxyUrl&&\"\"!=this.config.proxyUrl&&(this.proxyDomain=this.config.proxyUrl),h.trace(d.unmangle(\"_172\"),{fileName:\"Ppt.hx\",lineNumber:343,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigSuccess\",customParams:[this.config]}),this.postLogger=new ea(this.context.getProxy(this.config)),e=d.unmangle(\"_173\"),e=this.proxify(u.makeAbsolute(\"//smblock.s3.amazonaws.com/sdk/master/ping.swf\",window.location.href)),this.detector=new Q(e),1==this.adBlockAlreadyDetected?(this.state=p.BLOCKED,this.onConfigSuccessPingFlash()):0==this.config.testProxyDomainInFlash||0==Q.detectFlashPlayer()?(h.trace(d.unmangle(\"_179\")+k.string(this.config.testProxyDomainInFlash),{fileName:\"Ppt.hx\",lineNumber:360,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigSuccess\"}),this.onConfigSuccessPingFlash()):(h.trace(d.unmangle(\"_180\")+this.configUrl,{fileName:\"Ppt.hx\",lineNumber:365,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigSuccess\"}),this.detector.pingFlash(this.configUrl,G(this,this.onConfigSuccessPingFlash),G(this,this.onConfigErrorPingFlash),G(this,this.onConfigTimeoutPingFlash)))},onConfigSuccessPingFlash:function(){h.trace(d.unmangle(\"_177\"),{fileName:\"Ppt.hx\",lineNumber:372,className:\"secretmedia.pptjs.Ppt\",methodName:\"onConfigSuccessPingFlash\"}),this.state==p.INIT_PENDING&&(this.state=p.INIT_DONE),this.callInitCallbacks()},proxify:function(e){h.trace(d.unmangle(\"_174\")+e+\" \"+k.string(this.config),{fileName:\"Ppt.hx\",lineNumber:387,className:\"secretmedia.pptjs.Ppt\",methodName:\"proxify\"}),this.configProvenance==z.NO_CONFIG_YET&&h.trace(d.unmangle(\"_175\"),{fileName:\"Ppt.hx\",lineNumber:390,className:\"secretmedia.pptjs.Ppt\",methodName:\"proxify\"});try{return this.context.getProxy(this.config).encode(e)}catch(t){return t instanceof n&&(t=t.val),h.trace(d.unmangle(\"_176\")+k.string(t),{fileName:\"Ppt.hx\",lineNumber:397,className:\"secretmedia.pptjs.Ppt\",methodName:\"proxify\"}),e}},unblock:function(e,t){var i=this;h.trace(d.unmangle(\"_189\")+e+\" \"+k.string(t),{fileName:\"Ppt.hx\",lineNumber:410,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"});var o=function(e,o){try{h.trace(d.unmangle(\"_190\")+e+\" \"+(null==o?\"null\":\"\"+o),{fileName:\"Ppt.hx\",lineNumber:414,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),t(e,o)}catch(r){r instanceof n&&(r=r.val),h.trace(d.unmangle(\"_191\"),{fileName:\"Ppt.hx\",lineNumber:418,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\",customParams:[r,t]}),null!=i.postLogger?i.postLogger.log(k.string(9),{appKey:i.appKey,clientId:i.clientId}):i.fontLogger.log(k.string(9),{appKey:i.appKey,clientId:i.clientId})}};switch(this.state){case d.unmangle(\"_88\"):case d.unmangle(\"_87\"):h.trace(d.unmangle(\"_192\"),{fileName:\"Ppt.hx\",lineNumber:431,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\",customParams:[e]}),this.initCallbacks.push(function(){h.trace(d.unmangle(\"_193\"),{fileName:\"Ppt.hx\",lineNumber:434,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\",customParams:[e,i.state]}),i.unblock(e,t)});break;case d.unmangle(\"_93\"):this.disabled(e,o,null);break;case d.unmangle(\"_90\"):this.notBlocked(e,o,null);break;case d.unmangle(\"_91\"):this.blocked(e,o,null);break;case d.unmangle(\"_92\"):this.ourDomainBlocked(e,null);break;case d.unmangle(\"_89\"):h.trace(d.unmangle(\"_199\"),{fileName:\"Ppt.hx\",lineNumber:449,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"});var r=this.browserStorageConfig.getDetectionState();if(null!=r)switch(r){case d.unmangle(\"_93\"):this.state=p.DISABLED,h.trace(d.unmangle(\"_200\"),{fileName:\"Ppt.hx\",lineNumber:457,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),this.disabled(e,o,107);break;case d.unmangle(\"_90\"):this.state=p.NOT_BLOCKED,h.trace(d.unmangle(\"_201\"),{fileName:\"Ppt.hx\",lineNumber:461,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),this.notBlocked(e,o,404);break;case d.unmangle(\"_91\"):this.state=p.BLOCKED,h.trace(d.unmangle(\"_202\"),{fileName:\"Ppt.hx\",lineNumber:465,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),this.blocked(e,o,307);break;default:this.state=p.DISABLED,h.trace(d.unmangle(\"_203\"),{fileName:\"Ppt.hx\",lineNumber:469,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),this.disabled(e,o,109)}else this.detector.start(this.config,function(t){i.state=p.NOT_BLOCKED,h.trace(d.unmangle(\"_204\")+t+d.unmangle(\"_205\"),{fileName:\"Ppt.hx\",lineNumber:477,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),1==i.config.cacheDetection&&i.browserStorageConfig.setDetectionState(p.NOT_BLOCKED),i.notBlocked(e,o,t)},function(t){h.trace(d.unmangle(\"_204\")+t+d.unmangle(\"_206\"),{fileName:\"Ppt.hx\",lineNumber:483,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),1==i.config.cacheDetection&&i.browserStorageConfig.setDetectionState(p.BLOCKED),i.blocked(e,o,t)},function(t){i.state=p.DISABLED,h.trace(d.unmangle(\"_204\")+t+d.unmangle(\"_207\"),{fileName:\"Ppt.hx\",lineNumber:490,className:\"secretmedia.pptjs.Ppt\",methodName:\"unblock\"}),1==i.config.cacheDetection&&i.browserStorageConfig.setDetectionState(p.DISABLED),i.disabled(e,o,t)})}},ourDomainBlocked:function(e,t){h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:507,className:\"secretmedia.pptjs.Ppt\",methodName:\"ourDomainBlocked\"}),h.trace(d.unmangle(\"_183\"),{fileName:\"Ppt.hx\",lineNumber:508,className:\"secretmedia.pptjs.Ppt\",methodName:\"ourDomainBlocked\"}),h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:509,className:\"secretmedia.pptjs.Ppt\",methodName:\"ourDomainBlocked\"}),null!=t&&(null!=this.postLogger?this.postLogger.log(k.string(t),{appKey:this.appKey,clientId:this.clientId}):this.fontLogger.log(k.string(t),{appKey:this.appKey,clientId:this.clientId}))},handleError:function(e,t,n){h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:527,className:\"secretmedia.pptjs.Ppt\",methodName:\"handleError\"}),h.trace(d.unmangle(\"_208\")+e,{fileName:\"Ppt.hx\",lineNumber:528,className:\"secretmedia.pptjs.Ppt\",methodName:\"handleError\"}),h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:529,className:\"secretmedia.pptjs.Ppt\",methodName:\"handleError\"}),this.state=p.DISABLED,t(e,!1),null!=n&&(null!=this.postLogger?this.postLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}):this.fontLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}))},blocked:function(e,t,n){null!=this.config.vastUrl&&\"\"!=this.config.vastUrl&&(h.trace(d.unmangle(\"_196\")+this.config.vastUrl+\")\",{fileName:\"Ppt.hx\",lineNumber:553,className:\"secretmedia.pptjs.Ppt\",methodName:\"blocked\"}),e=this.config.vastUrl),e=this.proxify(e),h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:558,className:\"secretmedia.pptjs.Ppt\",methodName:\"blocked\"}),h.trace(d.unmangle(\"_197\")+e,{fileName:\"Ppt.hx\",lineNumber:559,className:\"secretmedia.pptjs.Ppt\",methodName:\"blocked\"}),h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:560,className:\"secretmedia.pptjs.Ppt\",methodName:\"blocked\"}),this.state=p.BLOCKED,this.config.virtualDom?y.startVirtualDom(this.proxyDomain,this.config.whiteList,this.prefix):h.trace(d.unmangle(\"_198\"),{fileName:\"Ppt.hx\",lineNumber:568,className:\"secretmedia.pptjs.Ppt\",methodName:\"blocked\"}),t(e,!0),null!=n&&(null!=this.postLogger?this.postLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}):this.fontLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}))},notBlocked:function(e,t,n){h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:589,className:\"secretmedia.pptjs.Ppt\",methodName:\"notBlocked\"}),h.trace(d.unmangle(\"_195\")+e,{fileName:\"Ppt.hx\",lineNumber:590,className:\"secretmedia.pptjs.Ppt\",methodName:\"notBlocked\"}),h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:591,className:\"secretmedia.pptjs.Ppt\",methodName:\"notBlocked\"}),t(e,!1),null!=n&&(null!=this.postLogger?this.postLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}):this.fontLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}))},disabled:function(e,t,n){h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:611,className:\"secretmedia.pptjs.Ppt\",methodName:\"disabled\"}),h.trace(d.unmangle(\"_194\")+e,{fileName:\"Ppt.hx\",lineNumber:612,className:\"secretmedia.pptjs.Ppt\",methodName:\"disabled\"}),h.trace(d.unmangle(\"_182\"),{fileName:\"Ppt.hx\",lineNumber:613,className:\"secretmedia.pptjs.Ppt\",methodName:\"disabled\"}),t(e,!1),null!=n&&(null!=this.postLogger?this.postLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}):this.fontLogger.log(k.string(n),{appKey:this.appKey,clientId:this.clientId}))},__class__:ma};var Ja=0;Array.prototype.indexOf&&(l.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}),String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__=[\"Date\"];var Ka={__name__:[\"Int\"]},La={__name__:[\"Dynamic\"]},Ga=Number;Ga.__name__=[\"Float\"];var Ha=Boolean;Ha.__ename__=[\"Bool\"];var Ma={__name__:[\"Class\"]},Na={};null==Array.prototype.map&&(Array.prototype.map=function(e){for(var t=[],n=0,i=this.length;i>n;){var o=n++;t[o]=e(this[o])}return t}),null==Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=[],n=0,i=this.length;i>n;){var o=this[n++];e(o)&&t.push(o)}return t}),ha.content=[{name:\"__\",data:\"eyJfMCI6IndoaXRlTGlzdCIsIl8xIjoiZ2V0QXR0cmlidXRlIiwiXzIiOiJzZXRBdHRyaWJ1dGUiLCJfMyI6ImRhdGEtcGFzc3BhcnRvdXQiLCJfNCI6ImZvcnRib3lhcmQiLCJfNSI6InN0YXJ0VmlydHVhbERvbSAiLCJfNiI6IkhUTUxFbGVtZW50IiwiXzciOiJwcm90b3R5cGUiLCJfOCI6IkNhbGwgdG8gIiwiXzkiOiIgd2l0aCAiLCJfMTAiOiJhcHBlbmRDaGlsZCIsIl8xMSI6IlZpcnREb206OiBhcHBlbmRDaGlsZEFuZEluc2VydEJlZm9yZSIsIl8xMiI6InNyYyIsIl8xMyI6IlZpcnREb206OiBwcm94aWZpZWQgIiwiXzE0IjoiYWJvdXQ6IiwiXzE1IjoibWFpbHRvOiIsIl8xNiI6ImNocm9tZToiLCJfMTciOiJqYXZhc2NyaXB0OiIsIl8xOCI6IlZpcnREb206OiBlbmNvZGVVcmwgcmV0dXJucyAiLCJfMTkiOiJ3aGl0ZUxpc3RBbGwiLCJfMjAiOiJmcm9tanMiLCJfMjEiOiJWaXJ0RG9tOjogV2hpdGUgbGlzdCByZWplY3Q6ICIsIl8yMiI6IlZpcnREb206OiByZWF0dGFjaCAiLCJfMjMiOiJTQ1JJUFQiLCJfMjQiOiJJRlJBTUUiLCJfMjUiOiJFTUJFRCIsIl8yNiI6IlBBUkFNIiwiXzI3IjoibW92aWUiLCJfMjgiOiJWaXJ0RG9tOjogcHJveGlmaWVkIChQQVJBTSB0YWcpICIsIl8yOSI6IlZpcnREb206OiBmb3VuZCBlbWJlZCB0YWcgaW4gb2JqZWN0IHRhZyAiLCJfMzAiOiJPQkpFQ1QiLCJfMzEiOiJWaXJ0RG9tOjogRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBlbGVtZW50ICIsIl8zMiI6IlZpcnREb206OiBFcnJvciB3aGlsZSBpbnZva2luZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uIiwiXzMzIjoiaW5zZXJ0QmVmb3JlIiwiXzM0Ijoid2luZG93IiwiXzM1IjoiY3JlYXRlRWxlbWVudCIsIl8zNiI6IlZpcnREb206OiBjcmVhdGVFbGVtZW50IiwiXzM3IjoicG9zdE1lc3NhZ2UiLCJfMzgiOiJWaXJ0RG9tOjogcG9zdE1lc3NhZ2UiLCJfMzkiOiJFUmVnOjptYXRjaGVkIiwiXzQwIjoiTm8gc3RyaW5nIG1hdGNoZWQiLCJfNDEiOiIjX19kZWxpbV9fIyIsIl80MiI6Ik5vdCBpbXBsZW1lbnRlZCIsIl80MyI6IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLCJfNDQiOiJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3IiwiXzQ1Ijoic2VjcmV0bWVkaWEiLCJfNDYiOiJ0b3RvdG90b3QiLCJfNDciOiIweCIsIl80OCI6InVoQUZ6IiwiXzQ5IjoicE9pZCIsIl81MCI6InhhYXhhIiwiXzUxIjoiZFNWS2N6IiwiXzUyIjoieGFaWnIiLCJfNTMiOiJkc29palYiLCJfNTQiOiIvLyIsIl81NSI6ImNvbmZpZ1VybCIsIl81NiI6IkNhbm5vdCBkZWNvZGUgc3RyaW5nOiBrZXkgaXMgaW52YWxpZCIsIl81NyI6ImlkUHVibGlzaGVyIiwiXzU4Ijoic21TZGtWZXJzaW9uIiwiXzU5IjoiZ2l0SGFzaCIsIl82MCI6ImNvbmZpZyIsIl82MSI6InR5cGUiLCJfNjIiOiJwdWJsaXNoZXJJZCIsIl82MyI6ImxvZzovLyIsIl82NCI6IlJlZmxlY3QuZ2V0UHJvcGVydHkiLCJfNjUiOiJnZXRfIiwiXzY2Ijoic2V0XyIsIl82NyI6IlJlZmxlY3Quc2V0UHJvcGVydHkiLCJfNjgiOiJfX2lkX18iLCJfNjkiOiJoeF9fY2xvc3VyZXNfXyIsIl83MCI6ImZ1bmN0aW9uIiwiXzcxIjoic3RyaW5nIiwiXzcyIjoib2JqZWN0IiwiXzczIjoiY2xpZW50SWQiLCJfNzQiOiJhcHBLZXkiLCJfNzUiOiJNaXNzaW5nIGZpZWxkcyBpbiB0aGUgZGF0YSBvYmplY3QuIE11c3QgaGF2ZSBjbGllbnRJZCBhbmQgYXBwS2V5IiwiXzc2IjoiLy9jYWNoZS5mcmVlZm9udHN0b3JlLmNvbS9hcmlhbC0iLCJfNzciOiIudHRmPyIsIl83OCI6IkBmb250LWZhY2UgeyBmb250LWZhbWlseTogXCJkYWZvbnRcIjsgc3JjOiB1cmwoIiwiXzc5IjoiKTt9IiwiXzgwIjoidGV4dC9jc3MiLCJfODEiOiJzZWNyZXRtZWRpYS5lbmFibGVMb2dzIiwiXzgyIjoiKGZ1bmN0aW9uKCl7XG5cdFx0aWYoIHR5cGVvZiB3aW5kb3cgPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgbG9jYXRpb24gPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgIC8vIG5vZGVqcyBjYXNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0dmFyIHdpbiA9IHdpbmRvdztcblx0XHR0cnkge1xuXHRcdFx0d2luID0gd2luZG93LnRvcDtcblx0XHR9XG4gICAgY2F0Y2goZSkge31cbiAgICB0cnl7XG4gICAgICByZXR1cm4gd2luLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiIiwiXzgzIjoiXCIpID09PSBcInRydWVcIiB8fFxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCIiLCJfODQiOiJcIikgPT09IFwidHJ1ZVwiIHx8XG4gICAgICAgIFtcImxvY2FsaG9zdFwiLCBcIjEyNy4wLjAuMVwiXS5pbmRleE9mKCBsb2NhdGlvbi5ob3N0bmFtZSApID4gLTE7XG4gICAgfVxuICAgIGNhdGNoKGUpe1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblx0fSkoKSIsIl84NSI6ImZ1bmN0aW9uKCl7XG5cdFx0dmFyIGEgPSBhcmd1bWVudHMsYztcblx0XHR0cnkgeyBjID0gd2luZG93LnRvcC5jb25zb2xlOyB9IGNhdGNoICggZSApIHsgYyA9IGNvbnNvbGU7IH1cbiAgICAgICAgYy5sb2cuYXBwbHkoYywgYVswXSk7XG5cdH0iLCJfODYiOiI6OiIsIl84NyI6Ik5PTkUiLCJfODgiOiJJTklUX1BFTkRJTkciLCJfODkiOiJJTklUX0RPTkUiLCJfOTAiOiJOT1RfQkxPQ0tFRCIsIl85MSI6IkJMT0NLRUQiLCJfOTIiOiJPVVJfRE9NQUlOX0JMT0NLRUQiLCJfOTMiOiJESVNBQkxFRCIsIl85NCI6IkZsYXNoVmFycyIsIl85NSI6ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiwiXzk2IjoiQWN0aXZlWE9iamVjdCIsIl85NyI6ImNsYXNzaWQiLCJfOTgiOiJjbHNpZDpkMjdjZGI2ZS1hZTZkLTExY2YtOTZiOC00NDQ1NTM1NDAwMDAiLCJfOTkiOiJkYXRhIiwiXzEwMCI6Ij1cIiIsIl8xMDEiOiI8b2JqZWN0IGlkPVwiIiwiXzEwMiI6IjxwYXJhbSBuYW1lPVwiIiwiXzEwMyI6IlwiIHZhbHVlPVwiIiwiXzEwNCI6IlwiIC8+IiwiXzEwNSI6Ijwvb2JqZWN0PiIsIl8xMDYiOiJkaXYiLCJfMTA3IjoiYWxyZWFkeSBsb2FkZWQiLCJfMTA4IjoiYWxsb3dzY3JpcHRhY2Nlc3MiLCJfMTA5IjoiYWx3YXlzIiwiXzExMCI6ImFsbG93bmV0d29ya2luZyIsIl8xMTEiOiJhbGwiLCJfMTEyIjoid2lkdGgiLCJfMTEzIjoiaGVpZ2h0IiwiXzExNCI6ImJyaWRnZU5hbWUiLCJfMTE1IjoiX29iaiIsIl8xMTYiOiJUaW1lb3V0ISAiLCJfMTE3Ijoib25GbGFzaExvYWRlZCBjYWxsZWQgYnkgQVMgIiwiXzExOCI6ImVtYmVkIiwiXzExOSI6IkVycm9yIGluIEFTOiAiLCJfMTIwIjoiY2FsbENhbGxiYWNrIEVycm9yOiBjb3VsZCBub3QgZmluZCB0aGUgRmxhc2ggb2JqZWN0IHRhZyAoaWQ9IiwiXzEyMSI6ImNhbGxDYWxsYmFjayIsIl8xMjIiOiJsb2FkZWQiLCJfMTIzIjoiYmxvY2tlZCIsIl8xMjQiOiJ0aW1lb3V0IiwiXzEyNSI6ImNhbGxpbmcgIiwiXzEyNiI6IkVycm9yIGNhbGxpbmcgY2FsbGJhY2s6ICIsIl8xMjciOiIgKCIsIl8xMjgiOiIsICIsIl8xMjkiOiJjYmtfIiwiXzEzMCI6IkJyaWRnZUJhc2U6OiBjcmVhdGVDYWxsYmFjayAiLCJfMTMxIjoiaW5zdF8iLCJfMTMyIjoiQnJpZGdlQmFzZTo6IGFkZEluc3RhbmNlICIsIl8xMzMiOiJjbGFzcyIsIl8xMzQiOiJpZCIsIl8xMzUiOiJzdHlsZSIsIl8xMzYiOiJ3aWR0aDoxcHg7aGVpZ2h0OjFweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZjAwMDAiLCJfMTM3IjoiRXJyb3I6IEphdmFzY3JpcHQgRE9NIHRlc3QgZmFpbGVkIHdpdGggYW4gZXJyb3IgIiwiXzEzOCI6InRlc3REb20gcmV0dXJucyBkaXYgIiwiXzEzOSI6IiBpcyBoaWRkZW46ICIsIl8xNDAiOiJUaW1lb3V0ISIsIl8xNDEiOiJvbkVycm9yICIsIl8xNDIiOiJvblN0YXR1cyAiLCJfMTQzIjoiID0+IGNhbmNlbCByZXF1ZXN0IiwiXzE0NCI6InRlc3QgVVJMcyBpbiBwcm9nZXNzLCB0aGlzIFVSTCBpcyBub3QgYmxvY2tlZCBpbiBKUzogIiwiXzE0NSI6IlBpbmcgaXMgYmFjayB3aXRoICIsIl8xNDYiOiJQaW5nIHN0YXJ0cyAoIiwiXzE0NyI6InBpbmciLCJfMTQ4IjoidGVzdCBVUkxzIGluIHByb2dlc3MsIHRoaXMgVVJMIGlzIG5vdCBibG9ja2VkIGluIEZsYXNoOiAiLCJfMTQ5IjoidGVzdCBVUkxzIGVuZCwgYmxvY2tlZCBpbiBGbGFzaCIsIl8xNTAiOiJ0ZXN0IFVSTHMgZW5kLCB0aW1lb3V0IGluIEZsYXNoISIsIl8xNTEiOiJ0ZXN0IFVSTHMgZW5kLCBibG9ja2VkIGluIEpTOiAiLCJfMTUyIjoidGVzdCBVUkxzIGVuZCwgdGltZW91dCBpbiBKUyEgIiwiXzE1MyI6InRlc3QgVVJMcyBlbmQsIE5PVCBibG9ja2VkICIsIl8xNTQiOiJTaG9ja3dhdmUgRmxhc2giLCJfMTU1IjoiU2hvY2t3YXZlIEZsYXNoIDIuMCIsIl8xNTYiOiJmbGFzaCBpcyBpbnN0YWxsZWQgYnV0IE5PVCBhY3RpdmF0ZWQiLCJfMTU3IjoiZmxhc2ggaXMgaW5zdGFsbGVkIGFuZCBhY3RpdmF0ZWQiLCJfMTU4IjoiZmxhc2ggaXMgTk9UIGluc3RhbGxlZCIsIl8xNTkiOiJEZXRlY3Rpb24gaXMgZGlzYWJsZWQgZnJvbSBjb25maWciLCJfMTYwIjoidGVzdERvbSA9PiBibG9ja2VkICgiLCJfMTYxIjoidGVzdERvbSA9PiBOT1QgYmxvY2tlZCAoIiwiXzE2MiI6InRlc3RVcmxzID0+IG5vdCBibG9ja2VkIiwiXzE2MyI6InRlc3RVcmxzID0+IGJsb2NrZWQiLCJfMTY0IjoidGVzdFVybHMgdGltZW91dCA9PiBkaXNhYmxlZCIsIl8xNjUiOiJ0ZXN0VXJscyBpcyBkaXNhYmxlZCBmcm9tIGNvbmZpZyA9PiBub3QgYmxvY2tlZCIsIl8xNjYiOiJzZWNyZXRtZWRpYS5lbmFibGVEZWJ1ZyIsIl8xNjciOiJzZWNyZXRtZWRpYS5hbHdheXNGaXJlRm9udExvZ2dlciIsIl8xNjgiOiJzZWNyZXRtZWRpYS5hbGxvd0RldGVjdGlvblN0YXRlQ2FjaGUiLCJfMTY5Ijoic2VjcmV0bWVkaWEuZGV0ZWN0aW9uU3RhdGUiLCJfMTcwIjoiYmVnaW4gcGFyc2UgY29uZmlnIGZpbGUiLCJfMTcxIjoiRXJyb3IgcGFyc2luZyBjb25maWcgZmlsZSAiLCJfMTcyIjoiZW5kIHBhcnNlIGNvbmZpZyBmaWxlICIsIl8xNzMiOiIvc2RrL3B1Yi9waW5nLnN3ZiIsIl8xNzQiOiJwcm94eWZ5ICIsIl8xNzUiOiJFcnJvcjogcHJveGlmaWVkIGNhbGxlZCBiZWZvcmUgdGhlIGNvbmZpZyBhbmQgZGV0ZWN0aW9uIGhhdmUgb2NjdXJlZCIsIl8xNzYiOiJFcnJvciAiLCJfMTc3Ijoib25Db25maWdTdWNjZXNzUGluZ0ZsYXNoIiwiXzE3OCI6IiBjYWxsYmFja3MiLCJfMTc5Ijoic2tpcCBmbGFzaCBwaW5nOiAiLCJfMTgwIjoiZmxhc2ggcGluZyBjb25maWcgVVJMICIsIl8xODEiOiJFcnJvciBsb2FkaW5nIGNvbmZpZyBmcm9tIEZsYXNoIiwiXzE4MiI6IioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioiLCJfMTgzIjoiQWRibG9jayBkZXRlY3RlZCBhbmQgb3VyIGRvbWFpbiBibG9ja2VkIiwiXzE4NCI6IlRJTUVPVVQgbG9hZGluZyBjb25maWcgaW4gRmxhc2guIiwiXzE4NSI6IlRJTUVPVVQgbG9hZGluZyBjb25maWcuIERvIG5vdGhpbmcgYW55bW9yZSwganVzdCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgYXMgaWYgdGhlcmUgaXMgbm8gYWQgYmxvY2siLCJfMTg2IjoiYmVnaW4gbG9hZCBjb25maWcgZmlsZSAiLCJfMTg3IjoiRXJyb3IgbG9hZGluZyBjb25maWcgPT4gb3VyIGRvbWFpbiBpcyBibG9ja2VkIiwiXzE4OCI6IlBwdDo6IEJvb3RzdHJhcCIsIl8xODkiOiJ1bmJsb2NrIGNhbGxlZCBieSBob3N0LCAiLCJfMTkwIjoiY2JrIGNhbGxlZCAiLCJfMTkxIjoiRXJyb3Igd2hpbGUgY2FsbGluZyB0aGUgY2FsbGJhY2sgcGFzc2VkIHRvIGNiazogIiwiXzE5MiI6IlVuYmxvY2ssIGluaXQgcGVuZGluZywgZGVsYXkgZXhlY3V0aW9uIiwiXzE5MyI6IlVuYmxvY2sgaXMgYmFjayBhZnRlciBpbml0IiwiXzE5NCI6IlNNIGRpc2FibGVkICIsIl8xOTUiOiJBZGJsb2NrIG5vdCBkZXRlY3RlZCAiLCJfMTk2IjoiY29uZmlnLnZhc3RVcmwgZGV0ZWN0ZWQsIG91ciB2YXN0IHdpbGwgYmUgcHJveGlmaWVkIGluc3RlYWQgb2YgdGhlIHByb3ZpZGVkIG9uZSAoIiwiXzE5NyI6IkFkYmxvY2sgZGV0ZWN0ZWQgIiwiXzE5OCI6IlZpcnR1YWxEb20gaXMgZGlzYWJsZWQ6IGZyb20gY29uZmlnIiwiXzE5OSI6IioqIHN0YXJ0IGRldGVjdG9yIiwiXzIwMCI6IioqIGRldGVjdGlvbiBzdGF0ZSB3YXMgY2FjaGVkOiBkaXNhYmxlZCIsIl8yMDEiOiIqKiBkZXRlY3Rpb24gc3RhdGUgd2FzIGNhY2hlZDogbm90IGJsb2NrZWQiLCJfMjAyIjoiKiogZGV0ZWN0aW9uIHN0YXRlIHdhcyBjYWNoZWQ6IGJsb2NrZWQiLCJfMjAzIjoiKiogZGV0ZWN0aW9uIHN0YXRlIHdhcyBjYWNoZWQgYnV0IHRoZSBzdGF0ZSBpcyB1bmtub3duLCBub3cgZGlzYWJsZWQiLCJfMjA0IjoiKiogc3RhcnQgaXMgYmFjayAgKCIsIl8yMDUiOiIsIG5vdCBibG9ja2VkKSIsIl8yMDYiOiIsIGJsb2NrZWQpIiwiXzIwNyI6IiwgZGlzYWJsZWQpIiwiXzIwOCI6IkFuIGVycm9yIG9jY3VyZWQsIHZhc3RVcmw9ICIsIl8yMDkiOiJhbHRlcm5hdGVVcmwiLCJfMjEwIjoicHJveHlCYXNlIiwiXzIxMSI6IlRvbyBtYW55IGFyZ3VtZW50cyIsIl8yMTIiOiJObyBzdWNoIGNvbnN0cnVjdG9yICIsIl8yMTMiOiJDb25zdHJ1Y3RvciAiLCJfMjE0IjoiIG5lZWQgcGFyYW1ldGVycyIsIl8yMTUiOiIgZG9lcyBub3QgbmVlZCBwYXJhbWV0ZXJzIiwiXzIxNiI6IiBpcyBub3QgYSB2YWxpZCBlbnVtIGNvbnN0cnVjdG9yIGluZGV4IiwiXzIxNyI6Il9fY2xhc3NfXyIsIl8yMTgiOiJfX3Byb3BlcnRpZXNfXyIsIl8yMTkiOiJfX25hbWVfXyIsIl8yMjAiOiJfX2ludGVyZmFjZXNfXyIsIl8yMjEiOiJfX3N1cGVyX18iLCJfMjIyIjoiX19tZXRhX18iLCJfMjIzIjoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1NjciLCJfMjI0IjoiJmFtcDsiLCJfMjI1IjoiJmx0OyIsIl8yMjYiOiImZ3Q7IiwiXzIyNyI6IiZxdW90OyIsIl8yMjgiOiImIzAzOTsiLCJfMjI5IjoiMDEyMzQ1Njc4OUFCQ0RFRiIsIl8yMzAiOiJzbSIsIl8yMzEiOiJ0byIsIl8yMzIiOiJodHRwcyIsIl8yMzMiOiJodHRwIiwiXzIzNCI6ImxvZyIsIl8yMzUiOiJtcDQiLCJfMjM2IjoibXAzIiwiXzIzNyI6ImZsdiIsIl8yMzgiOiJtcGVnIiwiXzIzOSI6IndtdiIsIl8yNDAiOiJ3ZWJtIiwiXzI0MSI6IjNncCIsIl8yNDIiOiJmNHYiLCJfMjQzIjoiZjRtIiwiXzI0NCI6InVrbiIsIl8yNDUiOiI6Ly8iLCJfMjQ2IjoiLnN3ZiIsIl8yNDciOiJodHRwOi8vIn0\"\n}];var r={},sa=Ba.ArrayBuffer||H;null==sa.prototype.slice&&(sa.prototype.slice=H.sliceImpl);var ra=Ba.Uint8Array||O._new;pa.gitHash=q.trim(\"fb603bc\\n\"),A.CHARS=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",A.BYTES=w.ofString(A.CHARS),new qa(0,0),m.__toStr={}.toString,O.BYTES_PER_ELEMENT=1,ba.VERSION=\"1.0.0\",d.map=JSON.parse(ha.getString(\"__\")),u.DOUBLE_SLASH=\"//\",u.SPECIAL_PREFIXES=[d.unmangle(\"_14\"),d.unmangle(\"_15\"),d.unmangle(\"_16\"),d.unmangle(\"_17\")],d.unmangle(\"_122\"),d.unmangle(\"_123\"),d.unmangle(\"_124\"),T.FLASHVAR_BRIDGE_NAME=d.unmangle(\"_114\"),ca.TIMEOUT_DELAY_MS=2e3,C.SCHEMES=function(e){e=new L;var t=d.unmangle(\"_232\");return null!=r[t]?e.setReserved(t,1):e.h[t]=1,t=d.unmangle(\"_233\"),null!=r[t]?e.setReserved(t,0):e.h[t]=0,t=d.unmangle(\"_234\"),null!=r[t]?e.setReserved(t,2):e.h[t]=2,e}(this),C.KEEP_EXTENSIONS=[d.unmangle(\"_235\"),d.unmangle(\"_236\"),d.unmangle(\"_237\"),d.unmangle(\"_238\"),d.unmangle(\"_239\"),d.unmangle(\"_240\"),d.unmangle(\"_241\"),d.unmangle(\"_242\"),d.unmangle(\"_243\"),d.unmangle(\"_244\")],V.BASE64=d.unmangle(\"_43\"),V.BASE32=d.unmangle(\"_44\"),D.SALT_LENGTH=8,D.SEPARATOR=\":\",D.replacements=function(e){e=new L;var t=[d.unmangle(\"_48\"),d.unmangle(\"_49\"),d.unmangle(\"_50\")];return null!=r[\"+\"]?e.setReserved(\"+\",t):e.h[\"+\"]=t,t=[d.unmangle(\"_51\"),d.unmangle(\"_52\"),d.unmangle(\"_53\")],null!=r[\"/\"]?e.setReserved(\"/\",t):e.h[\"/\"]=t,e}(this),ja.AMP=\"&amp;\",W.SEPARATOR=\":\",M.CHARS=d.unmangle(\"_223\"),M.BYTES=w.ofString(M.CHARS),v.KEY_ENABLE_LOGS=d.unmangle(\"_81\"),v.isDebugExpr=d.unmangle(\"_82\")+v.KEY_ENABLE_LOGS+d.unmangle(\"_83\")+v.KEY_ENABLE_LOGS+d.unmangle(\"_84\"),v.traceFunction=d.unmangle(\"_85\"),ka.PERCENT_SENT=1,P.ENABLE_DEBUG=d.unmangle(\"_166\"),P.ALWAYS_FIRE_FONT_LOGGER=d.unmangle(\"_167\"),P.DETECTION_STATE=d.unmangle(\"_169\"),P.ALLOW_DETECTION_STATE_CACHE=d.unmangle(\"_168\"),p.NONE=d.unmangle(\"_87\"),p.INIT_PENDING=d.unmangle(\"_88\"),p.INIT_DONE=d.unmangle(\"_89\"),p.NOT_BLOCKED=d.unmangle(\"_90\"),p.BLOCKED=d.unmangle(\"_91\"),p.OUR_DOMAIN_BLOCKED=d.unmangle(\"_92\"),p.DISABLED=d.unmangle(\"_93\"),Q.TIMEOUT_DELAY_MS=2e3,N.main()}(\"undefined\"!=typeof console?console:{log:function(){}},\"undefined\"!=typeof window?window:exports,\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this),SMSdk}),Ndn_Require.define(\"models/Ndn/AdBlockDetector\",[\"jquery\",\"underscore\",\"backbone\",\"lib/secret-media\",\"models/Ndn/EventHub\"],function(e,t,n,i,o){var r,a,s=\"eyJjb25maWdVcmwiOiJjemFyaXR6YWxhdWdoYWJseS5jb20iLCJwdWJsaXNoZXJJZCI6Ijk3In0=\",l=null;return{reset:function(){l=null,a&&a.reject()},getDetectionProcess:function(){return a||(a=this.detectAdBlock()),a.promise()},detectAdBlock:function(){var t=this;return e.Deferred(function(e){t.getSdk().unblock(\"\",function(n,i){e&&\"rejected\"!=e.state()&&(l=i,o.trigger(\"adBlockDetectionComplete\",{adBlockDetectionId:t.getCachedScenarioId()}),e.resolve())})})},isDetectionComplete:function(){return null!==l},hasAdBlocker:function(t){var n=this;return e.Deferred(e.proxy(function(e){function i(){e.resolve(n.getCachedScenarioId())}return!t||n.isDetectionComplete()?i():void n.getDetectionProcess().done(i)},this)).promise()},proxify:function(e){return this.getSdk().proxify(e)},getSdk:function(){return r||(r=new i(s,\"\")),r},getCachedScenarioId:function(){return null===l?2:l===!0?1:0}}}),function(e,t){\"object\"==typeof exports&&exports?module.exports=t:\"function\"==typeof Ndn_Require.define&&Ndn_Require.define.amd?Ndn_Require.define(\"mustache\",t):e.Mustache=t}(this,function(){function e(e,t){return v.call(e,t)}function t(t){return!e(f,t)}function n(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")}function i(e){return String(e).replace(/[&<>\"'\\/]/g,function(e){return E[e]})}function o(e){this.string=e,this.tail=e,this.pos=0}function r(e,t){this.view=e||{},this.parent=t,this._cache={}}function a(){this.clearCache()}function s(e,t,n,i){for(var o,r,a,l=\"\",u=0,c=e.length;c>u;++u)switch(o=e[u],r=o[1],o[0]){case\"#\":if(a=n.lookup(r),\"object\"==typeof a)if(b(a))for(var d=0,p=a.length;p>d;++d)l+=s(o[4],t,n.push(a[d]),i);else a&&(l+=s(o[4],t,n.push(a),i));else if(\"function\"==typeof a){var h=null==i?null:i.slice(o[3],o[5]);a=a.call(n.view,h,function(e){return t.render(e,n)}),null!=a&&(l+=a)}else a&&(l+=s(o[4],t,n,i));break;case\"^\":a=n.lookup(r),(!a||b(a)&&0===a.length)&&(l+=s(o[4],t,n,i));break;case\">\":a=t.getPartial(r),\"function\"==typeof a&&(l+=a(n));break;case\"&\":a=n.lookup(r),null!=a&&(l+=a);break;case\"name\":a=n.lookup(r),null!=a&&(l+=w.escape(a));break;case\"text\":l+=r}return l}function l(e){for(var t,n=[],i=n,o=[],r=0,a=e.length;a>r;++r)switch(t=e[r],t[0]){case\"#\":case\"^\":o.push(t),i.push(t),i=t[4]=[];break;case\"/\":var s=o.pop();s[5]=t[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(t)}return n}function u(e){for(var t,n,i=[],o=0,r=e.length;r>o;++o)t=e[o],t&&(\"text\"===t[0]&&n&&\"text\"===n[0]?(n[1]+=t[1],n[3]=t[3]):(n=t,i.push(t)));return i}function c(e){return[new RegExp(n(e[0])+\"\\\\s*\"),new RegExp(\"\\\\s*\"+n(e[1]))]}function d(e,i){function r(){if(A&&!S)for(;C.length;)delete T[C.pop()];else C=[];A=!1,S=!1}if(e=e||\"\",i=i||w.tags,\"string\"==typeof i&&(i=i.split(h)),2!==i.length)throw new Error(\"Invalid tags: \"+i.join(\", \"));for(var a,s,d,f,v,_=c(i),b=new o(e),E=[],T=[],C=[],A=!1,S=!1;!b.eos();){if(a=b.pos,d=b.scanUntil(_[0]))for(var N=0,I=d.length;I>N;++N)f=d.charAt(N),t(f)?C.push(T.length):S=!0,T.push([\"text\",f,a,a+1]),a+=1,\"\\n\"==f&&r();if(!b.scan(_[0]))break;if(A=!0,s=b.scan(y)||\"name\",b.scan(p),\"=\"===s?(d=b.scanUntil(g),b.scan(g),b.scanUntil(_[1])):\"{\"===s?(d=b.scanUntil(new RegExp(\"\\\\s*\"+n(\"}\"+i[1]))),b.scan(m),b.scanUntil(_[1]),s=\"&\"):d=b.scanUntil(_[1]),!b.scan(_[1]))throw new Error(\"Unclosed tag at \"+b.pos);if(v=[s,d,a,b.pos],T.push(v),\"#\"===s||\"^\"===s)E.push(v);else if(\"/\"===s){if(0===E.length)throw new Error('Unopened section \"'+d+'\" at '+a);var P=E.pop();if(P[1]!==d)throw new Error('Unclosed section \"'+P[1]+'\" at '+a)}else if(\"name\"===s||\"{\"===s||\"&\"===s)S=!0;else if(\"=\"===s){if(i=d.split(h),2!==i.length)throw new Error(\"Invalid tags at \"+a+\": \"+i.join(\", \"));_=c(i)}}var P=E.pop();if(P)throw new Error('Unclosed section \"'+P[1]+'\" at '+b.pos);return T=u(T),l(T)}var p=/\\s*/,h=/\\s+/,f=/\\S/,g=/\\s*=/,m=/\\s*\\}/,y=/#|\\^|\\/|>|\\{|&|=|!/,v=RegExp.prototype.test,_=Object.prototype.toString,b=Array.isArray||function(e){return\"[object Array]\"===_.call(e)},E={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\"};o.prototype.eos=function(){return\"\"===this.tail},o.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):\"\"},o.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail=\"\";break;case 0:t=\"\";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},r.make=function(e){return e instanceof r?e:new r(e)},r.prototype.push=function(e){return new r(e,this)},r.prototype.lookup=function(e){var t=this._cache[e];if(!t){if(\".\"==e)t=this.view;else for(var n=this;n;){if(e.indexOf(\".\")>0){t=n.view;for(var i=e.split(\".\"),o=0;t&&o<i.length;)t=t[i[o++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this._cache[e]=t}return\"function\"==typeof t&&(t=t.call(this.view)),t},a.prototype.clearCache=function(){this._cache={},this._partialCache={}},a.prototype.compile=function(e,t){var n=this._cache[e];if(!n){var i=w.parse(e,t);n=this._cache[e]=this.compileTokens(i,e)}return n},a.prototype.compilePartial=function(e,t,n){var i=this.compile(t,n);return this._partialCache[e]=i,i},a.prototype.getPartial=function(e){return e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e)),this._partialCache[e]},a.prototype.compileTokens=function(e,t){var n=this;return function(i,o){if(o)if(\"function\"==typeof o)n._loadPartial=o;else for(var a in o)n.compilePartial(a,o[a]);return s(e,n,r.make(i),t)}},a.prototype.render=function(e,t,n){return this.compile(e)(t,n)};var w={};w.name=\"mustache.js\",w.version=\"0.7.2\",w.tags=[\"{{\",\"}}\"],w.Scanner=o,w.Context=r,w.Writer=a,w.parse=d,w.escape=i;var T=new a;return w.clearCache=function(){return T.clearCache()},w.compile=function(e,t){return T.compile(e,t)},w.compilePartial=function(e,t,n){return T.compilePartial(e,t,n)},w.compileTokens=function(e,t){return T.compileTokens(e,t)},w.render=function(e,t,n){return T.render(e,t,n)},w.to_html=function(e,t,n,i){var o=w.render(e,t,n);return\"function\"!=typeof i?o:void i(o)},w}()),Ndn_Require.define(\"models/Ndn/TemplateSet\",[\"underscore\",\"backbone\",\"mustache\"],function(e,t,n){return t.Model.extend({defaults:{rendered:[],templates:{}},initialize:function(e){this.set(\"templates\",e)},getTemplate:function(t,i){var o=this.get(\"templates\")[t][0],r=this.get(\"templates\")[t][1];return\"undefined\"==typeof i?(\"undefined\"==typeof this.get(\"rendered\")[t]&&(this.get(\"rendered\")[t]=n.to_html(o,r)),this.get(\"rendered\")[t]):n.to_html(o,e.extend({},r,i))}})}),Ndn_Require.define(\"text!lib/amp.premier/config/skin/ndn_assets.xml\",[],function(){return\"<application>\\n\t<player ad_control_enabled='true' ad_server_timeout='20'\\n\t\tauto_replay='false' branding_preload='none' core_player_name='ndn-player'\\n\t\tdvr_enabled='0' fullscreen_enabled='true' hds_live_low_latency='true'\\n\t\tmbr_start_index='2' netsession_install_prompt_frequency_secs='-1'\\n\t\tshow_feature_bar='false' use_last_known_bitrate='false'\\n\t\tuse_netsession_client='false' volume='75'>\\n\t</player>\\n\t<locale id=\\\"en\\\"></locale>\\n</application>\"}),Ndn_Require.define(\"text!lib/amp.premier/config/skin/ndn_assets_small.xml\",[],function(){return\"<application>\\n\t<player ad_control_enabled='true' ad_server_timeout='20'\\n\t\tbranding_preload='none' core_player_name='ndn-player' dvr_enabled='0'\\n\t\thds_live_low_latency='true' mbr_start_index='2'\\n\t\tnetsession_install_prompt_frequency_secs='-1' show_feature_bar='false'\\n\t\tuse_last_known_bitrate='false' use_netsession_client='false'>\\n\t</player>\\n\t<!-- \\n\t<view skin='{{akamaiJsLibFolderUrl}}/ndn.assets.small.swf'>\\n\t\t<element id='adOptions'>\\n\t\t\t<element id='adChoices' target='http://assets.newsinc.com/info/adchoices.html' />\\n\t\t\t<element id='adCountdown' />\\n            <element id=\\\"adCount\\\" />\\n\t\t</element>\\n\t\t<element id='captionDisplay' style='bottom: 0px; opacity:1;' />\\n\t\t<element id='controls' scrubPosition='top' backgroundAlpha='.8' height='40' itemMargin='12' autoHideDelay='1' transitionTime='0.5'>\\n\t\t\t<element id='playPauseBtn' />\\n\t\t\t<element id='scrubBar' collapsedHeight='4' style='background: linear-gradient(90deg, #232323 #232323); height: 4px;' />\\n\t\t\t<element id='progressBar' style='background: linear-gradient(90deg, #0099CC #0099CC);' />\\n\t\t\t<element id='loadedBar' style='background: linear-gradient(90deg, #666666 #666666);' />\\n\t\t\t<element id='streamTimeIndicator' position='left'>\\n\t\t\t\t<element id='streamTime' />\\n\t\t\t\t<element id='streamDuration' color='#666666' />\\n\t\t\t</element>\\n\t\t\t<element id='shareBtn' />\\n\t\t\t<element id='facebookBtn' />\\n\t\t\t<element id='twitterBtn' />\\n\t\t\t<element id='volumeBar' backgroundColor='#111111' trackColor='#C1C1C3' color='#0099CC' position='relative' width='25' />\\n\t\t\t<element id='volumeBtn' />\\n\t\t\t<element id='fullscreenBtn' />\\n\t\t\t<element id='posterBackground' color='#000000' alpha='1' />\\n\t\t</element>\\n\t\t<element id=\\\"loadingView\\\" radius=\\\"0\\\" />\\n\t</view>\\n\t-->\\n\t<locale id=\\\"en\\\"></locale>\\n</application>\"}),Ndn_Require.define(\"lib/amp.premier/config/skin/templates\",[\"models/Ndn/TemplateSet\",\"models/Ndn/App\",\"text!lib/amp.premier/config/skin/ndn_assets.xml\",\"text!lib/amp.premier/config/skin/ndn_assets_small.xml\"],function(e,t,n,i){var o={akamaiJsLibFolderUrl:t.getAppUrl()+\"/js/lib/amp.premier\",akamaiResourcesFolderUrl:t.getAppUrl()+\"/resources\"};return new e({ndn_assets:[n,o],ndn_assets_small:[i,o]})}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Amp/Config\",[\"underscore\",\"jquery\",\"models/Ndn/App\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/AdBlockDetector\",\"models/Ndn/Analytics\",\"models/Ndn/Debug\",\"lib/amp.premier/config/skin/templates\"],function(e,t,n,i,o,r,a,s){return{generateDefaultConfig:function(t){t.akamaiJsLibFolderUrl=t.akamaiJsLibFolderUrl||n.getAppUrl()+\"/js/lib/amp.premier\",t.akamaiResourcesFolderUrl=t.akamaiResourcesFolderUrl||n.getAppUrl()+\"/resources\",t.aaspUrl=\"http:\"==window.location.protocol?\"http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.4/osmf2.0/AkamaiAdvancedStreamingPlugin.swf\":t.akamaiResourcesFolderUrl+\"/plugins/AkamaiAdvancedStreamingPlugin.swf\";var i={resources:[],domain:\"newsinc.com\",target:\"_top\",params:{},plugins:{AkamaiAdvancedStreamingPlugin:\"com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo\",ComscorePlugin:t.akamaiResourcesFolderUrl+\"/plugins/ComscorePlugin.swf\",ComscoreStreamSensePlugin:t.akamaiResourcesFolderUrl+\"/plugins/ComscoreStreamSensePlugin.swf\"},paths:{player:t.akamaiJsLibFolderUrl+\"/\",resources:t.akamaiResourcesFolderUrl+\"/\"},fullscreen:{\"native\":!0},controls:{autoHide:5,mode:\"auto\"},captioning:{enabled:!0},info:{enabled:!1},share:{enabled:!0,facebook:!0,twitter:!0},autoplay:!1,volumepanel:{},volume:.75,rules:{PDL:{regexp:\"Android 4\"}},playoverlay:{enabled:!1},language:\"en\",locales:{en:{MSG_NEXT_VIDEO:t.adOverlayText,MSG_SECONDS:\"seconds\"}},debug:a.inMode(\"ampDebug\"),mode:\"auto\"};return i=e.extend(i,this.getFlashConfig(t)),t.comscoreEnabled&&(i=e.extend(i,this.getComscoreConfig(t))),t.imaEnabled&&(i=e.extend(i,this.getImaConfig(t))),i},getFlashConfig:function(e){return{flash:{swf:e.akamaiJsLibFolderUrl+\"/AkamaiPremierPlayer.swf\",debug:e.akamaiJsLibFolderUrl+\"/AkamaiPremierPlayer-debug.swf\",vars:{locale_setting:\"en\",ad_server_timeout:30,ad_media_server_timeout:30,context_menu_mode:\"short\",overlay_ad_delay:3,volume:1,auto_replay:!1,fullscreen_enabled:!0,share_enabled:!0,auto_play:!1,hinting_rules:\"%7B%22flashTablets%22%3A%7B%22label%22%3A%22Android%202%20%26%203%20or%20Kindle%20Fire%201%22%2C%22regexp%22%3A%22Android%20%5B23%5D%7CSilk/1%22%7D%2C%22html5Phones%22%3A%7B%22label%22%3A%22iPhone%22%2C%22regexp%22%3A%22iPhone%22%7D%2C%22html5Tablets%22%3A%7B%22label%22%3A%22HTML5%20Tablets%22%2C%22regexp%22%3A%22iPad%7CAndroid%204%7CSilk/2%22%7D%2C%22desktop%22%3A%7B%22label%22%3A%22Desktop%22%2C%22regexp%22%3A%22%5E%28%28%3F%21iPad%7CiPhone%7CAndroid%7CBlackBerry%7CPlayBook%7CSilk%29.%29*%24%22%7D%2C%22android_4_gets_m3u8%22%3A%7B%22regexp%22%3A%22Android%204%22%7D%7D\",externalTarget:\"_top\",domain:\"newsinc.com\",embedDomain:\"newsinc.com\",show_play_button_overlay:!1,auto_play_list:!1,core_ads_enabled:!0,suppress_events:\"mediaPlayerDataFeedUpdated\",hds_enable_ssl_transfer:!0,next_video_timer:-1},params:{wmode:i.isIe()||i.isFirefox()||i.isSafari()&&i.isWindows()?\"transparent\":\"direct\"},xml:s.getTemplate(\"ndn_assets\",e),view:{attributes:{skin:e.akamaiJsLibFolderUrl+\"/ndn.assets.swf\"},elements:{captionDisplay:{attributes:{initState:\"cookie\",position:\"relative\",settingsEnabled:\"true\",style:\"bottom: 26%; height:13%; windowColor:0xffffff; windowOpacity:0; font:Arial; fontColor:0xffffff; fontOpacity:1; fontBGColor:0x000000; fontBGOpacity:0.6; edgeType:none; edgeColor:0x00ff00; edgeOpacity:1; scroll:none; fontSize:12;\"}},controls:{attributes:{scrubPosition:\"top\",backgroundAlpha:\".8\",height:\"51\",autoHideDelay:\"1\",transitionTime:\"0.50\"},elements:{playPauseBtn:{},scrubBar:{attributes:{collapsedHeight:\"5\",style:\"background: linear-gradient(90deg, #232323 #232323); height: 9px;\"}},progressBar:{attributes:{style:\"background: linear-gradient(90deg, #0099CC #0099CC);\"}},loadedBar:{attributes:{style:\"background: linear-gradient(90deg, #666666 #666666);\"}},streamTimeIndicator:{attributes:{position:\"left\"},elements:{streamTime:{},streamDuration:{attributes:{color:\"#666666\"}}}},captionBtn:{},shareBtn:{},facebookBtn:{},twitterBtn:{},volumeBar:{attributes:{backgroundColor:\"#111111\",trackColor:\"#C1C1C3\",color:\"#0099CC\",position:\"relative\",width:\"25\"}},volumeBtn:{},fullscreenBtn:{},posterBackground:{attributes:{color:\"#000000\",alpha:\"1\"}}}},loadingView:{attributes:{radius:\"0\"}},adOptions:{elements:{adChoices:{attributes:{target:\"http://assets.newsinc.com/info/adchoices.html\"}},adCountdown:{},adCount:{}}}}}}}},getComscoreConfig:function(e){return{comscore:{url:n.isOnSsl()?\"https://sb.scorecardresearch.com/b\":\"http://b.scorecardresearch.com/b\",data:{c1:\"1\",c2:\"11112732\",c3:\"#{comscore.distributorName}\",c4:\"#{comscore.providerName}\",c5:\"\",c6:\"#{comscore.siteSection}\",c10:\"#{comscore.providerCategory}\"},events:{ads:[{type:\"started\",data:{c4:\"#{comscore.providerName} 09\",c5:\"09\"}}],video:[{type:\"started\",data:{c4:\"#{comscore.providerName} #{comscore.c5}\",c5:\"#{comscore.c5}\"}}]}},comscorestreamsense:{enabled:!0,resources:[{type:\"text/javascript\",src:e.akamaiResourcesFolderUrl+\"/js/streamsense.4.1412.05.min.js\"}],data:{clientId:\"11112732\",publisherSecret:\"c3798e9f708f2d61a9cf8232b0503d5a\",metadata:{ads:{ns_st_ci:\"#{comscore.videoAssetId}\",c3:\"#{comscore.distributorName}\",c4:\"#{comscore.providerName}\",c6:\"#{comscore.siteSection}\",ca2:\"null\",ca4:\"null\",ca6:\"null\"},video:{ns_st_ci:\"#{comscore.videoAssetId}\",c3:\"#{comscore.distributorName}\",c4:\"#{comscore.providerName}\",c6:\"#{comscore.siteSection}\",ca2:\"#{comscore.ca2}\",ca3:\"#{comscore.ca3}\",ca6:\"null\"}}}}}},getImaConfig:function(e){return{ima:{enabled:!0,version:3,resources:function(){var t=[{type:\"text/javascript\",src:window.location.protocol+\"//s0.2mdn.net/instream/html5/ima3.js\",debug:\"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js\"}];return 1===e.adBlockDetectionId&&(t.push({id:\"GoogleIMAPlugin\",src:o.proxify(e.akamaiResourcesFolderUrl+\"/plugins/GoogleIMAPlugin.swf\"),blocking:!1,host:\"akamai\",main:\"GoogleIMAPlugin\",type:\"application/x-shockwave-flash\"}),t.push({id:\"IMAOverlayAdPlugin\",src:o.proxify(e.akamaiResourcesFolderUrl+\"/plugins/IMAOverlayAdPlugin.swf\"),blocking:!1,host:\"akamai\",main:\"IMAOverlayAdPlugin\",type:\"application/x-shockwave-flash\"})),t}(),vpaidAllowed:!0,vpaidMode:\"insecure\",companion:{width:\"300\",height:\"250\"},adTagUrl:\"#{dfp.adTagUrl}\",ppid:\"#{dfp.ppid}\",disableCompanionAds:!0}}},generatePlayerConfig:function(t){var n={feed:{enabled:!0},mode:t.playbackMode||\"auto\"};return t.comscoreEnabled===!1&&(n=e.extend(n,{comscore:{enabled:!1},comscorestreamsense:{enabled:!1}})),n}}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError('\"this\" is null or not defined');var n=this.length>>>0;for(t=+t||0,1/0===Math.abs(t)&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError;for(var i=[],o=2<=arguments.length?arguments[1]:void 0,r=0;n>r;r++)if(r in t){var a=t[r];e.call(o,a,r,t)&&i.push(a)}return i}),Date.now||(Date.now=function(){return+new Date}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if(\"function\"!=typeof this)throw new TypeError(\"Bind must be called on a function\");var n=[].slice,i=n.call(arguments,1),o=this,r=function(){return o.apply(this instanceof t?this:e||{},i.concat(n.call(arguments)))};return t.prototype=o.prototype,r.prototype=new t,r}),\"object\"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?\"0\"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'\"'+e.replace(escapable,function(e){var t=meta[e];return\"string\"==typeof t?t:\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+e+'\"'}function str(e,t){var n,i,o,r,a,s=gap,l=t[e];switch(l&&\"object\"==typeof l&&\"function\"==typeof l.toJSON&&(l=l.toJSON(e)),\"function\"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case\"string\":return quote(l);case\"number\":return isFinite(l)?String(l):\"null\";case\"boolean\":case\"null\":return String(l);case\"object\":if(!l)return\"null\";if(gap+=indent,a=[],\"[object Array]\"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)a[n]=str(n,l)||\"null\";return o=0===a.length?\"[]\":gap?\"[\\n\"+gap+a.join(\",\\n\"+gap)+\"\\n\"+s+\"]\":\"[\"+a.join(\",\")+\"]\",gap=s,o}if(rep&&\"object\"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)\"string\"==typeof rep[n]&&(i=rep[n],o=str(i,l),o&&a.push(quote(i)+(gap?\": \":\":\")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l),o&&a.push(quote(i)+(gap?\": \":\":\")+o));return o=0===a.length?\"{}\":gap?\"{\\n\"+gap+a.join(\",\\n\"+gap)+\"\\n\"+s+\"}\":\"{\"+a.join(\",\")+\"}\",gap=s,o}}\"function\"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+f(this.getUTCMonth()+1)+\"-\"+f(this.getUTCDate())+\"T\"+f(this.getUTCHours())+\":\"+f(this.getUTCMinutes())+\":\"+f(this.getUTCSeconds())+\"Z\":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={\"\\b\":\"\\\\b\",\"\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},rep;\"function\"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap=\"\",indent=\"\",\"number\"==typeof n)for(i=0;n>i;i+=1)indent+=\" \";else\"string\"==typeof n&&(indent=n);if(rep=t,t&&\"function\"!=typeof t&&(\"object\"!=typeof t||\"number\"!=typeof t.length))throw new Error(\"JSON.stringify\");return str(\"\",{\"\":e})}),\"function\"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&\"object\"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))return j=eval(\"(\"+text+\")\"),\"function\"==typeof reviver?walk({\"\":j},\"\"):j;throw new SyntaxError(\"JSON.parse\")})}(),function(e){function t(e,t){this.setNotifyMethod(e),this.setNotifyContext(t)}function n(e,t,n){this.name=e,this.body=t,this.type=n}function i(){}function o(){}function r(){this.subCommands=[],this.initializeMacroCommand()}function a(e,t){this.mediatorName=e||this.constructor.NAME,this.viewComponent=t}function s(e,t){this.proxyName=e||this.constructor.NAME,null!=t&&this.setData(t)}function l(e){if(null!=l.instanceMap[e])throw Error(l.MULTITON_MSG);this.initializeNotifier(e),l.instanceMap[e]=this,this.initializeFacade()}function u(e){if(null!=u.instanceMap[e])throw Error(u.MULTITON_MSG);this.multitonKey=e,u.instanceMap[this.multitonKey]=this,this.mediatorMap=[],this.observerMap=[],this.initializeView()}function c(e){if(c.instanceMap[e])throw Error(c.MULTITON_MSG);this.multitonKey=e,c.instanceMap[e]=this,this.proxyMap=[],this.initializeModel()}function d(e){if(null!=d.instanceMap[e])throw Error(d.MULTITON_MSG);this.multitonKey=e,d.instanceMap[this.multitonKey]=this,this.commandMap=[],this.initializeController()}function p(e,t,n){for(var i,o,e=e.split(\".\"),n=n||h.global,r=0,a=e.length;a>r;r++)i=n,o=e[r],n=null==n[o]?n[o]={}:n[o];return null==t?n:i[o]=t}if(null==e&&(e=window),!e.puremvc){t.prototype.setNotifyMethod=function(e){this.notify=e},t.prototype.setNotifyContext=function(e){this.context=e},t.prototype.getNotifyMethod=function(){return this.notify},t.prototype.getNotifyContext=function(){return this.context},t.prototype.notifyObserver=function(e){this.getNotifyMethod().call(this.getNotifyContext(),e)},t.prototype.compareNotifyContext=function(e){return e===this.context},t.prototype.notify=null,t.prototype.context=null,n.prototype.getName=function(){return this.name},n.prototype.setBody=function(e){this.body=e},n.prototype.getBody=function(){return this.body},n.prototype.setType=function(e){this.type=e},n.prototype.getType=function(){return this.type},n.prototype.toString=function(){var e=\"Notification Name: \"+this.getName(),e=e+(\"\\nBody:\"+(null==this.body?\"null\":this.body.toString()));return e+=\"\\nType:\"+(null==this.type?\"null\":this.type)},n.prototype.name=null,n.prototype.type=null,n.prototype.body=null,i.prototype.sendNotification=function(e,t,n){var i=this.getFacade();i&&i.sendNotification(e,t,n)},i.prototype.initializeNotifier=function(e){this.multitonKey=\"\"+e,this.facade=this.getFacade()},i.prototype.getFacade=function(){if(null==this.multitonKey)throw Error(i.MULTITON_MSG);return l.getInstance(this.multitonKey)},i.prototype.multitonKey=null,i.MULTITON_MSG=\"multitonKey for this Notifier not yet initialized!\",o.prototype=new i,o.prototype.constructor=o,o.prototype.execute=function(){},r.prototype=new i,r.prototype.constructor=r,r.prototype.subCommands=null,r.prototype.initializeMacroCommand=function(){},r.prototype.addSubCommand=function(e){this.subCommands.push(e)},r.prototype.execute=function(e){for(;0<this.subCommands.length;){var t=new(this.subCommands.shift());t.initializeNotifier(this.multitonKey),t.execute(e)}},a.NAME=\"Mediator\",a.prototype=new i,a.prototype.constructor=a,a.prototype.getMediatorName=function(){return this.mediatorName},a.prototype.setViewComponent=function(e){this.viewComponent=e},a.prototype.getViewComponent=function(){return this.viewComponent},a.prototype.listNotificationInterests=function(){return[]},a.prototype.handleNotification=function(){},a.prototype.onRegister=function(){},a.prototype.onRemove=function(){},a.prototype.mediatorName=null,a.prototype.viewComponent=null,s.NAME=\"Proxy\",s.prototype=new i,s.prototype.constructor=s,s.prototype.getProxyName=function(){return this.proxyName},s.prototype.setData=function(e){this.data=e},s.prototype.getData=function(){return this.data},s.prototype.onRegister=function(){},s.prototype.onRemove=function(){},s.prototype.proxyName=null,s.prototype.data=null,l.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},l.getInstance=function(e){return null==e?null:(null==l.instanceMap[e]&&(l.instanceMap[e]=new l(e)),l.instanceMap[e])},l.prototype.initializeController=function(){null==this.controller&&(this.controller=d.getInstance(this.multitonKey))},l.prototype.initializeModel=function(){null==this.model&&(this.model=c.getInstance(this.multitonKey))},l.prototype.initializeView=function(){null==this.view&&(this.view=u.getInstance(this.multitonKey))},l.prototype.registerCommand=function(e,t){this.controller.registerCommand(e,t)},l.prototype.removeCommand=function(e){this.controller.removeCommand(e)},l.prototype.hasCommand=function(e){return this.controller.hasCommand(e)},l.prototype.registerProxy=function(e){this.model.registerProxy(e)},l.prototype.retrieveProxy=function(e){return this.model.retrieveProxy(e)},l.prototype.removeProxy=function(e){var t=null;return null!=this.model&&(t=this.model.removeProxy(e)),t},l.prototype.hasProxy=function(e){return this.model.hasProxy(e)},l.prototype.registerMediator=function(e){null!=this.view&&this.view.registerMediator(e)},l.prototype.retrieveMediator=function(e){return this.view.retrieveMediator(e)},l.prototype.removeMediator=function(e){var t=null;return null!=this.view&&(t=this.view.removeMediator(e)),t},l.prototype.hasMediator=function(e){return this.view.hasMediator(e)},l.prototype.sendNotification=function(e,t,i){this.notifyObservers(new n(e,t,i))},l.prototype.notifyObservers=function(e){null!=this.view&&this.view.notifyObservers(e)},l.prototype.initializeNotifier=function(e){this.multitonKey=e},l.hasCore=function(e){return null!=l.instanceMap[e]},l.removeCore=function(e){null!=l.instanceMap[e]&&(c.removeModel(e),u.removeView(e),d.removeController(e),delete l.instanceMap[e])},l.prototype.controller=null,l.prototype.model=null,l.prototype.view=null,l.prototype.multitonKey=null,l.instanceMap=[],l.MULTITON_MSG=\"Facade instance for this Multiton key already constructed!\",u.prototype.initializeView=function(){},u.getInstance=function(e){return null==e?null:(null==u.instanceMap[e]&&(u.instanceMap[e]=new u(e)),u.instanceMap[e])},u.prototype.registerObserver=function(e,t){null!=this.observerMap[e]?this.observerMap[e].push(t):this.observerMap[e]=[t]},u.prototype.notifyObservers=function(e){if(null!=this.observerMap[e.getName()]){for(var t,n=this.observerMap[e.getName()],i=[],o=0;o<n.length;o++)t=n[o],i.push(t);for(o=0;o<i.length;o++)t=i[o],t.notifyObserver(e)}},u.prototype.removeObserver=function(e,t){for(var n=this.observerMap[e],i=0;i<n.length;i++)if(1==n[i].compareNotifyContext(t)){n.splice(i,1);break}0==n.length&&delete this.observerMap[e]},u.prototype.registerMediator=function(e){if(null==this.mediatorMap[e.getMediatorName()]){e.initializeNotifier(this.multitonKey),this.mediatorMap[e.getMediatorName()]=e;var n=e.listNotificationInterests();if(0<n.length)for(var i=new t(e.handleNotification,e),o=0;o<n.length;o++)this.registerObserver(n[o],i);e.onRegister()}},u.prototype.retrieveMediator=function(e){return this.mediatorMap[e]},u.prototype.removeMediator=function(e){var t=this.mediatorMap[e];if(t){for(var n=t.listNotificationInterests(),i=0;i<n.length;i++)this.removeObserver(n[i],t);delete this.mediatorMap[e],t.onRemove()}return t},u.prototype.hasMediator=function(e){return null!=this.mediatorMap[e]},u.removeView=function(e){delete u.instanceMap[e]},u.prototype.mediatorMap=null,u.prototype.observerMap=null,u.instanceMap=[],u.prototype.multitonKey=null,u.MULTITON_MSG=\"View instance for this Multiton key already constructed!\",c.prototype.initializeModel=function(){},c.getInstance=function(e){return null==e?null:(null==c.instanceMap[e]&&(c.instanceMap[e]=new c(e)),c.instanceMap[e])},c.prototype.registerProxy=function(e){e.initializeNotifier(this.multitonKey),this.proxyMap[e.getProxyName()]=e,e.onRegister()},c.prototype.retrieveProxy=function(e){return this.proxyMap[e]},c.prototype.hasProxy=function(e){return null!=this.proxyMap[e]},c.prototype.removeProxy=function(e){var t=this.proxyMap[e];return t&&(this.proxyMap[e]=null,t.onRemove()),t},c.removeModel=function(e){delete c.instanceMap[e]},c.prototype.proxyMap=null,c.instanceMap=[],c.MULTITON_MSG=\"Model instance for this Multiton key already constructed!\",d.prototype.initializeController=function(){this.view=u.getInstance(this.multitonKey)},d.getInstance=function(e){return null==e?null:(null==this.instanceMap[e]&&(this.instanceMap[e]=new this(e)),this.instanceMap[e])},d.prototype.executeCommand=function(e){var t=this.commandMap[e.getName()];null!=t&&(t=new t,t.initializeNotifier(this.multitonKey),t.execute(e))},d.prototype.registerCommand=function(e,n){null==this.commandMap[e]&&this.view.registerObserver(e,new t(this.executeCommand,this)),this.commandMap[e]=n},d.prototype.hasCommand=function(e){return null!=this.commandMap[e]},d.prototype.removeCommand=function(e){this.hasCommand(e)&&(this.view.removeObserver(e,this),this.commandMap[e]=null)},d.removeController=function(e){delete this.instanceMap[e]},d.prototype.view=null,d.prototype.commandMap=null,d.prototype.multitonKey=null,d.instanceMap=[],d.MULTITON_MSG=\"controller key for this Multiton key already constructed\";var h={global:function(){return this}(),extend:function(e,t){if(\"function\"!=typeof e)throw new TypeError(\"#extend- child should be Function\");if(\"function\"!=typeof t)throw new TypeError(\"#extend- parent should be Function\");if(t!==e){var n=new Function;return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},decorate:function(e,t){for(var n in t)e[n]=t[n];return e}};e.puremvc={View:u,Model:c,Controller:d,SimpleCommand:o,MacroCommand:r,Facade:l,Mediator:a,Observer:t,Notification:n,Notifier:i,Proxy:s,define:function(e,t,n){e||(e={});var i=e.name,o=e.parent,r=\"function\"==typeof o,a=e.scope||null;if(\"parent\"in e&&!r)throw new TypeError(\"Class parent must be Function\");if(e.hasOwnProperty(\"constructor\")){if(e=e.constructor,\"function\"!=typeof e)throw new TypeError(\"Class constructor must be Function\");\n}else e=r?function(){o.apply(this,arguments)}:new Function;if(r&&h.extend(e,o),t&&(r=e.prototype,h.decorate(r,t),r.constructor=e),n&&h.decorate(e,n),i){if(\"string\"!=typeof i)throw new TypeError(\"Class name must be primitive string\");p(i,e,a)}return e},declare:p}}}(this);var swfobject=function(){function e(){if(!M){try{var e=A.getElementsByTagName(\"body\")[0].appendChild(A.createElement(\"span\"));e.parentNode.removeChild(e)}catch(t){return}M=!0;for(var e=I.length,n=0;e>n;n++)I[n]()}}function t(e){M?e():I[I.length]=e}function n(e){if(\"undefined\"!=typeof C.addEventListener)C.addEventListener(\"load\",e,!1);else if(\"undefined\"!=typeof A.addEventListener)A.addEventListener(\"load\",e,!1);else if(\"undefined\"!=typeof C.attachEvent)h(C,\"onload\",e);else if(\"function\"==typeof C.onload){var t=C.onload;C.onload=function(){t(),e()}}else C.onload=e}function i(){var e=A.getElementsByTagName(\"body\")[0],t=A.createElement(\"object\");t.setAttribute(\"type\",\"application/x-shockwave-flash\");var n=e.appendChild(t);if(n){var i=0;!function(){if(\"undefined\"!=typeof n.GetVariable){var r=n.GetVariable(\"$version\");r&&(r=r.split(\" \")[1].split(\",\"),L.pv=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,o()}()}else o()}function o(){var e=P.length;if(e>0)for(var t=0;e>t;t++){var n=P[t].id,i=P[t].callbackFn,o={success:!1,id:n};if(0<L.pv[0]){var u=p(n);if(u)if(!f(P[t].swfVersion)||L.wk&&312>L.wk)if(P[t].expressInstall&&a()){o={},o.data=P[t].expressInstall,o.width=u.getAttribute(\"width\")||\"0\",o.height=u.getAttribute(\"height\")||\"0\",u.getAttribute(\"class\")&&(o.styleclass=u.getAttribute(\"class\")),u.getAttribute(\"align\")&&(o.align=u.getAttribute(\"align\"));for(var c={},u=u.getElementsByTagName(\"param\"),d=u.length,h=0;d>h;h++)\"movie\"!=u[h].getAttribute(\"name\").toLowerCase()&&(c[u[h].getAttribute(\"name\")]=u[h].getAttribute(\"value\"));s(o,c,n,i)}else l(u),i&&i(o);else m(n,!0),i&&(o.success=!0,o.ref=r(n),i(o))}else m(n,!0),i&&((n=r(n))&&\"undefined\"!=typeof n.SetVariable&&(o.success=!0,o.ref=n),i(o))}}function r(e){var t=null;return(e=p(e))&&\"OBJECT\"==e.nodeName&&(\"undefined\"!=typeof e.SetVariable?t=e:(e=e.getElementsByTagName(\"object\")[0])&&(t=e)),t}function a(){return!D&&f(\"6.0.65\")&&(L.win||L.mac)&&!(L.wk&&312>L.wk)}function s(e,t,n,i){D=!0,b=i||null,E={success:!1,id:n};var o=p(n);o&&(\"OBJECT\"==o.nodeName?(v=u(o),_=null):(v=o,_=n),e.id=\"SWFObjectExprInst\",(\"undefined\"==typeof e.width||!/%$/.test(e.width)&&310>parseInt(e.width,10))&&(e.width=\"310\"),(\"undefined\"==typeof e.height||!/%$/.test(e.height)&&137>parseInt(e.height,10))&&(e.height=\"137\"),A.title=A.title.slice(0,47)+\" - Flash Player Installation\",i=L.ie&&L.win?\"ActiveX\":\"PlugIn\",i=\"MMredirectURL=\"+encodeURI(C.location).toString().replace(/&/g,\"%26\")+\"&MMplayerType=\"+i+\"&MMdoctitle=\"+A.title,t.flashvars=\"undefined\"!=typeof t.flashvars?t.flashvars+(\"&\"+i):i,L.ie&&L.win&&4!=o.readyState&&(i=A.createElement(\"div\"),n+=\"SWFObjectNew\",i.setAttribute(\"id\",n),o.parentNode.insertBefore(i,o),o.style.display=\"none\",function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()),c(e,t,n))}function l(e){if(L.ie&&L.win&&4!=e.readyState){var t=A.createElement(\"div\");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display=\"none\",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=A.createElement(\"div\");if(L.win&&L.ie)t.innerHTML=e.innerHTML;else if((e=e.getElementsByTagName(\"object\")[0])&&(e=e.childNodes))for(var n=e.length,i=0;n>i;i++)1==e[i].nodeType&&\"PARAM\"==e[i].nodeName||8==e[i].nodeType||t.appendChild(e[i].cloneNode(!0));return t}function c(e,t,n){var i,o=p(n);if(L.wk&&312>L.wk)return i;if(o)if(\"undefined\"==typeof e.id&&(e.id=n),L.ie&&L.win){var r,a=\"\";for(r in e)e[r]!=Object.prototype[r]&&(\"data\"==r.toLowerCase()?t.movie=e[r]:\"styleclass\"==r.toLowerCase()?a+=' class=\"'+e[r]+'\"':\"classid\"!=r.toLowerCase()&&(a+=\" \"+r+'=\"'+e[r]+'\"'));r=\"\";for(var s in t)t[s]!=Object.prototype[s]&&(r+='<param name=\"'+s+'\" value=\"'+t[s]+'\" />');o.outerHTML='<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"'+a+\">\"+r+\"</object>\",x[x.length]=e.id,i=p(e.id)}else{s=A.createElement(\"object\"),s.setAttribute(\"type\",\"application/x-shockwave-flash\");for(var l in e)e[l]!=Object.prototype[l]&&(\"styleclass\"==l.toLowerCase()?s.setAttribute(\"class\",e[l]):\"classid\"!=l.toLowerCase()&&s.setAttribute(l,e[l]));for(a in t)t[a]!=Object.prototype[a]&&\"movie\"!=a.toLowerCase()&&(e=s,r=a,l=t[a],n=A.createElement(\"param\"),n.setAttribute(\"name\",r),n.setAttribute(\"value\",l),e.appendChild(n));o.parentNode.replaceChild(s,o),i=s}return i}function d(e){var t=p(e);t&&\"OBJECT\"==t.nodeName&&(L.ie&&L.win?(t.style.display=\"none\",function(){if(4==t.readyState){var n=p(e);if(n){for(var i in n)\"function\"==typeof n[i]&&(n[i]=null);n.parentNode.removeChild(n)}}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function p(e){var t=null;try{t=A.getElementById(e)}catch(n){}return t}function h(e,t,n){e.attachEvent(t,n),k[k.length]=[e,t,n]}function f(e){var t=L.pv;return e=e.split(\".\"),e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10)||0,e[2]=parseInt(e[2],10)||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]?!0:!1}function g(e,t,n,i){if(!L.ie||!L.mac){var o=A.getElementsByTagName(\"head\")[0];o&&(n=n&&\"string\"==typeof n?n:\"screen\",i&&(T=w=null),w&&T==n||(i=A.createElement(\"style\"),i.setAttribute(\"type\",\"text/css\"),i.setAttribute(\"media\",n),w=o.appendChild(i),L.ie&&L.win&&\"undefined\"!=typeof A.styleSheets&&0<A.styleSheets.length&&(w=A.styleSheets[A.styleSheets.length-1]),T=n),L.ie&&L.win?w&&\"object\"==typeof w.addRule&&w.addRule(e,t):w&&\"undefined\"!=typeof A.createTextNode&&w.appendChild(A.createTextNode(e+\" {\"+t+\"}\")))}}function m(e,t){if(O){var n=t?\"visible\":\"hidden\";M&&p(e)?p(e).style.visibility=n:g(\"#\"+e,\"visibility:\"+n)}}function y(e){return null!=/[\\\\\\\"<>\\.;]/.exec(e)&&\"undefined\"!=typeof encodeURIComponent?encodeURIComponent(e):e}var v,_,b,E,w,T,C=window,A=document,S=navigator,N=!1,I=[function(){N?i():o()}],P=[],x=[],k=[],M=!1,D=!1,O=!0,L=function(){var e=\"undefined\"!=typeof A.getElementById&&\"undefined\"!=typeof A.getElementsByTagName&&\"undefined\"!=typeof A.createElement,t=S.userAgent.toLowerCase(),n=S.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),n=n?/mac/.test(n):/mac/.test(t),t=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/,\"$1\")):!1,o=!1,r=[0,0,0],a=null;if(\"undefined\"!=typeof S.plugins&&\"object\"==typeof S.plugins[\"Shockwave Flash\"])!(a=S.plugins[\"Shockwave Flash\"].description)||\"undefined\"!=typeof S.mimeTypes&&S.mimeTypes[\"application/x-shockwave-flash\"]&&!S.mimeTypes[\"application/x-shockwave-flash\"].enabledPlugin||(N=!0,o=!1,a=a.replace(/^.*\\s+(\\S+\\s+\\S+$)/,\"$1\"),r[0]=parseInt(a.replace(/^(.*)\\..*$/,\"$1\"),10),r[1]=parseInt(a.replace(/^.*\\.(.*)\\s.*$/,\"$1\"),10),r[2]=/[a-zA-Z]/.test(a)?parseInt(a.replace(/^.*[a-zA-Z]+(.*)$/,\"$1\"),10):0);else if(\"undefined\"!=typeof C.ActiveXObject)try{var s=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");s&&(a=s.GetVariable(\"$version\"))&&(o=!0,a=a.split(\" \")[1].split(\",\"),r=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}catch(l){}return{w3:e,pv:r,wk:t,ie:o,win:i,mac:n}}();return function(){L.w3&&((\"undefined\"!=typeof A.readyState&&\"complete\"==A.readyState||\"undefined\"==typeof A.readyState&&(A.getElementsByTagName(\"body\")[0]||A.body))&&e(),M||(\"undefined\"!=typeof A.addEventListener&&A.addEventListener(\"DOMContentLoaded\",e,!1),L.ie&&L.win&&(A.attachEvent(\"onreadystatechange\",function(){\"complete\"==A.readyState&&(A.detachEvent(\"onreadystatechange\",arguments.callee),e())}),C==top&&function(){if(!M){try{A.documentElement.doScroll(\"left\")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),L.wk&&function(){M||(/loaded|complete/.test(A.readyState)?e():setTimeout(arguments.callee,0))}(),n(e)))}(),function(){L.ie&&L.win&&window.attachEvent(\"onunload\",function(){for(var e=k.length,t=0;e>t;t++)k[t][0].detachEvent(k[t][1],k[t][2]);for(e=x.length,t=0;e>t;t++)d(x[t]);for(var n in L)L[n]=null;L=null;for(var i in swfobject)swfobject[i]=null;swfobject=null})}(),{registerObject:function(e,t,n,i){if(L.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=n,o.callbackFn=i,P[P.length]=o,m(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return L.w3?r(e):void 0},embedSWF:function(e,n,i,o,r,l,u,d,p,h){var g={success:!1,id:n};L.w3&&!(L.wk&&312>L.wk)&&e&&n&&i&&o&&r?(m(n,!1),t(function(){i+=\"\",o+=\"\";var t={};if(p&&\"object\"==typeof p)for(var y in p)t[y]=p[y];if(t.data=e,t.width=i,t.height=o,y={},d&&\"object\"==typeof d)for(var v in d)y[v]=d[v];if(u&&\"object\"==typeof u)for(var _ in u)y.flashvars=\"undefined\"!=typeof y.flashvars?y.flashvars+(\"&\"+_+\"=\"+u[_]):_+\"=\"+u[_];if(f(r))v=c(t,y,n),t.id==n&&m(n,!0),g.success=!0,g.ref=v;else{if(l&&a())return t.data=l,void s(t,y,n,h);m(n,!0)}h&&h(g)})):h&&h(g)},switchOffAutoHideShow:function(){O=!1},ua:L,getFlashPlayerVersion:function(){return{major:L.pv[0],minor:L.pv[1],release:L.pv[2]}},hasFlashPlayerVersion:f,createSWF:function(e,t,n){return L.w3?c(e,t,n):void 0},showExpressInstall:function(e,t,n,i){L.w3&&a()&&s(e,t,n,i)},removeSWF:function(e){L.w3&&d(e)},createCSS:function(e,t,n,i){L.w3&&g(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,callDomLoadFunctions:e,getQueryParamValue:function(e){var t=A.location.search||A.location.hash;if(t){if(/\\?/.test(t)&&(t=t.split(\"?\")[1]),null==e)return y(t);for(var t=t.split(\"&\"),n=0;n<t.length;n++)if(t[n].substring(0,t[n].indexOf(\"=\"))==e)return y(t[n].substring(t[n].indexOf(\"=\")+1))}return\"\"},expressInstallCallback:function(){if(D){var e=p(\"SWFObjectExprInst\");e&&v&&(e.parentNode.replaceChild(v,e),_&&(m(_,!0),L.ie&&L.win&&(v.style.display=\"block\")),b&&b(E)),D=!1}}}}();!function(){function e(){var e,t,n,i=this;t=null,this.getSDK=function(){return t},this.setSDK=function(n){var i,o;t=n,e();for(i in t)o=t[i],window[i]=o;return t},this.saveSDK=function(e,t){var i,o,r;if(null!=t&&null!=e&&\"\"!==e){if(null==t.main)for(i in t)if(o=t[i],(null!=o?o.VERSION:void 0)===e){t.main=o;break}return null==(r=t.version)&&(t.version=e),n.push(t),this[e]=t,t}},n=[],this.getVersions=function(){return n.slice()},this.getVersion=function(e){return this[e]},this.setVersion=function(e){return t=this.getVersion(e),null==t?null:(this.setSDK(t),t)},this.revert=function(){return this.setSDK(n[0])},this.noConflict=function(){var e;return e=this.getSDK(),this.revert(),e},this.create=function(){var e;return e=function(e,t){return this.prototype=e.prototype,e.apply(this,t)},function(n){return new e(t.main,arguments)}}(),(e=function(){var e,n,o,r,a;if(null!=(r=window.com)&&null!=(a=r.akamai)?a.amp:void 0)for(e in window)if(o=window[e],(o===window.AMP||o===window.AMPremier)&&null!=(null!=o?o.VERSION:void 0)&&\"\"!==o.VERSION&&o.VERSION!==(null!=t?t.version:void 0)&&null==i[o.VERSION]){n={},n.main=o,n.com=window.com,window.AMP&&(n.AMP=window.AMP),window.AMPPremier&&(n.AMPremier=window.AMPPremier),window.Utils&&(n.Utils=window.Utils),window.QueryString&&(n.QueryString=window.QueryString),window.QueryParams&&(n.QueryParams=window.QueryParams),i.saveSDK(o.VERSION,n);break}})()}function t(e){return{}.hasOwnProperty(e)}function n(e,n){function i(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e}function i(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1}function o(e,t){return function(){return e.apply(t,arguments)}}function r(){}function a(e,t){this.config=e,a.__super__.constructor.call(this,t)}function s(e){this.viewComponent=e,s.__super__.constructor.call(this,this.getModuleName()+\"-\"+Date.now()),this.dispatcher=new l(this),this.logger=Pt,this.moduleMap={}}function l(e,t){this.target=null!=e?e:this,this.catchErrors=null!=t?t:!0,this.listenerMap={}}function u(e){this.list=null!=e?e:[],u.__super__.constructor.call(this),this.handlers={change:this.changeHandler.bind(this)}}function c(e){var t,n,i,o;e.className=Oo.PREFIX+\"player\",n=at.create(\"install-flash\",e),o=at.create(null,n,\"p\",\"To view this page ensure that Adobe Flash Player version 10.2.0 or greater is installed.\"),t=at.create(null,n,\"a\"),t.href=\"http://www.adobe.com/go/getflashplayer\",i=at.create(null,t,\"img\"),i.src=\"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif\",i.alt=\"Get Adobe Flash player\"}function d(){this.map={}}function p(){p.__super__.constructor.call(this)}function h(){h.__super__.constructor.call(this)}function f(){f.__super__.constructor.call(this)}function g(){g.__super__.constructor.call(this)}function m(){m.__super__.constructor.call(this)}function y(){y.__super__.constructor.call(this)}function v(){v.__super__.constructor.call(this)}function _(){_.__super__.constructor.call(this)}function b(){b.__super__.constructor.call(this)}function E(){E.__super__.constructor.call(this)}function w(){w.__super__.constructor.call(this)}function T(){T.__super__.constructor.call(this)}function C(){C.__super__.constructor.call(this)}function A(){A.__super__.constructor.call(this)}function S(){S.__super__.constructor.call(this)}function N(){N.__super__.constructor.call(this)}function I(){I.__super__.constructor.call(this)}function P(){P.__super__.constructor.call(this)}function x(){x.__super__.constructor.call(this)}function k(){k.__super__.constructor.call(this)}function M(){M.__super__.constructor.call(this)}function D(){D.__super__.constructor.call(this)}function O(){O.__super__.constructor.call(this)}function L(){L.__super__.constructor.call(this)}function R(){R.__super__.constructor.call(this)}function j(){j.__super__.constructor.call(this)}function V(){V.__super__.constructor.call(this)}function U(){U.__super__.constructor.call(this)}function B(){B.__super__.constructor.call(this)}function G(){G.__super__.constructor.call(this)}function F(){F.__super__.constructor.call(this)}function H(){H.__super__.constructor.call(this)}function z(){z.__super__.constructor.call(this)}function W(e){null==this.cssPrefix&&(this.cssPrefix=Oo.PREFIX),W.__super__.constructor.call(this,this.mediatorName,e)}function q(e){q.__super__.constructor.call(this,e)}function Y(e,t,n,i){this.componentName=null!=e?e:this.componentName,this.componentType=null!=t?t:this.componentType,this.parent=n,this.element=i,null==this.mediatorName&&(this.mediatorName=this.createMediatorName()),Y.__super__.constructor.call(this,this.viewComponent)}function X(){X.__super__.constructor.call(this,null,null,null,null)}function Z(){Z.__super__.constructor.call(this)}function J(){J.__super__.constructor.call(this)}function K(){K.__super__.constructor.call(this)}function $(){$.__super__.constructor.call(this)}function Q(){}function ee(){ee.__super__.constructor.call(this)}function te(){te.__super__.constructor.call(this)}function ne(){ne.__super__.constructor.call(this),this.keyHandler=this.keypress.bind(this)}function ie(){ie.__super__.constructor.call(this)}function oe(){oe.__super__.constructor.call(this)}function re(e){this.data=null!=e?e:{},re.__super__.constructor.call(this)}function ae(){}function se(){se.__super__.constructor.call(this,null,{}),this.data.audioTracks=new u,this.data.videoTracks=new u,this.data.textTracks=new u}function le(e){le.__super__.constructor.call(this,e)}function ue(e){ue.__super__.constructor.call(this,e)}function ce(){ce.__super__.constructor.call(this,this.constructor.NAME,{}),this.setupHDN1()}function de(e){de.__super__.constructor.call(this,e)}function pe(){pe.__super__.constructor.call(this)}function he(){he.__super__.constructor.call(this)}function fe(){fe.__super__.constructor.call(this)}function ge(e,t){this.player=e,this.config=t,ge.__super__.constructor.call(this,this.constructor.NAME),this.proxy=new rt(this.config),this.player.registerProxy(this.proxy)}function me(e,t){this.mediatorName=\"\"+this.componentType+\"-mediator\",me.__super__.constructor.call(this,e,null,null,t)}function ye(){ye.__super__.constructor.call(this)}function ve(){ve.__super__.constructor.call(this)}function _e(e,t){this.componentName=e,this.layers=[],_e.__super__.constructor.call(this,null,null,null,t)}function be(e){be.__super__.constructor.call(this,this.type,e)}function Ee(){Ee.__super__.constructor.call(this)}function we(){we.__super__.constructor.call(this)}function Te(){Te.__super__.constructor.call(this)}function Ce(){Ce.__super__.constructor.call(this)}function Ae(){}function Se(){Se.__super__.constructor.call(this)}function Ne(){Ne.__super__.constructor.call(this)}function Ie(e){Ie.__super__.constructor.call(this,e)}function Pe(e){Pe.__super__.constructor.call(this,e)}function xe(){xe.__super__.constructor.call(this,xe.NAME),this.data={core:null,muted:!1,started:!1,volume:1,currentTime:0,duration:0,src:null,ended:!1,paused:!1,seeking:!1,loading:!1},\"desktop\"===kt.getDevice()&&(this.initialized=!0),this.handlers={timeupdate:this.ontimeupdate.bind(this),durationchange:this.ondurationchange.bind(this),play:this.onplay.bind(this),playing:this.onplaying.bind(this),pause:this.onpause.bind(this),loadeddata:this.onloadeddata.bind(this),waiting:this.onwaiting.bind(this),seeking:this.onseeking.bind(this),seeked:this.onseeked.bind(this),ended:this.onended.bind(this),progress:this.onprogress.bind(this),error:this.onerror.bind(this),loadstart:this.onloadstart.bind(this),canplay:this.oncanplay.bind(this),canplaythrough:this.oncanplaythrough.bind(this),loadedmetadata:this.onloadedmetadata.bind(this)},this.resumeHandlers={seeked:this.resumeseeked.bind(this),loadedmetadata:this.resumeloadedmetadata.bind(this)}}function ke(){ke.__super__.constructor.call(this)}function Me(e,t){this.supportedTypes=null!=e?e:this.supportedTypes,this.config=t,Me.__super__.constructor.call(this),this.temporalTypes=[\"vod\",\"live\",\"ondemand\"]}function De(e){this.player=e,De.__super__.constructor.call(this)}function Oe(e){this.flashObjectID+=Date.now(),this.plugins={},this.displayState=Vo.NORMAL,this.debug=/debug\\=true/.test(location.search),Oe.__super__.constructor.call(this,e)}function Le(e){this.module=e,Le.__super__.constructor.call(this,e.getModuleName(),this)}function Re(){}function je(){je.__super__.constructor.call(this)}function Ve(){}function Ue(e){null!=e&&this.parse(e)}function Be(e){Be.__super__.constructor.call(this,e)}function Ge(){Ge.__super__.constructor.call(this),null==this.contextName&&(this.contextName=this.constructor.NAME)}function Fe(){Fe.__super__.constructor.call(this)}function He(){He.__super__.constructor.call(this)}function ze(){ze.__super__.constructor.call(this)}function We(){We.__super__.constructor.call(this)}function qe(){qe.__super__.constructor.call(this)}function Ye(){Ye.__super__.constructor.call(this)}function Xe(){Xe.__super__.constructor.call(this)}function Ze(){Ze.__super__.constructor.call(this)}function Je(){Je.__super__.constructor.call(this)}function Ke(){Ke.__super__.constructor.call(this)}function $e(){$e.__super__.constructor.call(this)}function Qe(){Qe.__super__.constructor.call(this)}function et(){et.__super__.constructor.call(this)}function tt(){tt.__super__.constructor.call(this)}function nt(){nt.__super__.constructor.call(this)}function it(){this.plugins=[],this.registered=0,it.__super__.constructor.call(this,this.constructor.NAME,{})}function ot(e){this.element=e}function rt(e){var t,n;if(rt.__super__.constructor.call(this),this.data={language:navigator.language||navigator.browserLanguage,locales:ht.defaults.locales},null!=e&&(null!=e.language&&(this.data.language=e.language),null!=e.locales))for(n in e.locales)if(null!=this.data.locales[n])for(t in e.locales[n])this.data.locales[n][t]=e.locales[n][t];else this.data.locales[n]=e.locales[n]}function at(){}function st(){st.__super__.constructor.call(this)}function lt(e){this.message=lt.MESSAGE+e}function ut(e){ut.__super__.constructor.call(this,e)}function ct(e){ct.__super__.constructor.call(this,e)}function dt(e){this.token=new RegExp(this.tokenStart.source+\"([^#]*)\"+this.tokenEnd.source,\"g\"),dt.__super__.constructor.call(this,e)}function pt(e){pt.__super__.constructor.call(this,e)}function ht(e){var t,n,i;null==e&&(e={}),t=kt.override(ht.defaults,e),/amp\\-debug\\=true/.test(location.search.toLowerCase())===!0&&(t.debug=!0),t.mode=kt.getPlaybackMode(t.mode),t.version=tn.getVersion();for(n in t)i=t[n],this[n]=i}function ft(e){ft.__super__.constructor.call(this,e)}function gt(){gt.__super__.constructor.call(this,this.constructor.NAME,{}),this.data={},this.contextMap={},this.configurationMap={}}function mt(){mt.__super__.constructor.call(this),this.device=kt.getDevice()}function yt(e){this.defaults=ht.defaults,yt.__super__.constructor.call(this,e)}function vt(){vt.__super__.constructor.call(this)}function _t(e,t,n){var r;this.target=e,this.type=t,this.handler=n,this.trigger=o(this.trigger,this),_t.instances.push(this),this.types=[],r=this.type,i.call(_t.EVENTS,r)>=0?kt.isTouchDevice()?(this.types.push(_t.TOUCH_EVENTS[this.type]),this.type===_t.TOUCH_EVENTS[1]&&this.types.push(_t.TOUCH_EVENTS[4])):this.types.push(_t.MOUSE_EVENTS[this.type]):this.type instanceof Array?this.types=this.type:this.types.push(this.type),this.bind()}function bt(){bt.__super__.constructor.call(this)}function Et(e,t){this.defaultPlaybackCore=e,this.getPlaybackOrder=t,Et.__super__.constructor.call(this),this.playbackCoreMap=[]}function wt(){this.data={metadata:{}},wt.__super__.constructor.call(this)}function Tt(){Tt.__super__.constructor.call(this)}function Ct(e,t,n){Ct.__super__.constructor.call(this,e,t,n)}function At(){this.item=[],this.metadata={}}function St(){this.metadata={}}function Nt(e,t){this.type=e,null!=t&&(this.detail=this.data=t)}function It(){}function Pt(){}function xt(){xt.__super__.constructor.call(this)}function kt(){}function Mt(){Mt.__super__.constructor.call(this,this,!1)}function Dt(e,t,n,i,o){this.labelText=e,this.onclick=null!=o?o:this.onclick,Dt.__super__.constructor.call(this,i,null,t,n)}function Ot(e,t){this.element=e,this.timeout=t,Ot.__super__.constructor.call(this),this.resetHandler=this.reset.bind(this)}function Lt(e){Lt.__super__.constructor.call(this,null,null,e)}function Rt(e,t){this.player=e,this.config=t,Rt.__super__.constructor.call(this),this.dispatcher=new l(this),this.createDefaults()}function jt(){jt.__super__.constructor.call(this)}function Vt(){Vt.__super__.constructor.call(this)}function Ut(){Ut.__super__.constructor.call(this)}function Bt(){Bt.__super__.constructor.call(this)}function Gt(){Gt.__super__.constructor.call(this)}function Ft(){Ft.__super__.constructor.call(this)}function Ht(){Ht.__super__.constructor.call(this)}function zt(){zt.__super__.constructor.call(this)}function Wt(e,t){Wt.__super__.constructor.call(this,e,t)}function qt(e){qt.__super__.constructor.call(this,e)}function Yt(e){Yt.__super__.constructor.call(this,null,e)}function Xt(e,t){this.direction=null!=t?t:this.direction,Xt.__super__.constructor.call(this,null,null,e)}function Zt(e){Zt.__super__.constructor.call(this,null,null,e)}function Jt(e){Jt.__super__.constructor.call(this,null,e)}function Kt(e){this.panels=[],this.closeHandler=this.mouseupHandler.bind(this),Kt.__super__.constructor.call(this,null,null,e)}function $t(e){$t.__super__.constructor.call(this,e,\"horizontal\")}function Qt(e){Qt.__super__.constructor.call(this,null,e)}function en(){en.__super__.constructor.call(this)}function tn(){}function nn(){return nn.__super__.constructor.apply(this,arguments)}function on(){on.__super__.constructor.call(this)}function rn(){rn.__super__.constructor.call(this)}function an(){an.__super__.constructor.call(this)}function sn(){sn.__super__.constructor.call(this)}function ln(){ln.__super__.constructor.call(this)}function un(){un.__super__.constructor.call(this)}function cn(){cn.__super__.constructor.call(this)}function dn(){dn.__super__.constructor.call(this)}function pn(){pn.__super__.constructor.call(this)}function hn(){hn.__super__.constructor.call(this)}function fn(){fn.__super__.constructor.call(this)}function gn(){gn.__super__.constructor.call(this)}function mn(){mn.__super__.constructor.call(this)}function yn(){yn.__super__.constructor.call(this)}function vn(){vn.__super__.constructor.call(this)}function _n(){_n.__super__.constructor.call(this)}function bn(){bn.__super__.constructor.call(this)}function En(){En.__super__.constructor.call(this)}function wn(){wn.__super__.constructor.call(this)}function Tn(e,t){Tn.__super__.constructor.call(this,e,t)}function Cn(e,t,n,i,o,r,a,s,l,u,c,d){this.id=e,this.title=t,this.duration=n,this.position=i,this.type=o,this.partner=r,this.advertiser=a,this.companions=s,this.request=l,this.metadata=u,this.totalAds=c,this.currentTime=d}function An(e){An.__super__.constructor.call(this,e)}function Sn(e){Sn.__super__.constructor.call(this,e)}function Nn(e){Nn.__super__.constructor.call(this,e),this.intervals=[],this.loadedmetadata=this.onLoadedMetadata.bind(this)}function In(e){In.__super__.constructor.call(this,e)}function Pn(){Pn.__super__.constructor.call(this)}function xn(){xn.__super__.constructor.call(this)}function kn(e){kn.__super__.constructor.call(this,e),this.helper=new It}function Mn(){Mn.__super__.constructor.call(this)}function Dn(){Dn.__super__.constructor.call(this)}function On(){On.__super__.constructor.call(this)}function Ln(){Ln.__super__.constructor.call(this)}function Rn(e,t){null==t&&(t={}),Rn.__super__.constructor.call(this,e,t),null!=t.url&&(this.url=t.url),null!=t.data&&(this.data=t.data),this.player.load=function(){}}function jn(){jn.__super__.constructor.call(this)}function Vn(e,t){null==t&&(t={}),Vn.__super__.constructor.call(this,e,t)}function Un(){Un.__super__.constructor.call(this)}function Bn(e){Bn.__super__.constructor.call(this,e)}function Gn(){Gn.__super__.constructor.call(this)}function Fn(){Fn.__super__.constructor.call(this)}function Hn(e,t,n){this.startTime=e,this.endTime=t,this.id=n}function zn(){zn.__super__.constructor.call(this)}function Wn(){}function qn(){}function Yn(){}function Xn(){var e,t=this;this.captions=[],this.head=document.getElementsByTagName(\"head\")[0],e=window.com||{},e.akamai=e.akamai||{},e.akamai.amp=e.akamai.amp||{},e.akamai.amp.plugins=e.akamai.amp.plugins||{},e.akamai.amp.plugins.subply=e.akamai.amp.plugins.subply||{},e.akamai.amp.plugins.subply.response=function(e){t.parse(e),t.poll()},null==window.com&&(window.com=e),Xn.__super__.constructor.call(this,this.constructor.NAME)}function Zn(){Zn.__super__.constructor.call(this)}function Jn(){Jn.__super__.constructor.call(this)}function Kn(){Kn.__super__.constructor.call(this)}function $n(){$n.__super__.constructor.call(this)}function Qn(e,t){Qn.__super__.constructor.call(this,e,t)}function ei(e,t){var n,i=this;this.kind=e.kind,this.type=e.type,this.src=e.src,this.language=e.srclang,this.label=e.label||this.srclang||this.kind,this.cues=e.cues||[],this.styles=e.styles||{},this.activeCues=[],this.isLive=/live-subply/.test(this.type),null==this.src||\"\"===this.src||this.isLive?setTimeout(t,1):n=kt.get(this.src,{onload:function(){try{CaptionParsers[i.type].parse(i,n.response)}catch(e){return void Pt.error(\"Could not parse caption track: \"+i.src)}\"function\"==typeof t&&t()},onerror:function(){Pt.error(\"Could not load caption track: \"+i.src)}})}function ti(e,t,n,i){ti.__super__.constructor.call(this,e,t,n,i)}function ni(e){this.activeCaptions=[],this.providers={},this.tracks=[],this.rendererMap=[],this.settings={},ni.__super__.constructor.call(this,e)}function ii(e){ii.__super__.constructor.call(this,null,null,e,null)}function oi(e){oi.__super__.constructor.call(this,e)}function ri(e){ri.__super__.constructor.call(this,null,null,e,null)}function ai(e){ai.__super__.constructor.call(this,e)}function si(){si.__super__.constructor.call(this)}function li(e,t){null==t&&(t={}),li.__super__.constructor.call(this,e,t)}function ui(){ui.__super__.constructor.call(this)}function ci(e){ci.__super__.constructor.call(this,e)}function di(){di.__super__.constructor.call(this)}function pi(){pi.__super__.constructor.call(this)}function hi(e){hi.__super__.constructor.call(this,e)}function fi(){return fi.__super__.constructor.apply(this,arguments)}function gi(){gi.__super__.constructor.call(this)}function mi(){mi.__super__.constructor.call(this)}function yi(){yi.__super__.constructor.call(this)}function vi(){return vi.__super__.constructor.apply(this,arguments)}function _i(e){_i.__super__.constructor.call(this,e)}function bi(){bi.__super__.constructor.call(this)}function Ei(){Ei.__super__.constructor.call(this)}function wi(){wi.__super__.constructor.call(this)}function Ti(){Ti.__super__.constructor.call(this)}function Ci(){Ci.__super__.constructor.call(this)}function Ai(){Ai.__super__.constructor.call(this)}function Si(){Si.__super__.constructor.call(this)}function Ni(){Ni.__super__.constructor.call(this)}function Ii(){Ii.__super__.constructor.call(this)}function Pi(){Pi.__super__.constructor.call(this)}function xi(){xi.__super__.constructor.call(this)}function ki(){ki.__super__.constructor.call(this)}function Mi(){Mi.__super__.constructor.call(this)}function Di(){Di.__super__.constructor.call(this)}function Oi(){Oi.__super__.constructor.call(this)}function Li(e){Li.__super__.constructor.call(this,e)}function Ri(e){Ri.__super__.constructor.call(this,e)}function ji(e,t){ji.__super__.constructor.call(this,e,t)}function Vi(){return Vi.__super__.constructor.apply(this,arguments)}function Ui(){Ui.__super__.constructor.call(this)}function Bi(){return Bi.__super__.constructor.apply(this,arguments)}function Gi(e){Gi.__super__.constructor.call(this,e)}function Fi(){Fi.__super__.constructor.call(this)}function Hi(){Hi.__super__.constructor.call(this)}function zi(){zi.__super__.constructor.call(this)}function Wi(){Wi.__super__.constructor.call(this)}function qi(){qi.__super__.constructor.call(this)}function Yi(){Yi.__super__.constructor.call(this)}function Xi(){Xi.__super__.constructor.call(this)}function Zi(){return Zi.__super__.constructor.apply(this,arguments)}function Ji(){Ji.__super__.constructor.call(this)}function Ki(e){Ki.__super__.constructor.call(this,e)}function $i(){$i.__super__.constructor.call(this)}function Qi(){Qi.__super__.constructor.call(this)}function eo(){eo.__super__.constructor.call(this)}function to(e){to.__super__.constructor.call(this,null,null,null,e,onclick)}function no(e){no.__super__.constructor.call(this,e,null,null,null)}function io(e){io.__super__.constructor.call(this,e)}function oo(e){oo.__super__.constructor.call(this,e)}function ro(e){ro.__super__.constructor.call(this,e)}function ao(e,t){null==t&&(t={}),ao.__super__.constructor.call(this,e,t)}function so(e){so.__super__.constructor.call(this,e)}function lo(e,t){lo.__super__.constructor.call(this,e,t)}function uo(){uo.__super__.constructor.call(this),this.controls={}}function co(){co.__super__.constructor.call(this)}function po(){po.__super__.constructor.call(this)}function ho(e){this.name=this.playbackCoreName+\"-\"+Date.now(),ho.__super__.constructor.call(this,e.types)}function fo(e){var t,n=this;this.name=e,this.data={paused:!1,ended:!1,error:null,duration:0,currentTime:0,src:null},this.startNode=null,this.iframe=document.querySelector(\"iframe[name=\"+this.name+\"]\"),this.iframe.video=this,this.iframe.onload=function(){raptor.api.init(n.iframe)},raptor.api.on(\"ready\",function(e,t){raptor.settings(\"defaultIFrame\",n.name),raptor.api.load()}),raptor.api.on(\"play\",function(e,t){t.frameName===n.name&&(n.data.paused=!1,n.dispatchEvent(\"play\"),n.dispatchEvent(\"playing\"))}),raptor.api.on(\"pause\",function(e,t){t.frameName===n.name&&(n.updateData(),n.data.paused=!0,n.dispatchEvent(\"pause\"))}),raptor.api.on(\"error\",function(e,t){t.frameName===n.name&&(n.data.error=t,n.dispatchEvent(\"error\"))}),raptor.api.on(\"inboundReady\",function(e,t){t&&t.frameName!==n.name||(n.updateData(),n.dispatchEvent(\"loadedmetadata\"))}),raptor.api.on(\"timeUpdate\",function(e,t){t&&t.frameName!==n.name||n.updateData(t)}),raptor.api.on(\"clipEnd\",function(e,t){t&&t.frameName!==n.name||n.dispatchEvent(\"interactivebreakstart\");\n}),raptor.api.on(\"clipStart\",function(e,t){t&&t.frameName!==n.name||(\"true\"===t.isStart&&(n.startNode=raptor.api.nodes(n.name)[t.clipname]),n.dispatchEvent(\"interactivebreakend\"))}),raptor.api.on(\"projectEnd\",function(e,t){t&&t.frameName!==n.name||(n.data.ended=!0,n.dispatchEvent(\"ended\"))}),t=function(e,t){console.log(\"RAPT: \",e.type,e,t)},raptor.api.on(\"inboundReady\",t),raptor.api.on(\"play\",t),raptor.api.on(\"pause\",t),raptor.api.on(\"error\",t),raptor.api.on(\"clipStart\",t),raptor.api.on(\"clipEnd\",t),raptor.api.on(\"clipSwitch\",t),raptor.api.on(\"projectStart\",t),raptor.api.on(\"projectEnd\",t),raptor.api.on(\"progress\",t),raptor.api.on(\"button\",t),raptor.api.on(\"windowed\",t),raptor.api.on(\"userTimed\",t),raptor.api.on(\"fullscreen\",t),raptor.api.on(\"volume\",t),raptor.api.on(\"mute\",t),raptor.api.on(\"unmute\",t)}function go(e){go.__super__.constructor.call(this,e)}function mo(){mo.__super__.constructor.call(this)}function yo(e,t){yo.__super__.constructor.call(this,e,t),kt.flashTypes.push(kt.mimeTypes.m3u8)}function vo(e){this.hlsConfig=e.data,e.withCredentials===!0&&(this.hlsConfig.xhrSetup=function(e,t){e.withCredentials=!0}),vo.__super__.constructor.call(this,e.types,e),this.temporalTypes=[\"vod\",\"live\",\"dvr\"]}function _o(){_o.__super__.constructor.call(this)}function bo(e){bo.__super__.constructor.call(this,e)}function Eo(e){Eo.__super__.constructor.call(this,e)}function wo(){wo.__super__.constructor.call(this)}function To(){To.__super__.constructor.call(this)}var Co,Ao,So;if(null==(So=window.AKAMAI_MEDIA_PLAYER)&&(window.AKAMAI_MEDIA_PLAYER=new e),Ao=\"AMP Premier - NDN v1.53.x.0004\",null==window.AKAMAI_MEDIA_PLAYER[Ao]){Co=window.AKAMAI_MEDIA_PLAYER[Ao]={},r.construct=function(){var e,t,n;n=this.deserialize(window.location.search);for(e in n)t=n[e],r[e]=t;return!0},r.serialize=function(e,t){var n,i,o,r;o=[];for(i in e)r=e[i],null!=r&&(n=t?t+\"[\"+i+\"]\":i,o.push(\"object\"==typeof r?this.serialize(r,n):encodeURIComponent(n)+\"=\"+encodeURIComponent(r)));return o.join(\"&\")},r.deserialize=function(e){var t;return null!=e&&(t={},e=e.replace(/^[^?]*\\?/,\"\"),e.replace(new RegExp(\"([^?=&]+)(=([^&]*))?\",\"g\"),function(e,n,i,o){t[decodeURIComponent(n)]=decodeURIComponent(o)})),t},r.constructed=r.construct(),n(a,puremvc.Proxy),a.NAME=\"ModuleProxy\",a.prototype.defaults=null,a.prototype.config=null,a.prototype.initializeNotifier=function(e){a.__super__.initializeNotifier.call(this,e),this.createData()},a.prototype.createData=function(){this.setData(this.config)},a.prototype.setData=function(e){var t,n,i,o,r;null==e&&(e={}),i={},r=this.defaults;for(n in r)t=r[n],o=n in e?e[n]:t,i[n]=o;return a.__super__.setData.call(this,i),e},a.prototype.destory=function(){},n(s,puremvc.Facade),s.prototype.logger=null,s.prototype.config=null,s.prototype.moduleName=null,s.prototype.moduleMap=null,s.prototype.viewComponent=null,s.prototype.dispatcher=null,s.prototype.oninitialized=null,s.prototype.onerror=null,s.prototype.parentModule=null,s.prototype.initialize=function(e,t){this.config=e,this.parentModule=t,this.loadResources()},s.prototype.loadResources=function(){var e,t,n,i,o;if(!(null!=(i=this.config.resources)?i.length:void 0)>0)return void this.resourcesLoaded();for(o=this.config.resources,t=0,n=o.length;n>t;t++)e=o[t],e.src=this.evaluatePaths(e.src),null!=e.debug&&(e.debug=this.evaluatePaths(e.debug));tn.addResources(this.config.resources,this.resourcesLoaded.bind(this),this.resourcesError.bind(this))},s.prototype.evaluatePaths=function(e){var t,n,i;if(null!=e)return t=this.config.paths||(null!=(n=this.parentModule)&&null!=(i=n.config)?i.paths:void 0),null!=t&&(e=e.replace(/#{paths\\.[^}]*}/g,function(e){return Re.eval(e,null,null,null,t)})),e},s.prototype.resourcesError=function(e){\"function\"==typeof this.onerror&&this.onerror(this)},s.prototype.resourcesLoaded=function(){this.createFramework(),\"function\"==typeof this.oninitialized&&this.oninitialized(this)},s.prototype.createFramework=function(){this.createModel(),this.createController(),this.createView()},s.prototype.createModel=function(){this.registerProxy(new a(this.config))},s.prototype.createView=function(){},s.prototype.createController=function(){this.registerCommand(Mo.DISPATCH_EVENT,je)},s.prototype.getModuleName=function(){return this.moduleName},s.prototype.getConfig=function(){return this.config},s.prototype.hasModule=function(e){return null!=this.moduleMap[e]},s.prototype.getModules=function(){var e,t,n,i;t={},i=this.moduleMap;for(e in i)n=i[e],t[e]=n.module;return t},s.prototype.registerModule=function(e){var t,n;n=e.getModuleName(),null!=e&&null==this.moduleMap[n]&&(t=new Le(e),this.moduleMap[n]=t,this.registerMediator(t),e.onRegister())},s.prototype.retrieveModule=function(e){return this.moduleMap[e].module},s.prototype.removeModule=function(e){var t,n;return t=this.moduleMap[e],null!=t?(delete this.moduleMap[e],this.removeMediator(e),n=t.module,n.onRemove.call(n),n):void 0},s.prototype.listNotificationInterests=function(){return[]},s.prototype.listNotificationPublications=function(){return[]},s.prototype.getViewComponent=function(){return this.viewComponent},s.prototype.setViewComponent=function(e){return this.viewComponent=e,e},s.prototype.onRegister=function(){},s.prototype.onRemove=function(){},s.prototype.destroy=function(){var e,t,n,i;if(null!=this.getModules()){n=this.getModules();for(e in n)t=n[e],this.removeModule(e),t.destroy()}null!=(i=this.retrieveProxy(a.NAME))&&\"function\"==typeof i.destroy&&i.destroy(),puremvc.Facade.removeCore(this.multitonKey),null!=this.viewComponent&&(this.viewComponent.innerHTML=\"\",this.viewComponent.className=\"\");for(e in this)this[e]=null,delete this[e]},s.prototype.addEventListener=function(e,t){this.dispatcher.addEventListener(e,t)},s.prototype.logEvent=function(e){var t;/(timeupdate|progress)/.test(e.type)!==!0&&(t=this.getModuleName().toUpperCase(),e.dispatcher&&(t+=\" \"+e.dispatcher),this.logger.log(\"[\"+t+\" EVENT] \"+e.type,e))},s.prototype.dispatchEvent=function(e){this.logEvent(e),this.dispatcher.dispatchEvent(e)},s.prototype.removeEventListener=function(e,t){this.dispatcher.removeEventListener(e,t)},l.prototype.addEventListener=function(e,t,n){null!=t&&null!=e&&(null==this.listenerMap[e]&&(this.listenerMap[e]=[]),-1===this.listenerMap[e].indexOf(t)&&this.listenerMap[e].push(t))},l.prototype.dispatchEvent=function(e){var t,n,i,o;if(n=this.listenerMap[e.type],t=this.target[\"on\"+e.type],e.target=this.target,null!=t&&t.apply(this.target,[e]),null!=n)for(i=0,o=n.length;o>i;i++)t=n[i],t.apply(this.target,[e])},l.prototype.callListener=function(e,t){try{t.apply(this.target,[e])}catch(n){if(this.catchErrors!==!0)throw n;this.processEventError(n,e,t)}},l.prototype.processEventError=function(e,t,n){var i,o,r;o=e.fileName||e.sourceURL,r=e.lineNumber||e.line,i={message:e.message,name:\"AMP Event Listener Error\",file:o,fileName:o,line:r,lineNumber:r,error:e,event:t,listener:n,functionName:n.name,toString:function(){var e;return e=\"\"+this.name+\":\",e+=\"\\n\t\"+this.error.toString(),null!=this.event&&(e+=\"\\n\t\tevent: \"+this.event.type),null!=this.listener&&(e+=\"\\n\t\tfunction: \"+this.listener.name),null!=this.file&&(e+=\"\\n\t\tfile: \"+this.file),null!=this.line&&(e+=\"\\n\t\tline: \"+this.line),e}},setTimeout(function(e){throw e},0,i)},l.prototype.removeEventListener=function(e,t,n){var i,o;if(null!=t&&null!=e&&(o=this.listenerMap[e],null!=o&&(i=null!=o?o.indexOf(t):void 0,-1!==i)))return o.splice(i,1)},n(u,l),u.prototype.onchange=null,u.prototype.list=null,u.prototype.changeHandler=function(e){this.dispatchEvent(e)},u.prototype.add=function(e,t){null==t&&(t=!0),this.list.push(e),e.addEventListener(\"change\",this.handlers.change),t===!0&&this.dispatchEvent({type:\"addtrack\"})},u.prototype.set=function(e){var t,n,i,o;if(this.clear(),null!=e&&0!==e.length){for(t=i=0,o=e.length;o>i;t=++i)n=e[t],this.add(n,!1),this[t]=null,delete this[t];this.dispatchEvent({type:\"addtrack\"})}},u.prototype.item=function(e){return this.list[e]},u.prototype.remove=function(e,t){var n;return null==t&&(t=!0),i.call(this,e)>=0?(n=this.list.splice(e,1),n.removeEventListener(\"change\",this.handlers.change),t===!0&&this.dispatchEvent({type:\"removetrack\"}),n):void 0},u.prototype.clear=function(){var e,t,n,i;if(0!==this.list.length){for(e=n=0,i=this.length;i>n;e=++n)t=this[e],this.remove(t,!1),this.list[e]=null,delete this.list[e];this.dispatchEvent({type:\"removetrack\"})}},u.prototype.forEach=function(e,t){var n,i,o,r,a;if(null!=e)for(a=this.list,n=o=0,r=a.length;r>o;n=++o)i=a[n],e.call(t,i,n,this.list)},u.prototype.getTrackById=function(e){var t,n,i,o;for(o=this.list,n=0,i=o.length;i>n;n++)if(t=o[n],t.id===e)return t},u.prototype.getLength=function(){return this.list.length},c.prototype.initialize=function(){},c.prototype.getModules=function(){return[]},d.prototype.map=null,d.prototype.add=function(e,t){this.map[e]=t},d.prototype.item=function(e){return this.map[e]},d.prototype.remove=function(e){var t;return t=this.map[e],null!=t&&(this.map[e]=null,delete this.map[e]),t},n(p,d),p.prototype.add=function(e,t,n){var i,o,r;return r=Pt.enabled&&null!=e.debug?e.debug:e.src,i=this.item(r),e.enabled===!1||(null!=i?i.loaded:void 0)===!0?void t():(null!=i?i.loaded:void 0)===!1?void i.callbacks.push(t):(e.loaded=!1,e.callbacks=[t],o=this.resourceLoaded.bind(e),p.__super__.add.call(this,r,e),e.type===kt.mimeTypes.js?void kt.loadScript(r,o,document.body,n):(e.type===kt.mimeTypes.css&&kt.loadStyleSheet(r),void o()))},p.prototype.resourceLoaded=function(){var e,t,n,i;for(this.loaded=!0,t=this.callbacks,this.callbacks=null,delete this.callbacks,n=0,i=t.length;i>n;n++)(e=t[n])();t=null},p.prototype.addResources=function(e,t,n){var i,o,r,a=this;return!(null!=e?e.length:void 0)>0?void t():(o=0,r=function(){a.add(e[o],i,n)},i=function(){o++,o>=e.length?t():r()},void r())},n(h,puremvc.SimpleCommand),h.prototype.execute=function(e){var t,n;this.sendNotification(Mo.READY,this.facade.config),t=null!=(n=this.facade.config)?n.media:void 0,null!=t&&this.sendNotification(Mo.SET_MEDIA,t)},n(f,puremvc.SimpleCommand),f.prototype.applicationState=null,f.prototype.media=null,f.prototype.player=null,f.prototype.playback=null,f.prototype.config=null,f.prototype.logger=null,f.prototype.bindings=null,f.prototype.params=null,f.prototype.playerCore=null,f.prototype.security=null,f.prototype.tracks=null,f.prototype.initializeNotifier=function(e){var t;f.__super__.initializeNotifier.call(this,e),this.player=this.facade.player||this.facade,this.applicationState=this.player.appState,this.media=this.player.media,this.config=this.player.configuration,this.logger=this.player.logger,this.bindings=this.player.bindings,this.params=this.player.params,this.playerCore=this.player.playerCore,this.security=this.player.security,this.tracks=this.player.tracks,this.playback=(null!=(t=this.player.playerCore)?t.getActivePlaybackCore():void 0)||this.player.playback},n(g,f),g.prototype.execute=function(e){var t;switch(this.applicationState.getPlayState()){case jo.ENDED:t=Mo.REPLAY;break;case jo.PAUSED:case jo.READY:t=Mo.PLAY;break;case jo.PLAYING:t=Mo.PAUSE;break;case jo.WAITING:this.facade.getMediaElement().paused===!0&&(t=Mo.PLAY)}this.sendNotification(t,!0)},n(m,f),m.prototype.execute=function(e){var t;t=this.applicationState.getDisplayState()===Vo.FULL_SCREEN?Vo.NORMAL:Vo.FULL_SCREEN,this.sendNotification(Mo.CHANGE_DISPLAY_STATE,t)},n(y,f),y.prototype.dispatchEvent=function(e,t){var n;\"string\"!=typeof e&&(t=null!=e.getBody()?e.getBody():{},e=e.getName()),n=new Nt(e,t),this.sendNotification(Mo.DISPATCH_EVENT,n)},y.prototype.dispatchEventAfterCommand=function(e,t){setTimeout(this.dispatchEvent.bind(this,e,t),0)},y.prototype.execute=function(e){this.dispatchEvent(e)},n(v,y),v.prototype.execute=function(e){this.applicationState.getIsUserActive()!==!0&&(this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING),v.__super__.execute.call(this,e))};var No={EXTERNAL:\"external\"},Io={AUTO:\"auto\",PERSISTENT:\"persistent\",NONE:\"none\"};n(_,y),_.prototype.execute=function(e){this.playback.pause(),this.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE),_.__super__.execute.call(this,e)},n(b,f),b.prototype.execute=function(e){this.config.setAutoplay(e.getBody())},n(E,f),E.prototype.execute=function(e){this.config.setLoop(e.getBody())},n(w,f),w.prototype.execute=function(e){this.playback.setVolume(e.getBody())},n(T,puremvc.SimpleCommand),T.prototype.execute=function(e){var t;t=e.getBody(),this.sendNotification(Mo.MEDIA_CHANGE,t),this.facade.getAutoplay()===!0&&this.sendNotification(Mo.PLAY)},n(C,f),C.prototype.execute=function(e){var t,n,i,o=this;n=e.getBody(),0===n&&this.media.getType()===kt.mimeTypes.m3u8&&(n=.25),n!==this.playback.getCurrentTime()&&(this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.WAITING),this.sendNotification(Mo.DISPLAY_TIME,{currentTime:n,duration:this.playback.getDuration()}),this.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE),i=this.facade.getMediaElement(),this.applicationState.pausedBeforeSeek=i.paused,0===i.readyState?(t=function(e){i.removeEventListener(\"loadedmetadata\",t,!1),o.playback.setCurrentTime(n)},i.addEventListener(\"loadedmetadata\",t,!1)):this.playback.setCurrentTime(n))},n(A,y),A.prototype.execute=function(e){this.applicationState.getSeeking()!==!0&&(this.applicationState.setSeeking(!0),A.__super__.execute.call(this,e))},n(S,y),S.prototype.execute=function(e){var t=this;return this.applicationState.getIsUserActive()===!0?void setTimeout(this.sendNotification.bind(this,e.getName(),e.getBody()),100):void setTimeout(function(){var n;t.applicationState.setSeeking(!1),t.dispatchEvent(e),n=t.applicationState.pausedBeforeSeek===!0?jo.PAUSED:jo.PLAYING,t.sendNotification(Mo.CHANGE_PLAY_STATE,n)},1)},n(N,f),N.prototype.execute=function(e){\"function\"==typeof this.playback.replay?this.playback.replay():this.media.getType()===kt.mimeTypes.m3u8?this.playback.setCurrentTime(.25):this.playback.setCurrentTime(0),this.sendNotification(Mo.PLAY),this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING)},n(I,f),I.prototype.execute=function(e){this.playback.pause(),this.playback.getCurrentTime()!==this.playback.getDuration()&&this.playback.setCurrentTime(this.playback.getDuration())},n(P,y),P.prototype.execute=function(e){this.config.getLoop()===!0?(P.__super__.execute.call(this,e),this.sendNotification(Mo.REPLAY)):(this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.ENDED),this.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE),P.__super__.execute.call(this,e))},n(x,f),x.prototype.execute=function(e){this.sendNotification(Mo.PLAY_REQUEST),this.sendNotification(Mo.DISPLAY_TIME,{currentTime:0,duration:this.media.getDuration()}),this.sendNotification(Mo.STARTED,e.getBody())},n(k,f),k.prototype.execute=function(e){this.applicationState.setIsUserActive(e.getBody())},n(M,y),M.prototype.execute=function(e){this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.WAITING),M.__super__.execute.call(this,e)},n(D,f),D.prototype.execute=function(e){this.playback.setMuted(e.getBody())},n(O,y),O.prototype.execute=function(e){var t;t=e.getBody(),this.security.setMedia(t),this.security.getAuthorized()===!1?this.sendNotification(Lo.AUTHORIZE,t):this.sendNotification(Mo.MEDIA_VALIDATED,t),O.__super__.execute.call(this,e)},n(L,y),L.prototype.execute=function(e){var t;this.media.authorized=!0,t=this.security.createURL(this.media.getSrc()),this.media.setSrc(t),this.sendNotification(Mo.MEDIA_VALIDATED,this.media.getData()),L.__super__.execute.call(this,e)},n(R,f),R.prototype.execute=function(e){this.playback.initialized=!0},n(j,f),j.prototype.execute=function(e){this.playerCore.registerPlaybackCore(e.getBody())},n(V,f),V.prototype.execute=function(e){var t;t=e.getBody(),this.sendNotification(Mo.CHANGE_CONTENT,{from:this.media.getData(),to:t}),this.media.updateData(t),this.sendNotification(Mo.UPDATE_DATA_BINDINGS),this.sendNotification(Mo.CHANGE_CONTENT,this.media.getData())},n(U,y),U.prototype.execute=function(e){this.sendNotification(Mo.DISPLAY_TIME,{currentTime:this.playback.getCurrentTime(),duration:this.playback.getDuration()}),U.__super__.execute.call(this,e)},n(B,f),B.prototype.execute=function(e){this.playback.setMuted(!this.playback.getMuted())},n(G,y),G.prototype.execute=function(e){this.media.started!==!0&&(this.media.started=!0,G.__super__.execute.call(this,e))},n(F,f),F.prototype.execute=function(e){var t,n,i,o,r;for(i=this.player.getMediaElement(),n=e.getBody(),o=0,r=n.length;r>o;o++)t=n[o],i.addEventListener(t,this.playback.handlers[t])},n(H,f),H.prototype.execute=function(e){var t,n,i,o,r;for(i=this.player.getMediaElement(),n=e.getBody(),o=0,r=n.length;r>o;o++)t=n[o],i.removeEventListener(t,this.playback.handlers[t])},n(z,y),z.prototype.execute=function(e){this.applicationState.setVolume(e.getBody()),z.__super__.execute.call(this,e)},n(W,puremvc.Mediator),W.prototype.config=null,W.prototype.cssPrefix=null,W.prototype.classList=null,W.prototype.initializeNotifier=function(e){var t;W.__super__.initializeNotifier.call(this,e),t=this.facade.player||this.facade,this.config=t.retrieveProxy(a.NAME),this.classList=this.classList=new ot(this.viewComponent)},n(q,W),q.prototype.localizationManager=null,q.prototype.initializeNotifier=function(e){var t;q.__super__.initializeNotifier.call(this,e),t=this.facade.player||this.facade,this.localizationManager=t.retrieveProxy(rt.NAME)},n(Y,q),Y.prototype.componentName=null,Y.prototype.componentType=null,Y.prototype.parent=null,Y.prototype.element=null,Y.prototype.classList=null,Y.prototype.state=null,Y.prototype.disabled=!1,Y.prototype.onRegister=function(){this.viewComponent=this.createViewComponent(this.parent,this.element),this.classList=this.viewComponent._classList,at.bindEvents(this.viewComponent,this)},Y.prototype.createViewComponent=function(e,t){var n;return n=this.getTypeList(),at.create(n,e,t)},Y.prototype.createMediatorName=function(){var e;return e=this.getTypeList(),e.push(\"mediator\"),e.push(at.createUID()),e.join(\"-\")},Y.prototype.getTypeList=function(){var e;return e=[],null!=this.componentName&&e.push(this.componentName),null!=this.componentType&&(e=e.concat(this.componentType)),e},Y.prototype.create=function(e,t,n,i){return null==t&&(t=this),t===!1&&(t=null),at.create(e,t,n,i)},Y.prototype.createText=function(e,t,n,i){return null==n&&(n=this),at.create(e,n,i,t)},Y.prototype.setState=function(e){return e!==this.state?(null!=this.state&&this.classList.remove(this.state),this.state=e,null!=this.state&&this.classList.add(this.state),e):void 0},Y.prototype.getState=function(){return this.state},Y.prototype.setDisabled=function(e){return e!==this.disabled?(this.disabled=e,this.disabled?this.classList.add(\"disabled\"):this.classList.remove(\"disabled\"),e):void 0},Y.prototype.getDisabled=function(){return this.disabled},n(X,Y),X.prototype.componentType=\"overlay\",X.prototype.onRegister=function(){X.__super__.onRegister.call(this),this.registerOverlay()},X.prototype.onRemove=function(){X.__super__.onRemove.call(this),this.removeOverlay()},X.prototype.registerOverlay=function(){this.sendNotification(Mo.ADD_OVERLAY,this.viewComponent)},X.prototype.removeOverlay=function(){this.sendNotification(Mo.REMOVE_OVERLAY,this.viewComponent)},n(Z,X),Z.prototype.componentName=\"context-menu\",Z.prototype.contextMenu=null,Z.prototype.onRegister=function(){var e=this;Z.__super__.onRegister.call(this),_t.create(this.facade.viewComponent,_t.CONTEXTMENU,function(t){return t.preventDefault(),e.contextMenuHandler(t),!1})},Z.prototype.contextMenuHandler=function(e){var t,n=this;this.contextMenu&&this.removeContextMenu(),this.contextMenu=at.create(\"context-menu\",document.body,\"ul\"),t=at.create(\"context-item\",this.contextMenu,\"li\",this.facade.getVersion()),this.contextMenu.style.top=e.pageY+\"px\",this.contextMenu.style.left=e.pageX+\"px\",_t.create(document.body,_t.CLICK,function(e){return n.removeContextMenu(e),!1})},Z.prototype.removeContextMenu=function(e){try{_t.clear(document.body,_t.CLICK),document.body.removeChild(this.contextMenu),this.contextMenu=null}catch(t){}},n(J,X),J.prototype.componentName=\"end-slate\",J.prototype.onRegister=function(){null!=this.config.getEndSlate()&&J.__super__.onRegister.call(this)},J.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE]},J.prototype.handleNotification=function(e){var t,n,i,o,r;switch(e.getName()){case Mo.MEDIA_CHANGE:i=e.getBody(),t=this.config.getEndSlate(),r=this.getViewComponent(),n=\"\",null!=t&&(o=t.usePoster===!0?i.poster:t.url,null!=o&&\"\"!==o&&(n='<img src=\"'+o+'\" class=\"end-slate-image\" />')),null!=r&&(r.innerHTML=n)}},n(K,X),K.prototype.componentName=\"waiting\",K.prototype.bar=null,K.prototype.text=null,K.prototype.onRegister=function(){K.__super__.onRegister.call(this),this.bar=this.create(\"waiting-bar\"),this.text=this.createText(\"waiting-text\",this.localizationManager.getString(Q.MSG_BUFFERING))},n($,X),$.prototype.componentName=\"loading\",Q.MSG_LIVE=\"MSG_LIVE\",Q.MSG_REPLAY=\"MSG_REPLAY\",Q.MSG_BUFFERING=\"MSG_BUFFERING_TEXT\",Q.MSG_CC=\"MSG_CC\",Q.MSG_CC_TITLE=\"MSG_CC_TITLE\",Q.MSG_CC_LANGUAGE=\"MSG_CC_LANGUAGE\",Q.MSG_CC_PRESETS=\"MSG_CC_PRESETS\",Q.MSG_CC_FONT=\"MSG_CC_FONT\",Q.MSG_CC_EDGE=\"MSG_CC_EDGE\",Q.MSG_CC_SIZE=\"MSG_CC_SIZE\",Q.MSG_CC_SCROLL=\"MSG_CC_SCROLL\",Q.MSG_CC_COLOR=\"MSG_CC_COLOR\",Q.MSG_CC_BACKGROUND=\"MSG_CC_BACKGROUND\",Q.MSG_CC_EDGE=\"MSG_CC_EDGE\",Q.MSG_CC_WINDOW=\"MSG_CC_WINDOW\",Q.MSG_CC_OPACITY=\"MSG_CC_OPACITY\",Q.MSG_CC_SHOW_ADVANCED=\"MSG_CC_SHOW_ADVANCED\",Q.MSG_CC_HIDE_ADVANCED=\"MSG_CC_HIDE_ADVANCED\",Q.MSG_CC_RESET=\"MSG_CC_RESET\",Q.MSG_CC_CANCEL=\"MSG_CC_CANCEL\",Q.MSG_CC_APPLY=\"MSG_CC_APPLY\",Q.MSG_CC_PREVIEW_TEXT=\"MSG_CC_PREVIEW_TEXT\",Q.MSG_SECONDS=\"MSG_SECONDS\",Q.MSG_RECOMMENDATIONS_TITLE=\"MSG_RECOMMENDATIONS_TITLE\",Q.MSG_NEXT_VIDEO=\"MSG_NEXT_VIDEO\",Q.MSG_NEXT_AD=\"MSG_NEXT_AD\",Q.MSG_TIME_SEPARATOR=\"MSG_TIME_SEPARATOR\",Q.MSG_VIEW_ALL=\"MSG_VIEW_ALL\",Q.MSG_VIDEO=\"MSG_VIDEO\",n(ee,X),ee.prototype.componentName=\"replay\",ee.prototype.replay=null,ee.prototype.icon=null,ee.prototype.label=null,ee.prototype.onRegister=function(){ee.__super__.onRegister.call(this),this.replay=this.create(\"replay-button\"),this.replay.onclick=this.onclick.bind(this),this.icon=this.create(\"replay-icon\",this.replay),this.label=this.createText(\"replay-label\",this.localizationManager.getString(Q.MSG_REPLAY),this.replay)},ee.prototype.onclick=function(e){return e.stopImmediatePropagation(),this.sendNotification(Mo.REPLAY),!1},n(te,f),te.prototype.execute=function(e){var t;t=this.config.getControls().mode!==Io.PERSISTENT?e.getBody():Bo.ACTIVE,this.applicationState.setActiveState(t)},n(ne,y),ne.interval=null,ne.keyHandler=null,ne.prototype.keypress=function(e){switch(e.keyCode||e.which||e.charCode){case 27:break;case 32:this.facade.getEnded()||(this.facade.getPaused()?this.facade.play():this.facade.pause())}},ne.prototype.execute=function(e){var t,n,i,o,r=this;return i=e.getBody(),this.applicationState.setDisplayState(i),this.config.getFullscreen().mode===No.EXTERNAL?void this.sendNotifications(i):(t=this.facade.getMediaElement(),o=this.facade.getViewComponent(),n={},null!=o.webkitRequestFullScreen?(n.enter=o.webkitRequestFullScreen.bind(o),n.exit=null!=document.webkitExitFullscreen?document.webkitExitFullscreen.bind(document):document.webkitCancelFullScreen.bind(document),n.event=\"onwebkitfullscreenchange\",n.element=\"webkitFullscreenElement\",n.error=\"webkitfullscreenerror\"):null!=o.requestFullscreen?(n.enter=o.requestFullscreen.bind(o),n.exit=null!=document.exitFullscreen?document.exitFullscreen.bind(document):document.cancelFullscreen.bind(document),n.event=\"onfullscreenchange\",n.element=\"fullscreenElement\",n.error=\"fullscreenerror\"):null!=o.mozRequestFullScreen?(n.enter=o.mozRequestFullScreen.bind(o),n.exit=document.mozCancelFullScreen.bind(document),n.event=\"onmozfullscreenchange\",n.element=\"mozFullscreenElement\",n.error=\"mozfullscreenerror\"):null!=o.msRequestFullscreen?(n.enter=o.msRequestFullscreen.bind(o),n.exit=document.msExitFullscreen.bind(document),n.event=\"MSFullscreenChange\",n.element=\"msFullscreenElement\",n.error=\"MSFullscreenError\"):null!=t.webkitEnterFullscreen&&(n.enter=t.webkitEnterFullscreen.bind(t),n.exit=t.webkitExitFullscreen.bind(t),n.event=null,n.error=null),i===Vo.FULL_SCREEN?(null!=n.event?o[n.event]=function(e){null==document[n.element]&&r.sendNotification(Mo.CHANGE_DISPLAY_STATE,Vo.NORMAL)}:(clearInterval(ne.interval),ne.interval=setInterval(function(){t.webkitDisplayingFullscreen!==!0&&(r.sendNotification(Mo.CHANGE_DISPLAY_STATE,Vo.NORMAL),clearInterval(ne.interval))},100)),null!=n.error&&document.addEventListener(n.error,this.facade.logger.error.bind(this.facade.logger)),n.enter(),this.playback.keyHandler=this.keypress.bind(this),window.addEventListener(\"keypress\",this.playback.keyHandler)):i===Vo.NORMAL&&(window.removeEventListener(\"keypress\",this.playback.keyHandler),this.playback.keyHandler=null,null!=n&&\"function\"==typeof n.exit&&n.exit(),t[n.event]=null,clearInterval(ne.interval)),void this.sendNotifications(i))},ne.prototype.sendNotifications=function(e){setTimeout(this.sendNotification.bind(this,Mo.FULL_SCREEN_CHANGE,e),100),this.dispatchEvent(\"fullscreenchange\",e===Vo.FULL_SCREEN)},n(ie,y),ie.prototype.execute=function(e){var t;t=e.getBody(),t&&this.playback.initialized!==!0&&this.sendNotification(Mo.INITIALIZED),this.playback.initialized===!0&&(this.media.getSrc()||this.media.getSource())&&(this.playback.getStarted()||this.sendNotification(Mo.START),this.playback.play(),ie.__super__.execute.call(this,e))},n(oe,f),oe.prototype.execute=function(e){var t;t=this.applicationState.getActiveState()===Bo.ACTIVE?Bo.INACTIVE:Bo.ACTIVE,this.sendNotification(Mo.CHANGE_ACTIVE_STATE,t)},n(re,l),re.prototype.getKind=function(){return this.data.kind},re.prototype.getLabel=function(){return this.data.label},re.prototype.getLanguage=function(){return this.data.language},re.prototype.getId=function(){return this.data.id},re.prototype.setEnabled=function(e){e!==this.data.enabled&&(this.data.enabled=e,this.changeEnabled(e),this.dispatchEvent(\"change\"))},re.prototype.changeEnabled=function(e){},re.prototype.getEnabled=function(){return this.data.enabled},ae.createTextContent=function(e,t){var n;return n=/[\\&<>]/.test(t)?e.createCDATASection(t):e.createTextNode(t)},ae.updateTextContent=function(e,t){var n;return n=ae.createTextContent(e.ownerDocument,t),e.removeChild(e.childNodes[0]),e.appendChild(n),e},ae.serialize=function(e){var t;if(null!=e){if(\"string\"==typeof e)return e;try{return t=new XMLSerializer,t.serializeToString(e)}catch(n){try{return t=document.implementation.createLSSerializer(),xmlSerializer.writeToString(e)}catch(i){try{return e.xml}catch(o){}}}}},ae.parse=function(e){var t,n;return window.DOMParser?(t=new DOMParser,n=t.parseFromString(e,\"text/xml\")):(n=new ActiveXObject(\"Microsoft.XMLDOM\"),n.async=!1,n.loadXML(e)),n},n(se,puremvc.Proxy),se.NAME=\"TracksProxy\",se.prototype.clear=function(){this.data.audioTracks.clear(),this.data.videoTracks.clear(),this.data.textTracks.clear()},se.prototype.getAudioTracks=function(){return this.data.audioTracks},se.prototype.getVideoTracks=function(){return this.data.videoTracks},se.prototype.getTextTracks=function(){return this.data.textTracks},n(le,s),le.prototype.moduleName=\"amp\",le.prototype.playerType=null,le.prototype.config=null,le.prototype.mediaElement=null,le.prototype.hidden=!1,le.prototype.l10n=null,le.prototype.setViewComponent=function(e){return e.amp=this,le.__super__.setViewComponent.call(this,e)},le.prototype.setMediaElement=function(e){return this.mediaElement=e,e},le.prototype.getPlayerType=function(){return this.playerType},le.prototype.getVersion=function(){return tn.getVersion()},le.prototype.createPlugins=function(){this.sendNotification(Ro.REGISTER_PLUGINS,this.config)},le.prototype.createMediaElement=function(){return null},le.prototype.createFramework=function(){le.__super__.createFramework.call(this),this.mediaElement=this.createMediaElement(),this.createPlugins()},le.prototype.getLanguage=function(){return this.retrieveProxy(rt.NAME).getLanguage()},le.prototype.setLanguage=function(e){return this.retrieveProxy(rt.NAME).setLanguage(e),e},le.prototype.getMediaElement=function(){return this.mediaElement},le.prototype.getContainer=function(){return this.getViewComponent()},le.prototype.getAudioTracks=function(){},le.prototype.evaluateBinding=function(e){},le.prototype.canPlayType=function(e){},le.prototype.load=function(){},le.prototype.play=function(){},le.prototype.replay=function(){},le.prototype.pause=function(){},le.prototype.end=function(){},le.prototype.setParams=function(e){},le.prototype.getParams=function(){},le.prototype.setAutoplay=function(e){},le.prototype.getAutoplay=function(){},le.prototype.setLoop=function(e){},le.prototype.getLoop=function(){},le.prototype.setMuted=function(e){},le.prototype.getMuted=function(){},le.prototype.mute=function(){return this.setMuted(!0)},le.prototype.unmute=function(){return this.setMuted(!1)},le.prototype.setMedia=function(e){var t,n,i,o;if(n=e.src,t=null!=(i=e.source)&&null!=(o=i[0])?o.src:void 0,!(null!=n&&\"\"!==n||null!=t&&\"\"!==t))throw new Error(\"[AMP ERROR] Invalid Media\")},le.prototype.getMedia=function(){},le.prototype.setCurrentTime=function(e){},le.prototype.getCurrentTime=function(){},le.prototype.getCurrentTimeUTC=function(){},le.prototype.getDuration=function(){},le.prototype.setSrc=function(e){},le.prototype.getSrc=function(){},le.prototype.setSource=function(e){},le.prototype.getSource=function(){},le.prototype.setVolume=function(e){},le.prototype.getVolume=function(){},le.prototype.getSeeking=function(){},le.prototype.getPaused=function(){},le.prototype.getEnded=function(){},le.prototype.setDisplayState=function(e){},le.prototype.getDisplayState=function(){},le.prototype.enterFullScreen=function(){},le.prototype.exitFullScreen=function(){},le.prototype.setHidden=function(e){var t;e!==this.hidden&&(this.hidden=e,t=this.viewComponent.style,this.hidden?(this.hiddenData={width:t.width,height:t.height,paused:this.getPaused()},t.width=t.height=\"0px\",this.hiddenData.paused===!1&&this.pause()):(t.width=this.hiddenData.width,t.height=this.hiddenData.height,this.hiddenData.paused===!1&&this.play(),this.hiddenData=null))},le.prototype.getHidden=function(){return this.hidden},le.prototype.recordContentChange=function(e){},le.prototype.setPlaybackRate=function(){},le.prototype.getPlaybackRate=function(){},n(ue,le),ue.prototype.playerType=\"html\",ue.prototype.media=null,ue.prototype.bindings=null,ue.prototype.configuration=null,ue.prototype.params=null,ue.prototype.appState=null,ue.prototype.security=null,ue.prototype.playerCore=null,ue.prototype.tracks=null,ue.prototype.mediator=null,ue.prototype.createMediaElement=function(){var e;return this.mediator=new me(\"html5\",\"video\"),this.sendNotification(Mo.PLAYBACK_CORE_CHANGE,this.mediator),e=this.mediator.getViewComponent(),null==e.dataset&&(e.dataset={}),e},ue.prototype.createModel=function(){var e;this.bindings=new gt,this.registerProxy(this.bindings),this.security=new ce,this.registerProxy(this.security),this.configuration=new yt(this.config),this.registerProxy(this.configuration),this.registerProxy(new rt(this.config)),this.appState=new mt,this.registerProxy(this.appState),this.appState.setRenderMode(Uo.HTML),e=new Me,this.registerProxy(e),this.media=new wt,this.registerProxy(this.media),this.playerCore=new Et(e,this.config.getPlaybackOrder),this.registerProxy(this.playerCore),this.params=new ft(this.config.params),this.registerProxy(this.params),this.tracks=new se,this.registerProxy(this.tracks),this.bindings.initialize()},ue.prototype.createView=function(){var e,t,n,i,o;this.registerMediator(new _e(\"html5\",this.getViewComponent())),this.registerMediator(new it),this.registerMediator(new ve),this.registerMediator(new Qe),e=new $e,this.registerMediator(e),this.registerMediator(new $),this.config.debug!==!0&&this.config.controls&&this.config.controls[\"native\"]!==!0&&\"none\"!==this.config.controls.mode&&this.registerMediator(new Z),(null!=(t=this.config.controls)?t.enabled:void 0)!==!1&&(null!=(n=this.config.controls)?n[\"native\"]:void 0)!==!0&&\"none\"!==(null!=(i=this.config.controls)?i.mode:void 0)&&this.registerMediator(new K),\nthis.registerMediator(new ee),this.registerMediator(new J),(null!=(o=this.config.titlebar)?o.enabled:void 0)===!0&&this.registerMediator(new tt),this.registerMediator(new et)},ue.prototype.createController=function(){ue.__super__.createController.call(this),this.registerCommand(Ro.PLUGINS_INITIALIZED,h),this.registerCommand(Mo.PLAY,ie),this.registerCommand(Mo.PLAYING,v),this.registerCommand(Mo.PAUSE,_),this.registerCommand(Mo.CHANGE_PLAY_STATE,He),this.registerCommand(Mo.TOGGLE_FULL_SCREEN,m),this.registerCommand(Mo.CHANGE_DISPLAY_STATE,ne),this.registerCommand(Mo.TOGGLE_ACTIVE,oe),this.registerCommand(Mo.CHANGE_ACTIVE_STATE,te),this.registerCommand(Mo.SET_MEDIA,ze),this.registerCommand(Mo.CHANGE_MEDIA,Ke),this.registerCommand(Mo.MEDIA_VALIDATED,T),this.registerCommand(Mo.MEDIA_CHANGE,Je),this.registerCommand(Mo.UPDATE_DATA_BINDINGS,Xe),this.registerCommand(Mo.START,x),this.registerCommand(Mo.SEEK,C),this.registerCommand(Mo.SEEKING,A),this.registerCommand(Mo.SEEKED,S),this.registerCommand(Mo.CHANGE_VOLUME,w),this.registerCommand(Mo.CHANGE_MUTED,D),this.registerCommand(Mo.CHANGE_AUTOPLAY,b),this.registerCommand(Mo.CHANGE_LOOP,E),this.registerCommand(Mo.END,I),this.registerCommand(Mo.ENDED,P),this.registerCommand(Mo.REPLAY,N),this.registerCommand(Mo.ERROR,qe),this.registerCommand(Mo.READY,Ye),this.registerCommand(Mo.WAITING,M),this.registerCommand(Mo.CHANGE_DURATION,We),this.registerCommand(Mo.CHANGE_PARAMS,Ze),this.registerCommand(Mo.IS_USER_ACTIVE,k),this.registerCommand(Lo.CHECK_AUTHORIZATION,O),this.registerCommand(Lo.AUTHORIZED,L),this.registerCommand(Lo.SET_KEY,Ee),this.registerCommand(Lo.SET_TOKEN,we),this.registerCommand(Mo.INITIALIZED,R),this.registerCommand(Mo.REGISTER_PLAYBACK_CORE,j),this.registerCommand(Do.TOGGLE_PLAY_PAUSE,g),this.registerCommand(Do.SEEK,C),this.registerCommand(Mo.CHANGE_PLAYBACK_TARGET,he),this.registerCommand(Mo.PLAYBACK_TARGET_CHANGE,fe),this.registerCommand(Mo.RECORD_CONTENT_CHANGE,V),this.registerCommand(Mo.TIME_UPDATE,U),this.registerCommand(Mo.TOGGLE_MUTED,B),this.registerCommand(Mo.VOLUME_CHANGE,z),this.registerCommand(Mo.PLAY_REQUEST,G),this.registerCommand(Mo.PLAY_STATE_CHANGE,y),this.registerCommand(Mo.PROGRESS,y),this.registerCommand(Mo.CAN_PLAY,y),this.registerCommand(Mo.CAN_PLAY_THROUGH,y),this.registerCommand(Mo.LOAD_START,y),this.registerCommand(Mo.STARTED,y),this.registerCommand(Mo.LOADED_METADATA,y),this.registerCommand(Mo.DURATION_CHANGE,y),this.registerCommand(Mo.MEDIUM_CHANGE,y),this.registerCommand(Mo.TEMPORAL_TYPE_CHANGE,y),this.registerCommand(Mo.LANGUAGE_CHANGE,y),this.registerCommand(Mo.PLAYBACK_TARGET_AVAILABLE,y),this.registerCommand(Lo.AUTHORIZE,y),this.registerCommand(Lo.AUTHORIZATION_FAILED,y),this.registerCommand(Mo.FAIL_OVER_ATTEMPT,y),this.registerCommand(Mo.IS_LIVE,y),this.registerCommand(Mo.TIMED_METADATA,y),this.registerCommand(Mo.PAUSED,y),this.registerCommand(Mo.ENABLE_VIDEO_EVENTS,F),this.registerCommand(Mo.DISABLE_VIDEO_EVENTS,H)},ue.prototype.evaluateBinding=function(e){return this.bindings.evaluateBinding(e)},ue.prototype.recordContentChange=function(e){this.sendNotification(Mo.RECORD_CONTENT_CHANGE,e)},ue.prototype.canPlayType=function(e){return this.retrieveProxy(xe.NAME).canPlayType(e)},ue.prototype.getAudioTracks=function(){return this.retrieveProxy(se.NAME).getAudioTracks()},ue.prototype.load=function(){this.sendNotification(Mo.LOAD)},ue.prototype.play=function(){this.sendNotification(Mo.PLAY,!0)},ue.prototype.replay=function(){this.sendNotification(Mo.REPLAY)},ue.prototype.pause=function(){this.sendNotification(Mo.PAUSE)},ue.prototype.end=function(){this.sendNotification(Mo.END)},ue.prototype.setParams=function(e){return this.sendNotification(Mo.CHANGE_PARAMS,e),e},ue.prototype.getParams=function(){return this.params.getData()},ue.prototype.setAutoplay=function(e){return this.sendNotification(Mo.CHANGE_AUTOPLAY,e),e},ue.prototype.getAutoplay=function(){var e,t,n;return t=this.retrieveProxy(xe.NAME),e=t.initialized&&(this.configuration.getAutoplay()||(null!=(n=this.getMedia())?n.autoplay:void 0)===!0)},ue.prototype.setLoop=function(e){return this.sendNotification(Mo.CHANGE_LOOP,e),e},ue.prototype.getLoop=function(){return this.configuration.getLoop()},ue.prototype.setMuted=function(e){return this.sendNotification(Mo.CHANGE_MUTED,e),e},ue.prototype.getMuted=function(){return this.retrieveProxy(xe.NAME).getMuted()},ue.prototype.setMedia=function(e){return ue.__super__.setMedia.call(this,e),this.sendNotification(Mo.SET_MEDIA,e),e},ue.prototype.getMedia=function(){return this.media.getData()},ue.prototype.setCurrentTime=function(e){return this.sendNotification(Mo.SEEK,e),e},ue.prototype.getCurrentTime=function(){return this.retrieveProxy(xe.NAME).getCurrentTime()},ue.prototype.getDuration=function(){return this.media.getDuration()},ue.prototype.setSrc=function(e){return this.sendNotification(Mo.SET_MEDIA,{src:e}),e},ue.prototype.getSrc=function(){return this.retrieveProxy(xe.NAME).getSrc()},ue.prototype.setSource=function(e){return this.sendNotification(Mo.SET_MEDIA,{source:e}),e},ue.prototype.getSource=function(){return this.media.getSource()},ue.prototype.setVolume=function(e){return this.sendNotification(Mo.CHANGE_VOLUME,e),e},ue.prototype.getVolume=function(){return this.retrieveProxy(xe.NAME).getVolume()},ue.prototype.getSeeking=function(){return this.retrieveProxy(xe.NAME).getSeeking()},ue.prototype.getPaused=function(){return this.retrieveProxy(xe.NAME).getPaused()},ue.prototype.getEnded=function(){return this.retrieveProxy(xe.NAME).getEnded()},ue.prototype.setDisplayState=function(e){this.sendNotification(Mo.CHANGE_DISPLAY_STATE,e)},ue.prototype.getDisplayState=function(e){return this.appState.getDisplayState()},ue.prototype.enterFullScreen=function(){this.sendNotification(Mo.CHANGE_DISPLAY_STATE,Vo.FULL_SCREEN)},ue.prototype.exitFullScreen=function(){this.sendNotification(Mo.CHANGE_DISPLAY_STATE,Vo.NORMAL)},ue.prototype.setPlaybackRate=function(e){this.mediaElement.playbackRate=e},ue.prototype.getPlaybackRate=function(){return this.mediaElement.playbackRate},ue.prototype.getQualityLevels=function(){return this.retrieveProxy(xe.NAME).getQualityLevels()},ue.prototype.setQuality=function(e){return this.retrieveProxy(xe.NAME).setQuality(e)},ue.prototype.getQuality=function(){return this.retrieveProxy(xe.NAME).getQuality()};var Po={READY:\"jsApiReady\",RESET:\"mediaPlayerReset\",LOADING:\"mediaPlayerLoading\",PLAYER_ERROR:\"mediaPlayerError\",MEDIA_ERROR:\"mediaError\",ERROR_STREAM_NOT_FOUND:\"mediaPlayerErrorStreamNotFound\",CAPABILITY_CHANGE:\"mediaPlayerCapabilityChange\",PLAYBACK_OPEN:\"mediaPlayerPlaybackOpen\",PLAYBACK_CLOSE:\"mediaPlayerPlaybackClose\",PLAYING:\"mediaPlayerPlaying\",ENDED:\"mediaPlayerPlaybackSequenceComplete\",PAUSED:\"mediaPlayerPaused\",BUFFERING:\"mediaPlayerBuffering\",DURATION_CHANGE:\"mediaPlayerDurationChange\",TIME_UPDATE:\"mediaPlayerPlayheadUpdate\",SEEKING_CHANGE:\"mediaPlayerSeekingChange\",ERROR:\"error\",VOLUME_CHANGE:\"mediaPlayerVolumeChanged\",PLAY_STATE_CHANGE:\"mediaPlayerPlayStateChange\",STATE_CHANGE:\"mediaPlayerStateChange\",CAPTION_DATA_CHANGE:\"mediaPlayerCaptiondataChange\",FAIL_OVER_ATTEMPT:\"mediaPlayerFailoverAttempt\",ELEMENT_EVENT:\"mediaPlayerElementEvent\",PLAY:\"mediaPlayerResumeOrPausePlayback\",APPLICATION_STATE_CHANGE:\"mediaPlayerApplicationStateChange\",INITIALIZED:\"mediaPlayerInitialized\",FULLSCREEN_CHANGE:\"mediaPlayerFullscreenChange\",AUTHORIZE:\"mediaPlayerAuthenticate\",CAPTIONING_REQUEST:\"mediaPlayerCaptioningRequest\",CAPTION_LANG_CHANGE:\"mediaPlayerCaptionLangChange\",RECOMMENDATIONS_LOADED:\"mediaPlayerRecommendationsLoaded\",RECOMMENDATION_SELECTED:\"mediaPlayerRecommendationSelected\",SHARE:\"mediaPlayerShare\",SHARE_REQUEST:\"mediaPlayerShareRequest\",AUTO_ADVANCE:\"mediaPlayerAutoAdvance\",CREATE_FLASH_VARS:\"createFlashVars\",CREATE_XML:\"createXML\",FLASH_CREATED:\"flashCreated\",PLAY_REQUEST:\"mediaPlayerPlaybackSequenceInitiated\",LOAD_FEED:\"mediaPlayerDataFeedRequested\",FEED_UPDATED:\"mediaPlayerDataFeedUpdated\",FEED_LOADED:\"mediaPlayerFeedLoaded\",TIMED_METADATA:\"mediaPlayerSendCuePoint\"};n(ce,puremvc.Proxy),ce.NAME=\"SecurityProxy\",ce.prototype.setupHDN1=function(){var e=this;return window.retrieveToken=function(t,n){var i;try{e.facade.logger.debug(\"[AMP AUTH] HDN1: Token Requested\",t,n),i=e.getToken(),null!=i?e.facade.getMediaElement().tokenRetrievalSuccess(\"&primaryToken=\"+i):e.sendNotification(Lo.AUTHORIZE)}catch(o){e.facade.logger.error(\"[AMP AUTH ERROR]: Token Retrival Error\",o)}return!0}},ce.prototype.getKey=function(){return this.data.key},ce.prototype.setKey=function(e){return this.data.key=e,e},ce.prototype.getToken=function(){return this.data.token},ce.prototype.setToken=function(e){return this.data.token=e,e},ce.prototype.getSecret=function(){var e;return null==this.data.token?null:(e=\"\",null!=this.data.key&&(e+=\"\"+this.data.key+\"=\"),e+=this.data.token)},ce.prototype.createURL=function(e){var t;return t=this.getSecret(),null!=t&&(e+=/\\?/.test(e)?\"&\":\"?\",e+=t),e},ce.prototype.getAuthorized=function(){return this.data.authorized},ce.prototype.setAuthorized=function(e){return this.data.authorized=e,e},ce.prototype.getProvider=function(){return this.data.provider},ce.prototype.setProvider=function(e){return this.data.provider=e,e},n(de,a),de.NAME=a.NAME,de.prototype.bindings=null,de.prototype.configurationName=null,de.prototype.configurationData=null,de.prototype.contextName=null,de.prototype.contextData=null,de.prototype.value=null,de.prototype.getConfigurationName=function(){return this.configurationName},de.prototype.getConfigurationData=function(){return this.configurationData.value||{}},de.prototype.getContextName=function(){return this.contextName},de.prototype.getContextData=function(){return this.contextData},de.prototype.onRegister=function(){var e;e=this.facade.player||this.facade,null==this.getConfigurationName()&&(this.configurationName=this.facade.moduleName),this.bindings=e.retrieveProxy(gt.NAME),this.bindings.registerConfiguration(this),null!=this.getContextName()&&this.bindings.registerContext(this)},de.prototype.setData=function(e){var t,n,i;null==e&&(e={}),this.data={},i=this.defaults;for(t in i)n=i[t],this.data[t]=t in e?e[t]:n;return this.configurationData=new pt(this.data),this.data},de.prototype.getValue=function(e){var t;return this.bindings.update(),this.value[e]=null!=(t=this.configurationData.data[e])?t.compile(this.bindings.getData()):void 0,this.value[e]},de.prototype.compile=function(e,t){return null==t&&(t=!1),null==this.configurationData?null:(null==e&&(e=this.bindings.getData()),null!=this.contextName&&null!=this.contextData&&(e=kt.clone(e),e[this.contextName]=this.contextData),this.configurationData.compile(e,t),this.value=this.configurationData.value,this.configurationData.value)};var xo={SET_DIMENSIONS:\"mediaanalytics:setDimensions\"};n(pe,f),pe.prototype.execute=function(e){this.player.started=!0,this.sendNotification(Mo.STARTED,e.getBody()),this.sendNotification(Mo.PLAY,e.getBody())},n(he,f),he.prototype.execute=function(e){var t;t=e.getBody(),this.applicationState.setPlaybackTarget(t),\"amp\"!==t?this.applicationState.getPlayState()!==jo.PAUSED&&this.facade.pause():this.applicationState.getPlayState()===jo.PLAYING&&this.facade.play()},n(fe,y),fe.prototype.execute=function(e){var t,n;n=e.getBody().value,t=\"amp\"===n?Mo.REMOVE_APPLICATION_STATE:Mo.ADD_APPLICATION_STATE,this.sendNotification(t,\"remote-playback\"),fe.__super__.execute.call(this,e)},n(ge,puremvc.Mediator),ge.prototype.player=null,ge.prototype.config=null,ge.prototype.proxy=null,ge.NAME=\"LocalizationWrapper\",ge.prototype.getString=function(e){return this.proxy.getString(e)},ge.prototype.listNotificationInterests=function(){return[Po.CREATE_FLASH_VARS,Po.CREATE_XML]},ge.prototype.handleNotification=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g;switch(ge.__super__.handleNotification.call(this,e),c=e.getName(),n=e.getBody(),c){case Po.CREATE_FLASH_VARS:r=n.flashvars,i=n.config,r.locale_setting=this.proxy.getLocaleId();break;case Po.CREATE_XML:f=n.xml,t=f.firstChild,u=f.getElementsByTagName(\"locales\")[0],null==u&&(u=f.createElement(\"locales\"),t.appendChild(u)),g=this.proxy.getLocales();for(s in g){l=g[s],o=f.createElement(\"locale\"),o.setAttribute(\"id\",s),u.appendChild(o);for(a in l)h=l[a],d=f.createElement(\"property\"),d.setAttribute(\"key\",a),p=ae.createTextContent(f,h),d.appendChild(p),o.appendChild(d)}}},n(me,Y),me.prototype.componentType=\"media-element\",me.prototype.created=!1,me.prototype.onRegister=function(){this.created!==!0&&(this.created=!0,me.__super__.onRegister.call(this))},n(ye,Y),ye.prototype.componentType=\"layer\",ye.prototype.onRegister=function(){ye.__super__.onRegister.call(this),this.registerLayer()},ye.prototype.onRemove=function(){ye.__super__.onRemove.call(this),this.removeLayer()},ye.prototype.registerLayer=function(){this.sendNotification(Mo.ADD_LAYER,this.viewComponent)},ye.prototype.removeLayer=function(){this.sendNotification(Mo.REMOVE_LAYER,this.viewComponent)},n(ve,ye),ve.prototype.componentName=\"video\",ve.prototype.listNotificationInterests=function(){return[Mo.PLAYBACK_CORE_CHANGE]},ve.prototype.mediator=null,ve.prototype.mediaElement=null,ve.prototype.handleNotification=function(e){var t,n,i;switch(i=e.getName(),t=e.getBody(),i){case Mo.PLAYBACK_CORE_CHANGE:null!=this.mediaElement&&this.viewComponent.removeChild(this.mediaElement),null!=this.mediator&&this.facade.removeMediator(this.mediator.getMediatorName()),n=null!=(null!=t?t.getViewComponent:void 0),n?(this.facade.registerMediator(t),this.mediator=t,this.mediaElement=this.mediator.getViewComponent()):(this.mediator=null,this.mediaElement=t),this.facade.setMediaElement(this.mediaElement),null!=this.mediaElement&&this.viewComponent.appendChild(this.mediaElement)}},n(_e,Y),_e.prototype.componentType=\"player\",_e.prototype.core=null,_e.prototype.medium=null,_e.prototype.layers=null,_e.prototype.ready=!1,_e.prototype.onRegister=function(){var e;_e.__super__.onRegister.call(this),e=kt.getDevice(),null!=e&&this.classList.add(e)},_e.prototype.listNotificationInterests=function(){return[Mo.DISPLAY_STATE_CHANGE,Mo.ACTIVE_STATE_CHANGE,Mo.PLAY_STATE_CHANGE,Mo.ADD_APPLICATION_STATE,Mo.REMOVE_APPLICATION_STATE,Mo.MEDIUM_CHANGE,Mo.DURATION_CHANGE,Mo.TEMPORAL_TYPE_CHANGE,Mo.IS_LIVE,Mo.ADD_LAYER,Mo.REMOVE_LAYER,Mo.READY]},_e.prototype.handleNotification=function(e){var t,n,i,o,r,a;switch(n=e.getName(),t=e.getBody(),n){case Mo.ACTIVE_STATE_CHANGE:case Mo.PLAY_STATE_CHANGE:case Mo.DISPLAY_STATE_CHANGE:case Mo.MEDIUM_CHANGE:r=t,a=r.value,i=r.previous,null!=i&&this.classList.contains(i)&&this.classList.remove(i),null!=a&&this.classList.add(a);break;case Mo.ADD_APPLICATION_STATE:o=t,this.classList.add(o);break;case Mo.REMOVE_APPLICATION_STATE:o=t,this.classList.remove(o);break;case Mo.TEMPORAL_TYPE_CHANGE:t.previous&&this.sendNotification(Mo.REMOVE_APPLICATION_STATE,t.previous),t.value&&this.sendNotification(Mo.ADD_APPLICATION_STATE,t.value);break;case Mo.IS_LIVE:t===!0?this.sendNotification(Mo.ADD_APPLICATION_STATE,\"is-live\"):this.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"is-live\");break;case Mo.DURATION_CHANGE:t>3600?this.sendNotification(Mo.ADD_APPLICATION_STATE,\"long-form\"):this.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"long-form\");break;case Mo.ADD_LAYER:this.addLayer(t);break;case Mo.REMOVE_LAYER:this.removeLayer(t);break;case Mo.READY:this.initialize()}},_e.prototype.initialize=function(){var e,t,n,i;for(this.ready=!0,i=this.layers,t=0,n=i.length;n>t;t++)e=i[t],this.viewComponent.contains(e)||this.viewComponent.appendChild(e)},_e.prototype.addLayer=function(e){this.layers.push(e),this.ready&&this.viewComponent.appendChild(e)},_e.prototype.removeLayer=function(e){var t;this.viewComponent.contains(e)&&this.viewComponent.removeChild(e),t=this.layers.indexOf(e),t>=0&&this.layers.splice(t,1)},n(be,_e),be.NAME=\"FlashPlayerMediator\",be.prototype.type=\"flash\",be.prototype.listNotificationInterests=function(){return be.__super__.listNotificationInterests.call(this).concat([Ro.PLUGINS_INITIALIZED])},be.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Mo.READY:return;case Ro.PLUGINS_INITIALIZED:return void this.initialize()}be.__super__.handleNotification.call(this,e)},n(Ee,y),Ee.prototype.execute=function(e){this.security.setKey(e.getBody()),Ee.__super__.execute.call(this,e)},n(we,y),we.prototype.execute=function(e){this.security.setToken(e.getBody()),this.security.setAuthorized(!0),we.__super__.execute.call(this,e)};var ko={START_AUTHENTICATION:\"aisauthenticationstarted\",AUTHENTICATED:\"aisauthenticated\",AUTHENTICATING:\"aisauthenticating\",AUTHENTICATION_COMPLETE:\"aisauthenticationcomplete\",CHOOSE_AUTH_PROVIDER:\"aischooseprovider\",CHOOSE_PLAY_OPTIONS:\"aischooseplayoptions\",LAUNCH_IDP_LOGIN:\"aislaunchidplogin\"};n(Te,f),Te.prototype.plugin=null,Te.prototype.proxy=null,Te.prototype.initializeNotifier=function(e){Te.__super__.initializeNotifier.call(this,e),this.proxy=this.facade.retrieveProxy(a.NAME),this.plugin=this.facade},n(Ce,Te),Ce.prototype.execute=function(e){this.proxy.vcsSet(0)},Ae.setCookie=function(e,t,n,i,o){var r;return t=escape(t),null!=n&&(r=new Date,r.setDate(r.getDate()+n),t+=\"; expires=\"+r.toUTCString()),null!=o&&(t+=\"; domain=\"+o),null!=i&&(t+=\"; path=\"+i),document.cookie=e+\"=\"+t},Ae.getCookie=function(e){var t,n,i,o,r,a,s;for(n=document.cookie.split(\";\"),a=0,s=n.length;s>a;a++)if(t=n[a],i=t.indexOf(\"=\"),o=t.substr(0,i).replace(/^\\s+|\\s+$/g,\"\"),r=unescape(t.substr(i+1)),o===e)return r},Ae.deleteCookie=function(e){return this.setCookie(e,\"\",-1)},n(Se,Te),Se.prototype.execute=function(e){this.proxy.vcsSet(this.proxy.currentTime)},n(Ne,Te),Ne.prototype.execute=function(e){var t;t=Math.floor(e.getBody()),0!==t&&t%30===0&&t!==this.proxy.currentTime&&this.proxy.vcsSet(t),this.proxy.currentTime=t},n(Ie,de),Ie.NAME=a.NAME,Ie.prototype.enabled=!0,Ie.prototype.plugin=null,Ie.prototype.setEnabled=function(e){return this.enabled=e,e},Ie.prototype.getEnabled=function(){return this.enabled},Ie.prototype.createPlugin=function(){},Ie.prototype.initialize=function(){this.plugin=this.createPlugin()},Ie.prototype.error=function(e){this.facade.logger.error(\"[AMP \"+this.facade.getModuleName().toUpperCase()+\" Error]\",e)},n(Pe,Ie),Pe.NAME=a.NAME,Pe.prototype.client=null,Pe.prototype.currentTime=null,Pe.prototype.idps=null,Pe.prototype.idp=null,Pe.prototype.token=null,Pe.prototype.authz=null,Pe.prototype.defaults={platformID:null,resourceID:null,contentID:null,responseTargets:null,query:\"hdnts\",logos:{base:null,group:null,key:\"full\"}},Pe.prototype.getScript=function(){return this.value.plugin},Pe.prototype.initialize=function(){this.client=window.ais_client,this.client.setLogging(this.facade.logger.enabled),this.client.setPlatformId(this.value.platformID),this.client.setUseCache(!/MSIE [7-8]/.test(navigator.userAgent)),this.client.assignhandler(\"bounce\",this.bounceHandler.bind(this)),this.client.assignhandler(\"chooser\",this.chooserHandler.bind(this)),this.client.assignhandler(\"init\",this.initHandler.bind(this)),this.client.assignhandler(\"authz_query\",this.authz_queryHandler.bind(this)),this.client.assignhandler(\"identity\",this.identityHandler.bind(this)),this.client.assignhandler(\"logout_result\",this.logoutHandler.bind(this)),this.client.assignhandler(\"vcs\",this.vcsHandler.bind(this)),window.onunload=function(){}},Pe.prototype.authorize=function(){this.authz=null,this.token=null,this.disengage(),this.sendNotification(ko.START_AUTHENTICATION)},Pe.prototype.authorized=function(e){null==e&&(e=this.token),this.engage(),this.sendNotification(ko.AUTHENTICATION_COMPLETE),this.sendNotification(Lo.AUTHORIZED,e)},Pe.prototype.play=function(e){return this.sendNotification(Mo.INITIALIZED),this.sendNotification(Mo.PLAY),null!=e?this.sendNotification(Mo.SEEK,e):void 0},Pe.prototype.engage=function(){this.facade.registerCommand(Mo.TIME_UPDATE,Ne),this.facade.registerCommand(Mo.PAUSE,Se),this.facade.registerCommand(Mo.ENDED,Ce)},Pe.prototype.disengage=function(){this.facade.removeCommand(Mo.TIME_UPDATE),this.facade.removeCommand(Mo.PAUSE),this.facade.removeCommand(Mo.ENDED)},Pe.prototype.logout=function(){var e,t,n,i,o;switch(t=(null!=(o=this.idp.window_display)?o.method:void 0)||\"redirect\",n=this.getTarget(t),this.setRedirect(t),t){case\"redirect\":window.open(this.client.logoutFormat(n),\"_top\");break;case\"popup\":i=this.idp.window_display.width||320,e=this.idp.window_display.height||240,window.open(this.client.logoutFormat(n),\"ais_popup\",\"width=\"+i+\",height=\"+e)}},Pe.prototype.bounce=function(e){this.client.bounce()},Pe.prototype.init=function(e){this.client.init()},Pe.prototype.choose=function(){this.client.chooser()},Pe.prototype.resourceAccess=function(e){null==e&&(e=this.value.resourceID),this.client.resourceAccess(e)},Pe.prototype.vcsSet=function(e){e=kt.formatTimecode(e),this.client.vcsSet(this.value.contentID,e)},Pe.prototype.bounceHandler=function(e,t){var n;n=\"true\"===t.authenticated.toString(),n===!1?(this.sendNotification(Mo.DISPATCH_EVENT,new Nt(\"authenticationfailed\")),this.choose()):n===!0&&this.init()},Pe.prototype.initHandler=function(e,t){var n,i,o,r,a;this.idp=t.idps,this.facade.idps={},a=t.idps;for(n in a){o=a[n],this.facade.idps.key=n;for(i in o)r=o[i],this.facade.idps[i]=r;break}for(n in t)o=t[n],\"idps\"!==n&&null!=o&&(this.facade[n]=o);this.facade.idps.logo=this.value.logos.base+this.facade.idps.logos[this.value.logos.key],this.facade.player.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"authenticating\"),this.sendNotification(ko.AUTHENTICATED,this.facade.idps),this.resourceAccess(this.value.resourceID)},Pe.prototype.chooserHandler=function(e,t){this.facade.sendNotification(Mo.ADD_APPLICATION_STATE,\"authenticating\"),t.possible_idps=this.idps=this.sort(t.possible_idps,\"value\",\"display_name\"),this.sendNotification(ko.CHOOSE_AUTH_PROVIDER,t)},Pe.prototype.launchIDPLogin=function(e){var t,n,i,o,r,a;switch(this.sendNotification(ko.AUTHENTICATING,!0),n=this.idps[e],i=(null!=(a=n.window_display)?a.method:void 0)||\"redirect\",o=this.getTarget(i),this.setRedirect(i),i){case\"redirect\":window.open(this.client.loginFormat(e,o),\"_top\");break;case\"popup\":i=n.window_display.method||\"popup\",r=n.window_display.width||320,t=n.window_display.height||240,window.open(this.client.loginFormat(e,o),\"ais_popup\",\"width=\"+r+\",height=\"+t)}},Pe.prototype.identityHandler=function(e,t){var n;n=t.identity.attributes.aisuid},Pe.prototype.authz_queryHandler=function(e,t){var n,i,o;n=\"true\"===t.authorization.toString(),n===!1?this.sendNotification(Lo.AUTHORIZATION_FAILED,t):n===!0&&(this.authz=t,i={mvpdName:this.facade.idps.name,viewerId:this.client.aisuid,\"std:viewerId\":this.client.aisuid},this.facade.player.setParams({mvpdname:i.mvpdName}),this.facade.player.sendNotification(xo.SET_DIMENSIONS,i),this.facade.viewerId=this.client.aisuid,o=t.resource,null!=o&&(this.facade.resource=o),this.sendNotification(Lo.SET_KEY,this.value.query||this.defaults.query),this.sendNotification(Lo.SET_TOKEN,t.security_token),this.token=this.facade.player.security.getSecret(),this.sendNotification(ko.AUTHENTICATING,!1),null!=this.value.contentID?this.client.vcsGet(this.value.contentID):this.authorized(this.token))},Pe.prototype.logoutHandler=function(e,t){top.location.href=top.location.href},Pe.prototype.vcsHandler=function(e,t){\"get\"===t.operation&&(\"00:00:00\"===t.ph_pos||\"00:00\"===t.ph_pos?(this.client.vcsSet(this.value.contentID,t.ph_pos),this.authorized(this.token)):this.sendNotification(ko.CHOOSE_PLAY_OPTIONS,kt.flattenTimecode(t.ph_pos)))},Pe.prototype.sort=function(e,t,n){var i,o,r,a,s,l,u,c;s={},i=[],o=0;for(a in e)l=e[a],i[o]={key:a,value:l[n]},o++;for(i.sort(function(e,n){var i,o;return i=\"value\"===t?e.value.toLowerCase():e.key.toLowercase(),o=\"value\"===t?n.value.toLowerCase():n.key.toLowercase(),o>i?-1:i>o?1:0}),o=u=0,c=i.length;c>u;o=++u)r=i[o],s[r.key]=e[r.key];return s},Pe.prototype.setRedirect=function(e){var t,n,i;try{t=/\\/dev\\./,i=window.top.location.href||window.top.location,n=t.test(i)?i.replace(t,\"/\"):null,Ae.setCookie(this.getTarget(e),i,1,\"/\",n)}catch(o){}},Pe.prototype.getTarget=function(e){return null==e&&(e=\"redirect\"),this.value.responseTargets[e]},n(xe,puremvc.Proxy),xe.NAME=\"PlaybackProxy\",xe.prototype.data=null,xe.prototype.initialized=!1,xe.prototype.enabled=null,xe.prototype.handlers=null,xe.prototype.resumeHandlers=null,xe.prototype.playWhenLoaded=!1,xe.prototype.metadataloaded=!1,xe.prototype.mediaProxy=null,xe.prototype.setMediaProxy=function(e){this.mediaProxy=e},xe.prototype.getMediaProxy=function(){return this.mediaProxy},xe.prototype.getEnabled=function(){return this.enabled},xe.prototype.setEnabled=function(e){return e!==this.enabled?(this.enabled=e,this.enabled===!0?this.load():this.applyHandlers(!1),e):void 0},xe.prototype.applyHandlers=function(e){var t,n,i,o,r;null==e&&(e=!0),o=this.getMediaElement(),t=e?\"addEventListener\":\"removeEventListener\",r=this.handlers;for(i in r)n=r[i],o[t](i,n)},xe.prototype.resumeloadedmetadata=function(e){var t;t=this.getMediaElement(),t.removeEventListener(\"loadedmetadata\",this.resumeHandlers.loadedmetadata),this.handlers.durationchange(e),this.data.currentTime>0?(t.addEventListener(\"seeked\",this.resumeHandlers.seeked),setTimeout(this.seek.bind(this),50)):this.resumecomplete()},xe.prototype.resumeseeked=function(e){this.getMediaElement().removeEventListener(\"seeked\",this.resumeHandlers.seeked),this.resumecomplete()},xe.prototype.resumecomplete=function(){var e,t=this;this.data.loading=!1,this.applyHandlers(!0),null!=(e=this.getMediaElement().textTracks)&&e.addEventListener(\"addtrack\",function(e){var n;n=e.track,\"metadata\"===n.kind&&(n.mode=\"hidden\",n.addEventListener(\"cuechange\",function(e){var n,i;n=e.target.activeCues[0],i={startTime:n.startTime,endTime:n.endTime,key:n.value.key,info:n.value.info,data:n.value},t.sendNotification(Mo.TIMED_METADATA,i)}))}),this.playWhenLoaded===!0&&setTimeout(this.play.bind(this),0)},xe.prototype.ontimeupdate=function(e){this.data.currentTime=e.target.currentTime,this.sendNotification(Mo.TIME_UPDATE,this.data.currentTime)},xe.prototype.ondurationchange=function(e){var t;t=e.target.duration,t===this.data.duration||0===t||isNaN(t)||(this.data.duration=t,/Android [4-6]/.test(navigator.userAgent)&&-1!==this.getMediaElement().src.indexOf(\".m3u8\")&&t===1/0||this.sendNotification(Mo.CHANGE_DURATION,t))},xe.prototype.onplay=function(e){this.data.paused=!1},xe.prototype.onplaying=function(e){this.data.paused=!1,this.data.seeking=!1,this.sendNotification(Mo.PLAYING)},xe.prototype.onpause=function(e){this.data.seeking!==!0&&(this.data.paused=!0,e.target.readyState>0&&(this.sendNotification(Mo.PAUSED),this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PAUSED)))},xe.prototype.onloadeddata=function(e){this.sendNotification(Mo.LOADED_DATA)},xe.prototype.onwaiting=function(e){this.sendNotification(Mo.WAITING)},xe.prototype.onseeking=function(e){this.getMediaElement().removeEventListener(\"timeupdate\",this.handlers.timeupdate),this.data.seeking=!0,this.sendNotification(Mo.SEEKING)},xe.prototype.onseeked=function(e){this.data.seeking=!1,this.sendNotification(Mo.SEEKED),this.getMediaElement().addEventListener(\"timeupdate\",this.handlers.timeupdate)},xe.prototype.onended=function(e){this.data.ended=!0,this.sendNotification(Mo.ENDED)},xe.prototype.onprogress=function(e){var t,n;try{n=this.getMediaElement(),t=n.buffered,this.sendNotification(Mo.PROGRESS,t.end(t.length-1)/n.duration)}catch(i){}},xe.prototype.onerror=function(e){this.sendNotification(Mo.ERROR,this.getMediaElement().error)},xe.prototype.onloadstart=function(e){this.sendNotification(Mo.LOAD_START)},xe.prototype.oncanplay=function(e){this.sendNotification(Mo.CAN_PLAY)},xe.prototype.oncanplaythrough=function(e){this.sendNotification(Mo.CAN_PLAY_THROUGH),this.sendNotification(Mo.PROGRESS,this.getDuration())},xe.prototype.onloadedmetadata=function(e){this.metadataloaded=!0,this.createTracks(),this.sendNotification(Mo.ENABLE_FULL_SCREEN),this.sendNotification(Mo.LOADED_METADATA)},xe.prototype.createTracks=function(){var e,t,n,i,o,r,a;if(e=this.getMediaElement().audioTracks,o=this.facade.retrieveProxy(se.NAME).getAudioTracks(),null!=e)for(t=e.length||0,n=r=0,a=e.length;a>r;n=++r)i=e[n],o.add(new re(i),n+1===t)},xe.prototype.reset=function(){this.data.currentTime=0,this.data.duration=0,this.data.src=null,this.data.ended=!1,this.data.paused=!1,this.data.seeking=!1,this.data.started=!1,this.data.loading=!1},xe.prototype.getStarted=function(){return this.data.started},xe.prototype.getMediaElement=function(){return this.facade.getMediaElement()},xe.prototype.canPlayTemporalType=function(e){return\"dvr\"!==e},xe.prototype.canPlayType=function(e){var t;return t=document.createElement(\"video\").canPlayType(e)||\"\",(/Android (4\\.[1-9]|[5-6])/.test(navigator.userAgent)||/Silk\\/3/.test(navigator.userAgent))&&e===kt.mimeTypes.m3u8&&(t=\"maybe\"),\"probably\"===t&&/video\\/f4m|x-flv/.test(e)&&/UCBrowser/.test(navigator.userAgent)&&(t=\"\"),t},xe.prototype.getPaused=function(){return this.data.paused},xe.prototype.getEnded=function(){return this.data.ended},xe.prototype.getSeeking=function(){return this.data.seeking},xe.prototype.getCurrentTime=function(){return this.data.currentTime},xe.prototype.setCurrentTime=function(e){return e!==this.data.currentTime?(this.data.currentTime=e,this.getStarted()&&this.seek(e),e):void 0},xe.prototype.seek=function(e){null==e&&(e=this.data.currentTime),this.getMediaElement().currentTime=e},xe.prototype.getSrc=function(){return this.data.src},xe.prototype.setSrc=function(e){return(null==e||\"\"===e)&&this.sendNotification(Mo.ERROR,\"The value of src is not supported: \"+e),this.reset(),this.data.src=e,e},xe.prototype.getVolume=function(){return this.getMediaElement().volume},xe.prototype.setVolume=function(e){return e>=0&&1>=e&&e!==this.getMediaElement().volume&&this.sendNotification(Mo.VOLUME_CHANGE,this.getMediaElement().volume=e),e},xe.prototype.getMuted=function(){return this.data.muted},xe.prototype.setMuted=function(e){var t;return this.data.muted=e,this.data.muted===!0?(this.data.volume=this.getVolume(),t=0):t=this.data.volume,this.sendNotification(Mo.CHANGE_VOLUME,t),e},xe.prototype.getDuration=function(){return this.data.duration},xe.prototype.play=function(){if(this.data.ended===!0&&this.data.currentTime!==this.data.duration&&(this.data.ended=!1),this.data.started!==!0){if(this.data.started=!0,this.setEnabled(!0),this.playWhenLoaded=!0,this.metadataloaded===!1)return}else if(this.data.loading===!0)return void(this.playWhenLoaded=!0);this.getMediaElement().play()},xe.prototype.pause=function(){this.data.paused=!0,this.getMediaElement().pause()},xe.prototype.load=function(){var e;this.sendNotification(Mo.WAITING),this.data.loading=!0,this.playWhenLoaded=!1,this.metadataloaded=!1,e=this.getMediaElement(),e.addEventListener(\"loadedmetadata\",this.handlers.loadedmetadata),e.addEventListener(\"loadedmetadata\",this.resumeHandlers.loadedmetadata),e.addEventListener(\"durationchange\",this.handlers.durationchange),e.addEventListener(\"canplaythrough\",this.handlers.canplaythrough),e.addEventListener(\"error\",this.handlers.error),this.applySrc()},xe.prototype.applySrc=function(){var e,t;e=this.getMediaElement(),e.src=this.data.src,kt.isIPad()&&(null!=(t=kt.getIOSversion())?t[0]:void 0)<8?setTimeout(e.load.bind(e),100):e.load()},xe.prototype.setQuality=function(e){},xe.prototype.getQuality=function(){},xe.prototype.getQualityLevels=function(){return[]},xe.prototype.destory=function(){},n(ke,puremvc.SimpleCommand),ke.prototype.execute=function(e){var t,n,i;t=this.facade.retrieveProxy(wt.NAME),n=this.facade.retrieveProxy(ce.NAME),i=t.getSrc()||\"\",-1===i.indexOf(\".smil\")&&(i=n.createURL(i)),t.setSrc(i),this.facade.getMediaElement().authenticationComplete({media:t.getData()})},n(Me,xe),Me.prototype.temporalTypes=null,Me.prototype.supportedTypes=null,Me.prototype.playbackCoreName=\"default\",Me.prototype.config=null,Me.prototype.getPlaybackCoreName=function(){return this.playbackCoreName},Me.prototype.getSupportedTypes=function(){return this.supportedTypes||[]},Me.prototype.setSupportedTypes=function(e){return this.supportedTypes=e,\ne},Me.prototype.getTemporalTypes=function(){return this.temporalTypes||[]},Me.prototype.setTemporalTypes=function(e){return this.temporalTypes=e,e},Me.prototype.canPlayTemporalType=function(e){return-1!==this.getTemporalTypes().indexOf(e)},Me.prototype.canPlayType=function(e){return null!=this.supportedTypes?-1!==this.getSupportedTypes().indexOf(e)?\"maybe\":\"\":Me.__super__.canPlayType.call(this,e)},n(De,Me),De.NAME=xe.NAME,De.prototype.player=null,De.prototype.initialized=!0,De.prototype.playbackCoreName=\"flash\",De.prototype.supportedTypes=[\"video/mp4\",\"video/x-flv\",\"video/f4m\",\"application/smil\",\"application/smil+xml\"],De.prototype.getPaused=function(){return this.player.getPaused()},De.prototype.getEnded=function(){return this.player.getEnded()},De.prototype.getSeeking=function(){return this.player.getSeeking()},De.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},De.prototype.setCurrentTime=function(e){return this.player.setCurrentTime(e),e},De.prototype.getSrc=function(){return this.player.getSrc()},De.prototype.setSrc=function(e){return this.player.setSrc(e),e},De.prototype.getVolume=function(){return this.player.getVolume()},De.prototype.setVolume=function(e){return this.player.setVolume(e),e},De.prototype.getMuted=function(){return this.player.getMuted()},De.prototype.setMuted=function(e){return this.player.setMuted(e),e},De.prototype.getDuration=function(e){return this.player.getDuration()},De.prototype.play=function(){this.player.play()},De.prototype.pause=function(){this.player.pause()},De.prototype.load=function(){this.player.load()},n(Oe,le),Oe.prototype.initialize=function(e,t){var n,i;this.config=e,this.parentModule=t,this.createDefaults(),this.logEvents=(null!=(n=this.config.flash)?n.logEvents:void 0)===!0||\"true\"===(null!=(i=r[\"amp-flash-log\"])?i.toLowerCase():void 0),Oe.__super__.initialize.call(this,this.config,this.parentModule)},Oe.prototype.createFramework=function(){var e,t,n,i,o,r,a,s,l,u=this;Oe.__super__.createFramework.call(this),n=this.config.flash||{},r=(null!=(l=n[\"static\"])?l.enabled:void 0)===!0?n[\"static\"]:n,o=this.debug&&null!=r.debug?r.debug:r.swf||\"amp.swf\",a=n.version||\"10.1\",t=this.evaluatePaths(n.expressInstallSWF)||\"playerProductInstall.swf\",i=this.createParams(n),e=this.createAttributes(n),this.flashvars=this.createFlashVars(n),null==this.flashvars.settings_url&&(s=this.createXML(this.config),null!=s&&(this.flashvars.settings_xml=s)),swfobject.embedSWF(this.evaluatePaths(o),this.flashObjectID,\"100%\",\"100%\",a,t,this.flashvars,i,e,function(e){u.createdHandler(e)})},Oe.prototype.playerType=\"flash\",Oe.prototype.flashObjectID=\"flashObject\",Oe.prototype.playState=null,Oe.prototype.loaded=!1,Oe.prototype.flashvars=null,Oe.prototype.paused=!1,Oe.prototype.ended=!1,Oe.prototype.muted=!1,Oe.prototype.plugins=null,Oe.prototype.debug=!1,Oe.prototype.started=!1,Oe.prototype.displayState=null,Oe.prototype.logEvents=!1,Oe.prototype.loop=!1,Oe.prototype.media=null,Oe.prototype.bindings=null,Oe.prototype.configuration=null,Oe.prototype.params=null,Oe.prototype.appState=null,Oe.prototype.security=null,Oe.prototype.playback=null,Oe.prototype.configuration=null,Oe.prototype.flashPlugins=[{id:\"AkamaiAdvancedStreamingPlugin\",src:\"http://players.edgesuite.net/flash/plugins/osmf/advanced-streaming-plugin/v3.10/osmf2.0/AkamaiAdvancedStreamingPlugin.swf\",absolute:!0,host:\"osmf\",main:\"com.akamai.osmf.AkamaiAdvancedStreamingPluginInfo\",type:\"application/x-shockwave-flash\"},{id:\"ErrorMessagingPlugin\",src:\"#{paths.resources}plugins/ErrorMessagingPlugin.swf\",blocking:!1,host:\"akamai\",main:\"ErrorMessagingPlugin\",type:\"application/x-shockwave-flash\"},{id:\"VideoMetricsViewPlugin\",src:\"#{paths.resources}plugins/VideoMetricsViewPlugin.swf\",blocking:!1,host:\"akamai\",main:\"VideoMetricsViewPlugin\",type:\"application/x-shockwave-flash\"},{id:\"VideoStatsInfoOverlayPlugin\",src:\"#{paths.resources}plugins/VideoStatsInfoOverlayPlugin.swf\",blocking:!1,host:\"akamai\",main:\"VideoStatsInfoOverlayPlugin\",type:\"application/x-shockwave-flash\"}],Oe.prototype.flashView=null,Oe.prototype.createModel=function(){this.appState=new mt,this.registerProxy(this.appState),this.bindings=new gt,this.registerProxy(this.bindings),this.security=new ce,this.registerProxy(this.security),this.media=new wt,this.registerProxy(this.media),this.playback=new De(this),this.registerProxy(this.playback),this.configuration=new yt(this.config),this.registerProxy(this.configuration)},Oe.prototype.createView=function(){this.registerMediator(new be(this.getViewComponent())),this.registerMediator(new ve),this.registerMediator(new $e),this.registerMediator(new ge(this,this.config))},Oe.prototype.createController=function(){Oe.__super__.createController.call(this),this.registerCommand(Lo.AUTHORIZED,ke),this.registerCommand(Lo.SET_TOKEN,we),this.registerCommand(Lo.SET_KEY,Ee),this.registerCommand(Mo.CHANGE_PLAY_STATE,He),this.registerCommand(Mo.PLAY_STATE_CHANGE,y),this.registerCommand(Mo.START,pe),this.registerCommand(Mo.STARTED,y),this.registerCommand(Mo.PLAY,y),this.registerCommand(Po.FLASH_CREATED,y),this.registerCommand(Mo.CHANGE_PLAYBACK_TARGET,he),this.registerCommand(Mo.PLAYBACK_TARGET_CHANGE,fe)},Oe.prototype.createMediaElement=function(){var e,t;return e=new me(\"flash\",\"div\"),this.sendNotification(Mo.PLAYBACK_CORE_CHANGE,e),t=e.getViewComponent(),t.id=t.name=this.flashObjectID,t},Oe.prototype.createDefaults=function(){var e,t,n,i,o,r,a,s;if(!(!(null!=(r=this.flashPlugins)?r.length:void 0)>0)){for(t=this.config.resources||[],null!=(null!=(a=this.config.flash)?a.resources:void 0)&&(t=t.concat(this.config.flash.resources)),n=kt.mimeTypes.swf,s=this.flashPlugins,i=0,o=s.length;o>i;i++)e=s[i],null!=e&&0===t.filter(function(t){return t.id===e.id}).length&&(null==e.type&&(e.type=n),t.push(e));this.config.resources=t}},Oe.prototype.createParams=function(e){var t;return t={allowFullScreen:!0,allowScriptAccess:\"always\",wmode:\"direct\",bgColor:\"#000000\"},null!=e.params&&(null!=e.params.allowFullScreen&&(t.allowFullScreen=e.params.allowFullScreen),null!=e.params.allowScriptAccess&&(t.allowScriptAccess=e.params.allowScriptAccess),null!=e.params.wmode&&(t.wmode=e.params.wmode),null!=e.params.bgColor&&(t.bgColor=e.params.bgColor)),\"direct\"===t.wmode&&/MSIE/.test(navigator.userAgent)&&(t.wmode=\"transparent\"),t},Oe.prototype.getModules=function(){return this.plugins},Oe.prototype.createPlugins=function(){var e,t,n,i,o,r;r=tn.plugins;for(n in r)if(o=r[n],n in this.config&&null!=this.config[n]&&this.config[n].enabled!==!1)if(e=o[this.getPlayerType()],null!=e)try{i=this[n]=this.plugins[n]=new e(this,this.config[n]),this.registerMediator(this.plugins[n]),t=\"function\"==typeof i.getFeatureName?i.getFeatureName():void 0,null!=t&&(this[t]=i),null!=i.flashView&&(this.flashView=kt.override(this.flashView,i.flashView)),this.logger.debug(\"[AMP] Plugin registered: \"+n)}catch(a){this.logger.error(\"[AMP] Plugin could not be created: \"+n+\". \"+a);continue}else this.logger.debug(\"[AMP] Plugin could not be found: \"+n);null!=this.config.flash.view&&(this.flashView=kt.override(this.flashView,this.config.flash.view)),this.sendNotification(Ro.PLUGINS_INITIALIZED,this.plugins)},Oe.prototype.createAttributes=function(e){var t;return t={id:this.flashObjectID,name:this.flashObjectID},null!=e.attributes&&(null!=e.attributes.id&&(t.id=e.attributes.id),null!=e.attributes.name&&(t.name=e.attributes.name)),t},Oe.prototype.createFlashJSON=function(e,t){var n,i;return null==e&&(e=this.config),e=JSON.stringify(e),e=this.evaluatePaths(e),e=JSON.parse(e),i=function(e,t,i){switch(typeof i){case\"string\":e[t]=escape(i);break;case\"object\":n(i)}},n=function(e){var t,n,o,r;if(e instanceof Array)for(t=o=0,r=e.length;r>o;t=++o)n=e[t],i(e,t,n);else if(\"object\"==typeof e)for(t in e)n=e[t],i(e,t,n)},n(e),encodeURIComponent(JSON.stringify(e,null,t))},Oe.prototype.createFlashVars=function(e){var t,n,i,o,r,a,s,l,u,c,d;if(t={},o=JSON.parse(JSON.stringify(this.config)),o.flash=null,delete o.flash,o.locales=null,delete o.locales,o.params=null,delete o.params,o.rules=null,delete o.rules,t.settings_json=this.createFlashJSON(o),null!=this.config.autoplay&&(t.auto_play=this.config.autoplay),null!=this.config.rules&&kt.mergeRules(this.config.rules),t.hinting_rules=escape(JSON.stringify(kt.rules)),null!=this.config.volume&&(t.volume=kt.clamp(this.config.volume,0,1)),null!=this.config.target&&(t.external_target=this.config.target),null!=this.config.name&&(t.core_player_name=this.config.name),null!=this.config.domain&&(t.embed_domain=t.domain=this.config.domain),this.loop=t.auto_replay=this.config.loop===!0,null!=this.config.fullscreen&&(t.fullscreen_enabled=this.config.fullscreen.enabled!==!1&&this.config.fullscreen.mode!==No.EXTERNAL),null!=this.config.titlebar&&(t.titlebar_enabled=this.config.titlebar.enabled!==!1),null!=this.config.params&&(t.params=escape(JSON.stringify(this.config.params))),null!=this.config.version&&(t.context_menu_label=this.config.version),null!=(null!=(r=this.config.controls)?r.displaySceneMarkers:void 0)&&(t.displaySceneMarkers=this.config.controls.displaySceneMarkers),null!=this.config.media&&(null!=this.config.media.src&&(this.setSrc(this.config.media.src),t.video_url=escape(this.config.media.src)),null!=this.config.media.source&&this.config.media.source.length>0&&(this.setSource(this.config.media.source),t.video_url=escape(this.media.getSrc())),null!=this.config.media.medium&&(this.setMedium(this.config.media.medium),t.medium=this.config.media.medium),null!=this.config.media.title&&(t.title=encodeURIComponent(this.config.media.title)),null!=this.config.media.poster&&(t.poster=escape(this.config.media.poster)),null!=this.config.media.temporalType&&(t.temporalType=this.config.media.temporalType)),\"audio\"===this.getMedium()&&(t.controls=!0,t.auto_hide=-1),null!=(null!=(a=this.config.ima)&&null!=(s=a.overlay)?s.delay:void 0)&&(t.overlay_ad_delay=this.config.ima.overlay.delay),null!=this.config.ticker&&this.config.ticker.enabled!==!1&&(null!=this.config.ticker.url&&(t.ticker_text_url=this.config.ticker.url),null!=this.config.ticker.interval&&(t.ticker_polling_interval=this.config.ticker.interval),null!=this.config.ticker.speed&&(t.ticker_speed=this.config.ticker.speed)),t.show_play_button_overlay=!1,t.auto_play_list=!1,t.next_video_timer=0,null==t.context_menu_mode&&(t.context_menu_mode=this.debug===!0?\"long\":\"short\"),null!=(null!=(l=this.config.flash)&&null!=(u=l.view)&&null!=(c=u.elements)&&null!=(d=c.loadingView)?d.attributes:void 0)){n=\"\";for(i in this.config.flash.view.elements.loadingView.attributes)n+=i+\":\"+this.config.flash.view.elements.loadingView.attributes[i]+\" \";t.loadingView=n}return this.sendNotification(Po.CREATE_FLASH_VARS,{flashvars:t,config:this.config}),t=kt.override(t,e.vars)},Oe.prototype.createXML=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v,_,b,E,w,T,C;if(null==(null!=e&&null!=(w=e.flash)?w.xml:void 0)&&(null==e.flash&&(e.flash={}),e.flash.xml=\"<application></application>\"),y=ae.parse(e.flash.xml),y.childNodes.length>1&&y.removeChild(y.firstChild),this.sendNotification(Po.CREATE_XML,{config:e,xml:y}),u=function(e){var t,n,i,r,a,s,l;if(r=e.resources,n=[],r instanceof Array&&(null!=r?r.length:void 0)>0)for(s=0,l=r.length;l>s;s++)i=r[s],i.type===f&&(i=kt.clone(i),o===!0?null!=i.main&&\"\"!==i.main?(i.src=i.main,i.type=\"static\"):i.type=\"dynamic\":null!=i.src&&\"\"!==i.src?i.type=\"dynamic\":(i.src=i.main,i.type=\"static\"),delete i.main,n.push(i));for(t in e)a=e[t],\"flash\"!==t&&null!=(r=null!=a?a.resources:void 0)&&r instanceof Array&&r.length>0&&(n=n.concat(u(a)));return n},f=kt.mimeTypes.swf,p=u(this.config),o=(null!=(T=e.flash[\"static\"])?T.enabled:void 0)===!0,(null!=p?p.length:void 0)>0)for(l=y.getElementsByTagName(\"plugins\"),l.length<1?(l=y.createElement(\"plugins\"),y.firstChild.appendChild(l)):l=l[0],v=0,b=p.length;b>v;v++)if(d=p[v],d.enabled!==!1){s=y.createElement(\"plugin\");for(r in d)g=d[r],\"loaded\"!==r&&(\"src\"!==r?s.setAttribute(r,\"\"+g):(\"id\"===r&&\"AkamaiAdvancedStreamingPlugin\"===g&&this.debug===!0&&(g=g.replace(\"AkamaiAdvancedStreamingPlugin.swf\",\"AkamaiAdvancedStreamingPlugin-logging.swf\")),s.appendChild(ae.createTextContent(y,g))));l.appendChild(s)}if(c=function(e,t){var n,i,o,r,a,s;if(null!=e.attributes){r=e.attributes;for(i in r)o=r[i],t.setAttribute(i,\"\"+o)}if(null!=e.elements){a=e.elements;for(i in a)o=a[i],null!=o&&(n=y.createElement(\"element\"),n.setAttribute(\"id\",i),\"state\"!==n.id&&(c(o,n),t.appendChild(n)))}if(null!=e.state){if(n=y.createElement(\"state\"),e.state.attributes){s=e.state.attributes;for(i in s)o=s[i],null!=o&&n.setAttribute(i,\"\"+o)}t.appendChild(n)}return t},m=y.getElementsByTagName(\"view\")[0],null==m&&(m=y.createElement(\"view\"),y.firstChild.appendChild(m)),c(this.flashView,m),a=null!=(C=this.config.fullscreen)?C.mode:void 0,null!=a)for(i=y.getElementsByTagName(\"element\"),_=0,E=i.length;E>_;_++)n=i[_],\"fullscreenBtn\"===n.getAttribute(\"id\")&&n.setAttribute(\"action\",\"external\");return h=ae.serialize(y),t=h.match(/<application>[\\w\\W\\s\\S\\d\\D]*<\\/application>/)[0]||h,t=t.replace(/[\\n\\r\\t]/g,\"\"),t=this.evaluatePaths(t),encodeURIComponent(t)},Oe.prototype.createdHandler=function(e){var t=this;this.mediaElement=e.ref,this.mediaElement.className=Oo.PREFIX+me.prototype.componentType,this.mediaElement.eventHandler=function(e,n){return t.eventHandler(e,n)},this.sendNotification(Po.FLASH_CREATED),null!=this.getMedium()&&this.setMedium(this.getMedium())},Oe.prototype.eventHandler=function(e,t){var n,i,o,r,a,s;this.logEvents&&!this.excludedFlashEvents.test(e)&&this.logger.log(\"[AMP FLASH EVENT] \"+e,t);try{switch(e){case Po.INITIALIZED:r=o=\"ready\";break;case Po.RESET:null==t&&(o=\"ready\"),this.started=!1;break;case Po.LOADING:r=\"loadstart\";break;case Po.PLAYER_ERROR:r=o=\"error\";break;case Po.MEDIA_ERROR:r=o=\"error\";break;case Po.FEED_UPDATED:r=\"mediachange\";break;case Po.ERROR_STREAM_NOT_FOUND:r=o=\"error\";break;case Po.CAPABILITY_CHANGE:i=t.type,\"canPlayChange\"===i&&t.enabled===!0?(r=\"canplay\",this.loaded=!0):\"canSeekChange\"===i&&t.enabled===!0?r=\"canplaythrough\":\"temporalChange\"===i&&t.enabled===!0&&(r=\"loadedmetadata\",this.started||this.sendNotification(Mo.START,t));break;case Po.PLAYING:this.started||this.sendNotification(Mo.START,t),r=o=\"playing\",this.ended=!1,this.paused=!1;break;case Po.ELEMENT_EVENT:\"fullscreenBtn\"===t.element&&\"click\"===t.type&&(null!=(a=this.config)&&null!=(s=a.fullscreen)?s.mode:void 0)===No.EXTERNAL&&(o=this.getDisplayState()===Vo.FULL_SCREEN?Vo.NORMAL:Vo.FULL_SCREEN,this.setDisplayState(o));break;case Po.PLAY_REQUEST:r=\"playrequest\",this.loaded=!0,this.ended=!1;break;case Po.PLAY:\"paused\"!==this.playState&&this.started&&this.sendNotification(Mo.PLAY,t);break;case Po.ENDED:r=o=\"ended\",this.ended=!0;break;case Po.PAUSED:r=\"pause\",o=\"paused\",this.paused=!0;break;case Po.BUFFERING:\"ended\"!==this.className&&(r=o=\"waiting\");break;case Po.DURATION_CHANGE:isNaN(t.time)||(r=\"durationchange\",t=t.time);break;case Po.VOLUME_CHANGE:r=\"volumechange\";break;case Po.TIME_UPDATE:r=\"timeupdate\";break;case Po.SEEKING_CHANGE:if(this.appState.getSeeking()===!1&&t.seeking===!1)return;r=t.seeking?\"seeking\":\"seeked\",this.appState.setSeeking(t.seeking),t.seeking&&(o=\"seeking\");break;case Po.FULLSCREEN_CHANGE:r=\"fullscreenchange\",t=\"fullScreen\"===t.displayState,this.applyDisplayState(t?Vo.FULL_SCREEN:Vo.NORMAL);break;case Po.FAIL_OVER_ATTEMPT:r=\"failoverattempt\",t=t;break;case Po.ERROR:e=null;break;case Po.AUTHORIZE:r=Lo.AUTHORIZE;break;case Po.TIMED_METADATA:r=Mo.TIMED_METADATA,t={startTime:t.time,endTime:t.time,data:t}}null!=e&&e!==r&&(i=new Nt(e,t),i.dispatcher=\"FLASH\",this.sendNotification(Mo.DISPATCH_EVENT,i),this.sendNotification(e,t)),null!=r&&(\"error\"===r&&(n=t.error||t,this.error(\"Flash Error\",n)),this.sendNotification(r,t),this.sendNotification(Mo.DISPATCH_EVENT,new Nt(r,t))),null!=o&&this.setPlayState(o)}catch(n){this.error(\"Event Error: \"+e,n)}},Oe.prototype.error=function(e,t){this.logger.error(\"[AMP FLASH ERROR]\",e,t)},Oe.prototype.excludedFlashEvents=/(mediaPlayerPlayheadUpdate|mediaPlayerElementEvent|adComponentPlaybackProgress)/,Oe.prototype.logFlashEvents=!1,Oe.prototype.logEvent=function(e){\"FLASH\"===e.dispatcher&&this.logFlashEvents===!1||this.excludedFlashEvents.test(e.type)===!0||Oe.__super__.logEvent.call(this,e)},Oe.prototype.setPlayState=function(e){return e!==this.playState?(this.playState=e,this.sendNotification(Mo.CHANGE_PLAY_STATE,this.playState),e):void 0},Oe.prototype.setMedia=function(e){return Oe.__super__.setMedia.call(this,e),null!=this.playState&&this.setPlayState(\"ready\"),this.media.setData(e),null!=e.src&&this.setSrc(e.src),null!=e.source&&e.source.length>0&&this.setSource(e.source),this.sendNotification(Mo.MEDIA_CHANGE,e),this.loaded=!0,this.mediaElement.loadURL(this.media.getSrc(),this.media.getData()),e},Oe.prototype.getMedia=function(){return this.media.getData()},Oe.prototype.load=function(){this.loaded=!0,this.mediaElement.loadURL(this.media.getSrc())},Oe.prototype.play=function(){this.loaded||this.load(),this.mediaElement.unpause()},Oe.prototype.setMuted=function(e){this.muted=e;try{e===!0?this.mediaElement.mute():this.mediaElement.unmute()}catch(t){this.error(\"Flash muted error\",t)}return e},Oe.prototype.getMuted=function(){return this.muted},Oe.prototype.getLoop=function(){return this.loop},Oe.prototype.getSrc=function(e){return this.mediaElement.getURL()},Oe.prototype.setSrc=function(e){return this.media.setSrc(e),this.loaded=!1,this.setMedium(kt.getMimeType(e)),e},Oe.prototype.setAutoplay=function(e){return this.mediaElement.setPlayerProperty(\"autoplay\",e),e},Oe.prototype.getAutoplay=function(){return this.mediaElement.getPlayerProperty(\"autoplay\")},Oe.prototype.getMedium=function(){return this.media.getData().medium},Oe.prototype.setMedium=function(e){var t,n;return t=this.media.getData(),e!==t.medium?(null!=t.medium&&(n=\"medium-\"+t.medium),t.medium=/audio/.test(e)?\"audio\":\"video\",this.sendNotification(Mo.MEDIUM_CHANGE,{value:\"medium-\"+t.medium,previous:n}),e):void 0},Oe.prototype.setSource=function(e){var t,n,i=this;if(!(null==e||e.length<1)){if(n=this.media.getData(),n.source=e,this.loaded=!1,t=kt.selectSource(e,function(e){return i.canPlayType(e)}),null==(null!=t?t.src:void 0)||\"\"===t.src)throw new Error(\"No valid source could be found\");return this.setSrc(t.src),\"undefined\"!=typeof type&&null!==type&&this.setMedium(type),e}},Oe.prototype.getSource=function(){return this.media.getData().source},Oe.prototype.getSeeking=function(){return this.appState.getSeeking()},Oe.prototype.getPaused=function(){return this.paused},Oe.prototype.getEnded=function(){return this.ended},Oe.prototype.getFlashXML=function(){var e,t;t=decodeURIComponent(this.flashvars.settings_xml),e=ae.parse(t);try{e.toString=function(){return t}}catch(n){}return e},Oe.prototype.getFlashVars=function(){return this.flashvars},Oe.prototype.getFlashJSON=function(){return JSON.parse(decodeURIComponent(this.flashvars.settings_json))},Oe.prototype.evaluateBinding=function(e){var t;if(t=this.mediaElement.evaluateBinding(e),null!=t)try{t=JSON.parse(t)}catch(n){}return t},Oe.prototype.canPlayType=function(e){return i.call(kt.flashTypes,e)>=0?\"maybe\":\"\"},Oe.prototype.replay=function(){this.mediaElement.replay()},Oe.prototype.pause=function(){this.mediaElement.pause()},Oe.prototype.end=function(){this.mediaElement.stopPlayer()},Oe.prototype.getCurrentTime=function(){return this.mediaElement.getCurrentTime()},Oe.prototype.setCurrentTime=function(e){return this.mediaElement.jumpToTime(e),e},Oe.prototype.getParams=function(){return this.mediaElement.getParams()},Oe.prototype.setParams=function(e){return this.mediaElement.setParams(e),e},Oe.prototype.getVolume=function(){return this.mediaElement.getVolume()},Oe.prototype.setVolume=function(e,t){return this.mediaElement.setVolume(e,t||\"\"),e},Oe.prototype.getDuration=function(){return this.mediaElement.getDuration()},Oe.prototype.getDisplayState=function(){return this.displayState},Oe.prototype.setDisplayState=function(e){var t;if(e!==this.displayState&&(this.applyDisplayState(e),(null!=(t=this.config.fullscreen)?t.mode:void 0)!==No.EXTERNAL))return this.displayState===Vo.FULL_SCREEN?this.mediaElement.enterFullScreen():this.mediaElement.exitFullScreen(),e},Oe.prototype.applyDisplayState=function(e){var t;e!==this.displayState&&(t={value:e,previous:this.displayState},this.displayState=e,this.sendNotification(Mo.DISPLAY_STATE_CHANGE,t),this.sendNotification(Mo.DISPATCH_EVENT,new Nt(\"fullscreenchange\",this.displayState===Vo.FULL_SCREEN)))},Oe.prototype.enterFullScreen=function(){this.setDisplayState(Vo.FULL_SCREEN)},Oe.prototype.exitFullScreen=function(){this.setDisplayState(Vo.NORMAL)},Oe.prototype.recordContentChange=function(e){this.mediaElement.recordContentChange(e)},Oe.prototype.setQuality=function(e){return this.mediaElement.setQuality(e)},Oe.prototype.getQuality=function(){return this.mediaElement.getQuality()},Oe.prototype.getQualityLevels=function(){return this.mediaElement.getQualityLevels()},n(Le,puremvc.Mediator),Le.prototype.module=null,Le.prototype.mediator=null,Le.prototype.initializeNotifier=function(e){var t,n=this;Le.__super__.initializeNotifier.call(this,e),t=this.module.listNotificationPublications(),null!=t&&(this.mediator=new puremvc.Mediator(this.facade.getModuleName()),this.mediator.listNotificationInterests=function(){return t},this.mediator.handleNotification=function(e){n.facade.sendNotification(e.getName(),e.getBody(),e.getType())})},Le.prototype.onRegister=function(){null!=this.mediator&&this.module.registerMediator(this.mediator)},Le.prototype.onRemove=function(){null!=this.mediator&&this.module.removeMediator(this.mediator)},Le.prototype.listNotificationInterests=function(){return this.module.listNotificationInterests()},Le.prototype.handleNotification=function(e){this.module.sendNotification(e.getName(),e.getBody(),e.getType())};var Mo={STARTUP:\"startup\",LOAD:\"load\",PAUSE_REQUEST:\"pauserequest\",TOGGLE_PLAY_PAUSE:\"togglePlayPause\",CHANGE_PLAY_STATE:\"chageplaystate\",PLAY_STATE_CHANGE:\"playstatechange\",TOGGLE_FULL_SCREEN:\"toggleFullScreen\",CHANGE_DISPLAY_STATE:\"chageDisplayState\",DISPLAY_STATE_CHANGE:\"displayStateChange\",FULL_SCREEN_CHANGE:\"fullscreenchange\",DISABLE_FULL_SCREEN:\"disableFullScreen\",ENABLE_FULL_SCREEN:\"enableFullScreen\",LANGUAGE_CHANGE:\"languagechange\",TOGGLE_ACTIVE:\"toggleActive\",CHANGE_ACTIVE_STATE:\"changeactivestate\",ACTIVE_STATE_CHANGE:\"activestatechange\",CHANGE_MEDIA:\"changeMedia\",SET_MEDIA:\"setmedia\",MEDIA_VALIDATED:\"mediavalidated\",UPDATE_DATA_BINDINGS:\"updatedatabindings\",CHANGE_VOLUME:\"changevolume\",CHANGE_MUTED:\"changemuted\",TOGGLE_MUTED:\"togglemuted\",SEEK:\"seek\",CHANGE_DURATION:\"changeduration\",CHANGE_AUTOPLAY:\"changeAutoplay\",CHANGE_LOOP:\"changeLoop\",PLAYBACK_CORE_CHANGE:\"playbackCoreChange\",START:\"start\",END:\"end\",REPLAY:\"replay\",REGISTER_PLUGIN:\"registerPlugin\",REGISTER_PLUGINS:\"registerPlugins\",PLUGIN_REGISTERED:\"pluginRegistered\",ADD_LAYER:\"addLayer\",REMOVE_LAYER:\"removeLayer\",ADD_OVERLAY:\"addOverlay\",REMOVE_OVERLAY:\"removeOverlay\",ADD_CONTROL:\"addControl\",REMOVE_CONTROL:\"removeControl\",ADD_CONTROL_STATE:\"addControlState\",REMOVE_CONTROL_STATE:\"removeControlState\",ADD_APPLICATION_STATE:\"addApplicationState\",REMOVE_APPLICATION_STATE:\"removeApplicationState\",DISPATCH_EVENT:\"dispatchEvent\",CHANGE_PARAMS:\"changeParams\",ADD_CUE_POINTS:\"addCuePoints\",REMOVE_CUE_POINTS:\"removeCuePoints\",INITIALIZED:\"initialized\",REGISTER_PLAYBACK_CORE:\"registerPlaybackCore\",REMOVE_PLAYBACK_CORE:\"removePlaybackCore\",DISPLAY_TIME:\"displaytime\",IS_USER_ACTIVE:\"isUserActive\",CHANGE_PLAYBACK_TARGET:\"changeplaybacktarget\",LOADED_METADATA:\"loadedmetadata\",READY:\"ready\",ERROR:\"error\",ENDED:\"ended\",STARTED:\"started\",DURATION_CHANGE:\"durationchange\",SEEKING:\"seeking\",SEEKED:\"seeked\",TIME_UPDATE:\"timeupdate\",LOAD_START:\"loadstart\",LOADED_DATA:\"loadeddata\",CAN_PLAY:\"canplay\",CAN_PLAY_THROUGH:\"canplaythrough\",PROGRESS:\"progress\",MEDIA_CHANGE:\"mediachange\",WAITING:\"waiting\",PLAY:\"play\",PLAYING:\"playing\",PAUSE:\"pause\",PAUSED:\"paused\",PLAY_REQUEST:\"playrequest\",MEDIUM_CHANGE:\"mediumchange\",TEMPORAL_TYPE_CHANGE:\"temporaltypechange\",VOLUME_CHANGE:\"volumechange\",FAIL_OVER_ATTEMPT:\"failoverattempt\",PLAYBACK_TARGET_CHANGE:\"playbacktargetchange\",PLAYBACK_TARGET_AVAILABLE:\"playbacktargetavailable\",RECORD_CONTENT_CHANGE:\"recordcontentchange\",IS_LIVE:\"islive\",CHANGE_CONTENT:\"changecontent\",CONTENT_CHANGED:\"contentchanged\",ENABLE_VIDEO_EVENTS:\"enablevideoevents\",DISABLE_VIDEO_EVENTS:\"disablevideoevents\",MEDIA_SEQUENCE_ENDED:\"mediasequenceended\",TIMED_METADATA:\"timedmetadata\"};Re.SINGLE=/^\\s*#{([^#{}]+)}\\s*$/,Re.TOKEN=/#{([^#}]*)}/g,Re.RETURN=\"return \",Re.EVENT=\"event\",Re.ELEMENT=\"element\",Re.PATHS=\"paths\",Re.eval=function(e,t,n,i,o){var r,a,s;return null==e?e:(a=null!=(s=this.SINGLE.exec(e))?s[1]:null,r=null!=a?this.evalBinding(a,t,n,i,o):this.evalString(e,t,n,i,o))},Re.evalString=function(e,t,n,i,o){return e.replace(this.TOKEN,this.replaceBinding.bind(this,t,n,i,o))},Re.replaceBinding=function(e,t,n,i,o,r,a,s){return this.evalBinding(r,e,t,n,i)},Re.evalBinding=function(e,t,n,i,o){var r;try{r=this.exec(e,t,n,i,o)}catch(a){r=\"#{\"+e+\"}\"}return r},Re.exec=function(e,t,n,i,o){return new Function(this.EVENT,this.ELEMENT,this.PATHS,this.RETURN+e).bind(t)(n,i,o)},n(je,puremvc.SimpleCommand),je.prototype.execute=function(e){var t,n;n=this.facade.player||this.facade,t=e.getBody(),t.player=n,this.facade.dispatchEvent(t)},Ve.prototype.data=null,Ve.prototype.value=null,Ve.prototype.source=null,Ve.prototype.parse=function(e){},Ve.prototype.compile=function(e,t){null==e&&(e={}),null==t&&(t=!1)},n(Ue,Ve),Ue.prototype.data=null,Ue.prototype.value=null,Ue.prototype.source=null,Ue.prototype.parse=function(e){var t;return t=e instanceof Array?new Be(e):e instanceof Object?new pt(e):new dt(e)},n(Be,Ue),Be.prototype.parse=function(e){var t,n,i,o;for(this.data=[],t=i=0,o=e.length;o>i;t=++i)n=e[t],this.data[t]=Be.__super__.parse.call(this,n);return this.data},Be.prototype.compile=function(e,t){var n,i,o,r,a;for(null==e&&(e={}),null==t&&(t=!1),this.value=[],a=this.data,n=o=0,r=a.length;r>o;n=++o){i=a[n];try{this.value[n]=i.compile(e,t)}catch(s){this.value[n]=null,t||Pt.error(s)}}return this.value},n(Ge,puremvc.Proxy),Ge.prototype.contextName=null,Ge.prototype.contextData=null,Ge.prototype.onRegister=function(){var e,t;null!=this.getContextName()&&(e=this.facade.player||this.facade,t=e.retrieveProxy(gt.NAME),t.registerContext(this))},Ge.prototype.getContextName=function(){return this.contextName},Ge.prototype.getContextData=function(){return this.contextData},n(Fe,puremvc.Proxy),Fe.NAME=\"PlaybackProxy\",Fe.prototype.src=null,Fe.prototype.canPlayType=function(e){return\"external\"===e},Fe.prototype.canPlayTemporalType=function(e){return!0},Fe.prototype.getSrc=function(){return this.src},Fe.prototype.setSrc=function(e){return(null==e||\"\"===e)&&this.sendNotification(Mo.ERROR,\"The value of src is not supported: \"+e),e!==this.src&&(this.src=e),e},Fe.prototype.mediaProxy=null,Fe.prototype.setMediaProxy=function(e){this.mediaProxy=e},Fe.prototype.play=function(){window.open(this.getSrc(),\"_blank\")},Fe.prototype.load=function(){},Fe.prototype.setVolume=function(){},Fe.prototype.pause=function(){},Fe.prototype.setEnabled=function(){},Fe.prototype.getCurrentTime=function(){return 0},Fe.prototype.setCurrentTime=function(e){},Fe.prototype.getDuration=function(){return 0};var Do={TOGGLE_PLAY_PAUSE:\"usertogglePlayPause\",PLAY:\"userplay\",PAUSE:\"userpause\",SEEK:\"userseek\"},Oo={PREFIX:\"akamai-\"},Lo={CHECK_AUTHORIZATION:\"authcheckAuthorization\",AUTHORIZATION_FAILED:\"authauthorizationfailed\",AUTHORIZE:\"authauthorize\",AUTHORIZED:\"authauthorized\",SET_TOKEN:\"authsettoken\",SET_KEY:\"authsetkey\"};n(He,f),He.prototype.execute=function(e){this.applicationState.setPlayState(e.getBody())},n(ze,f),ze.prototype.execute=function(e){var t;t=e.getBody(),this.sendNotification(Mo.CHANGE_MEDIA,t),t=this.media.getData(),this.media.authorized===!0&&this.sendNotification(Mo.MEDIA_VALIDATED,t)},n(We,f),We.prototype.execute=function(e){var t;t=e.getBody(),this.media.getDuration()!==t&&this.media.setDuration(t)},n(qe,y),qe.prototype.execute=function(e){var t;t=this.playback.getMediaElement(),_t.clear(t),this.logger.error(\"[AMP ERROR]\",e.getBody()),this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.ERROR),qe.__super__.execute.call(this,e)},n(Ye,y),Ye.prototype.execute=function(e){var t,n;t=null!=(n=this.facade.config)?n.volume:void 0,null!=t&&this.sendNotification(Mo.CHANGE_VOLUME,t),this.playerCore.ready(),this.sendNotification(Mo.CHANGE_DISPLAY_STATE,Vo.NORMAL),this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.READY),this.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE),this.dispatchEventAfterCommand(e)},n(Xe,f),Xe.prototype.execute=function(e){var t;t=e.getBody()||{},this.bindings.compile(t.contexts,t.suppressErrors)},n(Ze,f),Ze.prototype.execute=function(e){this.params.setData(e.getBody()),this.sendNotification(Mo.UPDATE_DATA_BINDINGS,{suppressErrors:!0})},n(Je,y),Je.prototype.execute=function(e){var t;t=e.getBody(),this.playerCore.setPlaybackCore(t),this.playback.setSrc(t.src),this.playback.setCurrentTime(t.startTime||0),Je.__super__.execute.call(this,e)},n(Ke,f),Ke.prototype.execute=function(e){var t;t=e.getBody(),this.playback.setEnabled(!1),this.playback.pause(),this.sendNotification(Mo.CHANGE_PLAY_STATE,jo.READY),this.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE);try{this.media.setData(t)}catch(n){this.sendNotification(Mo.ERROR,n.message)}this.sendNotification(Mo.UPDATE_DATA_BINDINGS),this.sendNotification(Lo.AUTHORIZE)},n($e,ye),$e.prototype.componentName=\"overlays\",$e.NAME=\"OverlayLayerMediator\",$e.prototype.createMediatorName=function(){return $e.NAME},$e.prototype.listNotificationInterests=function(){return[Mo.ADD_OVERLAY,Mo.REMOVE_OVERLAY]},$e.prototype.handleNotification=function(e){var t,n;switch(t=e.getName(),n=e.getBody(),t){case Mo.ADD_OVERLAY:this.viewComponent.appendChild(n);break;case Mo.REMOVE_OVERLAY:this.viewComponent.removeChild(n)}},n(Qe,ye),Qe.prototype.componentName=\"poster\",Qe.prototype.poster=null,Qe.prototype.clickHandler=null,Qe.prototype.onRegister=function(){Qe.__super__.onRegister.call(this),this.poster=this.create(\"poster-content\"),this.poster.onclick=this.onclick.bind(this)},Qe.prototype.onclick=function(e){return e.stopImmediatePropagation(),e.preventDefault(),this.sendNotification(Do.TOGGLE_PLAY_PAUSE,!0),!1},Qe.prototype.listNotificationInterests=function(){return[Mo.CHANGE_MEDIA]},Qe.prototype.handleNotification=function(e){var t,n;switch(e.getName()){case Mo.CHANGE_MEDIA:n=e.getBody().poster,t=null!=n&&\"\"!==n?'<img src=\"'+n+'\" class=\"'+this.cssPrefix+'poster-image\" />':\"\",this.poster.innerHTML=t}},n(et,ye),et.prototype.message=null,et.prototype.componentName=\"error\",et.prototype.onRegister=function(){et.__super__.onRegister.call(this),this.message=this.create(\"error-message\")},et.prototype.listNotificationInterests=function(){return[Mo.ERROR]},et.prototype.handleNotification=function(e){var t,n;switch(e.getName()){case Mo.ERROR:switch(t=e.getBody(),n=\"Error: \",t.code){case MediaError.MEDIA_ERR_ABORTED:n+=\"Media was aborted.\";break;case MediaError.MEDIA_ERR_DECODE:n+=\"Decode Error.\";break;case MediaError.MEDIA_ERR_NETWORK:n+=\"Network Error.\";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:n+=\"Source not supported.\";break;default:n+=t}this.message.textContent=n}},n(tt,X),tt.prototype.componentName=\"title-bar\",tt.prototype.title=null,tt.prototype.description=null,tt.prototype.onRegister=function(){tt.__super__.onRegister.call(this),this.title=this.create(\"title-text\"),this.description=this.create(\"description-text\")},tt.prototype.listNotificationInterests=function(){return[Mo.CHANGE_MEDIA]},tt.prototype.handleNotification=function(e){var t,n;switch(e.getName()){case Mo.CHANGE_MEDIA:t=e.getBody(),n=t.title,null==n||\"\"===n||\"undefined\"===n?this.classList.add(\"hidden\"):(this.title.innerHTML=n,this.description.innerHTML=t.description?t.description:\"\",this.classList.remove(\"hidden\"))}},n(nt,s),nt.prototype.player=null,nt.prototype.proxy=null,nt.prototype.initialize=function(e,t){this.player=t,this.logger=this.player.logger,\nnt.__super__.initialize.call(this,e,t)},nt.prototype.isAvailable=function(){return!0},nt.prototype.loadResources=function(){return this.isAvailable()?void nt.__super__.loadResources.call(this):void this.resourcesLoaded()},nt.prototype.resourcesLoaded=function(){\"function\"==typeof this.oninitialized&&this.oninitialized(this)},nt.prototype.onRegister=function(){var e;this.isAvailable()&&(this.createFramework(),null!=(e=this.retrieveProxy(Ie.NAME))&&\"function\"==typeof e.initialize&&e.initialize()),this.sendNotification(Ro.PLUGIN_REGISTERED,this)},nt.prototype.logEvent=function(e){var t;/(timeupdate|timeremaining)/.test(e.type)!==!0&&(t=this.player.getModuleName().toUpperCase()+\" \"+this.getModuleName().toUpperCase(),null!=e.dispatcher&&(t+=\" \"+e.dispatcher),this.logger.log(\"[\"+t+\" EVENT] \"+e.type,e))},nt.prototype.listNotificationPublications=function(){var e,t,n;return t=[Mo.ADD_LAYER,Mo.REMOVE_LAYER,Mo.ADD_OVERLAY,Mo.REMOVE_OVERLAY,Mo.ADD_APPLICATION_STATE,Mo.REMOVE_APPLICATION_STATE,Mo.IS_USER_ACTIVE,Mo.PLAYBACK_CORE_CHANGE],t.concat(function(){var t;t=[];for(e in Ro)n=Ro[e],t.push(n);return t}())},n(it,puremvc.Mediator),it.NAME=\"PluginAdapter\",it.prototype.plugins=null,it.prototype.registered=null,it.prototype.onRegister=function(){return it.__super__.onRegister.call(this)},it.prototype.listNotificationInterests=function(){return[Ro.REGISTER_PLUGINS,Ro.PLUGIN_REGISTERED]},it.prototype.handleNotification=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h;switch(s=e.getName(),t=e.getBody(),s){case Ro.REGISTER_PLUGINS:d=this.facade.getPlayerType(),n=t,u=this.onplugininitialized.bind(this),l=this.onpluginerror.bind(this),h=tn.plugins;for(a in h)if(p=h[a],a in n&&(r=n[a],null!=r&&r.enabled!==!1))if(i=p[d],null!=i)try{c=new i,c.oninitialized=u,c.onerror=l,this.plugins.push(c.initialize.bind(c,r,this.facade))}catch(f){this.logger.error(\"[AMP] Plugin could not be created: \"+a+\". \"+f);continue}else this.facade.logger.debug(\"[AMP] Plugin could not be found: \"+a);this.plugins.forEach(function(e){return e()});break;case Ro.PLUGIN_REGISTERED:this.registered++,s=\"function\"==typeof t.getModuleName?t.getModuleName():void 0,null!=s&&(this.facade[s]=t),o=\"function\"==typeof t.getFeatureName?t.getFeatureName():void 0,null!=o&&(this.facade[o]=t),this.facade.logger.debug(\"[AMP] Plugin registered: \"+t.getModuleName()),this.initializedCheck()}},it.prototype.initializedCheck=function(){this.registered===this.plugins.length&&this.sendNotification(Ro.PLUGINS_INITIALIZED,this.plugins)},it.prototype.onplugininitialized=function(e){e.oninitialized=null,e.onerror=null,this.facade.registerModule(e)},it.prototype.onpluginerror=function(e){this.registered++,this.facade.logger.error(\"[AMP] Plugin could not be registered: \"+e.getModuleName()),this.initializedCheck()},ot.prototype.element=null,ot.prototype.prefix=Oo.PREFIX,ot.prototype.contains=function(e){return this.constructor.contains(e,this.element,this.prefix)},ot.prototype.add=function(e){this.constructor.add(e,this.element,this.prefix)},ot.prototype.remove=function(e){this.constructor.remove(e,this.element,this.prefix)},ot.prototype.toggle=function(e){return this.constructor.contains(e,this.element,this.prefix)},ot.contains=function(e,t,n){var i,o;return null==n&&(n=\"\"),i=n+e,null!=(null!=(o=t.classList)?o.contains:void 0)?t.classList.contains(i):-1!==t.className.indexOf(i)},ot.add=function(e,t,n){var i,o;null==n&&(n=\"\"),i=n+e,null!=(null!=(o=t.classList)?o.add:void 0)?t.classList.add(i):this.contains(e,t)||(\"\"!==t.className?t.className+=\" \"+i:t.className=i)},ot.remove=function(e,t,n){var i,o,r;null==n&&(n=\"\"),i=n+e,null!=(null!=(r=t.classList)?r.remove:void 0)?t.classList.remove(i):this.contains(e,t)&&(o=new RegExp(\" ?\"+i),t.className=t.className.replace(o,\"\"))},ot.toggle=function(e,t,n){var i,o;null==n&&(n=\"\"),i=n+e,null!=(null!=(o=t.classList)?o.toggle:void 0)?t.classList.toggle(this.prefix+e):this.contains(e,t)?this.remome(e,t):this.add(e,t)},n(rt,Ge),rt.NAME=\"LocalizationProxy\",rt.prototype.contextName=\"l10n\",rt.prototype.locale=null,rt.prototype.localeId=null,rt.prototype.onRegister=function(){rt.__super__.onRegister.call(this),this.setLocale(this.data.language)},rt.prototype.getContextData=function(){return this.locale},rt.prototype.getLanguage=function(){return this.data.language},rt.prototype.setLanguage=function(e){return this.data.language=e,this.setLocale(e),this.sendNotification(Mo.LANGUAGE_CHANGE,e),e},rt.prototype.setLocale=function(e){return this.localeId=e,this.locale=this.data.locales[this.localeId],null==this.locale&&(this.localeId=e.substring(0,2),this.locale=this.data.locales[this.localeId]),this.facade.l10n=this.locale,e},rt.prototype.getLocaleId=function(){return this.localeId},rt.prototype.getLocales=function(){return this.data.locales},rt.prototype.setLocales=function(e){return this.data.locales=e,e},rt.prototype.getString=function(e){var t;return t=this.locale||this.data.locales.en,t[e]||\"\"},rt.prototype.getLanguageString=function(e){var t,n;return\"string\"!=typeof e||null==e||\"\"===e?\"\":(t=\"MSG_\"+e.toUpperCase(),n=this.getString(t),\"\"===n&&(e=e.split(\"-\").shift(),t=\"MSG_\"+e.toUpperCase(),n=this.getString(t)),n)},at.create=function(e,t,n,i){var o,r,a,s,l;if(null==n&&(n=\"div\"),\"string\"==typeof n&&(n=document.createElement(n)),o=new ot(n),null!=e)for(\"string\"==typeof e&&(e=[e]),s=0,l=e.length;l>s;s++)r=e[s],o.add(r);return n._classList=o,null!=i&&(null!=n.innerText?n.innerText=i:n.textContent=i),null!=t&&(null!=t.getViewComponent&&(a=t.getViewComponent()),null!=a&&(t=a),t.appendChild(n)),n},at.bindEvents=function(e,t,n){var o,r;null==n&&(n=[\"onRemove\",\"onRegister\"]);for(o in t)r=t[o],i.call(n,o)>=0||!/^on/.test(o)||null==(null!=r?r.bind:void 0)||(e[o]=r.bind(t))},at.createUID=function(e){var t,n,i,o;return null==e&&(e=16),t=Date.now(),n=2,i=e*n-1,o=Math.round(Math.random()*i+e),(o.toString(16)+t.toString(16)).toUpperCase()},n(st,y),st.prototype.execute=function(e){this.sendNotification(Mo.PLAY_REQUEST),this.playback.play(),st.__super__.execute.call(this,e)},n(lt,Error),lt.MESSAGE=\"Tokenization Error: Could not find token value for: \",n(ut,Ue),ut.prototype.parse=function(e){return this.source=this.data=this.value=e,e},ut.prototype.compile=function(e,t){return null==e&&(e=null),null==t&&(t=!1),this.value},n(ct,Ue),ct.prototype.exec=null,ct.prototype.parse=function(e){return this.source=this.data=e,this.exec=new Function(\"context\",\"var value; with(context){value = \"+this.data+\";}return value;\"),this.data},ct.prototype.compile=function(e,t){if(null==e&&(e={}),null==t&&(t=!1),null==this.exec)return this.value;try{this.value=this.exec(e)}catch(n){if(this.value=null,!t)throw new lt(this.data)}return this.value},n(dt,Ue),dt.prototype.exec=null,dt.prototype.tokenStart=/#{/,dt.prototype.tokenEnd=/}/,dt.prototype.token=null,dt.prototype.parse=function(e){var t,n,i,o,r,a,s,l,u;if(this.source=e,this.data=[],this.token.test(this.source)){for(s=[],i=\"<<>>\",o=null,r=this.source.replace(this.token,function(e,t,n,r){return s.push(t),o=i,n>0&&n<r.length-e.length&&(o+=i),o}),n=r.split(i),a=0,l=0,u=n.length;u>l;l++)t=n[l],\"\"===t&&s[a]?(this.data.push(new ct(s[a])),a++):\"\"!==t&&this.data.push(new ut(t));1===this.data.length&&(this.data=this.data[0])}else this.data=new ut(e);return this.data},dt.prototype.compile=function(e,t){var n,i,o,r;if(null==e&&(e={}),null==t&&(t=!1),null==this.data)return this.value;try{if(this.data instanceof Ve)this.value=this.data.compile(e,t);else for(this.value=\"\",r=this.data,i=0,o=r.length;o>i;i++)n=r[i],this.value+=n.compile(e,t)}catch(a){if(this.value=null,!t)throw new lt(this.source)}return this.value},n(pt,Ue),pt.prototype.parse=function(e){var t,n;this.source=e,this.data={};for(t in e)n=e[t],this.data[t]=pt.__super__.parse.call(this,n);return this.data},pt.prototype.compile=function(e,t){var n,i,o;null==e&&(e={}),null==t&&(t=!1),this.value={},o=this.data;for(n in o){i=o[n];try{this.value[n]=i.compile(e,t)}catch(r){this.value[n]=null,Pt.error(r)}}return this.value},ht.create=function(e){return new ht(e)},ht.defaults={paths:{player:\"../amp.premier/\",resources:\"../resources/\"},resources:[{src:\"#{paths.player}amp.premier.css\",type:\"text/css\"}],rules:{android_4_gets_m3u8:{regexp:\"Android 4\"}},autoplay:!0,loop:!1,target:\"_blank\",domain:\"akamai.com\",fullscreen:{},controls:{},volumepanel:{direction:\"vertical\"},captioning:{},playoverlay:{},flash:{swf:\"#{paths.player}AkamaiPremierPlayer.swf\",debug:\"#{paths.player}AkamaiPremierPlayer-debug.swf\",expressInstallSWF:\"#{paths.player}playerProductInstall.swf\",\"static\":{enabled:!1,swf:\"#{paths.player}AkamaiPremierPlayer-static.swf\",debug:\"#{paths.player}AkamaiPremierPlayer-static-debug.swf\"},vars:{core_player_name:\"amp.premier\",mbr_starting_index:2,use_last_known_bitrate:!1,use_netsession_client:!1,netsession_install_prompt_frequency_secs:-1,ad_server_timeout:20,ad_control_enabled:!0,dvr_enabled:1,branding_preload:\"none\",hds_live_low_latency:!0,fullscreen_enabled:!0,show_feature_bar:!1,suppress_events:\"mediaPlayerViewInitialized\",hds_fragment_retry_data_gap_threshold:20},view:{attributes:{skin:\"#{paths.player}premier.assets.swf\"},elements:{infoOverlay:{attributes:{style:\"top: 0px;\"}},adOptions:{attributes:{style:\"backgroundColor: 'rgba(0, 0, 0, 1)'\"},elements:{adChoices:{attributes:{target:\"http://www.akamai.com/\"}},adCountdown:{},adCount:{}}},endSlate:{attributes:{enabled:\"true\",hideElements:\"brandingLogo|viewAll\"}},replayView:{},bufferingView:{}}}},locales:{en:{MSG_TIME_SEPARATOR:\" / \",MSG_EMAIL_TO:\"To\",MSG_EMAIL_FROM:\"From\",MSG_EMAIL_VIDEO:\"Email this video\",MSG_EMAIL_MESSAGE_DEFAULT:\"Check out this video from xxx\",MSG_EMAIL_MESSAGE:\"Message\",MSG_EMAIL_ADDRESS_INVALID:\"Invalid Email Address\",MSG_EMAIL_MESSAGE_INVALID:\"Please limit your message to 500 characters or less.\",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:\" characters left\",MSG_EMAIL_SEND_FAILURE:\"Message could not be sent.\",MSG_EMAIL_SEND_SUCCESS_MESSAGE:\"Your email has been sent!\",MSG_SHARE_VIDEO_TEXT:\"Share this video...\",MSG_POST_TEXT:\"Post\",MSG_EMBED_TEXT:\"Embed\",MSG_LINK_TEXT:\"Link\",MSG_SHARE_CONNECT_FAILURE:\"Unable to connect. Please try again.\",MSG_SHARE_CONTENT_DISABLED:\"Share and embed are disabled.\",MSG_VERSION_TEXT:\"Version\",MSG_BUFFERING_TEXT:\"buffering\",MSG_CUSTOMIZE_CLIP_POINTS:\"Customize the start and end point of the video.\",MSG_PAUSE:\"Pause\",MSG_PREVIEW:\"Preview\",MSG_CURRENT:\"Currrent\",MSG_SEEK_TO:\"Seek to\",MSG_LIVE:\"LIVE\",MSG_DEFAULT_ERROR_MESSAGE:\"Sorry, we were unable to play the media you selected. Please try again, or select alternate media.\",MSG_ERROR_PREFIX:\"Error encountered:\",MSG_STREAM_NOT_FOUND:\"Stream not found\",MSG_CURRENT_WORKING_BANDWIDTH:\"Current working bandwidth\",MSG_CURRENT_BITRATE_PLAYING:\"Current bitrate playing\",MSG_MAX_BITRATE_AVAILABLE:\"Max bitrate available\",MSG_NOT_AVAILABLE:\"Not Available\",MSG_GO_LIVE:\"GO LIVE\",MSG_REPLAY:\"Replay\",MSG_NEXT_VIDEO:\"Video starts in: \",MSG_RECOMMENDED:\"Recommended\",MSG_VIEW_ALL:\"View all \",MSG_VIDEO:\" videos\",MSG_CC:\"CC\",MSG_CC_TITLE:\"Caption\",MSG_CC_LANGUAGE:\"Track :\",MSG_CC_PRESETS:\"Presets :\",MSG_CC_FONT:\"Font :\",MSG_CC_EDGE:\"Edge :\",MSG_CC_SIZE:\"Size :\",MSG_CC_SCROLL:\"Scroll :\",MSG_CC_COLOR:\"Color :\",MSG_CC_BACKGROUND:\"Background :\",MSG_CC_WINDOW:\"Window :\",MSG_CC_OPACITY:\"Opacity :\",MSG_CC_SHOW_ADVANCED:\"Show Advanced Settings\",MSG_CC_HIDE_ADVANCED:\"Hide Advanced Settings\",MSG_NEXT_AD:\"Next ad starts in: \",MSG_CC_RESET:\"Default\",MSG_CC_CANCEL:\"Cancel\",MSG_CC_APPLY:\"Apply\",MSG_CC_PREVIEW_TEXT:\"Lorem ipsum dolor sit amet..\",MSG_EN:\"English\",MSG_ES:\"Spanish\",MSG_DE:\"German\",MSG_FR:\"French\",MSG_IT:\"Italian\",MSG_RU:\"Russian\",MSG_ZH:\"Chinese\",MSG_CHROMECAST_MESSAGE:\"Video playing on another screen\",MSG_RETRY_MESSAGE:\"Content not yet available, retrying in\",MSG_SECONDS:\"seconds\",MSG_RETRY_FAILED:\"Retry failed\",MSG_RECOMMENDATIONS_TITLE:\"Recommended\"},es:{MSG_TIME_SEPARATOR:\" / \",MSG_EMAIL_TO:\"a\",MSG_EMAIL_FROM:\"de\",MSG_EMAIL_VIDEO:\"Enviar este vÃ­deo\",MSG_EMAIL_MESSAGE_DEFAULT:\"Echa un vistazo a este video de xxx\",MSG_EMAIL_MESSAGE:\"mensaje\",MSG_EMAIL_ADDRESS_INVALID:\"DirecciÃ³n de correo electrÃ³nico no vÃ¡lida\",MSG_EMAIL_MESSAGE_INVALID:\"Por favor limite su mensaje a 500 caracteres o menos.\",MSG_EMAIL_CHARACTERS_REMAINING_TEXT:\"personajes de la izquierda\",MSG_EMAIL_SEND_FAILURE:\"El mensaje no pudo ser enviado.\",MSG_EMAIL_SEND_SUCCESS_MESSAGE:\"Tu email ha sido enviado!\",MSG_SHARE_VIDEO_TEXT:\"Comparte este vÃ­deo...\",MSG_POST_TEXT:\"enviar\",MSG_EMBED_TEXT:\"incrustar\",MSG_LINK_TEXT:\"enlace\",MSG_SHARE_CONNECT_FAILURE:\"No se puede conectar. Por favor, intÃ©ntelo de nuevo.\",MSG_SHARE_CONTENT_DISABLED:\"Compartir e incrustar estÃ¡n desactivados.\",MSG_VERSION_TEXT:\"versiÃ³n\",MSG_BUFFERING_TEXT:\"el almacenamiento en bÃºfer\",MSG_CUSTOMIZE_CLIP_POINTS:\"Personalizar el inicio y el punto final del video.\",MSG_PAUSE:\"romper\",MSG_PREVIEW:\"vista previa\",MSG_CURRENT:\"corriente\",MSG_SEEK_TO:\"Tratar de\",MSG_LIVE:\"EN VIVO\",MSG_DEFAULT_ERROR_MESSAGE:\"Lo sentimos, no hemos podido jugar los medios de comunicaciÃ³n seleccionados. Por favor, intÃ©ntelo de nuevo, o seleccionar los medios de comunicaciÃ³n alternativos.\",MSG_ERROR_PREFIX:\"Se produjo un error:\",MSG_STREAM_NOT_FOUND:\"Stream que no se encuentra\",MSG_CURRENT_WORKING_BANDWIDTH:\"Ancho de banda actual de trabajo\",MSG_CURRENT_BITRATE_PLAYING:\"Tasa de bits de reproducciÃ³n actual\",MSG_MAX_BITRATE_AVAILABLE:\"Tasa de bits mÃ¡xima disponible\",MSG_NOT_AVAILABLE:\"No estÃ¡ disponible\",MSG_GO_LIVE:\"IR A VIVIR\",MSG_REPLAY:\"Repetir\",MSG_NEXT_VIDEO:\"El prÃ³ximo video comienza en: \",MSG_RECOMMENDED:\"Recomendado\",MSG_CC:\"CC\",MSG_VIEW_ALL:\"ver todo \",MSG_VIDEO:\" vÃ­deos.\",MSG_EN:\"InglÃ©s\",MSG_ES:\"EspaÃ±ol\",MSG_DE:\"AlemÃ¡n\",MSG_FR:\"FrancÃ©s\",MSG_IT:\"Italiano\",MSG_RU:\"Ruso\",MSG_ZH:\"Chino\",MSG_RETRY_MESSAGE:\"Content not yet available, retrying in\",MSG_SECONDS:\"seconds\",MSG_RETRY_FAILED:\"Retry failed\",MSG_RECOMMENDATIONS_TITLE:\"Recomendado\"}}},n(ft,de),ft.NAME=\"ParamsProxy\",ft.prototype.defaults={},ft.prototype.configurationName=\"params\",ft.prototype.setData=function(e){var t,n,i;this.data=(null!=(i=this.configurationData)?i.source:void 0)||{};for(t in e)n=e[t],this.data[t]=e[t];return this.configurationData=new pt(this.data),this.data};var Ro={REGISTER_PLUGINS:\"registerPlugins\",PLUGIN_REGISTERED:\"pluginRegistered\",PLUGINS_INITIALIZED:\"pluginsinitialized\"};n(gt,puremvc.Proxy),gt.NAME=\"DataBindingProxy\",gt.prototype.contextMap=null,gt.prototype.configurationMap=null,gt.prototype.paramsProxy=null,gt.prototype.initialize=function(){this.paramsProxy=this.facade.retrieveProxy(ft.NAME),this.update()},gt.prototype.registerContext=function(e){null!=e&&(this.contextMap[e.getContextName()]=e)},gt.prototype.retrieveContext=function(e){return this.contextMap[e]},gt.prototype.removeContext=function(e){var t;return t=this.contextMap[e],delete this.contextMap[e],t},gt.prototype.registerConfiguration=function(e){null!=e&&(this.configurationMap[e.getConfigurationName()]=e,e.compile(this.context,!0))},gt.prototype.retrieveConfiguration=function(e){return this.configurationMap[e]},gt.prototype.removeConfiguration=function(e){var t;return t=this.configurationMap[e],delete this.configurationMap[e],t},gt.prototype.evaluateBinding=function(e){var t;return this.update(),t=new dt(e),t.compile(this.data),t.value},gt.prototype.update=function(e){var t,n,i,o,r,a;this.data.now=Date.now(),r=this.contextMap;for(i in r)t=r[i],-1!==(null!=e&&\"function\"==typeof e.indexOf?e.indexOf(i):void 0)&&(this.data[i]=t.getContextData());this.paramsProxy.compile(this.data),a=this.paramsProxy.value;for(n in a)o=a[n],this.data[n]=o;return this.data},gt.prototype.compile=function(e,t){var n,i,o,r,a;null==t&&(t=!1),this.update(e),i=kt.clone(this.data),r=this.paramsProxy.getConfigurationName(),a=this.configurationMap;for(o in a)n=a[o],o!==r&&n.compile(i,t)};var jo={READY:\"ready\",PLAYING:\"playing\",PAUSED:\"paused\",ENDED:\"ended\",LOADING:\"loading\",WAITING:\"waiting\",SEEKING:\"seeking\",ERROR:\"error\"},Vo={NORMAL:\"normal\",FULL_SCREEN:\"full-screen\"},Uo={FLASH:\"flash\",HTML:\"html\"},Bo={ACTIVE:\"active\",INACTIVE:\"inactive\"};n(mt,puremvc.Proxy),mt.NAME=\"ApplicationStateProxy\",mt.prototype.displayState=null,mt.prototype.playState=null,mt.prototype.renderMode=null,mt.prototype.activeState=null,mt.prototype.seeking=!1,mt.prototype.isUserActive=!1,mt.prototype.device=null,mt.prototype.volume=1,mt.prototype.playbackTarget=\"amp\",mt.prototype.getDisplayState=function(){return this.displayState},mt.prototype.setDisplayState=function(e){var t;e!==this.displayState&&(t=this.displayState,this.displayState=e,this.sendNotification(Mo.DISPLAY_STATE_CHANGE,{previous:t,value:this.displayState}))},mt.prototype.getPlayState=function(){return this.playState},mt.prototype.setPlayState=function(e){var t;if(e!==this.playState){if(this.seeking===!0)switch(e){case jo.PLAYING:case jo.READY:this.seeking=!1;break;default:return}t=this.playState,this.playState=e,this.sendNotification(Mo.PLAY_STATE_CHANGE,{previous:t,value:this.playState})}},mt.prototype.getDevice=function(){return this.device},mt.prototype.getSeeking=function(){return this.seeking},mt.prototype.setSeeking=function(e){e!==this.seeking&&(this.seeking=e)},mt.prototype.getIsUserActive=function(){return this.isUserActive},mt.prototype.setIsUserActive=function(e){e!==this.isUserActive&&(this.isUserActive=e)},mt.prototype.getRenderMode=function(){return this.renderMode},mt.prototype.setRenderMode=function(e){e!==this.renderMode&&(this.renderMode=e)},mt.prototype.getMedium=function(){return this.medium},mt.prototype.setMedium=function(e){var t;e!==this.medium&&(t=null!=this.medium?\"medium-\"+this.medium:this.medium,this.medium=e,this.sendNotification(Mo.MEDIUM_CHANGE,{previous:t,value:\"medium-\"+this.medium}))},mt.prototype.getVolume=function(){return this.volume},mt.prototype.setVolume=function(e){return e!==this.volume?this.volume=e:void 0},mt.prototype.getPlaybackTarget=function(){return this.playbackTarget},mt.prototype.setPlaybackTarget=function(e){var t;e!==this.playbackTarget&&(t=this.playbackTarget,this.playbackTarget=e,this.sendNotification(Mo.PLAYBACK_TARGET_CHANGE,{previous:t,value:this.playbackTarget}))},mt.prototype.getActiveState=function(){return this.activeState},mt.prototype.setActiveState=function(e){var t;e!==this.activeState&&(t=this.activeState,this.activeState=e,this.sendNotification(Mo.ACTIVE_STATE_CHANGE,{previous:t,value:this.activeState}))},n(yt,a),yt.NAME=a.NAME,yt.prototype.getContextName=function(){return\"paths\"},yt.prototype.getContextData=function(){return this.getPaths()},yt.prototype.onRegister=function(){this.facade.retrieveProxy(gt.NAME).registerContext(this)},yt.prototype.setData=function(e){return null!=e.rules&&kt.mergeRules(e.rules),yt.__super__.setData.call(this,e),e},yt.prototype.getAutoplay=function(){return this.data.autoplay},yt.prototype.setAutoplay=function(e){return this.data.autoplay=e,e},yt.prototype.getLoop=function(){return this.data.loop},yt.prototype.setLoop=function(e){return this.data.loop=e,e},yt.prototype.getEndSlate=function(){return this.data.endslate},yt.prototype.setEndSlate=function(e){return this.data.endslate=e,e},yt.prototype.getDomain=function(){return this.data.domain},yt.prototype.setDomain=function(e){return this.data.domain=e,e},yt.prototype.getTarget=function(){return this.data.target},yt.prototype.setTarget=function(e){return this.data.target=e,e},yt.prototype.getName=function(){return this.data.name},yt.prototype.setName=function(e){return this.data.name=e,e},yt.prototype.getPaths=function(){return this.data.paths},yt.prototype.setPaths=function(e){return this.data.paths=e,e},yt.prototype.getVersion=function(){return this.data.version},yt.prototype.getControls=function(){return this.data.controls},yt.prototype.setControls=function(e){return this.data.controls=e,e},yt.prototype.getFullscreen=function(){return this.data.fullscreen||{}},yt.prototype.setFullscreen=function(e){return this.data.fullscreen=e,e},n(vt,Me),vt.prototype.playbackCoreName=\"audio\",vt.prototype.onRegister=function(){var e;e=new me(\"html5\",\"audio\"),this.sendNotification(Mo.PLAYBACK_CORE_CHANGE,e)},vt.prototype.onRemove=function(){this.facade.createMediaElement()},vt.prototype.canPlayType=function(e){return/audio/.test(e)?\"maybe\":\"\"},_t.PRESS=0,_t.RELEASE=1,_t.MOVE=2,_t.CLICK=3,_t.CONTEXTMENU=4,_t.EVENTS=[_t.PRESS,_t.RELEASE,_t.MOVE,_t.CLICK,_t.CONTEXTMENU],_t.MOUSE_EVENTS=[\"mousedown\",\"mouseup\",\"mousemove\",\"click\",\"contextmenu\"],_t.TOUCH_EVENTS=[\"touchstart\",\"touchend\",\"touchmove\",\"click\",\"touchcancel\"],_t.instances=[],_t.create=function(e,t,n){return new _t(e,t,n)},_t.bind=function(e,t){var n,i,o,r,a;for(a=_t.instances,n=o=0,r=a.length;r>o;n=++o)i=a[n],i.target===e&&(null==t||i.type===t)&&i.bind()},_t.unbind=function(e,t){var n,i,o,r,a;for(a=_t.instances,n=o=0,r=a.length;r>o;n=++o)i=a[n],i.target===e&&(null==t||i.type===t)&&i.unbind()},_t.clear=function(e,t){var n,i,o,r,a;for(a=_t.instances,n=o=0,r=a.length;r>o;n=++o)i=a[n],(null!=i?i.target:void 0)===e&&(null==t||i.type===t)&&(i.clear(),_t.instances.splice(n,1))},_t.prototype.types=null,_t.prototype.bind=function(){var e,t,n,i;for(i=this.types,t=0,n=i.length;n>t;t++)e=i[t],null!=this.target.addEventListener?this.target.addEventListener(e,this.trigger,!1):null!=this.target.attachEvent&&this.target.attachEvent(\"on\"+e,this.trigger)},_t.prototype.unbind=function(){var e,t,n,i;for(i=this.types,t=0,n=i.length;n>t;t++)e=i[t],null!=this.target.removeEventListener?this.target.removeEventListener(e,this.trigger):null!=this.target.attachEvent&&this.target.removeEvent(\"on\"+e,this.trigger)},_t.prototype.clear=function(){this.unbind(),this.target=null,this.handler=null,this.type=null,this.types=null},_t.prototype.trigger=function(e){this.handler(e)},n(bt,Me),bt.prototype.playbackCoreName=\"dvr\",bt.prototype.interval=null,bt.prototype.ondurationchange=function(e){this.updateDuration()},bt.prototype.ontimeupdate=function(e){this.updateCurrentTime()},bt.prototype.onplay=function(e){this.stopTimer(),bt.__super__.onplay.call(this,e)},bt.prototype.onplaying=function(e){this.stopTimer(),bt.__super__.onplaying.call(this,e)},bt.prototype.onpause=function(e){this.startTimer(),bt.__super__.onpause.call(this,e)},bt.prototype.canPlayTemporalType=function(e){return\"dvr\"===e},bt.prototype.seek=function(e){null==e&&(e=this.data.currentTime),this.getMediaElement().currentTime=e+this.getMediaElement().seekable.start(0)},bt.prototype.updateCurrentTime=function(){var e,t;t=this.getMediaElement().seekable,0!==t.length&&(e=this.getMediaElement().currentTime,this.data.currentTime=e-t.start(0),this.sendNotification(Mo.TIME_UPDATE,this.data.currentTime),this.mediaProxy.setIsLive(e>=t.end(0)))},bt.prototype.updateDuration=function(){var e;e=this.getMediaElement().seekable,0!==e.length&&(this.data.duration=e.end(0)-e.start(0),this.sendNotification(Mo.CHANGE_DURATION,this.data.duration))},bt.prototype.startTimer=function(){this.interval=setInterval(this.updateCurrentTime.bind(this),1e3)},bt.prototype.stopTimer=function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null,this.updateCurrentTime())},n(Et,Ge),Et.NAME=\"PlayerProxy\",Et.prototype.contextName=\"player\",Et.prototype.getPlaybackOrder=null,Et.prototype.playbackCoreMap=null,Et.prototype.defaultPlaybackCore=null,Et.prototype.activePlaybackCore=null,Et.prototype.onRegister=function(){Et.__super__.onRegister.call(this),this.registerPlaybackCore(new bt),this.registerPlaybackCore(this.defaultPlaybackCore),this.registerPlaybackCore(new vt),this.activePlaybackCore=this.defaultPlaybackCore},Et.prototype.ready=function(){var e;e=\"function\"==typeof this.getPlaybackOrder?this.getPlaybackOrder(this.playbackCoreMap.map(function(e){return e.getPlaybackCoreName()})):void 0,null!=e&&(this.playbackCoreMap=this.playbackCoreMap.sort(function(t,n){return t=e.indexOf(t.getPlaybackCoreName()),n=e.indexOf(n.getPlaybackCoreName()),t===n?0:-1===t&&-1!==n?1:-1!==t&&-1===n?-1:t-n}))},Et.prototype.getActivePlaybackCore=function(){return this.activePlaybackCore},Et.prototype.registerPlaybackCore=function(e){var t;t=e.getPlaybackCoreName(),null==e||this.playbackCoreMap.some(function(e){return e.getPlaybackCoreName()===t})||(e.setMediaProxy(this.facade.retrieveProxy(wt.NAME)),this.playbackCoreMap.push(e))},Et.prototype.retrievePlaybackCore=function(e){var t,n,i,o;for(o=this.playbackCoreMap,n=0,i=o.length;i>n;n++)if(t=o[n],t.getPlaybackCoreName()===e)return t},Et.prototype.removePlaybackCore=function(e){var t,n;return t=this.retrievePlaybackCore(e),null==t?null:(n=this.playbackCoreMap.indexOf(t),this.playbackCoreMap.splice(n,1),t)},Et.prototype.setPlaybackCore=function(e){var t,n,i,o,r,a;for(a=this.playbackCoreMap,o=0,r=a.length;r>o;o++)if(t=a[o],t.canPlayTemporalType(e.temporalType)===!0&&\"\"!==t.canPlayType(e.type)){n=t;break}return i=this.facade.retrieveProxy(xe.NAME),i!==n&&(this.facade.removeProxy(xe.NAME),this.facade.registerProxy(n),n.setData(i.getData())),this.activePlaybackCore=n,e},Et.prototype.canPlayType=function(e){var t,n,i,o,r;for(r=this.playbackCoreMap,i=0,o=r.length;o>i;i++)if(n=r[i],t=n.canPlayType(e),\"\"!==t)return t;return\"\"},Et.prototype.getContextData=function(){var e,t,n,i;return e=this.facade.retrieveProxy(yt.NAME),i=this.facade.retrieveProxy(xe.NAME),n=this.facade.retrieveProxy(wt.NAME),t=this.facade.getViewComponent(),{width:t.offsetWidth,height:t.offsetHeight,mode:\"html5\",autoplay:e.getAutoplay(),domain:e.getDomain(),name:e.getName(),currentTime:i.getCurrentTime(),duration:i.getDuration(),version:e.getVersion(),timecode:{duration:kt.formatTimecode(n.getDuration()),currentTime:kt.formatTimecode(i.getCurrentTime())}}},n(wt,Ge),wt.NAME=\"MediaProxy\",wt.prototype.contextName=\"media\",wt.prototype.data=null,wt.prototype.value=null,wt.prototype.started=!1,wt.prototype.authorized=!0,wt.prototype.getContextData=function(){return{width:this.getWidth(),height:this.getHeight(),title:this.getTitle(),description:this.getDescription(),src:this.getSrc(),duration:this.getDuration(),guid:this.getGUID(),isLive:this.getIsLive(),metadata:this.getMetadata(),temporalType:this.getTemporalType(),poster:this.getPoster(),category:this.getCategory(),scenes:this.getScenes()}},wt.prototype.setData=function(e){var t;return this.value=e,this.started=!1,this.data.autoplay=e.autoplay,this.data.type=e.type,this.setIsLive(e.isLive),this.setTemporalType(e.temporalType||\"vod\"),null!=e.source&&this.setSource(e.source),null!=e.src&&this.setSrc(e.src),this.data.title=e.title,null!=e.duration&&this.setDuration(e.duration),this.data.poster=e.poster,this.data.guid=e.guid,this.data.link=e.link,this.data.embed=e.embed,this.data.width=e.width,this.data.height=e.height,this.data.category=e.category,this.data.startTime=e.startTime,this.data.description=e.description,this.data.status=e.status||{},\"blocked\"===(null!=(t=this.data.status)?t.state:void 0)&&(this.authorized=!1),this.data.category=e.category,this.data.metadata=e.metadata||{},this.setMedium(e.medium),this.setPubDate(e.pubDate),this.setTrack(e.track),this.setScenes(e.scenes),this.setKeys(e.keys),e},wt.prototype.updateData=function(e){var t,n;for(t in e)n=e[t],t in this.data&&(this.data[t]=n)},wt.prototype.getGUID=function(){return this.data.guid},wt.prototype.setGUID=function(e){return this.data.guid=e},wt.prototype.getLink=function(){return this.data.link},wt.prototype.setLint=function(e){return this.data.link=e},wt.prototype.getStartTime=function(){return this.data.startTime||0},wt.prototype.getEmbed=function(){return this.data.embed},wt.prototype.setEmbed=function(e){return this.data.embed=e},wt.prototype.getAutoplay=function(){return this.data.autoplay},wt.prototype.setAutoplay=function(e){return this.data.autoplay=e},wt.prototype.getPubDate=function(){return this.data.pubDate},wt.prototype.setPubDate=function(e){return this.data.pubDate=e},wt.prototype.getCategory=function(){return this.data.category},wt.prototype.setCategory=function(e){return this.data.category=e},wt.prototype.getSrc=function(){return this.data.src},wt.prototype.setSrc=function(e){return this.data.src=e,null!=this.data.src&&null==this.data.type?this.setType(kt.getMimeType(this.data.src)):void 0},wt.prototype.getType=function(){return this.data.type},wt.prototype.setType=function(e){var t;return this.data.type=e,t=/audio/.test(this.data.type)?\"audio\":\"video\",this.setMedium(t)},wt.prototype.getMedium=function(){return this.data.medium},wt.prototype.setMedium=function(e){return e!==this.data.medium?(this.data.medium=e,this.facade.retrieveProxy(mt.NAME).setMedium(e)):void 0},wt.prototype.getMetadata=function(){return this.data.metadata},wt.prototype.setMetadata=function(e){return this.data.metadata=e},wt.prototype.getSource=function(){return this.data.source},wt.prototype.setSource=function(e){var t,n;if(!(null==e||e.length<1)){if(this.data.source=e,n=this.facade.retrieveProxy(Et.NAME)||this.facade,null!=n&&(t=kt.selectSource(e,function(e){return n.canPlayType(e)})),null!=(null!=t?t.src:void 0)&&\"\"!==t.src)return this.setSrc(t.src),this.setType(t.type);throw new Error(\"No valid source could be found\")}},wt.prototype.getTrack=function(){return this.data.track},wt.prototype.setTrack=function(e){return this.data.track=e},wt.prototype.getTitle=function(){return this.data.title},wt.prototype.setTitle=function(e){return this.data.title=e},wt.prototype.getWidth=function(){return this.data.width},wt.prototype.setWidth=function(e){return this.data.width=e},wt.prototype.getHeight=function(){return this.data.height},wt.prototype.setHeight=function(e){return this.data.height=e},wt.prototype.getDescription=function(){return this.data.description},wt.prototype.setDescription=function(e){return this.data.description=e},wt.prototype.getCategory=function(){return this.data.category},wt.prototype.setCategory=function(e){return this.data.category=e},wt.prototype.getDuration=function(e){return this.data.duration},wt.prototype.setDuration=function(e){var t;if(0!==e&&\"live\"!==this.value.temporalType&&(t=navigator.userAgent,1!==e||!/Android/.test(t)||/Android.*Chrome/.test(t)))return e!==this.data.duration&&(this.data.duration=e,this.sendNotification(Mo.DURATION_CHANGE,e)),e===1/0&&this.setTemporalType(\"live\"),e},wt.prototype.getPoster=function(e){return this.data.poster},wt.prototype.setPoster=function(e){return this.data.poster=e,e},wt.prototype.getIsLive=function(){return this.data.isLive},wt.prototype.setIsLive=function(e){var t;if(e!==this.data.isLive)return t=this.data.isLive,this.data.isLive=e,this.sendNotification(Mo.IS_LIVE,e),e},wt.prototype.getTemporalType=function(){return this.data.temporalType||\"vod\"},wt.prototype.setTemporalType=function(e){var t;e!==this.data.temporalType&&(t=this.data.temporalType,this.data.temporalType=e,this.sendNotification(Mo.TEMPORAL_TYPE_CHANGE,{previous:t,value:e}),this.setIsLive(\"live\"===this.data.temporalType||\"dvr\"===this.data.temporalType))},wt.prototype.getScenes=function(){return this.data.scenes},wt.prototype.setScenes=function(e){var t,n,i,o,r;if(null!=e){for(t=o=0,r=e.length;r>o;t=++o)n=e[t],n.start=isNaN(i=kt.flattenTimecode(n.sceneStartTime))?0:i,n.end=isNaN(i=kt.flattenTimecode(n.sceneEndTime))?0:i,n.title=n.sceneTitle||\"\",n.description=n.sceneDescription||\"\",n.position=t+1;this.data.scenes=e}},wt.prototype.getScene=function(e){var t,n,i,o,r;if(null!=this.data.scenes)for(r=this.data.scenes,t=i=0,o=r.length;o>i;t=++i)if(n=r[t],n.start<=e&&e<n.end)return n},wt.prototype.setKeys=function(e){this.data.keys=e},wt.prototype.getKeys=function(){return this.data.keys},n(Tt,wt),Tt.NAME=\"MediaProxy\",Tt.prototype.setSource=function(e){return null==e||e.length<1?void 0:(e=e.filter(function(e){return\"external\"===e.type}),Tt.__super__.setSource.call(this,e))},n(Ct,le),Ct.prototype.playerType=\"external\",Ct.prototype.createModel=function(){var e;this.bindings=new gt,this.registerProxy(this.bindings),this.registerProxy(new rt(this.config)),this.appState=new mt,this.registerProxy(this.appState),e=new Fe,this.registerProxy(e),this.playerCore=new Et(e),this.registerProxy(this.playerCore),this.configuration=new yt(this.config),this.registerProxy(this.configuration),this.media=new Tt,this.registerProxy(this.media),\nthis.params=new ft(this.config.params),this.registerProxy(this.params),this.bindings.initialize()},Ct.prototype.createView=function(){var e,t,n=this;this.registerMediator(new _e(\"external\",this.getViewComponent())),this.registerMediator(new it),t=new $e,this.registerMediator(t),_t.create(t.viewComponent,_t.CLICK,function(){return n.sendNotification(Mo.TOGGLE_ACTIVE)}),this.registerMediator(new Qe),this.registerMediator(new tt),e=new et,this.registerMediator(e),this.viewComponent.appendChild(e.getViewComponent())},Ct.prototype.createController=function(){Ct.__super__.createController.call(this),this.registerCommand(Mo.UPDATE_DATA_BINDINGS,Xe),this.registerCommand(Do.TOGGLE_PLAY_PAUSE,st),this.registerCommand(Mo.PLAY,st),this.registerCommand(Mo.CHANGE_PLAY_STATE,He),this.registerCommand(Mo.SET_MEDIA,ze),this.registerCommand(Mo.CHANGE_MEDIA,Ke),this.registerCommand(Mo.MEDIA_CHANGE,Je),this.registerCommand(Mo.MEDIA_VALIDATED,T),this.registerCommand(Mo.ERROR,qe),this.registerCommand(Ro.PLUGINS_INITIALIZED,h),this.registerCommand(Mo.READY,Ye),this.registerCommand(Mo.CHANGE_PARAMS,Ze)},Ct.prototype.createMediaElement=function(){return document.createElement(\"div\")},Ct.prototype.evaluateBinding=function(e){var t;return null!=(t=this.retrieveProxy(gt.NAME))?t.evaluateBinding(e):void 0},Ct.prototype.canPlayType=function(e){return\"maybe\"},Ct.prototype.play=function(){this.sendNotification(Mo.PLAY)},Ct.prototype.setParams=function(e){return this.sendNotification(Mo.CHANGE_PARAMS,e),e},Ct.prototype.getParams=function(){return this.retrieveProxy(ft.NAME).getData()},Ct.prototype.setAutoplay=function(e){return!1},Ct.prototype.getAutoplay=function(){return!1},Ct.prototype.setLoop=function(e){return!1},Ct.prototype.getLoop=function(){return!1},Ct.prototype.setMuted=function(e){return!1},Ct.prototype.getMuted=function(){return!1},Ct.prototype.setMedia=function(e){return this.sendNotification(Mo.SET_MEDIA,e),e},Ct.prototype.getMedia=function(e){var t;return null!=(t=this.retrieveProxy(wt.NAME))?t.getData():void 0},Ct.prototype.setCurrentTime=function(e){return 0},Ct.prototype.getCurrentTime=function(e){return 0},Ct.prototype.getDuration=function(e){return this.retrieveProxy(wt.NAME).getDuration()},Ct.prototype.setSrc=function(e){return this.sendNotification(Mo.SET_MEDIA,{src:e}),e},Ct.prototype.getSrc=function(e){return this.retrieveProxy(wt.NAME).getSrc()},Ct.prototype.setSource=function(e){return this.sendNotification(Mo.SET_MEDIA,{source:e}),e},Ct.prototype.getSource=function(){return this.retrieveProxy(wt.NAME).getSource()},Ct.prototype.setVolume=function(e){return e},Ct.prototype.getVolume=function(e){return 1},Ct.prototype.getSeeking=function(){return!1},Ct.prototype.getPaused=function(){return!1},Ct.prototype.getEnded=function(){return!1},At.prototype.title=null,At.prototype.link=null,At.prototype.description=null,At.prototype.category=null,At.prototype.pubDate=null,At.prototype.language=null,At.prototype.ttl=null,At.prototype.item=null,At.prototype.metadata=null,St.prototype.src=null,St.prototype.source=null,St.prototype.title=null,St.prototype.description=null,St.prototype.link=null,St.prototype.guid=null,St.prototype.pubDate=null,St.prototype.poster=null,St.prototype.thumbnail=null,St.prototype.embed=null,St.prototype.category=null,St.prototype.type=null,St.prototype.medium=null,St.prototype.duration=null,St.prototype.track=null,St.prototype.metadata=null,St.prototype.scenes=null,St.prototype.startTime=null;var Go={AUTO:\"auto\",HTML:\"html\",FLASH:\"flash\",EXTERNAL:\"external\",NONE:\"none\",HTML_AUTO:\"html-auto\"};Nt.prototype.type=null,Nt.prototype.target=null,Nt.prototype.detail=null,It.prototype.getFeed=function(e,t,n){return kt.getJson(e,t,n)},It.prototype.getMediaNode=function(e,t,n){var i,o,r,a;return null==n&&(n=!0),r=\"media-\"+t,i=e[\"media-group\"]||e,o=i[\"media-content\"],null!=o&&null!=o[r]?a=o[r]:null!=i[r]?a=i[r]:null!=e[r]?a=e[r]:null!=e[t]&&n&&(a=e[t]),a},It.prototype.createEmbed=function(e){var t,n,i,o,r,a;try{if(t=this.getMediaNode(e,\"embed\"),null==t)return n;for(n={},n.url=t[\"@attributes\"].url,n.width=t[\"@attributes\"].width,n.height=t[\"@attributes\"].height,n.params={},t[\"media-param\"]instanceof Array||(t[\"media-param\"]=[t[\"media-param\"]]),a=t[\"media-param\"],o=0,r=a.length;r>o;o++)i=a[o],n.params[i[\"@attributes\"].name]=i[\"#text\"]}catch(s){Pt.error(\"[AMP Feed Parse Error] embed parse error: \"+s.message,s)}return n},It.prototype.createFeed=function(e){var t,n,i,o,r,a,s,l,u;try{if(t=e.channel,n=new At,null!=t){for(n.title=t.title,n.description=t.description,n.language=t.language,n.category=t.category,n.pubDate=new Date(Date.parse(t.pubDate)),n.ttl=t.ttl,o=t.item instanceof Array?t.item:[t.item],l=0,u=o.length;u>l;l++)i=o[l],a=this.createMedia(i),n.item.push(a);for(r in t)s=t[r],r in n||(n.metadata[r]=s)}}catch(c){Pt.error(\"[AMP Feed Parse Error] feed parse error: \"+c.message,c)}return n},It.prototype.createMedia=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v,_,b;try{if(s=new St,a=this.getMediaNode(e,\"content\"),a instanceof Array)for(s.source=[],p=0,g=a.length;g>p;p++)i=a[p],u={src:i[\"@attributes\"].url,type:i[\"@attributes\"].type},n=i[\"media-category\"],null!=n&&(t=n[\"@attributes\"],\"http://mrss.akamai.com/user_agent_hint\"===t.schema&&(r=t.label||n[\"#text\"],null!=r&&\"\"!==r&&(null==u.rules&&(u.rules=[]),u.rules.push(r)))),s.source.push(u),s.medium=i[\"@attributes\"].medium,s.duration=parseFloat(i[\"@attributes\"].duration);else s.type=a[\"@attributes\"].type,s.src=a[\"@attributes\"].url,s.medium=a[\"@attributes\"].medium,s.duration=parseFloat(a[\"@attributes\"].duration);if(s.guid=e.guid,s.title=this.getMediaNode(e,\"title\"),s.link=e.link,s.description=this.getMediaNode(e,\"description\"),s.pubDate=new Date(Date.parse(e.pubDate)),s.thumbnail=s.poster=null!=(v=this.getMediaNode(e,\"thumbnail\"))&&null!=(_=v[\"@attributes\"])?_.url:void 0,s.embed=this.createEmbed(e),s.scenes=null!=(b=this.getMediaNode(e,\"scenes\"))?b[\"media-scene\"]:void 0,l=this.getMediaNode(e,\"status\",!1),null!=l&&(s.status={state:l[\"@attributes\"].state,reason:l[\"@attributes\"].reason}),s.category=e.category,s.category instanceof Array||(s.category=[s.category]),l=this.getMediaNode(e,\"category\",!1),null!=l)for(h=0,m=l.length;m>h;h++)n=l[h],null!=n[\"#text\"]&&\"\"!==n[\"#text\"]&&s.category.push(n[\"#text\"]);if(null!=s.category&&s.category.sort(function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e>t?1:t>e?-1:0}),l=this.getMediaNode(e,\"subTitle\"),null!=l)for(null==s.track&&(s.track=[]),l instanceof Array||(l=[l]),f=0,y=l.length;y>f;f++)c=l[f],null!=c[\"@attributes\"]&&s.track.push({src:c[\"@attributes\"].href,type:c[\"@attributes\"].type,kind:\"captioning\",srclang:c[\"@attributes\"].lang||\"en\"});n=e.category,n instanceof Array||(n=[n]),s.isLive=\"live\"===e.temporalType||null!=n&&-1!==n.join(\",\").indexOf(\"live_stream\"),s.temporalType=s.isLive?\"live\":\"vod\";for(o in e)d=e[o],o in s||(s.metadata[o]=d)}catch(E){Pt.error(\"[AMP Feed Parse Error] media parse error: \"+E.message,E)}return s},Pt.enabled=!1,Pt.enable=function(e){return null==e&&(e=/debug\\=true/.test(location.search.toLowerCase())),this.enabled=e,this.enabled||(this.log=this.trace=this.debug=this.info=this.warn=this.error=this.fatal=function(){}),e},Pt.log=function(){try{arguments.length>1&&null!=arguments[1]?console.log.apply(console,arguments):console.log(arguments[0])}catch(e){}},Pt.trace=function(){try{console.trace.apply(console,arguments)}catch(e){}},Pt.debug=function(){try{console.log.apply(console,arguments)}catch(e){this.log.apply(this,arguments)}},Pt.info=function(){try{console.info.apply(console,arguments)}catch(e){}},Pt.warn=function(){try{console.warn.apply(console,arguments)}catch(e){}},Pt.error=function(){try{console.error.apply(console,arguments)}catch(e){this.log.apply(this,arguments)}},Pt.fatal=function(){try{console.fatal.apply(console,arguments)}catch(e){}},n(xt,l),xt.prototype.xhr=null,xt.prototype.headers=null,xt.prototype.response=null,xt.prototype.responseXML=null,xt.prototype.responseText=null,xt.prototype.responseType=null,xt.prototype.withCredentials=!1,xt.prototype.readyState=0,xt.prototype.status=null,xt.prototype.open=function(e,t){var n,i,o=this;try{i=new XMLHttpRequest}catch(r){i=new window.ActiveXObject(\"Microsoft.XMLHTTP\")}if(xt.isCORS(t))if(Object.prototype.hasOwnProperty.call(i,\"withCredentials\"))try{i.withCredentials=this.withCredentials}catch(r){Pt.warn(\"[AMP XHR WARNING]\",\"withCredentials not properly supported in this browser.\",r)}else\"undefined\"!=typeof XDomainRequest&&(n=!0,i=new XDomainRequest);if(null!=i){n&&(i.onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){},i.onload=function(e){\"function\"==typeof i.onreadystatechange&&(i.readyState=4,i.status=200,i.contentType.match(/\\/xml/)&&(i.responseXML=new ActiveXObject(\"Microsoft.XMLDOM\"),i.responseXML.async=!1,i.responseXML.loadXML(i.responseText)),i.onreadystatechange.call(i,e,!1))}),i.onreadystatechange=function(e){var t,n;if(o.readyState=i.readyState,o.dispatchEvent(new Nt(\"readystatechange\",i)),4===i.readyState)if(o.status=i.status,199<(t=o.status)&&400>t||0===o.status){if(null==i.responseText&&(i.responseText=i.text),o.responseText=i.responseText,null!=i.responseXML&&(null!=(n=i.responseXML.childNodes)?n.length:void 0)>0)o.response=o.responseXML=i.responseXML,o.responseType=\"document\";else try{o.response=JSON.parse(i.responseText),o.responseType=\"json\"}catch(r){o.response=i.responseText,o.responseType=\"text\"}o.dispatchEvent(new Nt(\"load\",o))}else 0!==o.status&&o.dispatchEvent(new Nt(\"error\",o))};try{\"undefined\"!=typeof i.onerror&&(i.onerror=function(e){o.dispatchEvent(new Nt(\"error\",o))})}catch(r){}i.open(e,t)}this.xhr=i},xt.prototype.send=function(e){var t,n,i,o=this;if(null!=this.headers){i=this.headers;for(t in i)n=i[t],null!=t&&null!=n&&this.xhr.setRequestHeader(t,n)}setTimeout(function(){o.xhr.send(e)},0)},xt.prototype.setRequestHeader=function(e,t){null!=e&&null!=t&&(null==this.headers&&(this.headers={}),this.headers[e]=t)},xt.prototype.setRequestHeaders=function(e){return this.headers=e,e},xt.prototype.getResponseHeader=function(e){var t;return null!=(t=this.xhr)&&\"function\"==typeof t.getResponseHeader?t.getResponseHeader(e):void 0},xt.prototype.getAllResponseHeaders=function(){var e;return null!=(e=this.xhr)&&\"function\"==typeof e.getAllResponseHeaders?e.getAllResponseHeaders():void 0},xt.isCORS=function(e){var t,n,i,o;return n=document.createElement(\"a\"),n.href=e,t=\"\"!==n.hostname?n.hostname:location.hostname,i=\"0\"!==n.port?n.port:location.port,o=\":\"!==n.protocol?n.protocol:location.protocol,location.protocol!==o||location.hostname!==t||location.port!==i&&!(\"\"===location.port&&\"80\"===i)},kt.blankImage=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI2QkJDQTBCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI2QkJDQTFCMzQ4MTFFMUFERDJBRkRGQUQwNTcxRTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODg4NjdFQkIzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODg4NjdFQ0IzNDgxMUUxQUREMkFGREZBRDA1NzFFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pu0++ecAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADElEQVR42mJgAAgwAAACAAFPbVnhAAAAAElFTkSuQmCC\",kt.mimeTypes={mp4:\"video/mp4\",flv:\"video/x-flv\",f4m:\"video/f4m\",smil:\"application/smil\",smilxml:\"application/smil+xml\",m3u8:\"application/x-mpegURL\",mp3:\"audio/mpeg\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",ogv:\"video/ogg\",webm:\"video/webm\",mpd:\"application/dash+xml\",ism:\"application/vnd.ms-sstr+xml\",js:\"text/javascript\",css:\"text/css\",swf:\"application/x-shockwave-flash\",vtt:\"text/vtt\",ttml:\"application/ttml+xml\",srt:\"application/x-subrip\",cea608:\"text/cea-608\",cea708:\"text/cea-708\"},kt.flashTypes=[kt.mimeTypes.mp4,kt.mimeTypes.flv,kt.mimeTypes.f4m,kt.mimeTypes.smil,kt.mimeTypes.smilxml],kt.rules={flashTablets:{label:\"Android 2 & 3 or Kindle Fire 1\",regexp:\"Android [23]|Silk/1\"},html5Phones:{label:\"iPhone\",regexp:\"iPhone\"},html5Tablets:{label:\"HTML5 Tablets\",regexp:\"iPad|Android [4-9]|Silk/2\"},desktop:{label:\"Desktop\",regexp:\"^((?!iPad|iPhone|Android|BlackBerry|PlayBook|Silk).)*$\"}},kt.getPlaybackMode=function(e){var t,n,i,o;null==e&&(e=(null!=(o=r[\"amp-mode\"])?o.toLowerCase():void 0)||Go.AUTO),n=!1;for(t in Go)if(i=Go[t],i===e){n=!0;break}return n||(e=Go.AUTO),e===Go.HTML_AUTO&&(e=this.isHTMLFirst()?Go.HTML:Go.AUTO),e!==Go.AUTO?(e!==Go.FLASH||this.hasFlash()||(e=Go.NONE),e):(this.hasFlash()||(e=this.supportsHTML5Video()?Go.HTML:Go.NONE),e===Go.AUTO&&(e=this.isHTML5()?Go.HTML:Go.FLASH),e)},kt.getIEVersion=function(){var e,t,n;return t=-1,n=navigator.userAgent,\"Microsoft Internet Explorer\"===navigator.appName?e=new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\"):\"Netscape\"===navigator.appName?e=new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\"):/Edge\\/[0-9\\.]+$/.test(n)&&(e=/Edge\\/([0-9\\.]+)/),null!=(null!=e?e.exec(n):void 0)&&(t=parseFloat(RegExp.$1)),t},kt.getFFVersion=function(){var e,t;return e=-1,t=navigator.userAgent,/Firefox\\/([0-9\\.]+)$/.exec(t)&&(e=parseFloat(RegExp.$1)),e},kt.getSafariVersion=function(){var e,t;return e=-1,t=navigator.userAgent,/Safari\\/[0-9\\.]+$/.test(t)&&null!=/Version\\/([0-9])/.exec(t)&&(e=parseFloat(RegExp.$1)),e},kt.isChrome=function(){return/Chrom(e|ium)/.test(navigator.userAgent)},kt.isHTMLFirst=function(){return null!=window.MediaSource},kt.mergeRules=function(e){var t,n,i;i=[];for(t in e)n=e[t],i.push(kt.rules[t]=n);return i},kt.checkRules=function(e){var t,n,i,o,r;if(null!=e&&e.length>0)for(o=0,r=e.length;r>o;o++)if(t=e[o],(i=kt.rules[t])&&(n=new RegExp(i.regexp),n.test(navigator.userAgent)))return!0;return!1},kt.selectSource=function(e,t){var n,i,o,r,a;for(i=0,r=e.length;r>i;i++)if(n=e[i],kt.checkRules(n.rules))return n;for(o=0,a=e.length;a>o;o++)if(n=e[o],\"\"!==t(n.type||kt.getMimeType(n.src)))return n;return null},kt.getMimeType=function(e){return this.mimeTypes[kt.getFileExtension(e)]},kt.selectTrack=function(e,t){var n,i,o,r;for(o=0,r=e.length;r>o;o++)if(n=e[o],n.kind===t){i=n;break}return i},kt.isIPhone=function(){return/iPhone/.test(navigator.platform)||/iPhone/.test(navigator.userAgent)},kt.isIPad=function(){return/iPad/.test(navigator.platform)||/iPad/.test(navigator.userAgent)},kt.isAndroid=function(){return/Android [4-9]/.test(navigator.userAgent)},kt.isKindleFireHD=function(){return/Silk\\/2/.test(navigator.userAgent)},kt.isKindleFire=function(){return/Silk\\/1/.test(navigator.userAgent)},kt.isBlackBerry=function(){return/BlackBerry;|PlayBook|BB10/.test(navigator.userAgent)},kt.isFirefoxOS=function(){return/\\(Mobile;.*Firefox\\//.test(navigator.userAgent)},kt.supportsHTML5Video=function(){var e;return e=document.createElement(\"video\"),null!=e.canPlayType},kt.isHTML5=function(){return this.isIOS()||this.isAndroid()||this.isKindleFireHD()||this.isBlackBerry()||this.isFirefoxOS()},kt.isIOS=function(){var e,t;return e=/iPad|iPhone|iPod/i,t=e.test(navigator.platform)||e.test(navigator.userAgent)},kt.getIOSversion=function(){var e;return/iP(hone|od|ad)/.test(navigator.platform)?(e=navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]):void 0},kt.hasFlash=function(){return swfobject.hasFlashPlayerVersion(\"1\")},kt.isFullscreenDevice=function(){return this.isKindleFireHD()||this.isIPhone()},kt.getDevice=function(){var e;return e=\"desktop\",this.isIPhone()?e=\"iphone\":this.isIPad()?e=\"ipad\":/Android/.test(navigator.userAgent)?e=\"android\":this.isKindleFireHD()?e=\"kindlefirehd\":this.isKindleFire()&&(e=\"kindlefire\"),e},kt.xmlToJson=function(e){var t,n,i,o,r,a,s,l,u,c,d,p;if(a={},9===e.nodeType&&(e=e.firstChild),1===e.nodeType){if(e.attributes.length>0)for(a[\"@attributes\"]={},d=e.attributes,o=s=0,u=d.length;u>s;o=++s)t=d[o],a[\"@attributes\"][t.nodeName]=t.nodeValue}else(3===e.nodeType||4===e.nodeType)&&(a=e.nodeValue);if(e.hasChildNodes())for(p=e.childNodes,o=l=0,c=p.length;c>l;o=++l)n=p[o],(3!==n.nodeType||/\\S/.test(n.nodeValue))&&(r=n.nodeName.replace(/:/,\"-\"),i=this.xmlToJson(n),null==i[\"@attributes\"]&&null!=i[\"#text\"]&&(i=i[\"#text\"]),null==a[r]?a[r]=i:(a[r]instanceof Array||(a[r]=[a[r]]),a[r].push(i)));return a},kt.getXHR=function(){return new xt},kt.get=function(e,t,n){var i;return null==t&&(t={}),null==n&&(n=null),i=kt.getXHR(),null!=t&&(null!=t.withCredentials&&(i.withCredentials=t.withCredentials),null!=t.onload&&(i.onload=t.onload),null!=t.onerror&&(i.onerror=t.onerror)),i.open(\"GET\",e),null!=n&&i.setRequestHeaders(n),i.send(),i},kt.getUTC=function(e,t){var n;if(\"function\"==typeof e)try{n={onload:function(t){e(1e3*parseInt(t.target.responseText))},onerror:t},this.get(\"http://time.akamai.com\",n)}catch(i){t(i)}},kt.send=function(e,t,n,i){var o;return null==n&&(n={}),null==i&&(i={\"Content-Type\":\"String\"}),o=kt.getXHR(),null!=n.onload&&(o.onload=n.onload),null!=n.onerror&&(o.onerror=n.onerror),o.open(\"POST\",e),null!=i&&o.setRequestHeaders(i),o.send(t),o},kt.loadScript=function(e,t,n,i){var o,r;return o=n||document.getElementsByTagName(\"head\")[0],r=document.createElement(\"script\"),r.type=\"text/javascript\",null!=t&&(r.addEventListener?(r.onload=t,null!=i&&(r.onerror=i)):r.readyState&&(r.onreadystatechange=function(e){(\"loaded\"===this.readyState||\"complete\"===this.readyState)&&(this.onreadystatechange=null,t())})),r.src=e,o.appendChild(r),r},kt.loadStyleSheet=function(e){var t,n;return t=document.getElementsByTagName(\"head\")[0],n=document.createElement(\"link\"),n.rel=\"stylesheet\",n.type=\"text/css\",n.href=e,t.appendChild(n)},kt.read=function(e,t,n,i){var o,r;null==t&&(t={}),null==n&&(n=\"\"),null==i&&(i=[]);try{return r=this.get(e,t,i),o=r.responseText||r.text,n===kt.mimeTypes.json?JSON.parse(o):n===kt.mimeTypes.xml&&null!=r.responseXML?r.responseXML:o}catch(a){return\"undefined\"!=typeof console&&null!==console&&\"function\"==typeof console.error&&console.error(\"Read Error: \",a),null}},kt.getFileExtension=function(e){return e.split(\".\").pop().replace(/\\?.*/,\"\")},kt.getResponseHeader=function(e,t,n){var i;return null==n&&(n={}),i=kt.getXHR(),null!=n.onerror&&(i.onerror=n.onerror),i.open(\"HEAD\",e,!1),i.send(),i.getResponseHeader(t)},kt.getResponseHeaders=function(e,t,n){var i,o,r,a,s;if(null==n&&(n={}),r=kt.getXHR(),null!=n.onerror&&(r.onerror=n.onerror),r.open(\"HEAD\",e,!1),r.send(),o={},null==t)return r.getAllResponseHeaders();for(a=0,s=t.length;s>a;a++)i=t[a],o[i]=r.getResponseHeader(i);return o},kt.isTouch=null,kt.isTouchDevice=function(){if(null==this.isTouch)try{document.createEvent(\"TouchEvent\"),this.isTouch=!0}catch(e){this.isTouch=!1}return this.isTouch},kt.clamp=function(e,t,n){return t>e&&(e=t),e>n&&(e=n),e},kt.beacon=function(e){var t;return t=document.getElementById(\"beaconId\"),null==t&&(t=document.createElement(\"img\"),t.setAttribute(\"id\",\"beaconId\"),t.setAttribute(\"height\",0),t.setAttribute(\"width\",0),document.body.appendChild(t),t.style.display=\"none\"),t.setAttribute(\"src\",e),t},kt.getElementOffset=function(e,t){var n,i,o,r,a,s;for(null==t&&(t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullscreenElement),i=0,a=0,s=e.offsetWidth,n=e.offsetHeight;e&&e!==t;)\"BODY\"===e.tagName?(o=e.scrollLeft||document.documentElement.scrollLeft,r=e.scrollTop||document.documentElement.scrollTop,i+=e.offsetLeft-o+e.clientLeft,a+=e.offsetTop-r+e.clientTop):(i+=e.offsetLeft-e.scrollLeft+e.clientLeft,a+=e.offsetTop-e.scrollTop+e.clientTop),e=e.offsetParent;return{left:i,top:a,width:s,height:n}},kt.override=function(e,t,n){var i,o;if(null==n&&(n=!0),null==e)return t;if(null==t)return e;n===!0&&(e=kt.clone(e),t=kt.clone(t));for(i in t)o=t[i],\"object\"==typeof o&&null!==o?(null==e[i]&&(e[i]=o instanceof Array?[]:{}),e[i]=kt.override(e[i],o,!1)):e[i]=o;return e},kt.clone=function(e,t){var n,i,o,r,a,s,l,u;if(null==t&&(t=!0),null==e)return e;if(\"object\"!=typeof e)n=e;else{n=e instanceof Array?[]:{};for(r in e)if(s=e[r],\"object\"==typeof s&&null!==s&&t===!0)if(s instanceof Array)for(n[r]=[],l=0,u=s.length;u>l;l++)i=s[l],n[r].push(this.clone(i));else{n[r]={};for(o in s)a=s[o],n[r][o]=this.clone(a)}else n[r]=s}return n},kt.formatTimecode=function(e,t){var n;return e=parseInt(e),isNaN(e)?\"00:00\":(n=kt.formatZeroFill(e%60),e=parseInt(e/60),n=kt.formatZeroFill(e%60)+\":\"+n,e=parseInt(e/60),e>0&&(n=kt.formatZeroFill(e)+\":\"+n),t>=3600&&5===n.length&&(n=\"00:\"+n),n)},kt.formatZeroFill=function(e){var t;return t=e.toString(),10>e&&(t=\"0\"+t),t},kt.flattenTimecode=function(e,t){var n,i,o,r;if(null==t&&(t=30),null==e||\"\"===e)return NaN;for(o=e.split(\":\"),n=0,4===o.length?n=parseInt(o.pop())/t:3===o.length&&(o[2]=o[2].replace(\",\",\".\"),-1!==o[2].indexOf(\".\")&&(i=o[2].split(\".\")),(null!=i?i.length:void 0)>1&&(o[2]=i[0],n=parseInt(i[1])/1e3)),r=parseInt(o.pop());o.length>0;)r+=Math.pow(60,o.length)*parseInt(o.shift());return r+n},kt.cacheBust=function(e,t,n){var i;return null==t&&(t=\"cacheBust\"),null==n&&(n=Date.now()),i=-1===e.indexOf(\"?\")?\"?\":\"&\",e+i+t+\"=\"+n},kt.formatStyleName=function(e){return e.replace(/([A-Z])/,\"-$1\").toLowerCase()},kt.trim=function(e){var t;return t=e.replace(/^\\s*(.*)/,\"$1\"),t.replace(/(.*)\\s*$/,\"$1\")},kt.getJson=function(e,t,n){var i;return i=kt.getXHR(),i.open(\"GET\",e),i.onload=function(e){var n;n=\"document\"===i.responseType?kt.xmlToJson(i.responseXML):i.response,\"function\"==typeof t&&t(n)},i.onerror=function(e){\"function\"==typeof n&&n(e)},i.send(),i},kt.getSource=function(e,t,n){var i,o;o=kt.getPlaybackMode(),i=function(e){var n,i,r,a;i=new It,e=i.createFeed(e),(null!=e&&null!=(a=e.item)?a.length:void 0)>0&&(n=function(e){return\"flash\"===o&&-1!==kt.flashTypes.indexOf(e)||\"html\"===o&&-1===kt.flashTypes.indexOf(e)?\"maybe\":\"\"},r=kt.selectSource(e.item[0].source,n)),\"function\"==typeof t&&t(r)},kt.getJson(e,i,n)},kt.trackMouse=function(){try{null!=document.addEventListener?document.addEventListener(\"mousemove\",this.mouseTracker):null!=document.attachEvent&&document.attachEvent(\"mousemove\",this.mouseTracker)}catch(e){}},kt.clientX=0,kt.clientY=0,kt.pageX=0,kt.pageY=0,kt.mouseTracker=function(e){kt.clientX=e.clientX,kt.clientY=e.clientY,kt.pageX=e.pageX,kt.pageY=e.pageY},kt.isMouseOverElement=function(e){var t;if(t=!1,null==e)return t;try{t=e.contains(document.elementFromPoint(kt.clientX,kt.clientY))}catch(n){t=!1}return t},kt.trackMouse(),kt.getActualSize=function(e,t){var n,i,o;return null==t&&(t=!0),o=e.offsetWidth,n=e.offsetHeight,t===!0&&(i=getComputedStyle(e),o+=parseInt(i.marginLeft)+parseInt(i.marginRight),n+=parseInt(i.marginTop)+parseInt(i.marginBottom)),{width:o,height:n}},kt.isVolumeSettable=function(){var e,t;return t=navigator.userAgent.toLowerCase(),e=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(t),null!=e?\"android\"===e[0]&&/Firefox/.test(t)?!0:!1:!0},n(Mt,l),Mt.UNINITIALIZED=0,Mt.LOADING=1,Mt.LOADED=2,Mt.parseModule=function(e){var t,n,i,o,r,a,s,l,u;for(s={},o=0,n=e.childNodes,i=n.length,r=0,a=null,t=null,l=0,u=n.length;u>l;l++)a=n[l],1===(null!=a?a.nodeType:void 0)&&(s[a.nodeName]=this.parseItem(a));return s},Mt.parseItem=function(e){var t,n,i,o,r,a;if(i=(\"\"+e.getAttribute(\"type\")).toLowerCase(),o=e.textContent||e.text||e.innerText,\"object\"!==i&&\"array\"!==i&&/#\\{.*\\}/.test(o))return o;switch(i){case\"object\":o=this.parseModule(e);break;case\"array\":for(o=[],n=e.childNodes,r=0,a=n.length;a>r;r++)t=n[r],1===t.nodeType&&o.push(this.parseItem(t));break;case\"boolean\":o=\"true\"===o.toLowerCase();break;case\"number\":o=parseFloat(o)}return o},Mt.prototype.url=null,Mt.prototype.data=null,Mt.prototype.xml=null,Mt.prototype.readyState=Mt.UNINITIALIZED,Mt.prototype.loaded=!1,Mt.prototype.flash={PlaybackMetricsPlugin:{src:\"#{paths.resources}plugins/PlaybackMetricsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"PlaybackMetricsPlugin\"},SubclipMonitorPlugin:{src:\"#{paths.resources}plugins/SubclipMonitorPlugin.swf\",blocking:!1,host:\"akamai\",main:\"SubclipMonitorPlugin\"},NetSessionClientPlugin:{src:\"#{paths.resources}plugins/NetSessionClientPlugin.swf\",blocking:!1,host:\"akamai\",main:\"NetSessionClientPlugin\"}},Mt.prototype.loadURL=function(e,t){var n,i=this;null==t&&(t=!1),this.url=e,this.setReadyState(Mt.LOADING),n=kt.get(e,{withCredentials:t,onload:function(e){var t,n,o;o=e.detail,\"document\"===o.responseType?(i.xml=o.responseXML,n=7!==i.xml.firstChild.nodeType?i.xml.firstChild:i.xml.childNodes[1],t=Mt.parseModule(n)):(t=o.response,\"string\"==typeof t&&(t=JSON.parse(t))),i.loadData(t)},onerror:function(e){i.dispatchEvent(new Nt(\"error\",e)),Pt.error(e)}})},Mt.prototype.loadData=function(e){ht.defaults=e,this.setReadyState(Mt.LOADED)},Mt.prototype.load=function(e,t){switch(null==t&&(t=!1),typeof e){case\"object\":this.loadData(e);break;case\"string\":this.loadURL(e,t);break;default:throw new Error(\"[AMP ERROR] Invalid default configuration resource\")}},Mt.prototype.setReadyState=function(e){this.readyState=e,this.dispatchEvent(new Nt(\"readystatechange\",e)),e!==Mt.LOADED||this.loaded||(this.loaded=!0,this.dispatchEvent(new Nt(\"load\",this.data)))},n(Dt,Y),Dt.prototype.componentType=\"button\",Dt.prototype.icon=null,Dt.prototype.label=null,Dt.prototype.onclick=null,Dt.prototype.labelText=null,Dt.prototype.onRegister=function(){Dt.__super__.onRegister.call(this),this.icon=this.create(\"icon\"),this.createLabel(this.labelText)},Dt.prototype.createLabel=function(e){null!=e&&(this.label=this.createText(\"label\",e))},Dt.prototype.setLabel=function(e){return null==this.label?this.createLabel(e):this.label.textContent=e,e},Dt.prototype.getLabel=function(){var e;return null!=(e=this.label)?e.textContent:void 0},n(Ot,l),Ot.prototype.events=[\"mousemove\",\"mousedown\",\"keypress\",\"DOMMouseScroll\",\"mousewheel\",\"touchmove\",\"MSPointerMove\"],Ot.prototype.resetHandler=null,Ot.prototype.element=null,Ot.prototype.timeout=null,Ot.prototype.active=!0,Ot.prototype.timeoutId=null,Ot.prototype.applyListeners=function(e){var t,n,i,o;for(null==e&&(e=\"add\"),o=this.events,n=0,i=o.length;i>n;n++)t=o[n],this.element[\"\"+e+\"EventListener\"](t,this.resetHandler)},Ot.prototype.start=function(e){null!=e&&(this.timeout=e),this.stop(),this.applyListeners(\"add\"),this.timeoutId=setTimeout(this.setActive.bind(this,!1),this.timeout)},Ot.prototype.stop=function(){this.applyListeners(\"remove\"),clearTimeout(this.timeoutId)},Ot.prototype.reset=function(){this.setActive(!0),this.start()},Ot.prototype.setActive=function(e){return e!==this.active?(this.active=e,this.dispatchEvent(new Nt(\"activechange\",{active:this.active})),e):void 0},Ot.prototype.getActive=function(){return this.active},n(Lt,Y),Lt.prototype.componentName=\"logo\",Lt.prototype.url=null,Lt.prototype.onRegister=function(){Lt.__super__.onRegister.call(this),this.sendNotification(Mo.ADD_CONTROL_STATE,this.componentName+\"-enabled\")},Lt.prototype.onclick=function(e){return e.stopImmediatePropagation(),this.sendNotification(Mo.DISPATCH_EVENT,new Nt(\"controlsLogoClicked\")),!1},n(Rt,puremvc.Mediator),Rt.NAME=\"PluginWrapper\",Rt.prototype.player=null,Rt.prototype.config=null,Rt.prototype.dispatcher=null,Rt.prototype.flashPlugins=null,Rt.prototype.createFlashVars=null,Rt.prototype.createXML=null,Rt.prototype.createDefaults=function(){this.player.createDefaults.call(this)},Rt.prototype.addEventListener=function(e,t){this.dispatcher.addEventListener(e,t)},Rt.prototype.logEvent=function(e){},Rt.prototype.dispatchEvent=function(e){\"timeupdate\"!==e.type&&\"timeremaining\"!==e.type&&this.player.logger.log(\"[AMP \"+this.constructor.NAME.replace(\"Wrapper\",\"\").toUpperCase()+\" EVENT] \"+e.type,e),e.player=this.player,this.dispatcher.dispatchEvent(e)},Rt.prototype.removeEventListener=function(e,t){this.dispatcher.removeEventListener(e,t)},Rt.prototype.createElement=function(e,t,n){var i;return i=e.createElement(\"element\"),i.setAttribute(\"id\",t),null==n&&(n=this.getControls(e).controls),null!=n&&n.appendChild(i),i},Rt.prototype.createProperty=function(e,t,n,i){var o,r,a;if(o=e.createElement(\"property\"),o.setAttribute(\"key\",t),null!=i&&i.appendChild(o),null!=n)if(\"object\"!=typeof n||n instanceof Array)r=ae.createTextContent(e,n.toString()),o.appendChild(r);else for(t in n)a=n[t],this.createProperty(e,t,a,o);return o},Rt.prototype.listNotificationInterests=function(){return[Po.CREATE_FLASH_VARS,Po.CREATE_XML]},Rt.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Po.CREATE_FLASH_VARS:\"function\"==typeof this.createFlashVars&&this.createFlashVars(t.flashvars);break;case Po.CREATE_XML:\"function\"==typeof this.createXML&&this.createXML(t.xml)}},Rt.prototype.destroy=function(){},n(jt,puremvc.SimpleCommand),jt.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(qt.NAME),t.start()},n(Vt,puremvc.SimpleCommand),Vt.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(qt.NAME),t.stop()},n(Ut,puremvc.SimpleCommand),Ut.prototype.execute=function(e){var t,n,i;i=this.facade.retrieveProxy(qt.NAME),t=this.facade.player.retrieveProxy(mt.NAME),n=e.getBody(),n.value===Bo.ACTIVE&&t.getPlayState()!==jo.READY&&\"desktop\"!==kt.getDevice()&&i.start()},n(Bt,Te),Bt.prototype.execute=function(e){this.plugin.config[\"native\"]===!0?this.player.getMediaElement().controls=!1:this.proxy.adBreakStart()},n(Gt,Te),Gt.prototype.execute=function(e){this.plugin.config[\"native\"]===!0?this.player.getMediaElement().controls=!0:this.proxy.adBreakEnd()},n(Ft,puremvc.SimpleCommand),Ft.prototype.execute=function(e){var t,n,i;n=e.getBody(),i=n.poster,t=this.facade.player.getMediaElement(),null!=i&&\"\"!==i&&(t.poster=i),t.src=n.src,this.facade.player.getAutoplay()!==!0&&this.facade.applyClickHandler()},n(Ht,puremvc.SimpleCommand),Ht.prototype.execute=function(e){this.facade.applyClickHandler(!1)},n(zt,puremvc.SimpleCommand),zt.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(qt.NAME),t.start()},n(Wt,Rt),Wt.NAME=\"ControlsWrapper\",Wt.prototype.mode=\"auto\",Wt.prototype.autoHide=5,Wt.prototype.flashView={elements:{controls:{attributes:{height:\"28\",itemMargin:\"5\",scrubPosition:\"inline\"},elements:{replayBtn:{},playPauseBtn:{},streamTimeIndicator:{attributes:{exclude:\"live\"},elements:{streamTime:{},streamDuration:{}}},rewindBtn:{},scrubBar:{attributes:{style:\"height: 18px;\"}},progressBar:{attributes:{style:\"background: linear-gradient(90deg, #FF0000, #1B1B1B);\"}},loadedBar:{attributes:{style:\"background: linear-gradient(90deg, #00FF00, #1B1B1B);\"}},liveIndicator:{},timeLocationIndicator:{},goLiveBtn:{},statsBtn:{},volumeBar:{attributes:{color:\"#CA2127\"}},volumeBtn:{},fullscreenBtn:{}}}}},Wt.prototype.listNotificationInterests=function(){return Wt.__super__.listNotificationInterests.apply(this,arguments).concat([Mo.MEDIUM_CHANGE])},Wt.prototype.handleNotification=function(e){var t,n,i;switch(Wt.__super__.handleNotification.call(this,e),i=e.getName(),t=e.getBody(),i){case Mo.MEDIUM_CHANGE:n=/audio/.test(t)?\"persistent\":this.mode,this.setMode(n)}},Wt.prototype.createFlashVars=function(e){return null!=this.config.mode&&(this.mode=e.controls_mode=this.config.mode),null!=this.config.admode&&this.config.admode!==this.config.mode&&(e.ads_auto_fit=!0),e},Wt.prototype.createXML=function(e){var t,n,i;return t=null!=(n=this.player.flashView)&&null!=(i=n.elements)?i.controls:void 0,null!=t?(null!=t.attributes.autoHideDelay?this.autoHide=t.attributes.autoHideDelay:null!=this.config.autoHide&&(this.autoHide=this.config.autoHide,t.attributes.autoHideDelay=this.config.autoHide),e):void 0},Wt.prototype.getMode=function(){return this.mode},Wt.prototype.setMode=function(e){if(e!==this.mode){try{this.mode=e,this.player.mediaElement.setPlayerProperty(\"controlsMode\",e);\n}catch(t){this.facade.logger.error(\"[AMP CONTROLS ERROR]\",t)}return e}},Wt.prototype.getAutoHide=function(){return this.autoHide},n(qt,a),qt.NAME=a.NAME,qt.prototype.defaults={mode:\"auto\",autoHide:3,admode:null},qt.prototype.timeout=null,qt.prototype.appState=null,qt.prototype.controls=null,qt.prototype.interactiveElement=null,qt.prototype.idleUtil=null,qt.prototype.initializeNotifier=function(e){qt.__super__.initializeNotifier.call(this,e),this.appState=this.facade.player.retrieveProxy(mt.NAME),this.controls=this.facade.retrieveMediator(mt.NAME)},qt.prototype.onRegister=function(){var e=this;qt.__super__.onRegister.call(this),null!=this.config.mode&&this.changeMode(this.config.mode),this.interactiveElement=this.facade.player.getContainer(),\"desktop\"===kt.getDevice()?(_t.create(this.interactiveElement,\"mouseenter\",function(){e.stop(),e.appState.activeState!==Bo.ACTIVE&&e.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE)}),_t.create(this.interactiveElement,\"mouseleave\",function(){e.start()}),this.idleUtil=new Ot(this.facade.player.getViewComponent(),1e3*this.data.autoHide),this.idleUtil.addEventListener(\"activechange\",function(t){var n;n=t.detail.active!==!0?Bo.INACTIVE:Bo.ACTIVE,e.sendNotification(Mo.CHANGE_ACTIVE_STATE,n)}),this.idleUtil.start(),_t.create(this.facade.player.getMediaElement(),\"click\",function(){e.sendNotification(Do.TOGGLE_PLAY_PAUSE)})):_t.create(this.interactiveElement,_t.CLICK,function(){e.sendNotification(Mo.TOGGLE_ACTIVE)})},qt.prototype.setMode=function(e){return this.data.mode===e?e:(this.changeMode(e),e)},qt.prototype.changeMode=function(e){\"auto\"===this.data.mode&&this.stop(),this.facade.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"controls-\"+this.data.mode),this.data.mode=e,this.facade.sendNotification(Mo.ADD_APPLICATION_STATE,\"controls-\"+this.data.mode)},qt.prototype.getMode=function(){return this.data.mode},qt.prototype.setAutoHide=function(e){return this.data.autoHide=e,e},qt.prototype.getAutoHide=function(){return this.data.autoHide},qt.prototype.adBreakStart=function(){null!=this.data.admode&&this.setMode(this.data.admode)},qt.prototype.adBreakEnd=function(){null!=this.data.admode&&this.setMode(this.config.mode)},qt.prototype.start=function(){this.stop(),\"auto\"===this.data.mode&&(this.timeout=setTimeout(this.hide.bind(this),1e3*this.data.autoHide))},qt.prototype.stop=function(){clearTimeout(this.timeout),this.timeout=null},qt.prototype.hide=function(){return\"auto\"===this.data.mode?this.appState.getIsUserActive()!==!0&&!kt.isMouseOverElement(this.facade.viewComponent)||this.appState.getDisplayState()===Vo.FULL_SCREEN?void this.facade.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.INACTIVE):void this.start():void 0},n(Yt,Dt),Yt.prototype.componentName=\"full-screen\",Yt.prototype.onRegister=function(){Yt.__super__.onRegister.call(this),this.sendNotification(Mo.ADD_CONTROL_STATE,this.componentName+\"-enabled\")},Yt.prototype.onclick=function(e){return e.stopImmediatePropagation(),this.sendNotification(Mo.TOGGLE_FULL_SCREEN),!1},Yt.prototype.listNotificationInterests=function(){return[Mo.DISABLE_FULL_SCREEN,Mo.ENABLE_FULL_SCREEN]},Yt.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Mo.DISABLE_FULL_SCREEN:this.setDisabled(!0);break;case Mo.ENABLE_FULL_SCREEN:this.setDisabled(!1)}},n(Xt,Y),Xt.prototype.componentType=\"slider\",Xt.prototype.trackView=null,Xt.prototype.handleView=null,Xt.prototype.valueView=null,Xt.prototype.startCapView=null,Xt.prototype.endCapView=null,Xt.prototype.clickView=null,Xt.prototype.min=0,Xt.prototype.max=1,Xt.prototype.value=0,Xt.prototype.draggable=!1,Xt.prototype.dragging=!1,Xt.prototype.draggingInterval=null,Xt.prototype.draggingDelay=250,Xt.prototype.direction=\"vertical\",Xt.prototype.pressHandler=null,Xt.prototype.releaseHandler=null,Xt.prototype.moveHandler=null,Xt.prototype.clickHandler=null,Xt.prototype.onRegister=function(){Xt.__super__.onRegister.call(this),this.startCapView=this.create(\"start-cap\"),this.endCapView=this.create(\"end-cap\"),this.trackView=this.create(\"track\"),this.valueView=this.create(\"value\",this.trackView),this.clickView=this.create(\"click\",this.trackView),this.handleView=this.create(\"handle\",this.trackView),this.pressHandler=_t.create(this.handleView,_t.PRESS,this.handlePressHandler.bind(this)),this.releaseHandler=_t.create(window,_t.RELEASE,this.handleReleaseHandler.bind(this)),this.releaseHandler.unbind(),this.moveHandler=_t.create(window,_t.MOVE,this.updateHandler.bind(this,this.draggable)),this.moveHandler.unbind(),this.clickHandler=_t.create(this.clickView,_t.CLICK,this.updateHandler.bind(this,!0))},Xt.prototype.setDirection=function(e){return this.direction=e,e},Xt.prototype.getDirection=function(){return this.direction},Xt.prototype.setValue=function(e){return this.updateValue(e),this.valueChanged(e),e},Xt.prototype.getValue=function(){return this.value},Xt.prototype.setDragging=function(e){return e!==this.dragging?(this.dragging=e,this.sendNotification(Mo.IS_USER_ACTIVE,this.dragging),this.dragging===!0?this.draggingInterval=setInterval(this.dragUpdateHandler.bind(this),this.draggingDelay):(clearInterval(this.draggingInterval),this.dragUpdateHandler()),this.dragging):void 0},Xt.prototype.getDragging=function(){return this.dragging},Xt.prototype.setDraggable=function(e){return e!==this.draggable?(this.draggable=e,e):void 0},Xt.prototype.getDraggable=function(){return this.draggable},Xt.prototype.updateValue=function(e){var t;this.value=kt.clamp(e,this.min,this.max),\"vertical\"===this.direction?(e=\"height\",t=\"bottom\"):(e=\"width\",t=\"left\"),this.valueView.style[e]=this.handleView.style[t]=\"\"+100*this.value+\"%\"},Xt.prototype.calculateValue=function(e){var t,n;return t=kt.getElementOffset(this.viewComponent),n=\"vertical\"===this.getDirection()?1-(e.y-t.top)/t.height:(e.x-t.left)/t.width,kt.clamp(n,0,1)},Xt.prototype.handlePressHandler=function(e){return this.moveHandler.bind(),this.releaseHandler.bind(),this.clickHandler.unbind(),this.setDragging(!0),e.stopImmediatePropagation(),!1},Xt.prototype.handleReleaseHandler=function(e){return this.moveHandler.unbind(),this.releaseHandler.unbind(),this.clickHandler.bind(),this.setDragging(!1),e.stopImmediatePropagation(),!1},Xt.prototype.updateHandler=function(e,t){var n,i;return t.stopImmediatePropagation(),n={x:t.clientX||t.targetTouches[0].clientX,y:t.clientY||t.targetTouches[0].clientY},i=this.calculateValue(n),e===!0?this.setValue(i):this.updateValue(i),!1},Xt.prototype.dragUpdateHandler=function(){this.setValue(this.value)},Xt.prototype.valueChanged=function(){};var Fo={ADD_PANEL:\"addPanel\",REMOVE_PANEL:\"removePanel\",OPEN_PANEL:\"openPanel\",CLOSE_PANEL:\"closePanel\",TOGGLE_PANEL:\"togglePanel\",CLOSE_ALL_PANELS:\"closeAllPanels\"};n(Zt,Y),Zt.prototype.componentName=\"time-display\",Zt.prototype.duration=null,Zt.prototype.currentTimeDisplay=null,Zt.prototype.separatorDisplay=null,Zt.prototype.durationDisplay=null,Zt.prototype.liveDisplay=null,Zt.prototype.onRegister=function(){Zt.__super__.onRegister.call(this),this.liveDisplay=this.createText(\"live-display\",this.localizationManager.getString(Q.MSG_LIVE)),this.currentTimeDisplay=this.createText(\"current-time-display\",\"00:00\",this,\"span\"),this.separatorDisplay=this.createText(\"separator-display\",this.localizationManager.getString(Q.MSG_TIME_SEPARATOR),this,\"span\"),this.durationDisplay=this.createText(\"duration-display\",\"00:00\",this,\"span\")},Zt.prototype.listNotificationInterests=function(){return[Mo.PLAY,Mo.DURATION_CHANGE,Mo.ENDED,Mo.DISPLAY_TIME]},Zt.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Mo.PLAY:this.updateDuration();break;case Mo.DURATION_CHANGE:this.duration=t,this.updateCurrentTime(),this.updateDuration();break;case Mo.ENDED:this.updateCurrentTime(this.duration),this.updateDuration();break;case Mo.DISPLAY_TIME:this.updateCurrentTime(t.currentTime,t.duration),this.updateDuration(t.duration)}},Zt.prototype.updateCurrentTime=function(e,t){null==e&&(e=this.currentTime),null==t&&(t=this.duration),this.currentTimeDisplay.textContent=kt.formatTimecode(e,t)},Zt.prototype.updateDuration=function(e){null==e&&(e=this.duration),this.durationDisplay.textContent=kt.formatTimecode(e)},n(Jt,Dt),Jt.prototype.componentName=\"go-live\",Jt.prototype.onRegister=function(){Jt.__super__.onRegister.call(this),this.createLabel(this.localizationManager.getString(\"MSG_LIVE\"))},Jt.prototype.listNotificationInterests=function(){return[Mo.IS_LIVE]},Jt.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Mo.IS_LIVE:this.setLabel(t===!0?this.localizationManager.getString(\"MSG_LIVE\"):this.localizationManager.getString(\"MSG_GO_LIVE\"))}},Jt.prototype.onclick=function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1},n(Kt,Y),Kt.prototype.componentName=\"panels\",Kt.prototype.activePanel=null,Kt.prototype.panels=null,Kt.prototype.closeHandler=null,Kt.prototype.listNotificationInterests=function(){var e,t;return function(){var n;n=[];for(e in Fo)t=Fo[e],n.push(t);return n}().concat([])},Kt.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Fo.ADD_PANEL:this.addPanel(t);break;case Fo.REMOVE_PANEL:this.removePanel(t);break;case Fo.OPEN_PANEL:this.openPanel(t);break;case Fo.CLOSE_PANEL:this.closePanel(t);break;case Fo.CLOSE_ALL_PANELS:this.closeAllPanels(t);break;case Fo.TOGGLE_PANEL:this.togglePanel(t)}},Kt.prototype.addPanel=function(e){this.panels.push(e),this.viewComponent.appendChild(e.getViewComponent())},Kt.prototype.removePanel=function(e){this.panels.splice(this.panels.indexOf(e),1),this.viewComponent.removeChild(e.getViewComponent())},Kt.prototype.openPanel=function(e){e!==this.activePanel&&null!=e&&(this.closeAllPanels(),this.activePanel=e,this.activePanel.classList.add(\"active\"),\"desktop\"!==kt.getDevice()&&this.sendNotification(Mo.IS_USER_ACTIVE,!0),document.addEventListener(\"mouseup\",this.closeHandler))},Kt.prototype.closePanel=function(e){e.classList.remove(\"active\"),null!=this.activePanel&&(this.activePanel=null,\"desktop\"!==kt.getDevice()&&this.sendNotification(Mo.IS_USER_ACTIVE,!1),document.removeEventListener(\"mouseup\",this.closeHandler))},Kt.prototype.togglePanel=function(e){e===this.activePanel?this.closePanel(e):this.openPanel(e)},Kt.prototype.closeAllPanels=function(){var e,t,n,i;for(i=this.panels,t=0,n=i.length;n>t;t++)e=i[t],this.closePanel(e)},Kt.prototype.mouseupHandler=function(e){var t,n,i;n=document.elementFromPoint(e.clientX,e.clientY),i=this.activePanel.getViewComponent(),t=this.activePanel.control.getViewComponent(),n!==i&&i.contains(n)===!1&&n!==t&&t.contains(n)===!1&&this.closeAllPanels()},n($t,Xt),$t.prototype.componentName=\"progress\",$t.prototype.bufferValue=null,$t.prototype.scrubTime=null,$t.prototype.scrubTimeSeparator=null,$t.prototype.cuePoints=null,$t.prototype.cues=null,$t.prototype.duration=0,$t.prototype.isLive=!1,$t.prototype.previewData={src:null,previewWidth:null,previewHeight:null,imgWidth:null,imgHeight:null,count:null},$t.prototype.onRegister=function(){$t.__super__.onRegister.call(this),this.bufferValue=this.create(\"buffer-value\",!1),this.trackView.insertBefore(this.bufferValue,this.trackView.lastChild),this.cuePoints=this.create(\"cue-points\",this.trackView),this.scrubTimeSeparator=this.create(\"scrub-time-separator\",this.trackView),this.scrubTime=this.create(\"scrub-time\",this.trackView),this.thumbPreview=this.create(\"thumb-preview\")},$t.prototype.listNotificationInterests=function(){return[Mo.ENDED,Mo.MEDIA_CHANGE,Mo.DURATION_CHANGE,Mo.PROGRESS,Mo.ADD_CUE_POINTS,Mo.REMOVE_CUE_POINTS,Mo.DISPLAY_TIME]},$t.prototype.handleNotification=function(e){var t,n,i;switch(n=e.getName(),t=e.getBody(),n){case Mo.MEDIA_CHANGE:this.isLive=\"live\"===t.temporalType,this.updateValue(0),this.bufferValue.style.width=\"0%\",this.updatePreview(t.metadata);break;case Mo.PROGRESS:i=kt.clamp(t/this.duration*100,0,100),this.bufferValue.style.width=i+\"%\";break;case Mo.DURATION_CHANGE:this.duration=t,this.updateCuePoints();break;case Mo.ENDED:this.updateValue(1);break;case Mo.ADD_CUE_POINTS:this.cues=t,this.updateCuePoints();break;case Mo.REMOVE_CUE_POINTS:this.removeCuePoints();break;case Mo.DISPLAY_TIME:this.dragging===!1&&this.updateValue(t.currentTime/t.duration,t.duration)}},$t.prototype.updateCuePoints=function(){var e,t,n,i,o,r,a;if(null!=this.cues&&0!==this.cues.length&&(null==(null!=(o=this.facade.player.config)&&null!=(r=o.controls)?r.displaySceneMarkers:void 0)||this.facade.player.config.controls.displaySceneMarkers!==!1))for(this.removeCuePoints(),a=this.cues,n=0,i=a.length;i>n;n++)e=a[n],0!==e&&-1!==e&&(t=this.create(\"cue-point\",this.cuePoints),t.style.left=e/this.duration*100+\"%\")},$t.prototype.updatePreview=function(e){var t,n=this;this.previewData.src=e.previewThumbnailSrc,this.previewData.previewHeight=e.previewThumbnailHeight,this.previewData.previewWidth=e.previewThumbnailWidth,this.previewData.count=e.previewThumbnailCount,t=new Image,this.previewData.src&&(t.src=this.previewData.src),_t.create(t,\"load\",function(e){return e.stopImmediatePropagation(),n.previewData.imgWidth=e.target.width,n.previewData.imgHeight=e.target.height,!1}),this.previewData.src&&(this.thumbPreview.style.backgroundImage=\"url(\"+this.previewData.src+\")\"),this.thumbPreview.style.width=this.previewData.previewWidth+\"px\",this.thumbPreview.style.height=this.previewData.previewHeight+\"px\"},$t.prototype.removeCuePoints=function(){null!=this.cuePoints&&(this.cuePoints.innerHTML=\"\")},$t.prototype.valueChanged=function(){this.sendNotification(Do.SEEK,this.value*this.facade.player.retrieveProxy(wt.NAME).getDuration())},$t.prototype.updateValue=function(e,t){null==t&&(t=this.duration),this.isLive===!0&&(e=1),isNaN(e)===!0&&(e=0),$t.__super__.updateValue.call(this,e),this.getDragging()===!0&&(this.scrubTime.textContent=kt.formatTimecode(this.value*t)),this.scrubTime.style.left=this.scrubTimeSeparator.style.left=\"\"+(100*this.value).toFixed(2)+\"%\",this.previewInterval=this.duration/this.previewData.count,this.previewImgIndex=Math.floor(this.value*t/this.previewInterval),this.previewRow=Math.floor(this.previewImgIndex*this.previewData.previewWidth/this.previewData.imgWidth),this.xpos=\"-\"+this.previewData.previewWidth*this.previewImgIndex+\"px \",this.ypos=\"-\"+this.previewData.previewHeight*this.previewRow.toFixed(0)+\"px \",this.thumbPreview.style.backgroundPosition=this.xpos+this.ypos,this.thumbPreview.style.left=\"\"+(100*this.value-18).toFixed(2)+\"%\"},$t.prototype.handlePressHandler=function(e){$t.__super__.handlePressHandler.call(this,e),this.classList.add(\"scrubbing\")},$t.prototype.handleReleaseHandler=function(e){$t.__super__.handleReleaseHandler.call(this,e),this.classList.remove(\"scrubbing\")},n(Qt,Dt),Qt.prototype.componentName=\"play-pause\",Qt.prototype.onclick=function(e){return e.stopImmediatePropagation(),e.preventDefault(),this.sendNotification(Do.TOGGLE_PLAY_PAUSE),!1};var Ho={BREAK_START:\"adsbreakstart\",BREAK_END:\"adsbreakend\",AD_CONTAINER_CREATED:\"adscontainercreated\",AD_LOADED:\"adsloaded\",AD_MANAGER_LOADED:\"adsmanagerloaded\",AD_STARTED:\"adsstarted\",AD_TIME_UPDATE:\"adstimeupdate\",AD_TIME_REMAINING:\"adstimeremaining\",AD_DURATION_CHANGE:\"adsdurationchange\",AD_ENDED:\"adsended\",AD_ERROR:\"adserror\",AD_PLAY:\"adsplay\",AD_PAUSE:\"adspause\",AD_PAUSED:\"adspaused\",AD_RESUME:\"adsresume\",AD_CLICKED:\"adclicked\",AD_COMPANION:\"adscompanion\",FIRST_QUARTILE:\"adsfirstquartile\",MIDPOINT:\"adsmidpoint\",THIRD_QUARTILE:\"adsthirdquartile\",LOG:\"adslog\",REQUEST:\"adsrequest\",SKIPPED:\"adsskipped\",IMPRESSION:\"adsimpression\"};n(en,ye),en.prototype.componentName=\"controls\",en.prototype.activeControlPanel=null,en.prototype.controlBar=null,en.prototype.panels=null,en.prototype.onRegister=function(){var e;en.__super__.onRegister.call(this),this.facade.viewComponent=this.viewComponent,this.controlBar=this.create(\"control-bar\"),this.facade.registerMediator(new Kt(this.viewComponent)),this.facade.registerMediator(new Qt(this.controlBar)),this.facade.registerMediator(new Zt(this.controlBar)),this.facade.registerMediator(new $t(this.controlBar)),null!=this.facade.config.logo&&this.facade.registerMediator(new Lt(this.controlBar)),this.facade.registerMediator(new Jt(this.controlBar)),e=this.create(\"separator\",this.controlBar)},en.prototype.listNotificationInterests=function(){return[Mo.READY,Mo.ADD_CONTROL,Mo.REMOVE_CONTROL,Mo.ADD_CONTROL_STATE,Mo.REMOVE_CONTROL_STATE]},en.prototype.handleNotification=function(e){var t,n,i;switch(n=e.getName(),t=e.getBody(),n){case Mo.READY:(null!=(i=t.fullscreen)?i.enabled:void 0)!==!1&&this.facade.registerMediator(new Yt(this.controlBar));break;case Mo.ADD_CONTROL_STATE:this.classList.add(t);break;case Mo.REMOVE_CONTROL_STATE:this.classList.remove(t);break;case Mo.ADD_CONTROL:this.controlBar.appendChild(t);break;case Mo.REMOVE_CONTROL:this.controlBar.contains(t)&&this.controlBar.removeChild(t)}},tn.create=function(e,t,n){var i,o;if(\"string\"==typeof e&&(e=document.getElementById(e)),null==e)throw new Error(\"[AMP ERROR] Invalid container. Could not find DOM element with id: \"+e);return t=t instanceof ht?t:ht.create(t),Pt.enable(t.debug),o=this.getVersion(),null==e.dataset&&(e.dataset={}),e.dataset[\"amp.version\"]=o,Pt.log(\"[AMP] \"+o),i=this.createPlayer(t,e),i.onready=n,i.initialize(t),e.amp=i,i},tn.createPlayer=function(e,t){var n;return n=this.players[e.mode],null!=n&&(n=new n(t)),n},tn.getVersion=function(){return this.VERSION},tn.VERSION=\"AMP Premier - NDN v1.53.x.0004\",tn.defaults=new Mt,tn.plugins=[],tn.players={},tn.loadDefaults=function(e,t,n,i){null==i&&(i=!1),null!=t&&this.defaults.addEventListener(\"load\",t),null!=n&&this.defaults.addEventListener(\"error\",n),this.defaults.load(e,i)},tn.getPlaybackMode=function(){return kt.getPlaybackMode()},tn.registerPlayer=function(e,t){this.players[e]=t},tn.registerPlugin=function(e,t,n){var i;null==(i=this.plugins)[e]&&(i[e]={}),this.plugins[e][t]=n},tn.resourceManager=null,tn.getResourceManager=function(){return null==this.resourceManager&&(this.resourceManager=new p),this.resourceManager},tn.addResource=function(e,t,n){return this.getResourceManager().add(e,t,n)},tn.addResources=function(e,t,n){return this.getResourceManager().addResources(e,t,n)},tn.getResource=function(e){return this.getResourceManager().item(e)},tn.removeResource=function(e){return this.getResourceManager().remove(e)},tn.registerPlayer(\"html\",ue),tn.registerPlayer(\"flash\",Oe),tn.registerPlayer(\"none\",c),tn.registerPlayer(\"external\",Ct),n(nn,Rt),nn.NAME=\"PlayOverlayWrapper\",nn.prototype.createFlashVars=function(e){return e.show_play_button_overlay=null!=this.config.enabled?this.config.enabled:!0,e},tn.registerPlugin(\"playoverlay\",\"flash\",nn),n(on,X),on.prototype.componentName=\"play\",on.prototype.onclick=function(e){return e.stopImmediatePropagation(),e.preventDefault(),this.sendNotification(Do.TOGGLE_PLAY_PAUSE),!1},n(rn,nt),rn.prototype.moduleName=\"controls\",rn.prototype.createFramework=function(){return this.config[\"native\"]===!0?(this.player.getMediaElement().controls=!0,this.player.sendNotification(Mo.ADD_APPLICATION_STATE,\"controls-native\"),this.registerCommand(Mo.MEDIA_VALIDATED,Ft),this.registerCommand(Ho.BREAK_START,Bt),this.registerCommand(Ho.BREAK_END,Gt),this.registerCommand(Mo.PLAY_REQUEST,Ht),void(this.createView=function(){})):void rn.__super__.createFramework.call(this)},rn.prototype.applyClickHandler=function(e){null==e&&(e=!0),this.player.getMediaElement().onclick=e?this.clickHandler.bind(this):null,this.player.getMediaElement().onplay=e?this.clickHandler.bind(this):null},rn.prototype.clickHandler=function(e){this.sendNotification(Do.TOGGLE_PLAY_PAUSE,!0)},rn.prototype.createController=function(){rn.__super__.createController.call(this),this.registerCommand(Mo.START,zt),this.registerCommand(Mo.PLAY,jt),this.registerCommand(Mo.PAUSE,Vt),this.registerCommand(Mo.ACTIVE_STATE_CHANGE,Ut),this.registerCommand(Ho.BREAK_START,Bt),this.registerCommand(Ho.BREAK_END,Gt)},rn.prototype.createModel=function(){this.proxy=new qt(this.config),this.registerProxy(this.proxy)},rn.prototype.createView=function(){this.registerMediator(new en)},rn.prototype.listNotificationInterests=function(){var e,t;return function(){var n;n=[];for(e in Fo)t=Fo[e],n.push(t);return n}().concat([Mo.MEDIA_CHANGE,Mo.TIME_UPDATE,Mo.DURATION_CHANGE,Mo.PROGRESS,Mo.ENDED,Mo.ADD_CUE_POINTS,Mo.REMOVE_CUE_POINTS,Mo.DISABLE_FULL_SCREEN,Mo.ENABLE_FULL_SCREEN,Mo.READY,Mo.ADD_CONTROL,Mo.REMOVE_CONTROL,Mo.ADD_CONTROL_STATE,Mo.REMOVE_CONTROL_STATE,Mo.ACTIVE_STATE_CHANGE,Mo.START,Mo.PLAY,Mo.PAUSE,Ho.BREAK_START,Ho.BREAK_END,Mo.CHANGE_MEDIA,Mo.DISPLAY_TIME,Mo.MEDIA_VALIDATED,Mo.STARTED,Mo.PLAY_REQUEST,Mo.IS_LIVE])},rn.prototype.listNotificationPublications=function(){return rn.__super__.listNotificationPublications.call(this).concat([Mo.CHANGE_ACTIVE_STATE,Mo.TOGGLE_FULL_SCREEN,Do.SEEK,Mo.TOGGLE_ACTIVE,Do.TOGGLE_PLAY_PAUSE])},rn.prototype.setMode=function(e){return this.proxy.setMode(e),e},rn.prototype.getMode=function(){return this.proxy.getMode()},rn.prototype.setAutoHide=function(e){return this.proxy.setAutoHide(e),e},rn.prototype.getAutoHide=function(){return this.proxy.getAutoHide()},tn.registerPlugin(\"controls\",\"html\",rn),tn.registerPlugin(\"controls\",\"flash\",Wt),tn.registerPlugin(\"controls\",\"external\",rn),n(an,Te),an.prototype.execute=function(e){this.proxy.contentStarted()},n(sn,Te),sn.prototype.execute=function(e){this.proxy.contentEnded()},n(ln,Te),ln.prototype.dispatchEvent=function(e,t){var n,i,o;\"string\"!=typeof e&&(t=e.getBody(),null==t&&(t={}),e=e.getName()),i=\"function\"==typeof(o=this.plugin).getFeatureName?o.getFeatureName():void 0,null!=i&&(e=e.replace(new RegExp(\"^(\"+i+\")\"),\"\")),i=this.plugin.getModuleName(),e=e.replace(new RegExp(\"^(\"+i+\")\"),\"\"),n=new Nt(e,t),this.sendNotification(Mo.DISPATCH_EVENT,n)},ln.prototype.dispatchEventAfterCommand=function(e,t){setTimeout(this.dispatchEvent.bind(this,e,t),0)},ln.prototype.execute=function(e){this.dispatchEvent(e)},n(un,Te),un.prototype.execute=function(e){this.proxy.setMedia(e.getBody())},n(cn,puremvc.SimpleCommand),cn.prototype.execute=function(e){this.facade.player.getMediaElement().dataset.isad=!0},n(dn,puremvc.SimpleCommand),dn.prototype.execute=function(e){this.facade.player.getMediaElement().dataset.isad=!1},n(pn,puremvc.SimpleCommand),pn.prototype.execute=function(e){var t,n;try{n=e.getBody(),t={adDuration:n.duration,adPartnerId:n.partner,adTitle:n.title,adId:n.id},\"function\"==typeof akamaiHandleAdLoaded&&akamaiHandleAdLoaded(t)}catch(i){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",i)}},n(hn,Te),hn.prototype.execute=function(e){try{\"function\"==typeof akamaiHandleAdStarted&&akamaiHandleAdStarted()}catch(t){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",t)}},n(fn,Te),fn.prototype.execute=function(e){var t,n;t=e.getBody(),n=Math.round(t.currentTime/t.duration*100);try{n>=25&&this.proxy.percent<25?(this.facade.logger.debug(\"MediaAnalytics: First Quartile\"),\"function\"==typeof akamaiHandleAdFirstQuartile&&akamaiHandleAdFirstQuartile()):n>=50&&this.proxy.percent<50?(this.facade.logger.debug(\"MediaAnalytics: Second Quartile\"),\"function\"==typeof akamaiHandleAdMidpoint&&akamaiHandleAdMidpoint()):n>=75&&this.proxy.percent<75&&(this.facade.logger.debug(\"MediaAnalytics: Third Quartile\"),\"function\"==typeof akamaiHandleAdThirdQuartile&&akamaiHandleAdThirdQuartile())}catch(i){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",i)}this.proxy.percent=n},n(gn,puremvc.SimpleCommand),gn.prototype.execute=function(e){try{\"function\"==typeof akamaiHandleAdCompleted&&akamaiHandleAdCompleted()}catch(t){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",t)}this.facade.player.getMediaElement().dataset.isad=!0},n(mn,Te),mn.prototype.execute=function(e){var t;t=e.getBody(),this.proxy.setDimensions(t)},n(yn,Te),yn.prototype.execute=function(e){this.proxy.updatedMedia(e.getBody())},n(vn,Te),vn.prototype.execute=function(e){return this.sendNotification(Mo.PLAY_REQUEST),this.proxy.getStarted()===!1?void this.sendNotification(Mo.START,!0):(this.proxy.play(),void this.facade.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING))},n(_n,Te),_n.prototype.execute=function(e){this.proxy.pause(),this.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PAUSED)},n(bn,ln),bn.prototype.execute=function(e){var t;t=this.proxy.getPaused()||this.proxy.getStarted()===!1?Mo.PLAY:Mo.PAUSE,this.sendNotification(t,!0)},n(En,ln),En.prototype.execute=function(e){this.proxy.setVolume(e.getBody()),En.__super__.execute.call(this,e)},n(wn,ln),wn.prototype.execute=function(e){this.sendNotification(Mo.PLAY_REQUEST),this.playback.initialized===!1&&this.player.sendNotification(Mo.INITIALIZED),this.proxy.start(),this.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING),wn.__super__.execute.call(this,e)},n(Tn,Rt),Tn.NAME=\"MediaAnalyticsWrapper\",Tn.prototype.flashPlugins=[{id:\"OSMFCSMALoader\",host:\"osmf\",main:\"com.akamai.playeranalytics.osmf.OSMFCSMALoaderInfo\",type:\"application/x-shockwave-flash\"}],Tn.prototype.listNotificationInterests=function(){return Tn.__super__.listNotificationInterests.call(this).concat([Mo.MEDIA_CHANGE,xo.SET_DIMENSIONS])},Tn.prototype.createFlashVars=function(e){var t,n,i,o,r;if(t=null!=(o=this.player.config)&&null!=(r=o.media)?r.mediaanalytics:void 0,null!=t)for(n in t)i=t[n],e[\"report_\"+n]=i;return e},Tn.prototype.createXML=function(e){var t,n,i,o,r,a,s,l,u,c;if(t=e.firstChild,r=e.getElementsByTagName(\"metrics\")[0],null==r&&(r=e.createElement(\"metrics\"),t.appendChild(r)),l=e.createElement(\"vendor\"),l.setAttribute(\"id\",\"akamai\"),r.appendChild(l),null!=this.config.config&&(i=e.createElement(\"property\"),i.setAttribute(\"key\",\"MEDIA_ANALYTICS_BEACON\"),i.appendChild(ae.createTextContent(e,this.config.config)),l.appendChild(i),a=(null!=(u=this.config.plugin)?u.swf:void 0)||\"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf\",i=e.createElement(\"property\"),i.setAttribute(\"key\",\"MEDIA_ANALYTICS_PLUGIN_PATH\"),i.appendChild(ae.createTextContent(e,a)),l.appendChild(i)),null!=this.config.dimensions){n=e.createElement(\"property\"),n.setAttribute(\"key\",\"dimensions\"),l.appendChild(n),c=this.config.dimensions;for(o in c)s=c[o],i=e.createElement(\"property\"),i.setAttribute(\"key\",o),i.appendChild(ae.createTextContent(e,s)),n.appendChild(i)}return e},Tn.prototype.handleNotification=function(e){var t,n,i,o,r,a,s;switch(Tn.__super__.handleNotification.call(this,e),o=e.getName(),t=e.getBody(),o){case Mo.MEDIA_CHANGE:if(i=t,null!=(null!=(a=i.mediaanalytics)?a.dimensions:void 0)){i.dimensions=[],s=i.mediaanalytics.dimensions;for(n in s)r=s[n],i.dimensions.push({key:n,value:r})}break;case xo.SET_DIMENSIONS:this.setDimensions(t)}},Tn.prototype.setDimensions=function(e){return this.player.mediaElement.setPlayerProperty(\"maDimensions\",e),e};var zo={INITIALIZED:\"ima/initialize\",ADD_OVERLAY:\"ima/addOverlay\",REMOVE_OVERLAY:\"ima/removeOverlay\"};Cn.prototype.id=null,Cn.prototype.title=null,Cn.prototype.duration=NaN,Cn.prototype.position=NaN,Cn.prototype.totalAds=NaN,Cn.prototype.type=null,Cn.prototype.partner=null,Cn.prototype.advertiser=null,Cn.prototype.companions=null,Cn.prototype.metadata=null,Cn.prototype.request=null,Cn.prototype.error=null,Cn.prototype.currentTime=null,n(An,de),An.prototype.configurationName=\"imaoverlay\",An.NAME=\"IMAOveralyProxy\",An.prototype.defaults={adTagUrl:null,duration:15,interval:30,delay:30},An.prototype.durationTimer=null,An.prototype.intervalTimer=null,An.prototype.delayTimer=null,An.prototype.stop=function(){clearTimeout(this.durationTimer),clearTimeout(this.delayTimer),clearTimeout(this.intervalTimer)},An.prototype.play=function(){var e=this;this.stop(),this.delayTimer=setTimeout(function(){return e.requestAd()},1e3*this.value.delay)},An.prototype.requestAd=function(){var e,t;e=this.getValue(\"adTagUrl\"),null!=e&&(e=e.replace(\"[timestamp]\",(new Date).getTime()),e=e.replace(\"__random-number__\",(new Date).getTime())),t=kt.get(e,{withCredentials:!0,onload:this.vastLoadHandler.bind(this),onerror:this.error.bind(this)},!1)},An.prototype.vastLoadHandler=function(e){var t,n,i,o,r,a;if(a=e.target.responseXML,null!=a)try{t=a.querySelector(\"NonLinear\"),null!=t?(r=null!=a.querySelector(\"Impression\")?a.querySelector(\"Impression\").textContent:\"\",i=null!=a.querySelector(\"Tracking[event=creativeView]\")?a.querySelector(\"Tracking[event=creativeView]\").textContent:\"\",n=null!=t.querySelector(\"NonLinearClickThrough\")?t.querySelector(\"NonLinearClickThrough\").textContent:\"\",o={src:t.querySelector(\"StaticResource\").textContent,width:t.getAttribute(\"width\"),height:t.getAttribute(\"height\"),tracking:[r,i],href:n},this.displayAd(o)):this.error(\"No overlay was returned\")}catch(s){this.error(s)}},An.prototype.error=function(e){this.facade.logger.error(\"[AMP IMA OVERLAY ERROR]\",e),this.stop()},An.prototype.displayAd=function(e){var t=this;this.sendNotification(zo.ADD_OVERLAY,e),this.durationTimer=setTimeout(function(){return t.sendNotification(zo.REMOVE_OVERLAY),t.intervalTimer=setTimeout(function(){return t.requestAd()},1e3*t.value.interval)},1e3*this.value.duration)},n(Sn,Ie),Sn.NAME=Ie.NAME,Sn.prototype.inprogress=!1,Sn.prototype.paused=!1,Sn.prototype.started=!1,Sn.prototype.adVO=null,Sn.prototype.contextName=\"ad\",Sn.prototype.container=null,Sn.prototype.getContextData=function(){return this.adVO||{}},Sn.prototype.setCompanions=function(e){return this.adVO.companions=e,this.sendNotification(Ho.AD_COMPANION,this.adVO),e},Sn.prototype.getCompanions=function(){var e;return null!=(e=this.adVO)?e.companions:void 0},Sn.prototype.getInProgress=function(){return this.inprogress},Sn.prototype.setInProgress=function(e){return this.inprogress=e,e},Sn.prototype.getStarted=function(){return this.started},Sn.prototype.setStarted=function(e){return this.started=e,e},Sn.prototype.getPaused=function(){return this.paused},Sn.prototype.setPaused=function(e){return this.paused=e,e},Sn.prototype.play=function(){this.setPaused(!1),this.sendNotification(Ho.AD_PLAY,this.adVO)},Sn.prototype.pause=function(){this.setPaused(!0),this.sendNotification(Ho.AD_PAUSE,this.adVO)},Sn.prototype.breakStart=function(){this.setInProgress(!0)},Sn.prototype.breakEnd=function(){this.setInProgress(!1),this.reset()},Sn.prototype.error=function(e,t){var n;null==t&&(t=!0),n=(\"function\"==typeof e.getMessage?e.getMessage():void 0)||e.message,this.facade.logger.error(\"[AMP AD ERROR]\",\"\"+n+\" Skipping ad content.\",e),null==this.adVO&&(this.adVO={}),this.adVO.error=e,this.sendNotification(Ho.AD_ERROR,this.adVO),t===!0&&this.endBreak()},Sn.prototype.engage=function(e){this.getEnabled()!==!1&&(this.setStarted(!1),this.getInProgress()&&(this.reset(),this.facade.player.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"ad-mode\")),this.engageAds())},Sn.prototype.engageAds=function(){this.facade.player.removeCommand(Mo.START),this.facade.player.removeCommand(Mo.PLAY),this.facade.player.removeCommand(Mo.PAUSE),this.facade.player.removeCommand(Mo.ENDED),this.facade.player.removeCommand(Do.PLAY),this.facade.player.removeCommand(Do.PAUSE),this.facade.player.removeCommand(Do.TOGGLE_PLAY_PAUSE),this.facade.isFullscreenDevice()&&this.facade.player.removeCommand(Mo.CHANGE_DURATION),this.facade.removeCommand(Mo.STARTED),this.facade.removeCommand(Mo.ENDED),this.facade.registerCommand(Mo.START,wn),this.facade.registerCommand(Mo.PLAY,vn),this.facade.registerCommand(Mo.PAUSE,_n),this.facade.registerCommand(Do.PLAY,vn),this.facade.registerCommand(Do.PAUSE,_n),this.facade.registerCommand(Do.TOGGLE_PLAY_PAUSE,bn),this.facade.registerCommand(Mo.VOLUME_CHANGE,En)},Sn.prototype.reset=function(){this.facade.removeCommand(Mo.START),this.facade.removeCommand(Mo.PLAY),this.facade.removeCommand(Mo.PAUSE),this.facade.removeCommand(Do.PLAY),this.facade.removeCommand(Do.PAUSE),this.facade.removeCommand(Do.TOGGLE_PLAY_PAUSE),this.facade.removeCommand(Mo.VOLUME_CHANGE),this.facade.player.registerCommand(Mo.START,x),this.facade.player.registerCommand(Mo.PLAY,ie),this.facade.player.registerCommand(Mo.PAUSE,_),this.facade.player.registerCommand(Mo.ENDED,P),this.facade.player.registerCommand(Do.PLAY,ie),this.facade.player.registerCommand(Do.PAUSE,_),this.facade.player.registerCommand(Do.TOGGLE_PLAY_PAUSE,g),\nthis.facade.isFullscreenDevice()&&this.facade.player.registerCommand(Mo.CHANGE_DURATION,We),this.facade.registerCommand(Mo.STARTED,an),this.facade.registerCommand(Mo.ENDED,sn)},Sn.prototype.requestAd=function(){},Sn.prototype.startBreak=function(){return this.setStarted(!0),this.sendNotification(Ho.BREAK_START,this.adVO),this.getEnabled()===!1?(this.endBreak(),!1):!0},Sn.prototype.endBreak=function(){this.sendNotification(Ho.BREAK_END,this.adVO)},Sn.prototype.start=function(){this.startBreak()},Sn.prototype.contentPlay=function(){this.facade.player.sendNotification(Mo.PLAY,!0)},Sn.prototype.contentPause=function(){this.facade.player.mediaElement.pause()},Sn.prototype.contentStarted=function(){},Sn.prototype.contentSeek=function(e){},Sn.prototype.contentEnded=function(){},Sn.prototype.setVolume=function(e){},Sn.prototype.getVolume=function(){},Sn.prototype.terminateAd=function(){},Sn.prototype.terminateAllAds=function(){},n(Nn,Sn),Nn.NAME=Sn.NAME,Nn.prototype.defaults={adTagUrl:null,overlay:null,width:null,height:null,maxBitrate:-1,ppid:null,companions:null,logEventsEnabled:!1},Nn.prototype.key=\"ima\",Nn.prototype.intervals=null,Nn.prototype.adDisplayContainer=null,Nn.prototype.adDisplayContainerInitialized=!1,Nn.prototype.adsLoader=null,Nn.prototype.adsRenderingSettings=null,Nn.prototype.adsManagerLoaded=!1,Nn.prototype.adsManager=null,Nn.prototype.cuepoints=null,Nn.prototype.adLoaded=!1,Nn.prototype.playWhenLoaded=!1,Nn.prototype.contentHasEnded=!1,Nn.prototype.adTagUrl=null,Nn.prototype.viewMode=null,Nn.prototype.playbackCore=null,Nn.prototype.loadedmetadata=null,Nn.prototype.setEnabled=function(e){var t;return Nn.__super__.setEnabled.call(this,e),e===!1&&(null!=(t=this.adsManager)&&\"function\"==typeof t.destroy&&t.destroy(),this.getInProgress()&&this.contentPlay()),e},Nn.prototype.onLoadedMetadata=function(e){e.target.removeEventListener(\"loadedmetadata\",this.loadedmetadata),this.canPlay()&&this.playWhenLoaded===!0&&this.startAd()},Nn.prototype.initialize=function(){},Nn.prototype.ready=function(){var e;this.viewMode=google.ima.ViewMode.NORMAL,window.addEventListener(\"resize\",this.resize.bind(this)),null!=this.config.vpaidAllowed&&google.ima.settings.setVpaidAllowed(this.config.vpaidAllowed),null!=this.config.vpaidMode&&null!=(e=google.ima.ImaSdkSettings.VpaidMode[this.config.vpaidMode.toUpperCase()])&&google.ima.settings.setVpaidMode(e),this.adDisplayContainer=this.createPlugin(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)},Nn.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container,null,this.facade.getViewComponent().adClickHandlerContainer)},Nn.prototype.engage=function(e){var t;null==e&&(e=!0),this.getEnabled()!==!1&&(Nn.__super__.engage.call(this),this.adsManagerLoaded===!0&&this.contentHasEnded===!1&&null!=(t=this.adsManager)&&\"function\"==typeof t.destroy&&t.destroy(),this.adsManagerLoaded=!1,this.contentHasEnded=!1,this.adsManagerLoaded=!1,this.playWhenLoaded=!1)},Nn.prototype.setVolume=function(e){var t;return null!=(t=this.adsManager)&&t.setVolume(e),e},Nn.prototype.getVolume=function(){var e;return null!=(e=this.adsManager)?e.getVolume():void 0},Nn.prototype.requestAd=function(){var e,t,n,i,o,r,a;return this.sendNotification(Ho.REQUEST,this.adVO),o=this.facade.player.getViewComponent().clientWidth,n=this.facade.player.getViewComponent().clientHeight,e=new google.ima.AdsRequest,this.adTagUrl=this.getValue(\"adTagUrl\"),t=this.getValue(\"adsResponse\"),null!=t&&\"\"!==t?e.adsResponse=kt.read(t,null,kt.mimeTypes.txt):e.adTagUrl=this.adTagUrl,null==e.adsResponse&&null==e.adTagUrl?void this.onAdError(\"No valid adTagUrl or adsResponse provided.\"):(e.linearAdSlotWidth=o,e.linearAdSlotHeight=n,e.nonLinearAdSlotWidth=(null!=(r=this.value.overlay)?r.width:void 0)||o,e.nonLinearAdSlotHeight=(null!=(a=this.value.overlay)?a.height:void 0)||n,i=this.adsLoader.getSettings(),null!=this.config.ppid&&i.setPpid(this.getValue(\"ppid\")),void this.adsLoader.requestAds(e))},Nn.prototype.requestOverlay=function(){var e,t;t=this.value.overlay,null!=t&&(e=new google.ima.AdsRequest,e.adTagUrl=t.adTagUrl,e.nonLinearAdSlotWidth=t.width||300,e.nonLinearAdSlotHeight=t.height||50,this.adsLoader.requestAds(e))},Nn.prototype.start=function(e){var t;return null==e&&(e=!0),e===!0?(this.playbackCore=this.facade.player.retrieveProxy(Et.NAME).getActivePlaybackCore(),t=this.facade.player.getMediaElement(),this.playbackCore.setEnabled(!1),t.src=this.playbackCore.getSrc(),t.addEventListener(\"loadedmetadata\",this.loadedmetadata),t.load()):this.engage(),Nn.__super__.start.call(this)===!1?!1:(this.isLiveMidroll=e===!1&&\"live\"===this.facade.player.retrieveProxy(wt.NAME).getTemporalType(),this.adDisplayContainerInitialized!==!0&&(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0),void(this.canPlay()===!0&&e===!0?this.startAd():(this.playWhenLoaded=!0,this.requestAd())))},Nn.prototype.canPlay=function(){return this.adsManagerLoaded===!0},Nn.prototype.startAd=function(){var e;this.playWhenLoaded=!1;try{e=this.facade.player.retrieveProxy(xe.NAME).getVolume(),this.setVolume(e),null==this.viewMode&&(this.viewMode=google.ima.ViewMode.NORMAL),this.adsManager.init(this.facade.player.getViewComponent().clientWidth,this.facade.player.getViewComponent().clientHeight,this.viewMode),this.adsManager.start()}catch(t){this.error(t)}},Nn.prototype.resize=function(e){var t;null!=e&&(this.viewMode=e===Vo.FULL_SCREEN?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),null!=(t=this.adsManager)&&t.resize(this.container.container.clientWidth,this.container.container.clientHeight,this.viewMode)},Nn.prototype.onAdsManagerLoaded=function(e){var t,n;this.adsRenderingSettings.bitrate=this.getValue(\"maxBitrate\"),this.adsRenderingSettings.autoAlign=!0,this.adsRenderingSettings.useStyledNonLinearAds=!0,null!=(n=this.adsManager)&&\"function\"==typeof n.destroy&&n.destroy(),this.adsManager=e.getAdsManager(this.facade.player.mediaElement,this.adsRenderingSettings),this.facade.player.sendNotification(Ho.AD_MANAGER_LOADED,{adManager:this.adsManager,viewMode:google.ima.ViewMode.NORMAL,adContainer:this.facade.getViewComponent()}),this.adsManagerLoaded=!0,this.cuePoints=this.adsManager.getCuePoints(),this.facade.player.sendNotification(Mo.ADD_CUE_POINTS,this.cuePoints),t=this.onAdEvent.bind(this),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.contentPause.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.contentPlay.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUME,this.onAdResumed.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdClick.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,t),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,t),this.getValue(\"logEventsEnabled\")===!0&&this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,t),this.canPlay()&&this.playWhenLoaded===!0&&this.startAd()},Nn.prototype.onAdClick=function(e){return(null!=e?e.getAd().isLinear():void 0)===!1?void this.facade.player.sendNotification(Mo.PAUSE):(this.getPaused()||this.pause(),void this.sendNotification(Ho.AD_CLICKED,this.adVO))},Nn.prototype.onAdPaused=function(e){this.setPaused(!0),this.facade.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PAUSED),this.facade.player.sendNotification(Mo.CHANGE_ACTIVE_STATE,Bo.ACTIVE),this.facade.player.sendNotification(Ho.AD_PAUSED,this.adVO)},Nn.prototype.onAdResumed=function(e){this.setPaused(!1),this.facade.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING)},Nn.prototype.onAdEvent=function(e){var t,n,i,o,r,a,s,l,u;switch(t=e.getAd(),null!=this.adVO&&(null!=t&&(t.wrapperAdIds=\"function\"==typeof t.getWrapperAdIds?t.getWrapperAdIds():void 0,t.wrapperAdSystems=\"function\"==typeof t.getWrapperAdSystems?t.getWrapperAdSystems():void 0),this.adVO.metadata=t),e.type){case google.ima.AdEvent.Type.IMPRESSION:this.sendNotification(Ho.IMPRESSION,this.adVO);break;case google.ima.AdEvent.Type.LOADED:t.isLinear()?(r=t.getAdPodInfo().getPodIndex(),a=0===r?\"preroll\":-1===r?\"postroll\":\"midroll\",this.adVO=new Cn(t.getAdId(),t.getAdId(),t.getDuration(),r,a,\"ima\",null,null,this.adTagUrl,t,t.getAdPodInfo().getTotalAds()),(!this.getInProgress()&&\"midroll\"===a||\"postroll\"===a)&&(this.startBreak(),this.engageAds()),this.resize(),this.sendNotification(Ho.AD_LOADED,this.adVO),this.sendNotification(Ho.AD_DURATION_CHANGE,this.adVO)):(this.facade.player.sendNotification(Mo.ADD_APPLICATION_STATE,\"ad-overlaymode\"),this.contentPlay());break;case google.ima.AdEvent.Type.STARTED:t.isLinear()&&(this.adVO.position=t.getAdPodInfo().getAdPosition(),this.sendNotification(Ho.AD_STARTED,this.adVO),this.intervals.push(setInterval(this.onAdTimeUpdate.bind(this),300)),this.facade.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING),this.sendNotification(Ho.AD_PLAY,this.adVO));try{for(i=[],o=(\"function\"==typeof this.getConfigurationData&&null!=(u=this.getConfigurationData())?u.companions:void 0)||[],s=0,l=o.length;l>s;s++)n=o[s],i=i.concat(t.getCompanionAds(n.width,n.height));(null!=i?i.length:void 0)>0&&this.setCompanions(i)}catch(c){this.facade.logger.error(\"[AMP IMA ERROR]\",\"Could not retrieve companion ads:\",c)}break;case google.ima.AdEvent.Type.COMPLETE:t.isLinear()&&this.sendNotification(Ho.AD_ENDED,this.adVO);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.sendNotification(Ho.FIRST_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.MIDPOINT:this.sendNotification(Ho.MIDPOINT,this.adVO);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.sendNotification(Ho.THIRD_QUARTILE,this.adVO);break;case google.ima.AdEvent.Type.LOG:this.sendNotification(Ho.LOG,this.adVO);break;case google.ima.AdEvent.Type.SKIPPED:this.sendNotification(Ho.SKIPPED,this.adVO);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.getInProgress()===!0&&this.endBreak()}},Nn.prototype.onAdTimeUpdate=function(e){var t;t=this.adsManager.getRemainingTime(),this.sendNotification(Ho.AD_TIME_UPDATE,this.adVO.duration-t),this.sendNotification(Ho.AD_TIME_REMAINING,t)},Nn.prototype.onAdError=function(e){var t;t=(null!=e&&\"function\"==typeof e.getError?e.getError():void 0)||e,this.error(t),this.contentPlay()},Nn.prototype.play=function(){var e;Nn.__super__.play.call(this);try{null!=(e=this.adsManager)&&e.resume(),this.sendNotification(Ho.AD_RESUME)}catch(t){this.facade.logger.error(\"[AMP IMA ERROR]\",\"resume\",t)}},Nn.prototype.pause=function(){Nn.__super__.pause.call(this);try{this.adsManager.pause()}catch(e){this.facade.logger.error(\"[AMP IMA ERROR]\",\"pause\",e)}},Nn.prototype.breakEnd=function(){var e,t,n,i,o;for(o=this.intervals,n=0,i=o.length;i>n;n++)e=o[n],clearInterval(this.intervals.pop());Nn.__super__.breakEnd.call(this),t=this.facade.retrieveProxy(An.NAME),null!=t&&t.play()},Nn.prototype.setCompanions=function(e){var t,n,i,o,r;for(n=[],i=0,o=e.length;o>i;i++)t=e[i],n.push({data:t.getContent(),type:null!=(r=t.getContentType())?r.toLowerCase():void 0,width:t.getWidth(),height:t.getHeight(),metadata:t});return Nn.__super__.setCompanions.call(this,n),e},Nn.prototype.contentPause=function(){return this.sendNotification(Mo.DISABLE_VIDEO_EVENTS,[\"pause\",\"ended\",\"durationchange\",\"error\"]),this.isLiveMidroll===!0?void(this.facade.player.getMediaElement().volume=0):void Nn.__super__.contentPause.call(this)},Nn.prototype.contentPlay=function(){var e,t;if(this.getInProgress()===!0&&this.endBreak(),this.sendNotification(Mo.ENABLE_VIDEO_EVENTS,[\"pause\",\"ended\",\"durationchange\",\"error\"]),\"postroll\"===(null!=(e=this.adVO)?e.type:void 0))return this.facade.player.sendNotification(Mo.ENDED),void this.facade.player.sendNotification(Mo.MEDIA_SEQUENCE_ENDED,{isAd:!0});if(this.isLiveMidroll===!0){if(this.facade.player.getMediaElement().volume=this.facade.player.retrieveProxy(mt.NAME).getVolume(),\"ipad\"!==kt.getDevice())return;this.facade.player.getMediaElement().load()}Nn.__super__.contentPlay.call(this),\"midroll\"===(null!=(t=this.adVO)?t.type:void 0)&&\"desktop\"===kt.getDevice()&&this.facade.player.setCurrentTime(Math.floor(this.facade.player.getCurrentTime()))},Nn.prototype.contentEnded=function(){var e;this.contentHasEnded=!0;try{null!=(e=this.adsLoader)&&\"function\"==typeof e.contentComplete&&e.contentComplete()}catch(t){this.facade.logger.error(\"[AMP IMA ERROR]\",\"contentComplete\",t)}},Nn.prototype.terminateAd=function(){var e;try{null!=(e=this.adsManager)&&e.stop()}catch(t){this.facade.logger.error(\"[AMP IMA ERROR]\",\"terminateAd\",t)}this.endBreak(),this.contentPlay()},Nn.prototype.terminateAllAds=function(){var e;try{null!=(e=this.adsManager)&&e.destroy()}catch(t){this.facade.logger.error(\"[AMP IMA ERROR]\",\"terminateAllAds\",t)}this.endBreak(),this.contentPlay()},Nn.prototype.destory=function(){var e;null!=(e=this.adsManager)&&\"function\"==typeof e.destroy&&e.destroy()},n(In,Ie),In.NAME=a.NAME,In.prototype.defaults={config:null,dimensions:null},In.prototype.ready=function(){try{window.akamaiSetVideoObject(this.facade.player.getMediaElement())}catch(e){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",\"Could not set video tag\",e)}},In.prototype.setDimensions=function(e){var t,n,i;t=this.configurationData.source.dimensions;for(n in e)i=e[n],null!=i&&(t[n]=i);return this.configurationData.parse(this.configurationData.source),this.applyDimensions(t),e},In.prototype.applyDimensions=function(e){var t,n;if(null!=window.setAkamaiMediaAnalyticsData)try{for(t in e)n=e[t],setAkamaiMediaAnalyticsData(t,n)}catch(i){this.facade.logger.error(\"[AMP MEDIA ANALYTICS ERROR]\",\"Could not set dimensions:\",i)}},In.prototype.setMedia=function(e){var t,n,i;return n=this.value.viewerId||this.value.viewerID||this.value[\"std:viewerId\"],null!=n&&akamaiSetViewerId(n),t=null!=(null!=(i=e.mediaanalytics)?i.dimensions:void 0)?kt.override(this.value.dimensions,e.mediaanalytics.dimensions):this.value.dimensions,akamaiHandleStreamSwitch(),this.applyDimensions(t),e},In.prototype.udpateMedia=function(e){return\"function\"==typeof akamaiHandleTitleSwitch&&akamaiHandleTitleSwitch(e),e},n(Pn,puremvc.SimpleCommand),Pn.prototype.execute=function(e){this.facade.retrieveProxy(In.NAME).ready()};var Wo={LOAD_FEED:\"loadfeed\",FEED_CHANGED:\"feedchanged\",FEED_LOADED:\"feedloaded\",FEED_ERROR:\"feederror\"};n(xn,nt),xn.prototype.moduleName=\"playoverlay\",xn.prototype.createModel=function(){},xn.prototype.createView=function(){this.registerMediator(new on)},xn.prototype.listNotificationPublications=function(){return xn.__super__.listNotificationPublications.call(this).concat([Do.TOGGLE_PLAY_PAUSE])},tn.registerPlugin(\"playoverlay\",\"html\",xn),tn.registerPlugin(\"playoverlay\",\"external\",xn),n(kn,a),kn.NAME=a.NAME,kn.prototype.defaults={url:null,data:null},kn.prototype.feed=null,kn.prototype.helper=null,kn.prototype.setURL=function(e){var t=this;return this.data.url=this.facade.evaluatePaths(e),this.sendNotification(Mo.DISPATCH_EVENT,new Nt(\"request\",this.data.url)),this.helper.getFeed(this.data.url,function(e){t.sendNotification(Wo.FEED_LOADED,e),t.sendNotification(Wo.CHANGE_FEED,e)},function(n){t.sendNotification(Wo.FEED_ERROR,{error:n,url:e}),Pt.error(\"[AMP Feed Load Error]\",t.data.url,n)}),e},kn.prototype.getURL=function(){return this.data.url},kn.prototype.setFeedData=function(e){return this.data.data=e,this.feed=this.helper.createFeed(e),this.sendNotification(Wo.FEED_CHANGED,this.feed),e},kn.prototype.getFeedData=function(){return this.data.data},kn.prototype.invoke=function(){null!=this.data.url&&\"\"!==this.data.url?this.sendNotification(Wo.LOAD_FEED,this.data.url):null!=this.data.data&&setTimeout(this.sendNotification.bind(this,Wo.CHANGE_FEED,this.data.data),1)},n(Mn,puremvc.SimpleCommand),Mn.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(kn.NAME),t.setURL(e.getBody())},n(Dn,puremvc.SimpleCommand),Dn.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(kn.NAME),t.setFeedData(e.getBody())},n(On,ln),On.prototype.execute=function(e){var t,n;On.__super__.execute.call(this,e),this.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.READY),t=e.getBody(),n=t.item[0],this.player.sendNotification(Mo.SET_MEDIA,n)},n(Ln,puremvc.SimpleCommand),Ln.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(kn.NAME),t.invoke()},n(Rn,Rt),Rn.NAME=\"FeedWrapper\",Rn.prototype.url=null,Rn.prototype.data=null,Rn.prototype.updateData=!0,Rn.prototype.createFlashVars=function(e){null!=this.url&&\"\"!==this.url&&(e.data_feed_url=escape(this.facade.evaluatePaths(this.url)))},Rn.prototype.listNotificationInterests=function(){return Rn.__super__.listNotificationInterests.apply(this,arguments).concat([Po.READY,Po.FEED_LOADED,Po.LOAD_FEED])},Rn.prototype.handleNotification=function(e){var t,n,i,o,r,a,s,l=this;switch(Rn.__super__.handleNotification.call(this,e),o=e.getName(),t=e.getBody(),o){case Po.FEED_LOADED:this.updateData===!1?this.updateData=!0:this.data=JSON.parse(t),r=\"loaded\",t=this.data,n=new It,i=null!=(a=n.createFeed(this.data))&&null!=(s=a.item)?s[0]:void 0,null!=i&&this.player.media.setData(i),this.sendNotification(Wo.FEED_CHANGED,this.data);break;case Po.LOAD_FEED:r=\"request\";break;case Po.READY:null!=this.data?setTimeout(function(){l.setData(l.data)},25):null!=this.url&&\"\"!==this.url&&this.sendNotification(Wo.LOAD_FEED,this.url)}null!=r&&this.dispatchEvent(new Nt(r,t))},Rn.prototype.setURL=function(e){return null!=e&&\"\"!==e&&(this.url=e,this.player.mediaElement.playFile(this.url,this.player.getAutoplay()),this.sendNotification(Wo.LOAD_FEED,this.url)),e},Rn.prototype.getURL=function(){return this.url},Rn.prototype.setData=function(e){return this.data=e,this.updateData=!1,this.player.mediaElement.playFile(this.data,this.player.getAutoplay()),e},Rn.prototype.getData=function(){return this.data},n(jn,nt),jn.prototype.moduleName=\"mediaanalytics\",jn.prototype.initialize=function(e,t){window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=e.config,jn.__super__.initialize.call(this,e,t)},jn.prototype.createModel=function(){this.proxy=new In(this.config),this.registerProxy(this.proxy)},jn.prototype.createController=function(){jn.__super__.createController.call(this),this.registerCommand(Mo.READY,Pn),this.registerCommand(Mo.MEDIA_CHANGE,un),this.registerCommand(Ho.BREAK_START,cn),this.registerCommand(Ho.BREAK_END,dn),this.registerCommand(Ho.AD_LOADED,pn),this.registerCommand(Ho.AD_STARTED,hn),this.registerCommand(Ho.AD_TIME_UPDATE,fn),this.registerCommand(Ho.AD_ENDED,gn),this.registerCommand(xo.SET_DIMENSIONS,mn),this.registerCommand(Mo.CONTENT_CHANGED,yn)},jn.prototype.listNotificationInterests=function(){return[Mo.READY,Mo.MEDIA_CHANGE,Ho.BREAK_START,Ho.BREAK_END,Ho.AD_LOADED,Ho.AD_STARTED,Ho.AD_TIME_UPDATE,Ho.AD_ENDED,xo.SET_DIMENSIONS,Mo.CONTENT_CHANGED]},jn.prototype.setDimensions=function(e){return this.retrieveProxy(In.NAME).setDimensions(e),e},tn.registerPlugin(\"mediaanalytics\",\"html\",jn),tn.registerPlugin(\"mediaanalytics\",\"flash\",Tn),n(Vn,Rt),Vn.NAME=\"InfoWrapper\",Vn.prototype.listNotificationInterests=function(){return[Po.CREATE_FLASH_VARS,Po.CREATE_XML,Po.SHARE,Po.SHARE_REQUEST]},Vn.prototype.handleNotification=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m;switch(l=e.getName(),n=e.getBody(),l){case Po.CREATE_FLASH_VARS:a=n.flashvars;break;case Po.CREATE_XML:for(f=n.xml,t=f.firstChild,h=f.getElementsByTagName(\"view\")[0],r=f.getElementsByTagName(\"element\"),g=0,m=r.length;m>g;g++)if(o=r[g],\"infoOverlayAdvanced\"===o.getAttribute(\"id\")){s=o;break}if(null==h)return;null==s&&(s=f.createElement(\"element\"),s.setAttribute(\"id\",\"infoOverlayAdvanced\"),s.setAttribute(\"displayStates\",\"preplay,paused,ns,fs,mouseover\"),h.insertBefore(s,h.childNodes[0])),i=f.createElement(\"data\"),s.appendChild(i),null!=this.config.title&&(u=f.createElement(\"property\"),u.setAttribute(\"key\",\"title\"),d=ae.createTextContent(f,this.config.title),u.appendChild(d),i.appendChild(u)),null!=this.config.description&&(u=f.createElement(\"property\"),u.setAttribute(\"key\",\"description\"),d=ae.createTextContent(f,this.config.description),u.appendChild(d),i.appendChild(u)),null!=this.config.more&&(u=f.createElement(\"property\"),u.setAttribute(\"key\",\"more\"),d=ae.createTextContent(f,this.config.more),u.appendChild(d),i.appendChild(u)),null!=this.config.less&&(u=f.createElement(\"property\"),u.setAttribute(\"key\",\"less\"),d=ae.createTextContent(f,this.config.less),u.appendChild(d),i.appendChild(u)),null!=this.config.provider&&(c=f.createElement(\"property\"),c.setAttribute(\"key\",\"provider\"),i.appendChild(c),null!=this.config.provider.name&&(u=f.createElement(\"property\"),u.setAttribute(\"key\",\"name\"),d=ae.createTextContent(f,this.config.provider.name),u.appendChild(d),c.appendChild(u)),null!=this.config.provider.image&&(u=f.createElement(\"property\"),u.setAttribute(\"key\",\"image\"),d=ae.createTextContent(f,this.config.provider.image),u.appendChild(d),c.appendChild(u)));break;case Po.SHARE:case Po.SHARE_REQUEST:p=\"share\"}return null!=p?this.dispatchEvent(new Nt(p,n)):void 0},tn.registerPlugin(\"info\",\"flash\",Vn),n(Un,X),Un.prototype.initializeNotifier=function(e){Un.__super__.initializeNotifier.call(this,e),this.plugin=this.facade.retrieveProxy(a.NAME),this.media=this.facade.player.retrieveProxy(wt.NAME)},Un.prototype.onRegister=function(){Un.__super__.onRegister.call(this),this.facade.viewComponent=this.viewComponent},n(Bn,de),Bn.prototype.configurationName=\"info\",Bn.NAME=a.NAME,Bn.prototype.defaults={title:\"#{media.title}\",description:\"#{media.description}\",provider:{},more:\"read more\",less:\"less\"},n(Gn,Un),Gn.prototype.componentName=\"info\",Gn.prototype.title=null,Gn.prototype.shortDescription=null,Gn.prototype.icon=null,Gn.prototype.provider=null,Gn.prototype.onRegister=function(){Gn.__super__.onRegister.call(this),this.title=this.create(\"info-title\"),this.provider=this.create(\"info-provider\"),this.shortDescription=this.create(\"info-short-description\"),this.icon=this.create(\"info-icon\",this,\"img\"),this.dataChangedHandler()},Gn.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE]},Gn.prototype.handleNotification=function(e){var t,n;switch(n=e.getName(),t=e.getBody(),n){case Mo.MEDIA_CHANGE:this.dataChangedHandler()}},Gn.prototype.moreClicked=function(e){return this.classList.add(\"open\")},Gn.prototype.closeClicked=function(e){return this.classList.remove(\"open\")},Gn.prototype.dataChangedHandler=function(){var e,t;return null!=this.plugin.value.title&&(this.title.textContent=this.plugin.value.title),null!=(null!=(t=this.plugin.value.provider)?t.image:void 0)&&(this.icon.src=this.plugin.value.provider.image),e=getComputedStyle(this.title),this.title.clientHeight>parseInt(e.lineHeight)?(this.classList.add(\"info-small\"),void(this.shortDescription.innerHTML=this.provider.innerHTML=\"\")):(this.classList.remove(\"info-small\"),this.truncateDescription(this.plugin.value.description,this.plugin.value.more),void(this.provider.textContent=null!=this.plugin.value.provider.name?\"\"+this.plugin.value.provider.name:\"\"))},Gn.prototype.truncateDescription=function(e){var t,n,i,o,r,a,s;if(n=\"...\",o=\"\",r=this.shortDescription,r.textContent=\"\",null!=e)for(i=a=0,s=e.length;s>a;i=++a){if(t=e[i],r.textContent=o+t+n,r.scrollHeight>r.clientHeight){r.textContent=o+n;break}o+=t}},n(Fn,nt),Fn.prototype.moduleName=\"feed\",Fn.prototype.createModel=function(){this.proxy=new kn(this.config),this.registerProxy(this.proxy)},Fn.prototype.createController=function(){Fn.__super__.createController.call(this),this.registerCommand(Mo.READY,Ln),this.registerCommand(Wo.LOAD_FEED,Mn),this.registerCommand(Wo.CHANGE_FEED,Dn),this.registerCommand(Wo.FEED_CHANGED,On),this.registerCommand(Wo.FEED_LOADED,ln),this.registerCommand(Wo.FEED_ERROR,ln)},Fn.prototype.listNotificationInterests=function(){return Fn.__super__.listNotificationInterests.call(this).concat([Mo.READY])},Fn.prototype.listNotificationPublications=function(){var e,t;return Fn.__super__.listNotificationPublications.call(this).concat(function(){var n;n=[];for(e in Wo)t=Wo[e],n.push(t);return n}())},Fn.prototype.setURL=function(e){return this.sendNotification(Wo.LOAD_FEED,e),e},Fn.prototype.getURL=function(){return this.proxy.getURL()},Fn.prototype.setData=function(e){return this.sendNotification(Wo.CHANGE_FEED,e),e},Fn.prototype.getData=function(){return this.proxy.getFeedData()},tn.registerPlugin(\"feed\",\"html\",Fn),tn.registerPlugin(\"feed\",\"flash\",Rn);var qo={REGISTER_FEATURE:\"registerfeature\"};Hn.prototype.id=null,Hn.prototype.startTime=null,Hn.prototype.endTime=null,Hn.prototype.text=null,Hn.prototype.html=null,Hn.prototype.align=null,n(zn,nt),zn.prototype.moduleName=\"info\",zn.prototype.createModel=function(){this.registerProxy(new Bn(this.config))},zn.prototype.createView=function(){this.registerMediator(new Gn)},zn.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE]},tn.registerPlugin(\"info\",\"html\",zn),tn.registerPlugin(\"info\",\"external\",zn),Wn.prototype.parse=function(e,t){var n,i,o,r,a,s,l,u,c,d,p;for(t=t.replace(/\\r/g,\"\"),i=t.split(\"\\n\\n\"),d=0,p=i.length;p>d;d++){n=i[d],s=n.split(\"\\n\");try{a=s[0],c=s[1].match(/([0-9:\\,]+)\\s*-->\\s*([0-9:\\,]+)/).slice(1),l=kt.flattenTimecode(c[0]),r=kt.flattenTimecode(c[1]),u=s.slice(2)}catch(h){Pt.warn(\"SRT Parsing Warning\")}o=new Hn(l,r,\"cue_\"+a),o.html=\"<p>\"+u.join(\"<br />\")+\"</p>\",o.text=u.join(\"\\n\"),e.cues.push(o)}return e},qn.prototype.parse=function(e,t){var n,i,o,r,a,s,l,u,c,d,p,h;for(t=t.replace(/\\r/g,\"\"),i=t.split(\"\\n\\n\"),/^WEBVTT/.test(i[0])&&i.shift(),p=0,h=i.length;h>p;p++){n=i[p],s=n.split(\"\\n\");try{a=s[0],d=s[1].match(/([0-9:\\.]+)\\s*-->\\s*([0-9:\\.]+)([^\\n]*)/).slice(1),l=d[2],u=kt.flattenTimecode(d[0]),r=kt.flattenTimecode(d[1]),c=s.slice(2)}catch(f){Pt.warn(\"SRT Parsing Warning\")}o=new Hn(u,r,\"cue_\"+a),o.html=\"<p>\"+c.join(\"<br />\")+\"</p>\",o.text=c.join(\"\\n\"),null!=l&&l.replace(/\\s*([A-Za-z]+)\\s*:\\s*([\\w\\-\\%]+)/g,function(e,t,n){return o[t]=n,\"\"}),e.cues.push(o)}return e},Yn.prototype.parse=function(e,t){var n,i,o,r,a;return\"string\"==typeof t&&(t=ae.parse(t)),r=Array.prototype.slice.call(t.querySelectorAll(\"styling style\")),r.forEach(function(t,n,i){var o,r,a;a=\"\",r=t.getAttribute(\"id\")||t.getAttribute(\"xml:id\"),o=Array.prototype.slice.call(t.attributes),o.forEach(function(e,t,n){return\"tts\"===e.prefix?a+=kt.formatStyleName(e.localName)+\":\"+e.nodeValue+\";\":void 0}),e.styles[r]=a}),o=Array.prototype.slice.call(t.querySelectorAll(\"body [style]\")),o.forEach(function(t,n,i){var o;o=t.getAttribute(\"style\"),t.setAttribute(\"style\",e.styles[o])}),a=t.querySelector(\"tt\"),i=a.getAttribute(\"lang\")||a.getAttribute(\"xml:lang\"),(void 0===e.language||null===e.language)&&(e.language=i),n=Array.prototype.slice.call(t.querySelectorAll(\"body p[begin]\")),n.forEach(function(t,i,o){var r,a,s,l,u;l=t.getAttribute(\"begin\"),t.removeAttribute(\"begin\"),null!=t.getAttribute(\"end\")?(s=t.getAttribute(\"end\"),t.removeAttribute(\"end\")):null!=n[i+1]&&(s=n[i+1].getAttribute(\"begin\")),a=new Hn(kt.flattenTimecode(l),kt.flattenTimecode(s),\"cue_\"+i),r=t.getAttributeNS(\"http://www.w3.org/ns/ttml#styling\",\"textAlign\"),null!=r&&(a.align=\"center\"===r?\"middle\":r,t.removeAttributeNS(\"http://www.w3.org/ns/ttml#styling\",\"textAlign\")),u=ae.serialize(t),u=u.replace(/\\s*xmlns=\"[^\"]*\"/,\"\"),a.html=u,u=u.replace(/^<p[^>]*>/,\"\"),u=u.replace(/<\\/p>$/,\"\"),u=u.replace(/<br\\/>/,\"\\n\"),u=u.replace(/<span style=\"([^\"]*)\"/,\"<c.$1\"),u=u.replace(/<\\/span>/,\"</c>\"),a.text=u,e.cues.push(a)}),e},n(Xn,puremvc.Proxy),Xn.NAME=\"LiveCaptionProxy\",Xn.prototype.data={base:\"http://test.plymedia.com.s3.amazonaws.com/online/Akamai_\",interval:1e3},Xn.prototype.caption=null,Xn.prototype.head=null,Xn.prototype.script=null,Xn.prototype.timeout=null,Xn.prototype.getURL=function(){return this.data.url},Xn.prototype.setURL=function(e){return this.data.url=e,e},Xn.prototype.start=function(){this.send()},Xn.prototype.poll=function(){var e,t=this;e=setTimeout(function(){t.send()},this.data.interval||1e3)},Xn.prototype.send=function(){null!=this.script&&this.head.removeChild(this.script),this.script=kt.loadScript(this.data.base+this.data.url+\".js?nocache=\"+Date.now())},Xn.prototype.stop=function(){clearTimeout(timeout)},Xn.prototype.parse=function(e){var t,n,i,o,r;if(e.Stream===this.data.url&&!(null!=this.caption&&this.caption.id>=e.Ticks)){for(this.caption=new Hn(kt.flattenTimecode(e.From),kt.flattenTimecode(e.To),e.Ticks),this.caption.text=e.Text,t=\"\",r=e.Text.split(\"\\n\"),i=0,o=r.length;o>i;i++)n=r[i],\"\"!==t&&(t+=\"<br />\"),t+=\"<span>\"+n+\"</span>\";return this.caption.html=\"<p>\"+t+\"</p>\",this.sendNotification(Yo.CUE_CHANGE,[this.caption]),this.caption}};var Yo={VISIBILITY_CHANGE:\"captioningvisibilitychange\",ENABLED:\"captioningenabled\",TRACKS_LOADED:\"captioningtracksloaded\",TRACK_SELECTED:\"captioningtrackselected\",CUE_CHANGE:\"captioningcuechange\",SETTINGS_VISIBILITY_CHANGE:\"captioningsettingsvisibility\",TOGGLE_SETTINGS_VISIBILITY:\"togglesettingsvisibility\",SETTINGS_CHANGE:\"captioningsettingschange\"};n(Zn,Te),Zn.prototype.execute=function(e){var t,n,o,r,a,s,l,u,c;if(s=e.getBody(),l=this.proxy.getTrack(),null!=l){for(t=l.activeCues,r=l.cues,n=!1,u=0,c=r.length;c>u;u++)o=r[u],s>=o.startTime&&s<o.endTime?i.call(t,o)>=0||(t.push(o),n=!0):(a=t.indexOf(o),-1!==a&&(t.splice(a,1),n=!0));n===!0&&this.sendNotification(Yo.CUE_CHANGE,t)}},n(Jn,Te),Jn.prototype.execute=function(e){var t,n;return t=e.getBody(),n=e.getBody().track,this.proxy.setTracks(n),null==n?void this.sendNotification(Yo.ENABLED,!1):(this.proxy.selectRenderer(t),void this.sendNotification(Yo.ENABLED,!0))},n(Kn,ln),Kn.prototype.execute=function(e){this.proxy.setHidden(!e.getBody()),Kn.__super__.execute.call(this,e)};var Xo={SETTING_CHANGE:\"settingchange\",UPDATE_SETTINGS:\"updatesettings\"};n($n,puremvc.SimpleCommand),$n.prototype.execute=function(e){var t,n,i;t=this.facade.retrieveProxy(ni.NAME),n=t.getTrack(),null==n&&(null!=(i=t.getTracks())?i.length:void 0)>0&&(n=t.autoSelectTrack()),(null!=n?n.isLive:void 0)===!0&&(this.facade.removeCommand(Mo.TIME_UPDATE),t=this.facade.retrieveProxy(Xn.NAME),null==t&&(t=new Xn,this.facade.registerProxy(t)),t.setURL(n.src),t.start())},CaptionParsers={\"application/ttml+xml\":new Yn,\"application/x-subrip\":new Wn,\"text/vtt\":new qn,undefined:new Yn},n(Qn,Rt),Qn.NAME=\"CaptioningWrapper\",Qn.prototype.flashPlugins=[{id:\"AdobeCaptionPlugin\",src:\"#{paths.resources}plugins/AdobeCaptionPlugin.swf\",blocking:!1,host:\"akamai\",main:\"AdobeCaptionPlugin\",type:\"application/x-shockwave-flash\"},{id:\"AMPCaptionPlugin\",src:\"#{paths.resources}plugins/AMPCaptionPlugin.swf\",blocking:!1,host:\"akamai\",main:\"AMPCaptionPlugin\",type:\"application/x-shockwave-flash\"},{id:\"CaptionSettingsPlugin\",src:\"#{paths.resources}plugins/CaptionSettingsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"CaptionSettingsPlugin\",type:\"application/x-shockwave-flash\"}],Qn.prototype.flashView={elements:{captionDisplay:{attributes:{defaultMessage:\"Sorry! No captions available for this stream\",initState:\"cookie\",position:\"relative\",settingsEnabled:\"true\",style:\"bottom: 0px; windowColor :0x000000; windowOpacity: 0; font: Monospaced Serif; fontColor: 0xffffff; fontOpacity: 1; fontBGColor: 0x000000; fontBGOpacity: 0; edgeType: none; edgeColor: 0x000000; edgeOpacity: 1; scroll: Pop-Out; fontSize: 12;\"\n}},controls:{elements:{captionBtn:{}}}}},Qn.prototype.hidden=!0,Qn.prototype.createXML=function(e){var t,n,i,o;if(i=null!=(o=this.config.flash)?o.subply:void 0,null!=i)try{null!=i.timeMethod&&(n=e.getElementsByTagName(\"player\")[0],n.setAttribute(\"subply_time_method\",i.timeMethod)),null!=i.plugin&&(t=e.firstChild,i=e.getElementsByTagName(\"subply\")[0],null==i&&(i=e.createElement(\"subply\"),t.appendChild(i)),this.createProperty(e,\"SUBPLY_URL\",this.config.flash.subply.plugin,i))}catch(r){this.facade.logger.error(\"[AMP CAPTIONING ERROR]\",r)}},Qn.prototype.createFlashVars=function(e){var t,n,i,o,r,a,s,l;if(i=this.player.config,null!=(null!=(s=i.media)?s.track:void 0)){if(o=kt.selectTrack(i.media.track,\"captions\"),null!=o.src&&\"\"!==o.src&&(e.caption_url=o.src),i.media.track.length>1){for(n=[],t=[],l=i.media.track,r=0,a=l.length;a>r;r++)o=l[r],n.push(o.src),t.push(o.srclang);e.caption_url=n.join(\",\"),e.caption_language=t.join(\",\")}e.caption_type=null!=o.type?encodeURIComponent(o.type):\"application/ttml+xml\"}null==e.caption_language&&(e.caption_language=\"en-us\")},Qn.prototype.listNotificationInterests=function(){return Qn.__super__.listNotificationInterests.apply(this,arguments).concat([Mo.MEDIA_CHANGE,Po.CAPTIONING_REQUEST,Po.CAPTION_LANG_CHANGE,Po.INITIALIZED])},Qn.prototype.handleNotification=function(e){var t,n,i,o,r;switch(Qn.__super__.handleNotification.call(this,e),i=e.getName(),t=e.getBody(),i){case Po.CAPTION_LANG_CHANGE:r=\"\";break;case Po.CAPTIONING_REQUEST:r=\"visibilitychange\",t=t.enabled,this.hidden=!t;break;case Mo.MEDIA_CHANGE:n=t,null!=n.track&&(o=kt.selectTrack(n.track,\"captions\"),null!=(null!=o?o.src:void 0)&&\"\"!==o.src&&(n.captioningUrl=o.src),n.captioningType=o.type||\"application/ttml+xml\");break;case Po.INITIALIZED:this.hidden=!this.player.getMediaElement().getPlayerProperty(\"isCaptionVisible\")}null!=r&&\"\"!==r&&this.dispatchEvent(new Nt(r,t))},Qn.prototype.getHidden=function(){return this.hidden},Qn.prototype.setHidden=function(e){return this.hidden=e,this.facade.getMediaElement().setPlayerProperty(\"captionDisplay\",{visible:!e}),e},Qn.prototype.selectTrackByIndex=function(e){},Qn.prototype.selectTrackByLanguage=function(e){this.facade.getMediaElement().setTrackByLanguage(e)},Qn.prototype.changeSettings=function(e){return null!=(null!=e?e.fontFamily:void 0)&&\"object\"==typeof e.fontFamily?this.facade.getMediaElement().setPlayerProperty(\"captionSettingsUI\",e):(this.hidden=!e.visible,void this.facade.getMediaElement().setPlayerProperty(\"captionDisplay\",{visible:e.visible,style:this.parseObject(e)}))},Qn.prototype.parseObject=function(e){var t,n,i,o;t={};try{for(i in e)switch(i){case\"fontFamily\":t.font=e[i];break;case\"fontColor\":case\"backgroundColor\":case\"edgeColor\":case\"windowColor\":n=\"fontColor\"===i?\"font\":\"backgroundColor\"===i?\"fontBG\":\"edgeColor\"===i?\"edge\":\"window\",-1!==(null!=(o=e[i])?o.indexOf(\"rgba\"):void 0)&&(t[n+\"Color\"]=this.parseRGBA(e[i]),t[n+\"Opacity\"]=e[i].replace(/^.*,(.+)\\)/,\"$1\"));break;default:t[i]=e[i]}delete t.visible}catch(r){this.facade.logger.error(\"Captioning Settings Parse Error\",r)}return t},Qn.prototype.parseRGBA=function(e){return e=e.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i),e&&4===e.length?\"0x\"+(\"0\"+parseInt(e[1],10).toString(16)).slice(-2)+(\"0\"+parseInt(e[2],10).toString(16)).slice(-2)+(\"0\"+parseInt(e[3],10).toString(16)).slice(-2):\"\"},tn.registerPlugin(\"captioning\",\"flash\",Qn),ei.prototype.kind=null,ei.prototype.src=null,ei.prototype.language=null,ei.prototype.cues=null,ei.prototype.label=null,ei.prototype.activeCues=null,ei.prototype.type=null,ei.prototype.styles=null,ei.prototype.isLive=!1,n(ti,Y),ti.prototype.initializeNotifier=function(e){ti.__super__.initializeNotifier.call(this,e),this.plugin=this.facade.retrieveProxy(a.NAME),this.media=this.facade.player.retrieveProxy(wt.NAME)},n(ni,Ie),ni.NAME=a.NAME,ni.TEXT_TRACK_RENDERER=\"caption-text\",ni.prototype.defaults={useNative:!1},ni.prototype.hidden=!0,ni.prototype.tracks=null,ni.prototype.track=null,ni.prototype.activeCaptions=null,ni.prototype.captions=null,ni.prototype.loaded=!0,ni.prototype.rendererMap=null,ni.prototype.settings=null,ni.prototype.getSettings=function(){return this.settings},ni.prototype.setSettings=function(e){this.settings=e},ni.prototype.getUseNative=function(){return this.getValue(\"useNative\")},ni.prototype.getTracks=function(){return this.tracks},ni.prototype.setTracks=function(e){var t,n,i,o,r,a,s,l=this;if(this.tracks=[],this.track=null,null!=e){for(t=e.length,i=0,r=function(){i++,i===t&&(l.sendNotification(Yo.TRACKS_LOADED,l.tracks),l.autoSelectTrack())},a=0,s=e.length;s>a;a++)n=e[a],o=new ei(n,r),this.tracks.push(o);return e}},ni.prototype.registerRenderer=function(e){null!=e&&(e.proxy=this,this.rendererMap.push(e))},ni.prototype.retrieveRenderer=function(e){var t,n,i,o;for(o=this.rendererMap,n=0,i=o.length;i>n;n++)if(t=o[n],t.getRendererName()===e)return t},ni.prototype.removeRenderer=function(e){var t,n;return n=this.retrieveRenderer(e),n.proxy=null,null==n?null:(t=this.rendererMap.indexOf(n),this.rendererMap.splice(t,1),n)},ni.prototype.getRenderer=function(){return this.renderer},ni.prototype.setRenderer=function(e){return e===this.renderer?e:(null!=this.renderer&&this.facade.removeMediator(ni.TEXT_TRACK_RENDERER),this.renderer=e,null!=this.renderer&&this.facade.registerMediator(this.renderer),e)},ni.prototype.selectRenderer=function(e){var t,n,i,o,r,a,s,l,u;if(n=null,o=e.track,null!=o){for(r=0,s=o.length;s>r;r++){for(i=o[r],u=this.rendererMap,a=0,l=u.length;l>a;a++)if(t=u[a],t.canUseResource(i)===!0){n=t;break}if(null!=n)break}return this.setRenderer(n),n}},ni.prototype.getTrack=function(){return this.track},ni.prototype.setTrack=function(e){return this.track=e,this.captions=this.track.cues,this.activeCaptions=[],this.sendNotification(Yo.TRACK_SELECTED,this.track),e},ni.prototype.selectTrackByIndex=function(e){var t;return e>=0&&e<this.tracks.length&&(t=this.tracks[e],this.setTrack(t)),t},ni.prototype.selectTrackByLanguage=function(e){var t,n,i,o,r;for(r=this.tracks,i=0,o=r.length;o>i;i++)if(t=r[i],t.language===e){n=t;break}return null!=n&&this.setTrack(n),n},ni.prototype.getHidden=function(){return this.hidden},ni.prototype.setHidden=function(e){this.hidden=e;try{localStorage.setItem(Oo.PREFIX+\"caption-enabled\",!this.hidden)}catch(t){this.facade.logger.error(\"LocalStorage Not Supported on this Browser\",t)}return e},ni.prototype.autoSelectTrack=function(){var e,t,n;return e=null!=(n=this.facade.player.retrieveProxy(rt.NAME))?n.getLanguage():void 0,null!=e&&(e=e.split(\"-\").shift(),t=this.selectTrackByLanguage(e)),null==t&&(t=this.tracks[0],this.setTrack(t)),t},n(ii,ti),ii.prototype.componentName=ni.TEXT_TRACK_RENDERER,ii.prototype.captionText=null,ii.prototype.getRendererName=function(){return\"html\"},ii.prototype.canUseResource=function(e){var t;return null==e?!1:(t=[kt.mimeTypes.srt,kt.mimeTypes.ttml,kt.mimeTypes.vtt],-1!==t.indexOf(e.type))},ii.prototype.getCaptionDisplayHeight=function(){var e,t,n;for(e=0,t=n=this.viewComponent.childNodes.length;t&&(--t,3!==n||0!==t);)e+=kt.getActualSize(this.viewComponent.childNodes[t]).height;return e+\"px\"},ii.prototype.scrollCaptions=function(e,t,n){var i,o,r=this;null==e&&(e=this.viewComponent.scrollHeight),null==t&&(t=this.viewComponent.scrollTop),null==n&&(n=20),o=(e-t)/n,(i=function(){var n;if(e>t)return r.viewComponent.scrollTop=t+=o,setTimeout(i,20);for(n=[];r.viewComponent.childNodes.length>2;)n.push(r.viewComponent.removeChild(r.viewComponent.firstChild));return n})()},ii.prototype.listNotificationInterests=function(){return[Yo.CUE_CHANGE,Mo.CHANGE_MEDIA]},ii.prototype.handleNotification=function(e){var t,n,i,o,r,a,s,l,u,c,d,p;switch(a=e.getName(),t=e.getBody(),a){case Mo.CHANGE_MEDIA:this.viewComponent.innerHTML=\"\";break;case Yo.CUE_CHANGE:for(n=\"\",l=0,c=t.length;c>l;l++)o=t[l],n+=o.html;switch(this.plugin.getSettings().scroll){case\"popout\":this.viewComponent.innerHTML=n;break;case\"rollon\":case\"painton\":for(s=document.createElement(\"div\"),s.innerHTML=n,p=s.childNodes,r=u=0,d=p.length;d>u;r=++u)i=p[r],this.viewComponent.appendChild(i);this.viewComponent.style.maxHeight=this.getCaptionDisplayHeight(),this.scrollCaptions()}}},n(oi,q),oi.prototype.video=null,oi.prototype.index=-1,oi.prototype.plugin=null,oi.NAME=ni.TEXT_TRACK_RENDERER,oi.prototype.getRendererName=function(){return\"native\"},oi.prototype.canUseResource=function(e){var t,n,i,o;return null==e?!1:(t=null!=document.createElement(\"video\").textTracks)?(i=[kt.mimeTypes.vtt,kt.mimeTypes.cea608,kt.mimeTypes.cea708],n=e.type,n===i[1]||n===i[2]?!0:(o=/iphone|ipad/.test(kt.getDevice())||this.proxy.getUseNative(),o?-1!==i.indexOf(e.type):!1)):!1},oi.prototype.onRegister=function(){this.plugin=this.facade.retrieveProxy(ni.NAME),this.facade.player.getMediaElement().textTracks.addEventListener(\"addtrack\",this.updateTrack.bind(this))},oi.prototype.listNotificationInterests=function(){return[Yo.VISIBILITY_CHANGE,Yo.TRACK_SELECTED,Yo.TRACKS_LOADED,Mo.LOADED_METADATA,Mo.CAN_PLAY_THROUGH]},oi.prototype.handleNotification=function(e){var t,n,i,o,r,a,s;switch(t=e.getBody(),e.getName()){case Yo.TRACKS_LOADED:this.tracks=t;break;case Yo.TRACK_SELECTED:this.facade.player.getMediaElement().textTracks.length&&(i=this.facade.player.getMediaElement().textTracks[this.index]),null!=i&&(i.mode=\"hidden\"),this.index=this.plugin.getTracks().indexOf(t),this.updateTrack();break;case Yo.VISIBILITY_CHANGE:case Mo.CAN_PLAY_THROUGH:this.updateTrack();break;case Mo.LOADED_METADATA:if(null==this.tracks)return;for(o=this.facade.player.getMediaElement(),s=this.tracks,r=0,a=s.length;a>r;r++)i=s[r],i.type===kt.mimeTypes.vtt&&(n=document.createElement(\"track\"),n.src=i.src,null!=i.kind&&(n.kind=i.kind),null!=i.srclang&&(n.srclang=i.srclang),null!=i.label&&(n.label=i.label),n[\"default\"]=\"default\"in i,o.appendChild(n));this.tracks=null}},oi.prototype.updateTrack=function(){var e,t,n,i,o;for(o=this.facade.player.getMediaElement().textTracks,e=n=0,i=o.length;i>n;e=++n)if(t=o[e],/subtitles|captions/.test(t.kind)){if(null==t)return;this.index=e,t.mode=this.plugin.getHidden()?\"hidden\":\"showing\"}},n(ri,ti),ri.prototype.componentName=\"captioning-settings\",ri.prototype.captioningObject={\"default\":{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",scroll:\"popout\",fontColor:\"rgba(255,255,255,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0.5)\"},appliedStyleText:\"\",selected:{fontFamily:null,size:null,fontColor:null,edgeType:null,edgeColor:null,backgroundColor:null,windowColor:null},preset1:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,255,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0)\"},preset2:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,0,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0)\"},preset3:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,255,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 0)\",backgroundColor:\"rgba(0,0,0,1)\",windowColor:\"rgba(0,0,0,0)\"},preset4:{fontFamily:\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",size:\"1.3em\",fontColor:\"rgba(255,255,0,1)\",edgeType:\"text-shadow: 0px 0px 0px\",edgeColor:\"rgba(0, 0, 0, 1)\",backgroundColor:\"rgba(0,0,0,0)\",windowColor:\"rgba(0,0,0,0.5)\"},instance:null},ri.prototype.settingsUiVisible=!1,ri.prototype.captionningStyle=null,ri.prototype.swatchColorCurr=null,ri.prototype.swatchOpacityCurr=null,ri.prototype.colorPicker=null,ri.prototype.colorPickerOpacity=null,ri.prototype.advancedSettingContainer=null,ri.prototype.list={font:null,language:null,edge:null,size:null,scroll:null},ri.prototype.picker={color:null,background:null,edge:null,window:null},ri.prototype.toggle={ON:null,OFF:null,disabled:!1},ri.prototype.scroll={type:\"popout\",typeSpeed:5,lines:2,scrollTimer:[],speed:10,popout:null,rollup:null,painton:null},ri.prototype.onRegister=function(){var e,t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v,_,b,E=this;for(ri.__super__.onRegister.call(this),m=this.create(\"captioning-titlebar\"),y=this.create(\"captioning-title\",m,\"span\",this.localizationManager.getString(Q.MSG_CC_TITLE)),this.toggle.OFF=this.create(\"captioning-toggle-btn\",m,\"div\",\"OFF\"),this.toggle.ON=this.create(\"captioning-toggle-btn\",m,\"div\",\"ON\"),_t.create(this.toggle.ON,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.toggle.disabled||E.toggleButtonHandler(!0),!1}),this.toggle.disabled||ot.add(\"captioning-floater-btnselected\",this.toggle.OFF,this.classList.prefix),_t.create(this.toggle.OFF,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.toggle.disabled||E.toggleButtonHandler(!1),!1}),n=this.create(\"captioning-row\"),i=this.create(\"captioning-label\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_LANGUAGE)),this.list.language=this.create(\"captioning-dropdown\",n,\"select\"),this.languageListPopulate(),_t.create(this.list.language,\"change\",function(e){var t;return e.stopImmediatePropagation(),t=\"None\"!==e.target.selectedValue,E.sendNotification(Yo.VISIBILITY_CHANGE,t),t&&E.facade.setTrack(E.facade.selectTrackByIndex(e.target.selectedIndex)),!1}),i=this.create(\"captioning-label\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_PRESETS)),l=this.create([\"captioning-preset\",\"captioning-preset1\"],n,null,\"Aa\"),u=this.create([\"captioning-preset\",\"captioning-preset2\"],n,null,\"Aa\"),c=this.create([\"captioning-preset\",\"captioning-preset3\"],n,null,\"Aa\"),d=this.create([\"captioning-preset\",\"captioning-preset4\"],n,null,\"Aa\"),_t.create(l,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.captioningObject.selected=E.cloneObject(E.captioningObject.preset1),E.applyCaptioningStyle(),!1}),_t.create(u,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.captioningObject.selected=E.cloneObject(E.captioningObject.preset2),E.applyCaptioningStyle(),!1}),_t.create(c,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.captioningObject.selected=E.cloneObject(E.captioningObject.preset3),E.applyCaptioningStyle(),!1}),_t.create(d,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.captioningObject.selected=E.cloneObject(E.captioningObject.preset4),E.applyCaptioningStyle(),!1}),this.advancedSettingContainer=this.create(\"captioning-advanced-container\"),n=this.create(\"captioning-row\",this.advancedSettingContainer),i=this.create(\"captioning-label\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_FONT)),this.list.font=this.create(\"captioning-dropdown\",n,\"select\"),this.create(null,this.list.font,\"option\",\"Monospaced Serif\").value=\"'Courier New', Courier, 'Nimbus Mono L', 'Cutive Mono', monospace\",this.create(null,this.list.font,\"option\",\"Proportional Serif\").value=\"'Times New Roman', Times, Georgia, Cambria, 'PT Serif Caption', serif\",this.create(null,this.list.font,\"option\",\"Monospaced Sans-Serif\").value=\"'Deja Vu Sans Mono', 'Lucida Console', Monaco, Consolas, 'PT Mono', monospace\",this.create(null,this.list.font,\"option\",\"Proportional Sans-Serif\").value=\"Roboto, 'Arial Unicode Ms', Arial, Helvetica, Verdana, 'PT Sans Caption', sans-serif\",this.create(null,this.list.font,\"option\",\"Casual\").value=\"'Comic Sans MS', Impact, Handlee, fantasy\",this.create(null,this.list.font,\"option\",\"Cursive\").value=\"'Monotype Corsiva', 'URW Chancery L', 'Apple Chancery', 'Dancing Script', cursive\",this.create(null,this.list.font,\"option\",\"Small Capitals\").value=\"'Arial Unicode Ms', Arial, Helvetica, Verdana, 'Marcellus SC', sans-serif; font-variant: small-caps\",_t.create(this.list.font,\"change\",function(e){return e.stopImmediatePropagation(),E.captioningObject.selected.fontFamily=e.target.value,E.applyCaptioningStyle(!1),!1}),n.appendChild(this.list.font),i=this.create(\"captioning-label\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_EDGE)),this.list.edge=this.create(\"captioning-dropdown\",n,\"select\"),this.create(null,this.list.edge,\"option\",\"None\").value=\"text-shadow: 0px 0px 0px\",this.create(null,this.list.edge,\"option\",\"Depressed\").value=\"text-shadow: 0px 1px 0px\",this.create(null,this.list.edge,\"option\",\"Left Drop Shadow\").value=\"text-shadow: -3px 3px 2px\",this.create(null,this.list.edge,\"option\",\"Raised\").value=\"text-shadow: 0px 1px 1px\",this.create(null,this.list.edge,\"option\",\"Right Drop Shadow\").value=\"text-shadow: 3px 3px 2px\",this.create(null,this.list.edge,\"option\",\"Uniform\").value=\"text-shadow: 0px 0px 4px\",_t.create(this.list.edge,\"change\",function(e){return e.stopImmediatePropagation(),E.captioningObject.selected.edgeType=e.target.value,E.applyCaptioningStyle(!1),!1}),n=this.create(\"captioning-row\",this.advancedSettingContainer),this.create(\"captioning-label\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_SIZE)),this.list.size=this.create(\"captioning-dropdown\",n,\"select\"),this.create(null,this.list.size,\"option\",\"Small\").value=\".8em\",this.create(null,this.list.size,\"option\",\"Medium\").value=\"1.3em\",this.create(null,this.list.size,\"option\",\"Large\").value=\"2.3em\",this.list.size.selectedIndex=1,_t.create(this.list.size,\"change\",function(e){return e.stopImmediatePropagation(),E.captioningObject.selected.size=e.target.value,E.applyCaptioningStyle(!1),!1}),this.create(\"captioning-label\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_SCROLL)),this.list.scroll=this.create(\"captioning-dropdown\",n,\"select\"),this.create(null,this.list.scroll,\"option\",\"Pop-Out\").value=\"popout\",this.create(null,this.list.scroll,\"option\",\"Roll-On\").value=\"rollon\",this.create(null,this.list.scroll,\"option\",\"Paint-On\").value=\"painton\",_t.create(this.list.scroll,\"change\",function(e){e.stopImmediatePropagation(),E.captioningObject.selected.scroll=e.target.value,E.scroll.type=e.target.value,E.plugin.setSettings({scroll:E.scroll.type});try{\"painton\"===e.target.value?ot.add(\"akamai-captioning-typed\",E.facade.proxy.renderer.viewComponent):ot.remove(\"akamai-captioning-typed\",E.facade.proxy.renderer.viewComponent)}catch(t){E.facade.logger.error(\"AMP Captioning Error\",t)}return!1}),n=this.create(\"captioning-row\",this.advancedSettingContainer),this.create(\"captioning-label-small\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_COLOR)),this.picker.color=this.create(\"captioning-color-picker\",n),this.picker.color.style.backgroundColor=this.captioningObject[\"default\"].fontColor,_t.create(this.picker.color,_t.CLICK,function(e){var t,n;return e.stopImmediatePropagation(),E.colorPickerHandler(),E.colorPicker.style.display=\"block\"===E.colorPicker.style.display?\"none\":\"block\",\"block\"===E.colorPicker.style.display&&(null!=(n=E.swatchColorCurr)&&(n.style.borderColor=\"rgba(0,0,0,0.3)\"),E.colorPicker.style.left=\"152px\",E.colorPicker.name=\"fontColor\",E.captioningObject.instance=E.picker.color,-1!==E.picker.color.style.backgroundColor.indexOf(\"rgba\")&&(t=E.picker.color.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),E.colorPickerOpacity.value=null!=t?t:1),!1}),this.create(\"captioning-label-small\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_BACKGROUND)),this.picker.background=this.create(\"captioning-color-picker\",n),this.picker.background.style.backgroundColor=this.captioningObject[\"default\"].backgroundColor,_t.create(this.picker.background,_t.CLICK,function(e){var t,n;return e.stopImmediatePropagation(),E.colorPickerHandler(),E.colorPicker.style.display=\"block\"===E.colorPicker.style.display?\"none\":\"block\",\"block\"===E.colorPicker.style.display&&(null!=(n=E.swatchColorCurr)&&(n.style.borderColor=\"rgba(0,0,0,0.3)\"),E.colorPicker.style.left=\"264px\",E.colorPicker.name=\"backgroundColor\",E.captioningObject.instance=E.picker.background,-1!==E.picker.background.style.backgroundColor.indexOf(\"rgba\")&&(t=E.picker.background.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),E.colorPickerOpacity.value=null!=t?t:1),!1}),this.create(\"captioning-label-small\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_EDGE)),this.picker.edge=this.create(\"captioning-color-picker\",n),this.picker.edge.style.backgroundColor=this.captioningObject[\"default\"].edgeColor,_t.create(this.picker.edge,_t.CLICK,function(e){var t,n;return e.stopImmediatePropagation(),E.colorPickerHandler(),E.colorPicker.style.display=\"block\"===E.colorPicker.style.display?\"none\":\"block\",\"block\"===E.colorPicker.style.display&&(null!=(n=E.swatchColorCurr)&&(n.style.borderColor=\"rgba(0,0,0,0.3)\"),E.colorPicker.style.left=\"212px\",E.colorPicker.name=\"edgeColor\",E.captioningObject.instance=E.picker.edge,-1!==E.picker.edge.style.backgroundColor.indexOf(\"rgba\")&&(t=E.picker.edge.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),E.colorPickerOpacity.value=null!=t?t:1),!1}),this.create(\"captioning-label-small\",n,\"span\",this.localizationManager.getString(Q.MSG_CC_WINDOW)),this.picker.window=this.create(\"captioning-color-picker\",n),this.picker.window.style.backgroundColor=this.captioningObject[\"default\"].windowColor,_t.create(this.picker.window,_t.CLICK,function(e){var t,n;return e.stopImmediatePropagation(),E.colorPickerHandler(),E.colorPicker.style.display=\"block\"===E.colorPicker.style.display?\"none\":\"block\",\"block\"===E.colorPicker.style.display&&(null!=(n=E.swatchColorCurr)&&(n.style.borderColor=\"rgba(0,0,0,0.3)\"),E.colorPicker.style.left=\"300px\",E.colorPicker.name=\"windowColor\",E.captioningObject.instance=E.picker.window,-1!==E.picker.window.style.backgroundColor.indexOf(\"rgba\")&&(t=E.picker.window.style.backgroundColor.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\")[3]),E.colorPickerOpacity.value=null!=t?t:1),!1}),p=this.create([\"caption-text\",\"caption-text-preview\"]),h=this.create(null,p,\"p\",this.localizationManager.getString(Q.MSG_CC_PREVIEW_TEXT)),n=this.create(\"captioning-footer-container\"),e=this.create(\"captioning-footer-button\",n,\"div\",this.localizationManager.getString(Q.MSG_CC_APPLY)),t=this.create(\"captioning-footer-button\",n,\"div\",this.localizationManager.getString(Q.MSG_CC_CANCEL)),f=this.create(\"captioning-footer-button\",n,\"div\",this.localizationManager.getString(Q.MSG_CC_RESET)),this.facade.getViewComponent().clientWidth>=0&&(v=this.create(\"captioning-advanced-button\",n,\"div\",this.localizationManager.getString(Q.MSG_CC_SHOW_ADVANCED)),_t.create(v,_t.CLICK,function(e){return e.stopImmediatePropagation(),\"block\"===E.advancedSettingContainer.style.display?(e.target.innerHTML=E.localizationManager.getString(Q.MSG_CC_SHOW_ADVANCED),E.advancedSettingContainer.style.display=\"none\",E.colorPicker.style.display=\"none\"):(e.target.innerHTML=E.localizationManager.getString(Q.MSG_CC_HIDE_ADVANCED),E.advancedSettingContainer.style.display=\"block\"),!1})),_t.create(e,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.sendNotification(Yo.SETTINGS_VISIBILITY_CHANGE,E.settingsUiVisible),E.applyCaptioningStyle(!1,!0),E.sendNotification(Yo.SETTINGS_CHANGE,E.captioningObject.selected),!1}),_t.create(t,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.sendNotification(Yo.SETTINGS_VISIBILITY_CHANGE,E.settingsUiVisible),!1}),_t.create(f,_t.CLICK,function(e){return e.stopImmediatePropagation(),E.colorPicker.style.display=\"none\",E.applyCaptioningStyle(!0),!1}),this.captionningStyle=this.create(null,document.getElementsByTagName(\"head\")[0],\"style\"),this.captionningStyle.type=\"text/css\",a=[\"#000000\",\"#660000\",\"#990000\",\"#ff0000\",\"#000066\",\"#660066\",\"#990066\",\"#ff0066\",\"#006600\",\"#666600\",\"#996600\",\"#ff6600\",\"#006666\",\"#666666\",\"#996666\",\"#ff6666\",\"#009900\",\"#669966\",\"#999900\",\"#ff9900\",\"#009966\",\"#669966\",\"#999966\",\"#ff9966\",\"#00ff00\",\"#66ff00\",\"#99ff00\",\"#ffff00\",\"#00ff66\",\"#66ff66\",\"#99ff66\",\"#ffff66\",\"#000099\",\"#660099\",\"#990099\",\"#ff0099\",\"#0000ff\",\"#6600ff\",\"#9900ff\",\"#ff00ff\",\"#006699\",\"#666699\",\"#996699\",\"#ff6699\",\"#0066ff\",\"#6666ff\",\"#9966ff\",\"#ff66ff\",\"#009999\",\"#669999\",\"#999999\",\"#ff9999\",\"#0099ff\",\"#6699ff\",\"#9999ff\",\"#ff99ff\",\"#0099ff\",\"#66ff99\",\"#99ff99\",\"#ffff99\",\"#00ffff\",\"#66ffff\",\"#99ffff\",\"#ffffff\"],this.colorPicker=this.create(\"colorpicker-palette\",this.viewComponent.parentElement),g=this.create(\"colorpicker-swatch\",!1,null,\"&nbsp;\"),_=0,b=a.length;b>_;_++)r=a[_],g.style.backgroundColor=r,o=g.cloneNode(),_t.create(o,_t.CLICK,function(e){return e.stopImmediatePropagation(),null!==E.swatchColorCurr&&(E.swatchColorCurr.style.borderColor=\"rgba(0,0,0,0.3)\"),E.swatchColorCurr=e.target,E.swatchColorCurr.style.borderColor=\"rgba(255, 50, 50, 1)\",E.captioningObject.instance.style.backgroundColor=E.captioningObject.selected[E.colorPicker.name]=E.toRGBA(e.target.style.backgroundColor),E.applyCaptioningStyle(!1),!1}),this.colorPicker.appendChild(o);this.create(\"opacity-label\",this.colorPicker,\"span\",this.localizationManager.getString(Q.MSG_CC_OPACITY)),this.colorPickerOpacity=this.create(\"colorpicker-slider\",this.colorPicker,\"input\"),this.colorPickerOpacity.type=\"range\",this.colorPickerOpacity.min=0,this.colorPickerOpacity.max=1,this.colorPickerOpacity.step=.1,this.colorPickerOpacity.value=1,_t.create(this.colorPickerOpacity,\"change\",function(e){return e.stopImmediatePropagation(),E.captioningObject.instance.style.backgroundColor=E.captioningObject.selected[E.colorPicker.name]=E.toRGBA(E.captioningObject.instance.style.backgroundColor),E.applyCaptioningStyle(!1),!1}),this.swatchOpacityCurr=this.colorPickerOpacity,null!=localStorage.getItem(Oo.PREFIX+\"captioningDefault\")?(this.captioningObject.selected=JSON.parse(localStorage.getItem(Oo.PREFIX+\"captioningDefault\")),this.applyCaptioningStyle(!1,!this.facade.getHidden())):(s=!(null!=this.facade.config.style||\"undefined\"!==this.facade.config.style),s||(this.captioningObject.selected=this.cloneObject(this.facade.config.style)),this.applyCaptioningStyle(s)),this.plugin.setSettings(Object.keys(this.captioningObject.selected).length>0?this.captioningObject.selected:this.captioningObject[\"default\"]),this.toggleButtonHandler(!this.facade.getHidden(),!1)},ri.prototype.toRGBA=function(e){var t,n;return n=e.replace(/^rgba?\\(|\\s+|\\)$/g,\"\").split(\",\"),t=\"rgba(\"+n[0]+\",\"+n[1]+\",\"+n[2]+\",\"+this.swatchOpacityCurr.value+\")\"},ri.prototype.languageListPopulate=function(){var e,t,n,i,o,r;if(n=this.facade.getTracks(),null!=n){for(this.list.language.innerHTML=\"\",i=0,o=n.length;o>i;i++)t=n[i],e=t.language,e=this.facade.player.retrieveProxy(rt.NAME).getLanguageString(e),null!=e&&\"\"!==e&&(this.create(null,this.list.language,\"option\",e).value=t.language);this.toggle.disabled=0===this.list.language.childElementCount,this.toggle.disabled&&this.create(null,this.list.language,\"option\",\"None\"),this.list.language.value=null!=(r=this.facade.getTrack())?r.language:void 0}},ri.prototype.colorPickerHandler=function(e){var t=this;return null==e&&(e=!1),e?_t.unbind(document,_t.CLICK):void _t.create(document,_t.CLICK,function(e){return e.stopImmediatePropagation(),t.colorPickerHandler(!0),\"akamai-colorpicker-palette\"!==e.target.className&&\"akamai-opacity-label\"!==e.target.className&&\"akamai-colorpicker-slider\"!==e.target.className&&\"none\"!==t.colorPicker.style.display&&(t.colorPicker.style.display=\"none\"),!1})},ri.prototype.cloneObject=function(e){var t,n;t={};for(n in e)t[n]=e[n];return t},ri.prototype.applyCaptioningStyle=function(e,t,n){var i,o,r,a,s,l;if(null==e&&(e=!1),null==t&&(t=!1),null==n&&(n=!1),e?(this.captioningObject.selected=this.cloneObject(this.captioningObject[\"default\"]),this.list.font.value=this.captioningObject[\"default\"].fontFamily,this.list.edge.value=null!=this.captioningObject[\"default\"].edgeType?this.captioningObject[\"default\"].edgeType:\"text-shadow: 0px 0px 0px\",this.list.size.value=this.captioningObject[\"default\"].size,this.list.scroll.value=this.captioningObject[\"default\"].scroll,this.picker.color.style.backgroundColor=this.captioningObject[\"default\"].fontColor,this.picker.background.style.backgroundColor=this.captioningObject[\"default\"].backgroundColor,this.picker.edge.style.backgroundColor=this.captioningObject[\"default\"].edgeColor,this.picker.window.style.backgroundColor=this.captioningObject[\"default\"].windowColor):(null==this.captioningObject.selected.fontFamily||n||(this.list.font.value=this.captioningObject.selected.fontFamily),this.list.edge.value=null!=this.captioningObject.selected.edgeType?this.captioningObject.selected.edgeType:\"text-shadow: 0px 0px 0px\",null!=this.captioningObject.selected.size&&(this.list.size.value=this.captioningObject.selected.size),null!=this.captioningObject.selected.scroll?this.list.scroll.value=this.captioningObject.selected.scroll:this.captioningObject.selected.scroll=this.list.scroll.value,this.picker.color.style.backgroundColor=this.captioningObject.selected.fontColor,null!=this.captioningObject.selected.backgroundColor&&(this.picker.background.style.backgroundColor=this.captioningObject.selected.backgroundColor),null!=this.captioningObject.selected.edgeColor&&(this.picker.edge.style.backgroundColor=this.captioningObject.selected.edgeColor),null!=this.captioningObject.selected.windowColor&&(this.picker.window.style.backgroundColor=this.captioningObject.selected.windowColor)),a=\"font-family: \"+(e?this.captioningObject[\"default\"].fontFamily:n?this.captioningObject.selected.fontFamily:this.list.font.value)+\" !important;\",r=(e?this.captioningObject[\"default\"].edgeType+this.captioningObject[\"default\"].edgeColor:this.list.edge.value+\" \"+this.picker.edge.style.backgroundColor)+\" !important;\",s=\"font-size: \"+(e?this.captioningObject[\"default\"].size:this.list.size.value)+\" !important;\",o=\"color: \"+(e?this.captioningObject[\"default\"].fontColor:this.picker.color.style.backgroundColor)+\" !important;\",i=\"background-color: \"+(e?this.captioningObject[\"default\"].backgroundColor:this.picker.background.style.backgroundColor)+\" !important;\",l=\"background-color: \"+(e?this.captioningObject[\"default\"].windowColor:this.picker.window.style.backgroundColor)+\" !important;\",t){this.captionningStyle.innerHTML=this.captioningObject.appliedStyleText=\".akamai-caption-text { \"+a+s+r+l+\" }.akamai-caption-text p { \"+o+i+\" } video::-webkit-media-text-track-display-backdrop { \"+l+\" } video::-webkit-media-text-track-display-backdrop span { \"+a+s+r+i+\" } video::-webkit-media-text-track-display-backdrop { \"+l+\" } video::cue { \"+o+a+s+r+i+\" }\";try{e!==!1||n||localStorage.setItem(Oo.PREFIX+\"captioningDefault\",JSON.stringify(this.captioningObject.selected))}catch(u){this.facade.logger.error(\"LocalStorage Not Supported on this Browser\",u)}}else this.captionningStyle.innerHTML=this.captioningObject.appliedStyleText+\".akamai-caption-text-preview { \"+a+s+r+l+\" }.akamai-caption-text-preview p { \"+o+i+\" }\"},ri.prototype.toggleButtonHandler=function(e,t){null==e&&(e=!1),null==t&&(t=!0),e?(ot.add(\"captioning-floater-btnselected\",this.toggle.ON,this.classList.prefix),ot.remove(\"captioning-floater-btnselected\",this.toggle.OFF,this.classList.prefix)):(ot.add(\"captioning-floater-btnselected\",this.toggle.OFF,this.classList.prefix),ot.remove(\"captioning-floater-btnselected\",this.toggle.ON,this.classList.prefix)),t&&this.sendNotification(Yo.VISIBILITY_CHANGE,e),this.sendNotification(Xo.UPDATE_SETTINGS,{captioning:{hidden:!e}})},ri.prototype.listNotificationInterests=function(){return[Yo.SETTINGS_VISIBILITY_CHANGE,Yo.TOGGLE_SETTINGS_VISIBILITY,Yo.SETTINGS_CHANGE,Yo.TRACK_SELECTED,Yo.VISIBILITY_CHANGE]},ri.prototype.handleNotification=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g;switch(l=e.getName(),t=e.getBody(),l){case Yo.SETTINGS_VISIBILITY_CHANGE:case Yo.TOGGLE_SETTINGS_VISIBILITY:this.settingsUiVisible&&(this.colorPicker.style.display=\"none\"),this.settingsUiVisible=!this.settingsUiVisible,this.settingsUiVisible&&1===this.list.language.length&&this.languageListPopulate(),u=this.settingsUiVisible?Mo.ADD_APPLICATION_STATE:Mo.REMOVE_APPLICATION_STATE,d=\"cc-setting-active\",this.sendNotification(u,d);break;case Yo.SETTINGS_CHANGE:r=!1;for(a in t)switch(p=t[a],a){case\"fontFamily\":case\"fontSize\":case\"scroll\":case\"edgeType\":for(s=\"fontFamily\"===a?\"font\":\"fontSize\"===a?\"size\":\"edgeType\"===a?\"edge\":\"scroll\",\ng=this.list[s].options,o=h=0,f=g.length;f>h;o=++h)if(c=g[o],\"fontFamily\"===a&&\"object\"==typeof p)for(n in p)i=p[n],\"default\"===n&&(this.captioningObject.selected.fontFamily=i,r=!0),new RegExp(n,\"i\").test(c.label)&&(new RegExp(\"^\"+i).test(c.value)||(c.value=i+\",\"+c.value),c.selected&&(this.captioningObject.selected.fontFamily=c.value));else if(new RegExp(p,\"i\").test(c.label)&&(this.list[s].selectedIndex=o,\"fontSize\"===a&&(a=\"size\"),this.captioningObject.selected[a]=c.value,\"scroll\"===a)){this.scroll.type=this.captioningObject.selected.scroll=c.value,this.plugin.setSettings({scroll:this.scroll.type});try{\"painton\"===c.value?ot.add(\"akamai-captioning-typed\",this.facade.proxy.renderer.viewComponent):ot.remove(\"akamai-captioning-typed\",this.facade.proxy.renderer.viewComponent)}catch(m){this.facade.logger.error(\"AMP Captioning Error\",m)}}break;case\"backgroundColor\":case\"edgeColor\":case\"fontColor\":case\"windowColor\":this.captioningObject.selected[a]=p}this.applyCaptioningStyle(!1,!0,r),null!=t.visible&&t.visible!==!this.facade.getHidden()&&this.facade.setHidden(!t.visible);break;case Yo.TRACK_SELECTED:this.list.language.value=e.body.language;break;case Yo.VISIBILITY_CHANGE:this.toggleButtonHandler(t,!1)}},n(ai,Un),ai.prototype.componentName=\"captioning\",ai.prototype.captionButton=null,ai.prototype.onRegister=function(){var e;e=new Dt(this.localizationManager.getString(Q.MSG_CC),this.viewComponent,null,\"caption\",this.onclick.bind(this)),this.facade.registerMediator(e),this.captionButton=e.getViewComponent(),this.sendNotification(Mo.ADD_CONTROL,this.captionButton),ai.__super__.onRegister.call(this),\"true\"===(\"undefined\"!=typeof localStorage&&null!==localStorage?localStorage.getItem(Oo.PREFIX+\"caption-enabled\"):void 0)&&this.facade.setHidden(!1)},ai.prototype.onclick=function(e){var t;return e.stopImmediatePropagation(),\"embedded\"===(null!=(t=this.plugin.getTrack())?t.type:void 0)?this.sendNotification(Yo.VISIBILITY_CHANGE,this.plugin.getHidden()):e.currentTarget===this.captionButton&&this.sendNotification(Yo.SETTINGS_VISIBILITY_CHANGE,this.plugin.getHidden()),!1},ai.prototype.listNotificationInterests=function(){return[Yo.VISIBILITY_CHANGE,Yo.ENABLED,Yo.TRACK_SELECTED]},ai.prototype.handleNotification=function(e){var t,n,i;switch(t=e.getBody(),n=t?Mo.ADD_APPLICATION_STATE:Mo.REMOVE_APPLICATION_STATE,e.getName()){case Yo.TRACK_SELECTED:i=\"cc-embedded\",n=\"embedded\"===t.type?Mo.ADD_APPLICATION_STATE:Mo.REMOVE_APPLICATION_STATE;break;case Yo.VISIBILITY_CHANGE:i=\"cc-active\";break;case Yo.ENABLED:n=t?Mo.ADD_CONTROL_STATE:Mo.REMOVE_CONTROL_STATE,i=\"cc-enabled\",t||this.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"cc-active\")}this.sendNotification(n,i)},n(si,nt),si.NAME=\"Feature\",si.prototype.featureName=null,si.prototype.getFeatureName=function(){return this.featureName},si.prototype.registerFeature=function(){null!=this.getFeatureName()&&this.player.sendNotification(qo.REGISTER_FEATURE,this)},si.prototype.onRegister=function(){this.registerFeature(),si.__super__.onRegister.call(this)},si.prototype.listNotificationPublications=function(){return si.__super__.listNotificationPublications.call(this).concat([qo.REGISTER_FEATURE])},n(li,Rt),li.NAME=\"ShareWrapper\",li.prototype.controls=[\"share\",\"facebook\",\"twitter\"],li.prototype.flashView={elements:{controls:{elements:{shareBtn:{}}}}},li.prototype.getFeatureName=function(){return\"share\"},li.prototype.createFlashVars=function(e){return null==e.share_mode&&(e.share_mode=2),e},li.prototype.createXML=function(e){var t,n,i,o,r,a,s,l,u;if(t=null!=(r=this.player.config)&&null!=(a=r.flash)&&null!=(s=a.view)&&null!=(l=s.elements)?l.controls:void 0,null!=t){for(null==t.elements&&(t.elements={}),u=this.controls,i=0,o=u.length;o>i;i++)n=u[i],this.config[n]===!0&&null==t.elements[n+\"Btn\"]&&(t.elements[n+\"Btn\"]={});return e}},li.prototype.listNotificationInterests=function(){return li.__super__.listNotificationInterests.call(this).concat([Po.SHARE,Po.SHARE_REQUEST])},li.prototype.handleNotification=function(e){var t,n,i;switch(li.__super__.handleNotification.call(this,e),n=e.getName(),t=e.getBody(),n){case Po.SHARE:case Po.SHARE_REQUEST:i=\"share\"}null!=i&&this.dispatchEvent(new Nt(i,t))},tn.registerPlugin(\"share\",\"flash\",li),n(ui,Un),ui.prototype.componentName=\"share\",ui.prototype.shareControl=null,ui.prototype.shareSeparator=null,ui.prototype.embed=null,ui.prototype.onRegister=function(){this.sendNotification(Mo.ADD_CONTROL_STATE,\"share-enabled\"),this.shareControl=this.create([\"share\",\"control\"],!1),this.shareSeparator=this.create([\"share\",\"separator\"],this.shareControl),this.createButton(\"share\"),this.plugin.getFacebook()===!0&&this.createButton(\"facebook\"),this.plugin.getTwitter()===!0&&this.createButton(\"twitter\"),this.sendNotification(Mo.ADD_CONTROL,this.shareControl),ui.__super__.onRegister.call(this)},ui.prototype.createButton=function(e){var t;t=new Dt(null,this.shareControl,null,e,this.clickHandler.bind(this,e)),this.facade.registerMediator(t)},ui.prototype.clickHandler=function(e,t){return t.stopImmediatePropagation(),this.sendNotification(Mo.DISPATCH_EVENT,new Nt(\"share\",{provider:e,link:this.plugin.getLink(),embed:this.plugin.getEmbed()})),!1},ui.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE]},ui.prototype.handleNotification=function(e){var t,n,i;switch(i=e.getName(),t=e.getBody(),i){case Mo.MEDIA_CHANGE:n=t,null!=n.embed?this.sendNotification(Mo.ADD_CONTROL_STATE,\"share-enabled\"):this.sendNotification(Mo.REMOVE_CONTROL_STATE,\"share-enabled\")}},n(ci,Ie),ci.NAME=a.NAME,ci.prototype.defaults={facebook:!1,twitter:!1},ci.prototype.loaded=!0,ci.prototype.link=null,ci.prototype.embed=null,ci.prototype.getEmbed=function(){return this.embed},ci.prototype.setEmbed=function(e){return this.embed=e},ci.prototype.getLink=function(){return this.link},ci.prototype.setLink=function(e){return this.link=e},ci.prototype.getFacebook=function(){return this.getConfigurationData().facebook},ci.prototype.setFacebook=function(e){return this.data.facebook=e},ci.prototype.getTwitter=function(){return this.getConfigurationData().twitter},ci.prototype.setTwitter=function(e){return this.data.twitter=e},n(di,puremvc.SimpleCommand),di.prototype.execute=function(e){var t,n;t=e.getBody(),n=this.facade.retrieveProxy(ci.NAME),n.setEmbed(t.embed),n.setLink(t.link)},n(pi,si),pi.prototype.featureName=\"captioning\",pi.prototype.moduleName=\"captioning\",pi.prototype.createController=function(){pi.__super__.createController.call(this),this.registerCommand(Mo.CHANGE_MEDIA,Jn),this.registerCommand(Mo.STARTED,$n),this.registerCommand(Mo.TIME_UPDATE,Zn),this.registerCommand(Yo.VISIBILITY_CHANGE,Kn),this.registerCommand(Yo.ENABLED,ln),this.registerCommand(Yo.TRACK_SELECTED,ln),this.registerCommand(Yo.TRACKS_LOADED,ln),this.registerCommand(Yo.CUE_CHANGE,ln)},pi.prototype.createModel=function(){this.proxy=new ni(this.config),this.registerProxy(this.proxy)},pi.prototype.createView=function(){var e,t;e=new ai,this.registerMediator(e),t=e.viewComponent,this.registerMediator(new ri(t)),this.proxy.registerRenderer(new oi(t)),this.proxy.registerRenderer(new ii(t))},pi.prototype.listNotificationInterests=function(){return[Mo.LOADED_METADATA,Mo.CAN_PLAY_THROUGH,Mo.CHANGE_MEDIA,Mo.STARTED,Mo.TIME_UPDATE,Yo.TOGGLE_SETTINGS_VISIBILITY]},pi.prototype.listNotificationPublications=function(){var e,t;return pi.__super__.listNotificationPublications.call(this).concat(function(){var n;n=[];for(e in Yo)t=Yo[e],t!==Yo.TOGGLE_SETTINGS_VISIBILITY&&n.push(t);return n}()).concat([Mo.ADD_CONTROL,Mo.REMOVE_CONTROL,Xo.UPDATE_SETTINGS,Mo.ADD_CONTROL_STATE,Mo.REMOVE_CONTROL_STATE])},pi.prototype.getHidden=function(){return this.proxy.getHidden()},pi.prototype.setHidden=function(e){return this.sendNotification(Yo.VISIBILITY_CHANGE,!e),e},pi.prototype.getTracks=function(){return this.proxy.getTracks()},pi.prototype.getTrack=function(){return this.proxy.getTrack()},pi.prototype.setTrack=function(e){return this.proxy.setTrack(e),e},pi.prototype.selectTrackByIndex=function(e){return this.proxy.selectTrackByIndex(e)},pi.prototype.selectTrackByLanguage=function(e){return this.proxy.selectTrackByLanguage(e)},pi.prototype.changeSettings=function(e){return this.sendNotification(Yo.SETTINGS_CHANGE,e),e},tn.registerPlugin(\"captioning\",\"html\",pi),n(hi,de),hi.prototype.configurationName=\"comscore\",hi.NAME=a.NAME,hi.prototype.defaults={url:\"http://b.scorecardresearch.com/b\",events:{ads:null,video:null},data:{c1:null,c2:null,c3:null,c4:null,c5:null,c6:null,c7:null,c8:null,c9:null,c10:null,c14:null}},hi.prototype.adStart=function(){var e;e=this.constructURL(\"ads\",\"started\"),kt.beacon(e)},hi.prototype.videoStart=function(){var e;e=this.constructURL(\"video\",\"started\"),kt.beacon(e)},hi.prototype.constructURL=function(e,t){var n,i,o,r,a,s,l,u,c,d,p,h,f;if(n={},o=null!=(p=this.value.events)?p[e]:void 0,null!=o)for(c=0,d=o.length;d>c;c++)r=o[c],r.type===t&&(i=r);h=this.value.data;for(a in h)u=h[a],n[a]=(null!=i&&null!=(f=i.data)?f[a]:void 0)||u;null==n.c7&&(n.c7=document.location.href.substr(0,512)),null==n.c8&&(n.c8=document.referrer.substr(0,512)),null==n.c9&&(n.c9=document.title),null==n.cv&&(n.cv=\"2.0\"),n.rn=Date.now(),l=this.value.url,s=[];for(a in n)u=n[a],null!=u&&\"\"!==u&&s.push(a+\"=\"+escape(u));return s.length>0&&(l+=\"?\"+s.join(\"&\")),l.substr(0,2080)},n(fi,Rt),fi.NAME=\"ComscoreWrapper\",fi.prototype.flashPlugins=[{id:\"ComscorePlugin\",src:\"#{paths.resources}plugins/ComscorePlugin.swf\",blocking:!1,host:\"akamai\",main:\"ComscorePlugin\",type:\"application/x-shockwave-flash\"}],fi.prototype.createXML=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v,_;t=e.firstChild,a=e.getElementsByTagName(\"metrics\")[0],null==a&&(a=e.createElement(\"metrics\"),t.appendChild(a)),p=e.createElement(\"vendor\"),p.setAttribute(\"id\",\"comscore\"),a.appendChild(p),r={ads:{started:\"adStart\",ended:\"adComplete\"},video:{started:\"videoStart\",ended:\"videoComplete\"}},u=[{value:\"c1\",key:\"COMSCORE_CSC1\"},{value:\"c2\",key:\"COMSCORE_CSC2\"},{value:\"c3\",key:\"COMSCORE_CSC3\"},{value:\"c4\",key:\"COMSCORE_CSC4\"},{value:\"c5\",key:\"COMSCORE_CSC5\"},{value:\"c6\",key:\"COMSCORE_CSC6\"},{value:\"c7\",key:\"COMSCORE_CSC7\"},{value:\"c8\",key:\"COMSCORE_CSC8\"},{value:\"c9\",key:\"COMSCORE_CSC9\"},{value:\"c10\",key:\"COMSCORE_CSC10\"},{value:\"c11\",key:\"COMSCORE_CSC14\"}],y=this.config.events;for(d in y)if(o=y[d],null!=o&&o.length>0)for(h=0,g=o.length;g>h;h++)for(i=o[h],s=e.createElement(\"property\"),s.setAttribute(\"key\",r[d][i.type]),p.appendChild(s),n=e.createElement(\"property\"),n.setAttribute(\"key\",\"COMSCORE_CSURL\"),c=ae.createTextContent(e,this.config.url),n.appendChild(c),s.appendChild(n),f=0,m=u.length;m>f;f++)l=u[f],c=(null!=(v=i.data)?v[l.value]:void 0)||(null!=(_=this.config.data)?_[l.value]:void 0),null!=c&&\"\"!==c&&(n=e.createElement(\"property\"),n.setAttribute(\"key\",l.key),c=ae.createTextContent(e,c),n.appendChild(c),s.appendChild(n));return e},n(gi,puremvc.SimpleCommand),gi.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(hi.NAME),t.adStart()},n(mi,puremvc.SimpleCommand),mi.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(hi.NAME),t.videoStart()},n(yi,si),yi.prototype.moduleName=\"share\",yi.prototype.featureName=\"share\",yi.prototype.createModel=function(){this.registerProxy(new ci(this.config))},yi.prototype.createController=function(){yi.__super__.createController.call(this),this.registerCommand(Mo.MEDIA_CHANGE,di)},yi.prototype.createView=function(){this.registerMediator(new ui)},yi.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE]},yi.prototype.listNotificationPublications=function(){return yi.__super__.listNotificationPublications.apply(this,arguments).concat([Mo.ADD_CONTROL,Mo.REMOVE_CONTROL,Mo.ADD_CONTROL_STATE,Mo.REMOVE_CONTROL_STATE])},tn.registerPlugin(\"share\",\"html\",yi),tn.registerPlugin(\"share\",\"external\",yi),n(vi,Rt),vi.NAME=\"ComscoreStreamsenseWrapper\",vi.prototype.flashPlugins=[{id:\"ComscoreStreamSensePlugin\",src:\"#{paths.resources}plugins/ComscoreStreamSensePlugin.swf\",blocking:!1,host:\"akamai\",main:\"ComscoreStreamSensePlugin\"}],vi.prototype.createXML=function(e){var t,n,i,o,r,a,s;for(t=e.firstChild,n=e.getElementsByTagName(\"metrics\")[0],null==n&&(n=e.createElement(\"metrics\"),t.appendChild(n)),r=e.createElement(\"vendor\"),r.setAttribute(\"id\",\"comscoreStreamSense\"),n.appendChild(r),o=[{value:this.config.data.clientId,key:\"C2\"},{value:this.config.data.publisherSecret,key:\"PUBLISHER_SECRET\"},{value:this.config.data.appVersion,key:\"APP_VERSION\"},{value:this.config.data.metadata,key:\"metadata\"}],a=0,s=o.length;s>a;a++)i=o[a],null!=i.value&&this.createProperty(e,i.key,i.value,r);return e},n(_i,Ie),_i.NAME=a.NAME,_i.prototype.defaults={plugin:{js:null},data:{clientId:null,publisherSecret:null,appVersion:null,metadata:null}},_i.prototype.myStreamingTag=null,_i.prototype.sdk=null,_i.prototype.getScript=function(){return this.config.plugin.js},_i.prototype.initialize=function(){_i.__super__.initialize.call(this),this.sdk=akamai.amp.ns_,null!=this.sdk&&null===this.myStreamingTag&&(this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId}))},_i.prototype.mediaChange=function(){null!=this.myStreamingTag&&this.myStreamingTag.stop(),this.myStreamingTag=null,this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId}),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Media Change, StreamTag ReInitialize\")},_i.prototype.adStart=function(e){null==e&&(e=null),this.myStreamingTag.playVideoAdvertisement(this.getMetaData(!0)),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Ad Start\")},_i.prototype.start=function(e){var t;null==e&&(e=null),(null!=(t=this.facade.player.ads)?t.getInProgress():0)||(this.myStreamingTag.playVideoContentPart(this.getMetaData()),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Content Play\"))},_i.prototype.stop=function(){this.myStreamingTag.stop(),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : Stop\")},_i.prototype.ended=function(){this.myStreamingTag.stop(),this.facade.logger.log(\"[AMP ComscoreStreamsense Event] : End\"),this.myStreamingTag=null,this.myStreamingTag=new this.sdk.StreamingTag({customerC2:this.value.data.clientId})},_i.prototype.getMetaData=function(e){var t,n,i,o;null==e&&(e=!1),n={},i=e?this.value.data.metadata.ads:this.value.data.metadata.video;for(t in i)o=i[t],\"null\"!==o&&(n[t]=o);return n},n(bi,puremvc.SimpleCommand),bi.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(_i.NAME),t.start(e.body)},n(Ei,puremvc.SimpleCommand),Ei.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(_i.NAME),t.adStart(e.body)},n(wi,puremvc.SimpleCommand),wi.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(_i.NAME),t.stop(e.body)},n(Ti,puremvc.SimpleCommand),Ti.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(_i.NAME),t.adStart(e.body),t.stop(e.body)},n(Ci,puremvc.SimpleCommand),Ci.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(_i.NAME),t.mediaChange()},n(Ai,puremvc.SimpleCommand),Ai.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(_i.NAME),t.ended()},n(Si,nt),Si.prototype.moduleName=\"comscore\",Si.prototype.createController=function(){Si.__super__.createController.call(this),this.registerCommand(Mo.STARTED,mi),this.registerCommand(Mo.CONTENT_CHANGED,mi),this.registerCommand(Ho.AD_STARTED,gi)},Si.prototype.createModel=function(){this.registerProxy(new hi(this.config))},Si.prototype.listNotificationInterests=function(){return[Mo.STARTED,Ho.AD_STARTED,Mo.CONTENT_CHANGED]},tn.registerPlugin(\"comscore\",\"html\",Si),tn.registerPlugin(\"comscore\",\"flash\",fi),n(Ni,X),Ni.prototype.duration=null,Ni.prototype.currentTime=null,Ni.prototype.container=null,Ni.prototype.banner=null,Ni.prototype.text=null,Ni.prototype.adText=null,Ni.prototype.bg=null,Ni.prototype.totalAds=null,Ni.prototype.adPosition=null,Ni.prototype.adClickHandlerContainer=null,Ni.prototype.adContainerRequired=!0,Ni.prototype.componentName=\"ads\",Ni.prototype.onRegister=function(){Ni.__super__.onRegister.call(this),this.adContainerRequired&&(this.container=this.create(\"ad-container\")),this.banner=this.create(\"ad-banner\"),kt.isHTML5()&&(this.viewComponent.adClickHandlerContainer=this.adClickHandlerContainer=this.create(\"ads-click-handler\")),this.bg=this.create(\"ad-text-bg\",this.banner),this.adText=this.create(\"ad-text-title\",this.banner),this.text=this.create(\"ad-text\",this.banner),this.adContainerRequired&&(this.viewComponent.container=this.container),this.sendNotification(Ho.AD_CONTAINER_CREATED,this.viewComponent),this.facade.setViewComponent(this.viewComponent)},Ni.prototype.listNotificationInterests=function(){return[Ho.BREAK_START,Ho.BREAK_END,Ho.AD_TIME_REMAINING,Ho.AD_STARTED]},Ni.prototype.handleNotification=function(e){var t,n,i,o;switch(e.getName()){case Ho.BREAK_END:this.text.textContent=\"\",this.adText.textContent=\"\";break;case Ho.AD_TIME_REMAINING:o=Math.round(e.getBody()),i=null!=this.totalAds&&this.totalAds>0&&null!=this.adPosition&&this.adPosition!==this.totalAds?o>0?\"\"+this.localizationManager.getString(Q.MSG_NEXT_AD)+o+\" \"+this.localizationManager.getString(Q.MSG_SECONDS):\"\":o>0?\"\"+this.localizationManager.getString(Q.MSG_NEXT_VIDEO)+o+\" \"+this.localizationManager.getString(Q.MSG_SECONDS):\"\",this.text.textContent=i,n=this.facade.retrieveProxy(a.NAME).adVO.duration,o=n-o;break;case Ho.AD_STARTED:t=e.getBody(),this.totalAds=t.totalAds,this.adPosition=t.position,i=\"Ad \"+t.position+\" of \"+t.totalAds,null!=t.position&&null!=t.totalAds&&t.totalAds>=1&&(this.adText.textContent=i)}},n(Ii,Te),Ii.prototype.execute=function(e){this.proxy.getEnabled()!==!1&&this.proxy.engage(e.getBody())},n(Pi,ln),Pi.prototype.execute=function(e){this.sendNotification(Mo.UPDATE_DATA_BINDINGS,{contexts:[this.proxy.getContextName()]}),Pi.__super__.execute.call(this,e)},n(xi,ln),xi.prototype.execute=function(e){this.player.sendNotification(Mo.ADD_APPLICATION_STATE,\"ad-mode\"),xi.__super__.execute.call(this,e),this.proxy.breakStart()},n(ki,ln),ki.prototype.execute=function(e){ki.__super__.execute.call(this,e),this.proxy.breakEnd(),this.player.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"ad-mode\")},n(Mi,Te),Mi.prototype.execute=function(e){this.proxy.contentSeek(e.getBody())},n(Di,ln),Di.prototype.execute=function(e){this.proxy.container=e.getBody(),Di.__super__.execute.call(this,e)};var Zo={BREAK_START:\"adComponentBreakInitiated\",BREAK_END:\"adComponentBreakComplete\",AD_LOADED:\"adComponentLoaded\",AD_STARTED:\"adComponentAdBegin\",AD_TIME_UPDATE:\"adComponentPlaybackProgress\",AD_TIME_REMAINING:\"adComponentTimeElapsed\",AD_DURATION_CHANGE:\"addurationchange\",AD_ENDED:\"adComponentAdComplete\",AD_ERROR:\"adComponentInitFailed\",AD_PLAY:\"adComponentPlaybackResumed\",AD_PAUSE:\"adComponentPlaybackPaused\",AD_LOG:\"adComponentLog\",AD_COMPANION:\"adComponentCompanion\",AD_PLAYBACK_FAILED:\"adComponentPlaybackFailed\",AD_PLAYBACK_TERMINATED:\"adComponentPlaybackTerminated\",AD_MEDIA_LOADED:\"adComponentMediaLoaded\",AD_CLICKED:\"adComponentClicked\",AD_FIRST_QUARTILE:\"adComponentFirstQuartile\",AD_MIDPOINT:\"adComponentMidpoint\",AD_THIRD_QUARTILE:\"adComponentThirdQuartile\",AD_REQUEST:\"adComponentAdsRequest\",AD_SKIPPED:\"adComponentAdSkipped\",AD_IMPRESSION:\"adComponentImpression\"};n(Oi,nt),Oi.prototype.moduleName=\"comscorestreamsense\",Oi.prototype.createModel=function(){this.registerProxy(new _i(this.config))},Oi.prototype.createController=function(){Oi.__super__.createController.call(this),this.registerCommand(Mo.MEDIA_CHANGE,Ci),this.registerCommand(Ho.AD_STARTED,Ei),this.registerCommand(Ho.AD_ENDED,wi),this.registerCommand(Ho.SKIPPED,wi),this.registerCommand(Ho.AD_ERROR,Ti),this.registerCommand(Mo.PLAYING,bi),this.registerCommand(Mo.PAUSED,wi),this.registerCommand(Mo.ENDED,Ai)},Oi.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE,Ho.AD_STARTED,Ho.AD_ENDED,Ho.AD_ERROR,Ho.SKIPPED,Mo.ENDED,Mo.PAUSED,Mo.PLAYING]},tn.registerPlugin(\"comscorestreamsense\",\"html\",Oi),tn.registerPlugin(\"comscorestreamsense\",\"flash\",vi),n(Li,Sn),Li.NAME=Sn.NAME,Li.prototype.defaults={videoId:null,defaultId:null,domain:null,zoneId:null,companion:null,userData:null,params:null},Li.prototype.key=\"auditude\",Li.prototype.session=null,Li.prototype.options=null,Li.prototype.initialize=function(){var e=this;this.options={controls:!1,auditudeHandlesChapterBreaks:!1,style:{backgroundColor:\"#000\",width:this.facade.player.mediaElement.clientWidth,height:this.facade.player.mediaElement.clientHeight},handlers:{play:function(){e.facade.logger.debug(\"ad play\")},timeupdate:function(t,n,i){e.facade.sendNotification(Ho.AD_TIME_REMAINING,i.duration-i.currentTime)},error:function(t){e.facade.logger.debug(\"ad error:\",t),e.error()},pause:function(){e.facade.logger.debug(\"ad pause\")},loadedmetadata:function(t,n,i){e.facade.logger.debug(\"ad loadedmetadata\")},end:function(){e.facade.logger.debug(\"ad end\")}}};try{this.plugin=this.createPlugin(),this.plugin.subscribe(aud.events.init_complete,function(t,n){e.facade.logger.debug(\"init_complete:\",t,n);try{e.plugin.publish(aud.notifications.break_begin)}catch(i){e.error(i)}}),this.plugin.subscribe(aud.events.init_failed,function(t,n){e.error(t)}),this.plugin.subscribe(aud.events.break_begin,function(t,n){e.facade.logger.debug(\"break_begin:\",t,n)}),this.plugin.subscribe(aud.events.pause_playback,function(t,n){e.facade.logger.debug(\"pause_playback: \"+t+\", \"+n),e.contentPause(t,n)}),this.plugin.subscribe(aud.events.resume_playback,function(t,n){e.facade.logger.debug(\"resume_playback: \",t,n),e.contentPlay(t,n)}),this.plugin.subscribe(aud.events.linear_ad_begin,function(t,n,i){var o,r,a;e.facade.logger.debug(\"linear ad begin:\",t,n,i),a=n._xmlDoc.querySelector(\"ad[id]\"),null!=a&&(o=a.getAttribute(\"id\")),a=n._xmlDoc.querySelector(\"inLine[adTitle]\"),null!=a&&(r=a.getAttribute(\"adTitle\")),e.adVO=new Cn(o,r,i.asset.duration,1,\"preroll\",\"auditude\",null,i.banners,null,i),e.sendNotification(Ho.AD_LOADED,e.adVO),e.sendNotification(Ho.AD_DURATION_CHANGE,e.adVO),e.facade.player.sendNotification(Mo.CHANGE_PLAY_STATE,jo.PLAYING),e.sendNotification(Ho.AD_PLAY),e.setInProgress(!0),e.setCompanions(i.banners),e.session=i.session,e.sendNotification(Ho.AD_STARTED)}),this.plugin.subscribe(aud.events.linear_ad_end,function(t,n,i){e.facade.logger.debug(\"linear ad end:\",t,n,i),e.sendNotification(Ho.AD_ENDED)}),this.plugin.subscribe(aud.events.break_end,function(t,n){e.facade.logger.debug(\"break_end:\",t,n),e.end()}),this.plugin.subscribe(aud.events.non_linear_ad_begin,function(t,n,i){e.facade.logger.debug(\"non linear ad begin\"),e.setCompanions(i.banners)}),this.plugin.subscribe(aud.events.non_linear_ad_end,function(t,n,i){e.facade.logger.debug(\"non linear ad end\")})}catch(t){this.error(t)}},Li.prototype.createPlugin=function(){return aud.html5.AdPlayer(this.facade.container.container,null,this.value.domain,this.value.zoneId,this.options)},Li.prototype.start=function(){var e,t,n,i,o,r,a;if(Li.__super__.start.call(this)===!1)return!1;try{if(i=this.value.params||{},o=\"\",null!=this.value.userData){a=this.value.userData;for(n in a)r=a[n],o+=\"\"+n+\"=\"+r+\";\"}null!=i.userData&&(o+=i.userData),\"\"!==o&&(i.userData=o),t=this.value.videoId+\"\",null!=this.value.defaultId&&(e=this.value.defaultId+\"\",t=null!=t?[t,e]:e),this.facade.logger.log(\"Auditude init: \",t,i),this.plugin.init(t,i)}catch(s){this.error(s)}},Li.prototype.play=function(){Li.__super__.play.call(this),this.session.notifyResume()},Li.prototype.pause=function(){Li.__super__.pause.call(this),this.session.notifyPause()},Li.prototype.breakStart=function(){},Li.prototype.setCompanions=function(e){var t,n,i,o,r,a,s,l;if(!(null==e||e.length<1)){for(i=[],r=0,s=e.length;s>r;r++)t=e[r],i.push({data:t.data,type:t.resourceType,width:parseInt(t.width),height:parseInt(t.height),metadata:t});if(Li.__super__.setCompanions.call(this,i),null!=this.value.companion&&(n=this.value.companion,o=document.getElementById(n.id),null!=o))for(a=0,l=e.length;l>a;a++)if(t=e[a],n.width===parseInt(t.width)&&n.height===parseInt(t.height)){o.innerHTML=t.data;break}}},Li.prototype.contentStarted=function(){this.plugin.publish(aud.notifications.video_playback_started)},Li.prototype.contentEnded=function(){this.plugin.publish(aud.notifications.video_playback_complete)},n(Ri,Li),Ri.NAME=Li.NAME,Ri.prototype.createPlugin=function(){return aud.html5.AdPlayer(this.facade.player.mediaElement,null,this.value.domain,this.value.zoneId,this.options)},Ri.prototype.engage=function(e){Ri.__super__.engage.call(this,e),this.sendNotification(Mo.DISABLE_VIDEO_EVENTS,[\"ended\"])},Ri.prototype.reset=function(e){Ri.__super__.reset.call(this,e),this.sendNotification(Mo.ENABLE_VIDEO_EVENTS,[\"ended\"])},Ri.prototype.play=function(){Ri.__super__.play.call(this),this.facade.player.mediaElement.play()},Ri.prototype.pause=function(){Ri.__super__.pause.call(this),this.facade.player.mediaElement.pause()},Ri.prototype.contentPause=function(){this.facade.player.mediaElement.pause()},n(ji,Rt),ji.NAME=\"AdWrapper\",ji.prototype.enabled=!0,ji.prototype.paused=!1,ji.prototype.started=!1,ji.prototype.adVO=null,ji.prototype.getFeatureName=function(){return\"ads\"},ji.prototype.getInProgress=function(){return this.player.mediaElement.getPlayerProperty(\"adInProgress\")},ji.prototype.getStarted=function(){return this.started},ji.prototype.getPaused=function(){return this.paused},ji.prototype.getCompanions=function(){var e;return null!=(e=this.adVO)?e.companions:void 0},ji.prototype.setEnabled=function(e){return this.enabled=e,this.player.mediaElement.setPlayerProperty(\"adsEnabled\",e),e},ji.prototype.getEnabled=function(){return this.enabled},ji.prototype.enable=function(){this.setEnabled(!0)},ji.prototype.disable=function(){this.setEnabled(!1)},ji.prototype.createFlashVars=function(e){return e.core_ads_enabled=!0,e},ji.prototype.listNotificationInterests=function(){var e,t;return ji.__super__.listNotificationInterests.call(this).concat(function(){var n;n=[];for(e in Zo)t=Zo[e],n.push(t);return n}())},ji.prototype.handleNotification=function(e){var t,n,i,o,r;switch(ji.__super__.handleNotification.call(this,e),i=e.getName(),t=e.getBody(),this.adVO=this.createAdVO(t),o=this,i){case Zo.BREAK_START:r=Ho.BREAK_START;break;case Zo.BREAK_END:r=Ho.BREAK_END;break;case Zo.AD_MEDIA_LOADED:r=Ho.AD_LOADED,this.start=!1;break;case Zo.AD_STARTED:r=Ho.AD_STARTED,this.started=!0,this.sendNotification(Mo.ADD_APPLICATION_STATE,\"ad-mode\");break;case Zo.AD_TIME_UPDATE:r=Ho.AD_TIME_UPDATE;break;case Zo.AD_TIME_REMAINING:r=Ho.AD_TIME_REMAINING;break;case Zo.AD_ERROR:case Zo.AD_PLAYBACK_FAILED:r=Ho.AD_ERROR,this.start=!1,this.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"ad-mode\");break;case Zo.AD_ENDED:case Zo.AD_PLAYBACK_TERMINATED:r=Ho.AD_ENDED,this.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"ad-mode\");break;case Zo.AD_CLICKED:r=Ho.AD_CLICKED;break;case Zo.AD_COMPANION:r=Ho.AD_COMPANION,null!=this.adVO&&null!=t&&(this.adVO.companions=t);break;case Zo.AD_PAUSE:r=Ho.AD_PAUSE,o=this.player,this.paused=!0,this.player.setPlayState(\"paused\");break;case Zo.AD_PLAY:r=Ho.AD_PLAY,this.paused=!1,this.player.setPlayState(\"playing\");break;case Zo.AD_LOG:r=Ho.AD_LOG;break;case Zo.AD_FIRST_QUARTILE:r=Ho.FIRST_QUARTILE;break;case Zo.AD_MIDPOINT:r=Ho.MIDPOINT;break;case Zo.AD_THIRD_QUARTILE:r=Ho.THIRD_QUARTILE;break;case Zo.AD_REQUEST:r=Ho.REQUEST;break;case Zo.AD_SKIPPED:r=Ho.SKIPPED;break;case Zo.AD_IMPRESSION:r=Ho.IMPRESSION}null!=r&&(this.sendNotification(r,this.adVO),n=r===Ho.AD_TIME_REMAINING?new Nt(r.replace(/^ads/,\"\"),t.timeElapsed):new Nt(r.replace(/^ads/,\"\"),this.adVO),n.player=this.player,o.dispatchEvent(n))},ji.prototype.createAdVO=function(e){return null==e?null:new Cn(e.id,e.title,e.duration,e.adIndex,e.podPosition,e.adPlatform,null,null,e.requestURL,e.metadata,e.totalAds,e.currentTime)},ji.prototype.terminateAd=function(){this.player.mediaElement.terminateAd()},ji.prototype.terminateAllAds=function(){this.player.mediaElement.terminateAllAds()},ji.prototype.requestAd=function(){this.player.mediaElement.triggerAd()},n(Vi,ji),Vi.NAME=\"AuditudeWrapper\",Vi.prototype.flashPlugins=[{id:\"AuditudePlugin\",src:\"#{paths.resources}plugins/AuditudeStandardPlugin.swf\",host:\"akamai\",main:\"#{paths.resources}plugins/AuditudeStandardPlugin.swf\",type:\"application/x-shockwave-flash\"}],Vi.prototype.createFlashVars=function(e){return null!=this.config.companion&&(e.ad_partner_companion_size=\"\"+this.config.companion.width+\"x\"+this.config.companion.height),e},Vi.prototype.createXML=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h;for(n=e.firstChild,t=e.getElementsByTagName(\"admedia\")[0],null==t&&(t=e.createElement(\"admedia\"),n.appendChild(t)),l=e.createElement(\"vendor\"),l.setAttribute(\"id\",\"auditude\"),t.appendChild(l),s=[{value:this.config.domain,key:\"AUDITUDE_DOMAIN\"},{value:this.config.videoId,key:\"AUDITUDE_MEDIA_ID\"},{value:this.config.defaultId,key:\"AUDITUDE_DEFAULT_MEDIA_ID\"},{value:this.config.zoneId,key:\"AUDITUDE_ZONE_ID\"},{value:this.config.prerollId,key:\"AUDITUDE_PREROLL_MEDIA_ID\"},{value:this.config.midrollId,key:\"AUDITUDE_MIDROLL_MEDIA_ID\"},{value:this.config.audienceManagerURL,key:\"AUDITUDE_AUDIENCE_MGR_URL\"},{value:this.config.version,key:\"AUDITUDE_VERSION\"}],u=0,d=s.length;d>u;u++)a=s[u],null!=a.value&&this.createProperty(e,a.key,a.value,l);if(null!=this.config.position&&l.setAttribute(\"position\",this.config.position),null!=this.config.companions){for(o=[],r=[],h=this.config.companions,c=0,p=h.length;p>c;c++)i=h[c],o.push(i.width+\"x\"+i.height),r.push(i.id);this.createProperty(e,\"AUDITUDE_COMPANION_SIZE\",o.join(\",\"),l),this.createProperty(e,\"AUDITUDE_COMPANION_ID\",o.join(\",\"),l)}return null!=this.config.params&&this.createProperty(e,\"AUDITUDE_PARAMS\",this.config.params,l),null!=this.config.userData&&this.createProperty(e,\"AUDITUDE_USER_DATA\",this.config.userData,l),e},n(Ui,si),Ui.NAME=\"AdPlugin\",Ui.prototype.container=null,Ui.prototype.featureName=\"ads\",Ui.prototype.createModel=function(){this.proxy=this.isFullscreenDevice()?this.createFullscreenProxy():this.createProxy(),this.registerProxy(this.proxy)},Ui.prototype.createController=function(){Ui.__super__.createController.call(this),this.registerCommand(Mo.MEDIA_CHANGE,Ii),this.registerCommand(Ho.BREAK_START,xi),this.registerCommand(Ho.AD_LOADED,Pi),this.registerCommand(Ho.BREAK_END,ki),this.registerCommand(Mo.SEEK,Mi),this.registerCommand(Do.SEEK,Mi),this.registerCommand(Ho.AD_CONTAINER_CREATED,Di),this.registerCommand(Ho.AD_STARTED,ln),this.registerCommand(Ho.SKIPPED,ln),this.registerCommand(Ho.AD_MANAGER_LOADED,ln),this.registerCommand(Ho.AD_TIME_UPDATE,ln),this.registerCommand(Ho.AD_TIME_REMAINING,ln),this.registerCommand(Ho.AD_DURATION_CHANGE,ln),this.registerCommand(Ho.AD_ENDED,ln),this.registerCommand(Ho.AD_ERROR,ln),this.registerCommand(Ho.AD_COMPANION,ln),this.registerCommand(Ho.FIRST_QUARTILE,ln),this.registerCommand(Ho.MIDPOINT,ln),this.registerCommand(Ho.THIRD_QUARTILE,ln),this.registerCommand(Ho.LOG,ln),this.registerCommand(Ho.REQUEST,ln),this.registerCommand(Ho.AD_RESUME,ln),this.registerCommand(Ho.AD_PLAY,ln),this.registerCommand(Ho.AD_PAUSE,ln),this.registerCommand(Ho.AD_PAUSED,ln),this.registerCommand(Ho.IMPRESSION,ln),this.registerCommand(Ho.AD_CLICKED,ln)},Ui.prototype.createView=function(){return this.registerMediator(new Ni)},Ui.prototype.isFullscreenDevice=function(){return kt.isFullscreenDevice()},Ui.prototype.createProxy=function(){},Ui.prototype.createFullscreenProxy=function(){},Ui.prototype.listNotificationInterests=function(){return[Mo.MEDIA_CHANGE,Mo.PLAY,Mo.PAUSE,Mo.START,Mo.STARTED,Mo.ENDED,Mo.READY,Mo.SEEK,Mo.VOLUME_CHANGE,Mo.FULL_SCREEN_CHANGE,Mo.CHANGE_ACTIVE_STATE,Do.PLAY,Do.PAUSE,Do.SEEK,Do.TOGGLE_PLAY_PAUSE]},Ui.prototype.listNotificationPublications=function(){var e,t;return Ui.__super__.listNotificationPublications.call(this).concat(function(){var n;n=[];for(e in Ho)t=Ho[e],n.push(t);return n}()).concat([Mo.PLAY_REQUEST,Mo.UPDATE_DATA_BINDINGS,Mo.DISPLAY_TIME,Mo.ADD_CUE_POINTS,Mo.DISABLE_FULL_SCREEN,Mo.ENABLE_VIDEO_EVENTS,Mo.DISABLE_VIDEO_EVENTS])},Ui.prototype.setEnabled=function(e){this.proxy.setEnabled(e)},Ui.prototype.getEnabled=function(){return this.proxy.getEnabled();\n},Ui.prototype.getInProgress=function(){return this.proxy.getInProgress()},Ui.prototype.getStarted=function(){return this.proxy.getStarted()},Ui.prototype.getPaused=function(){return this.proxy.getPaused()},Ui.prototype.getCompanions=function(){return this.proxy.getCompanions()},Ui.prototype.terminateAd=function(){this.proxy.terminateAd()},Ui.prototype.terminateAllAds=function(){this.proxy.terminateAllAds()},Ui.prototype.requestAd=function(){this.proxy.start(!1)},n(Bi,ji),Bi.NAME=\"IMAWrapper\",Bi.prototype.flashPlugins=[{id:\"GoogleIMAPlugin\",src:\"#{paths.resources}plugins/GoogleIMAPlugin.swf\",blocking:!1,host:\"akamai\",main:\"GoogleIMAPlugin\",type:\"application/x-shockwave-flash\"},{id:\"IMAOverlayAdPlugin\",src:\"#{paths.resources}plugins/IMAOverlayAdPlugin.swf\",blocking:!1,host:\"akamai\",main:\"IMAOverlayAdPlugin\",type:\"application/x-shockwave-flash\"},{id:\"AdOptionsPlugin\",src:\"#{paths.resources}plugins/AdOptionsPlugin.swf\",blocking:!1,host:\"akamai\",main:\"AdOptionsPlugin\",type:\"application/x-shockwave-flash\"}],Bi.prototype.createXML=function(e){var t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m;for(n=e.firstChild,t=e.getElementsByTagName(\"admedia\")[0],null==t&&(t=e.createElement(\"admedia\"),n.appendChild(t)),u=e.createElement(\"vendor\"),u.setAttribute(\"id\",\"dfp\"),t.appendChild(u),l=[{value:this.config.adTagUrl,key:\"DFP_AD_TAG_URL\"},{value:this.config.maxBitrate,key:\"DFP_MAX_BITRATE\"},{value:this.config.sceneMarkers,key:\"displaySceneMarkers\"},{value:this.config.ppid,key:\"DFP_PPID\"}],c=0,h=l.length;h>c;c++)s=l[c],null!=s.value&&this.createProperty(e,s.key,s.value,u);if(null!=this.config.position&&u.setAttribute(\"position\",this.config.position),null!=this.config.params&&(null!=this.config.params.adTag&&this.createProperty(e,\"DFP_AD_TAG_PARAMS\",this.config.params.adTag,u),null!=this.config.params.manual&&this.createProperty(e,\"DFP_MANUAL_PARAMS\",this.config.params.manual,u)),null!=this.config.companions){for(o=[],r=[],m=this.config.companions,d=0,f=m.length;f>d;d++)i=m[d],o.push(i.width+\"x\"+i.height),r.push(i.id);this.createProperty(e,\"DFP_SIZE\",o.join(\",\"),u),this.createProperty(e,\"COMPANION_ID\",r.join(\",\"),u)}if(null!=this.config.disableCompanionAds&&this.createProperty(e,\"disableCompanionAds\",this.config.disableCompanionAds,u),null!=this.config.overlay)for(this.config.overlay.enabled===!0&&(a=e.createElement(\"overlay\"),t.appendChild(a)),l=[{value:\"dfp\",key:\"OVERLAY_AD_PARTNER\"},{value:this.config.overlay.adTagUrl,key:\"OVERLAY_AD_BASE_URL\"},{value:this.config.overlay.delay,key:\"OVERLAY_AD_DELAY\"},{value:this.config.overlay.interval,key:\"OVERLAY_AD_INTERVAL\"},{value:this.config.overlay.duration,key:\"OVERLAY_AD_DURATION\"},{value:\"\"+this.config.overlay.width+\"x\"+this.config.overlay.height,key:\"OVERLAY_AD_SIZE\"}],p=0,g=l.length;g>p;p++)s=l[p],null!=s.value&&this.createProperty(e,s.key,s.value,a);return e},n(Gi,Nn),Gi.NAME=Nn.NAME,Gi.prototype.createPlugin=function(){return new google.ima.AdDisplayContainer(this.facade.getViewComponent().container,this.facade.player.getMediaElement(),this.facade.getViewComponent().container)},Gi.prototype.engage=function(e){Gi.__super__.engage.call(this,e),this.sendNotification(Mo.DISABLE_VIDEO_EVENTS,[\"paused\",\"ended\",\"durationchange\",\"error\"])},Gi.prototype.reset=function(e){Gi.__super__.reset.call(this,e),this.sendNotification(Mo.ENABLE_VIDEO_EVENTS,[\"paused\",\"ended\",\"durationchange\",\"error\"])},Gi.prototype.breakStart=function(){this.playbackCore=this.facade.player.retrieveProxy(Et.NAME).getActivePlaybackCore(),this.playbackCore.setEnabled(!1),this.setInProgress(!0)},Gi.prototype.breakEnd=function(){Gi.__super__.breakEnd.call(this),this.playbackCore.setEnabled(!0)},n(Fi,puremvc.SimpleCommand),Fi.prototype.execute=function(e){this.facade.sendNotification(Mo.ADD_APPLICATION_STATE,\"ad-overlay-mode\")},n(Hi,puremvc.SimpleCommand),Hi.prototype.execute=function(e){var t;t=this.facade.retrieveProxy(An.NAME),t.stop(),this.facade.player.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"ad-overlay-mode\")},n(zi,X),zi.prototype.componentName=\"ad-overlay\",zi.prototype.anchor=null,zi.prototype.image=null,zi.prototype.tracker=null,zi.prototype.tracker2=null,zi.prototype.closeButton=null,zi.prototype.closeText=null,zi.prototype.onRegister=function(){var e=this;this.anchor=this.create(\"ad-overlay-anchor\"),this.anchor.target=\"_blank\",this.image=this.create(\"ad-overlay-img\",this.anchor,\"img\"),this.tracker=this.create(),this.tracker.width=0,this.tracker.height=0,this.tracker2=this.create(null,this,\"img\"),this.tracker2.width=0,this.tracker2.height=0,this.closeButton=this.create(\"ad-close-button\",this.anchor),this.closeButton.onclick=function(t){return t.stopImmediatePropagation(),e.sendNotification(zo.REMOVE_OVERLAY),!1},this.closeText=this.createText(\"ad-close-text\",\"x\",this.closeButton),zi.__super__.onRegister.call(this)},zi.prototype.listNotificationInterests=function(){return[zo.ADD_OVERLAY,zo.REMOVE_OVERLAY]},zi.prototype.handleNotification=function(e){var t;switch(e.getName()){case zo.ADD_OVERLAY:t=e.getBody(),this.image.src=t.src,this.anchor.href=t.href,this.tracker.src=t.tracking[0],this.tracker2.src=t.tracking[1]}},n(Wi,puremvc.SimpleCommand),Wi.prototype.execute=function(e){this.facade.retrieveProxy(Nn.NAME).ready()},n(qi,puremvc.SimpleCommand),qi.prototype.execute=function(e){this.facade.retrieveProxy(Nn.NAME).resize(e.getBody())},n(Yi,puremvc.SimpleCommand),Yi.prototype.execute=function(e){this.facade.retrieveProxy(Nn.NAME).resize(e.getBody())},n(Xi,Ui),Xi.NAME=\"AuditudePlugin\",Xi.prototype.moduleName=\"auditude\",Xi.prototype.featureName=\"ads\",Xi.prototype.createFullscreenProxy=function(){return new Ri(this.config)},Xi.prototype.createProxy=function(){return new Li(this.config)},Xi.prototype.isFullscreenDevice=function(){return!0},tn.registerPlugin(\"auditude\",\"html\",Xi),tn.registerPlugin(\"auditude\",\"flash\",Vi),n(Zi,Rt),Zi.NAME=\"AdChoicesWrapper\",Zi.prototype.flashView={elements:{adOptions:{elements:{adChoices:{attributes:{target:\"http://www.akamai.com/\"}}}}}},n(Ji,Y),Ji.prototype.componentName=\"ad-choices\",Ji.prototype.icon=null,Ji.prototype.text=null,Ji.prototype.container=null,Ji.prototype.onRegister=function(){var e;Ji.__super__.onRegister.call(this),e=this.facade.retrieveProxy(a.NAME),this.container=this.create(\"ad-choices-link\",this,\"a\"),this.container.target=\"_blank\",this.container.href=e.getTarget(),this.text=this.createText(\"ad-choices-text\",\"AdChoices\",this.container),this.icon=this.create(\"ad-choices-icon\",this.container)},Ji.prototype.listNotificationInterests=function(){return[Ho.AD_CONTAINER_CREATED]},Ji.prototype.handleNotification=function(e){var t;switch(e.getName()){case Ho.AD_CONTAINER_CREATED:t=e.getBody(),null!=t&&t.appendChild(this.viewComponent)}},n(Ki,a),Ki.NAME=a.NAME,Ki.prototype.defaults={target:null},Ki.prototype.getTarget=function(){return this.data.target},Ki.prototype.setTarget=function(e){return this.data.target=e},n($i,Ui),$i.prototype.moduleName=\"ima\",$i.prototype.createFullscreenProxy=function(){return new Gi(this.config)},$i.prototype.createProxy=function(){return new Nn(this.config)},$i.prototype.isFullscreenDevice=function(){var e;return e=navigator.userAgent,kt.isFullscreenDevice()||/Android 4\\.[0-1]/.test(e)||/CrKey/.test(e)},$i.prototype.createModel=function(){$i.__super__.createModel.call(this),null!=this.config.overlay&&this.registerProxy(new An(this.config.overlay))},$i.prototype.createController=function(){$i.__super__.createController.call(this),null!=this.config.overlay&&(this.registerCommand(zo.ADD_OVERLAY,Fi),this.registerCommand(zo.REMOVE_OVERLAY,Hi)),this.registerCommand(Mo.READY,Wi),this.registerCommand(Mo.FULL_SCREEN_CHANGE,qi),this.registerCommand(Mo.CHANGE_ACTIVE_STATE,Yi)},$i.prototype.createView=function(){$i.__super__.createView.call(this),null!=this.config.overlay&&this.registerMediator(new zi)},tn.registerPlugin(\"ima\",\"html\",$i),tn.registerPlugin(\"ima\",\"flash\",Bi),n(Qi,nt),Qi.prototype.moduleName=\"adchoices\",Qi.prototype.createModel=function(){this.registerProxy(new Ki(this.config))},Qi.prototype.createView=function(){this.registerMediator(new Ji)},Qi.prototype.listNotificationInterests=function(){return[Ho.AD_CONTAINER_CREATED]},tn.registerPlugin(\"adchoices\",\"html\",Qi),tn.registerPlugin(\"adchoices\",\"flash\",Zi),n(eo,nt),eo.prototype.listNotificationPublications=function(){return eo.__super__.listNotificationPublications.apply(this,arguments).concat([Mo.ADD_CONTROL,Mo.REMOVE_CONTROL,Mo.ADD_CONTROL_STATE,Mo.REMOVE_CONTROL_STATE])},n(to,Dt),to.prototype.panel=null,to.prototype.timeout=null,to.prototype.closePanelDelayed=null,to.prototype.onRegister=function(){this.closePanelDelayed=this.delayedClosePanel.bind(this),\"desktop\"===kt.getDevice()?(this.onmouseleave=this.closePanelDelayed,this.onmouseenter=this.openPanel,this.onclick=this.clickHandler):this.onclick=this.togglePanel,to.__super__.onRegister.call(this),this.sendNotification(Mo.ADD_CONTROL_STATE,\"\"+this.componentName+\"-enabled\"),this.sendNotification(Mo.ADD_CONTROL,this.viewComponent)},to.prototype.openPanel=function(){clearTimeout(this.timeout),this.sendNotification(Fo.OPEN_PANEL,this.panel),this.panel.viewComponent.addEventListener(\"mouseleave\",this.closePanelDelayed)},to.prototype.closePanel=function(){kt.isMouseOverElement(this.panel.viewComponent)||kt.isMouseOverElement(this.viewComponent)||this.facade.player.retrieveProxy(mt.NAME).getIsUserActive()||(this.panel.viewComponent.addEventListener(\"mouseleave\",this.closePanelDelayed),this.sendNotification(Fo.CLOSE_PANEL,this.panel))},to.prototype.delayedClosePanel=function(){this.timeout=setTimeout(this.closePanel.bind(this),350)},to.prototype.togglePanel=function(){this.sendNotification(Fo.TOGGLE_PANEL,this.panel)},to.prototype.clickPanel=function(){},n(no,Y),no.prototype.componentType=\"panel\",no.prototype.control=null,no.prototype.onRegister=function(){no.__super__.onRegister.call(this),this.sendNotification(Fo.ADD_PANEL,this)},n(io,Ie),io.NAME=a.NAME,io.prototype.loaded=!0,io.prototype.controlName=null,io.prototype.getControlName=function(){return this.controlName},io.prototype.setControlName=function(e){return this.controlName=e},n(oo,io),oo.NAME=a.NAME,oo.prototype.hidden=!0,oo.prototype.getHidden=function(){return this.hidden},oo.prototype.setHidden=function(e){return this.hidden=e,e},n(ro,oo),ro.NAME=a.NAME,ro.prototype.controlName=\"volume\",ro.prototype.defaults={direction:\"vertical\"},ro.prototype.getDirection=function(){return this.data.direction},n(ao,Rt),ao.NAME=\"VolumePanelWrapper\",tn.registerPlugin(\"volumepanel\",\"flash\",ao),n(so,to),so.prototype.clickHandler=function(){this.sendNotification(Mo.TOGGLE_MUTED)},n(lo,Xt),lo.prototype.componentName=\"volume\",lo.prototype.draggable=!0,lo.prototype.valueChanged=function(){this.sendNotification(Mo.CHANGE_VOLUME,this.value),this.sendNotification(Xo.UPDATE_SETTINGS,{volume:this.value})},lo.prototype.listNotificationInterests=function(){return[Mo.VOLUME_CHANGE,Mo.READY]},lo.prototype.handleNotification=function(e){switch(e.getName()){case Mo.READY:this.updateValue(this.facade.player.retrieveProxy(xe.NAME).getVolume());break;case Mo.VOLUME_CHANGE:this.updateValue(e.getBody())}},n(uo,Un),uo.prototype.panel=null,uo.prototype.control=null,uo.prototype.separator=null,uo.prototype.controls=null,uo.prototype.labels=null,uo.prototype.closed=!0,uo.prototype.panelClass=no,uo.prototype.controlClass=to,uo.prototype.onRegister=function(){this.panel=this.createPanel(this.componentName),this.control=this.createControl(this.componentName),this.separator=this.createSeparator(this.componentName),this.panel.control=this.control,this.control.panel=this.panel,null==this.labels&&(this.labels={}),this.createPanelControls(name)},uo.prototype.createControl=function(e){var t;return t=new this.controlClass(e),this.facade.registerMediator(t),t},uo.prototype.createPanel=function(e){var t;return t=new this.panelClass(e),this.facade.registerMediator(t),t},uo.prototype.createSeparator=function(e){return this.create([\"separator\",\"icon\"],this.panel)},uo.prototype.createPanelControls=function(e){var t,n,i,o;t=this.plugin.getConfigurationData();for(n in t)i=t[n],i===!0&&(this.controls[n]=this.addPanelControl(new Dt(this.localizationManager.getString(this.labels[n]),null,null,n,null!=(o=this.panelButtonClickHandler)&&\"function\"==typeof o.bind?o.bind(this,n):void 0)))},uo.prototype.addPanelControl=function(e){return this.facade.registerMediator(e),this.panel.getViewComponent().appendChild(e.getViewComponent()),e},uo.prototype.panelButtonClickHandler=function(){this.sendNotification(Fo.CLOSE_PANEL,this.panel)},n(co,uo),co.prototype.componentName=\"volume\",co.prototype.slider=null,co.prototype.level=null,co.prototype.controlClass=so,co.prototype.onRegister=function(){co.__super__.onRegister.call(this),this.slider=new lo(this.panel,this.plugin.getDirection()),this.facade.registerMediator(this.slider)},co.prototype.updateVolumeButton=function(e){var t;t=Math.ceil(10*e),t!==this.level&&(null!=this.level&&this.sendNotification(Mo.REMOVE_CONTROL_STATE,\"volume-\"+this.level),this.level=t,this.sendNotification(Mo.ADD_CONTROL_STATE,\"volume-\"+this.level))},co.prototype.listNotificationInterests=function(){return co.__super__.listNotificationInterests.apply(this,arguments).concat([Mo.VOLUME_CHANGE])},co.prototype.handleNotification=function(e){switch(co.__super__.handleNotification.call(this,e),e.getName()){case Mo.VOLUME_CHANGE:this.updateVolumeButton(e.body)}},n(po,eo),po.prototype.listNotificationPublications=function(){var e,t;return po.__super__.listNotificationPublications.call(this).concat(function(){var n;n=[];for(e in Fo)t=Fo[e],n.push(t);return n}())},n(ho,Me),ho.prototype.playbackCoreName=\"rapt\",ho.prototype.mediaElement=null,ho.prototype.mediator=null,ho.prototype.getMediaElement=function(){return this.mediaElement},ho.prototype.onRegister=function(){var e;null==this.mediator&&(this.mediator=new me(\"rapt\",\"iframe\"),this.mediator.onRegister(),e=this.mediator.getViewComponent(),e.player=this.facade,e.name=this.name,e.setAttribute(\"allowfullscreen\",\"true\"),e.setAttribute(\"webkitallowfullscreen\",\"true\"),e.setAttribute(\"mozallowfullscreen\",\"true\"),e.setAttribute(\"scrolling\",\"no\"),e.setAttribute(\"frameborder\",\"0\"),e.setAttribute(\"marginwidth\",\"0\"),e.setAttribute(\"marginheight\",\"0\"),this.sendNotification(Mo.PLAYBACK_CORE_CHANGE,this.mediator),this.mediaElement=new fo(this.name),this.mediaElement.addEventListener(\"interactivebreakstart\",this.oninteractivebreakstart.bind(this)),this.mediaElement.addEventListener(\"interactivebreakend\",this.oninteractivebreakend.bind(this)),this.initialized=!0)},ho.prototype.replay=function(){this.mediaElement.replay()},ho.prototype.oninteractivebreakstart=function(){this.sendNotification(Mo.ADD_APPLICATION_STATE,\"interactive\")},ho.prototype.oninteractivebreakend=function(){this.sendNotification(Mo.REMOVE_APPLICATION_STATE,\"interactive\")},fo.prototype.updateData=function(e){var t;null==e&&(e=raptor.api.state(this.name)),null!=e&&(t=parseFloat(e.duration),t!==this.data.duration&&(this.data.duration=t,this.dispatchEvent(\"durationchange\")),t=parseFloat(e.time||e.progressTime),t!==this.data.currentTime&&(this.data.currentTime=t,this.dispatchEvent(\"timeupdate\")))},fo.prototype.load=function(){this.iframe.src=this.src},fo.prototype.play=function(){raptor.api.play(this.name)},fo.prototype.pause=function(){raptor.api.pause(this.name),this.updateData()},fo.prototype.replay=function(){raptor.api.setNode(this.startNode,this.name)},fo.prototype.canPlayType=function(e){return\"application/rapt\"===e?\"maybe\":\"\"},fo.prototype.addEventListener=function(e,t,n){this.iframe.addEventListener(e,t,n)},fo.prototype.dispatchEvent=function(e){return\"string\"==typeof e&&(e=new CustomEvent(e)),this.iframe.dispatchEvent(e)},fo.prototype.removeEventListener=function(e,t,n){this.iframe.removeEventListener(e,t,n)},null!=Object.defineProperties&&Object.defineProperties(fo.prototype,{src:{set:function(e){this.data.src=e},get:function(){return this.data.src}},currentTime:{set:function(e){raptor.api.setTime(e,this.name)},get:function(){return this.data.currentTime}},duration:{get:function(){return this.data.duration}},paused:{get:function(){return this.data.paused}},ended:{get:function(){return this.data.ended}},error:{get:function(){return this.data.error}},readyState:{get:function(){return 1}}}),n(go,Ie),go.NAME=a.NAME,go.prototype.defaults={types:[\"application/rapt\"]},go.prototype.player=null,go.prototype.initialize=function(){var e;this.sendNotification(Mo.INITIALIZED),this.player=new ho(this.getConfigurationData()),e=this.facade.player.retrieveProxy(Et.NAME),e.registerPlaybackCore(this.player)},n(mo,po),mo.prototype.moduleName=\"volumepanel\",mo.prototype.createFramework=function(){kt.isVolumeSettable()&&mo.__super__.createFramework.call(this)},mo.prototype.createModel=function(){this.registerProxy(new ro(this.config))},mo.prototype.createView=function(){kt.isVolumeSettable()&&this.registerMediator(new co)},mo.prototype.listNotificationPublications=function(){return mo.__super__.listNotificationPublications.apply(this,arguments).concat([Mo.CHANGE_VOLUME,Mo.TOGGLE_MUTED,Xo.UPDATE_SETTINGS])},mo.prototype.listNotificationInterests=function(){return mo.__super__.listNotificationInterests.apply(this,arguments).concat([Mo.VOLUME_CHANGE,Mo.READY])},tn.registerPlugin(\"volumepanel\",\"html\",mo),n(yo,Rt),yo.NAME=\"HLSWrapper\",yo.prototype.flashPlugins=[{id:\"flashlsOSMF\",src:\"#{paths.resources}plugins/flashlsOSMF.swf\",host:\"osmf\",type:\"application/x-shockwave-flash\"}],tn.registerPlugin(\"hls\",\"flash\",yo),n(vo,Me),vo.prototype.playbackCoreName=\"hls\",vo.prototype.player=null,vo.prototype.hlsConfig=null,vo.prototype.fragErrorTime=0,vo.prototype.timedMedatadata=null,vo.prototype.currentMedatadata=null,vo.prototype.load=function(){var e,t,n,i;null!=this.player&&(this.player.destroy(),this.sendNotification(Mo.PLAYBACK_CORE_CHANGE,new me(\"html5\",\"video\"))),e=new Hls(this.hlsConfig),e.attachMedia(this.getMediaElement()),e.on(Hls.Events.MANIFEST_PARSED,this.onManifestParsed.bind(this)),e.on(Hls.Events.ERROR,this.onError.bind(this)),e.on(Hls.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata.bind(this)),e.on(Hls.Events.LEVEL_LOADED,this.onLevelLoaded.bind(this));try{i=this.config.quality;for(t in i)n=i[t],e[t]=n}catch(o){}this.player=e,vo.__super__.load.call(this)},vo.prototype.applySrc=function(){this.timedMedatadata=[],this.currentMedatadata=null,this.player.loadSource(this.getSrc())},vo.prototype.onManifestParsed=function(e,t){this.sendNotification(Jo.MANIFEST_PARSED,t),this.player.loadLevel=-1,this.getMediaElement().play()},vo.prototype.onLevelLoaded=function(e,t){var n;this.sendNotification(Jo.LEVEL_LOADED,t),n=t.details.live,n===!0&&this.mediaProxy.setTemporalType(\"live\")},vo.prototype.onFragParsingMetadata=function(e,t){var n,i,o;t=t.samples[0],o=Math.round(t.dts),i=String.fromCharCode.apply(null,t.data.slice(0,-1)),n={startTime:o,endTime:o,key:i.replace(/(\\S*)\\{.*/,\"$1\").split(\" \")[1],info:i.replace(/[^\\{]+\\{/,\"\"),data:t},this.timedMedatadata.push(n)},vo.prototype.ontimeupdate=function(e){var t,n,i,o,r,a;if(vo.__super__.ontimeupdate.call(this,e),0!==this.timedMedatadata.length)for(i=Math.round(e.target.currentTime),t=this.currentMetadata,a=this.timedMedatadata,o=0,r=a.length;r>o;o++)if(n=a[o],n.startTime===i&&t!==n)return this.currentMetadata=n,void this.sendNotification(Mo.TIMED_METADATA,n)},vo.prototype.seek=function(e){this.getMediaElement().currentTime=e+this.getStartTime()},vo.prototype.getCurrentTime=function(){return this.getMediaElement().currentTime-this.getStartTime()},vo.prototype.getDuration=function(){var e,t,n;return(null!=(e=this.player)&&null!=(t=e.levels[this.player.currentLevel])&&null!=(n=t.details)?n.totalduration:void 0)||this.getMediaElement().duration},vo.prototype.getStartTime=function(){return this.getMediaElement().duration-this.getDuration()},vo.prototype.onError=function(e,t){var n,i;if(t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:if(403===(null!=(n=t.loader)&&null!=(i=n.loader)?i.status:void 0))return this.facade.sendNotification(Mo.ERROR,{code:403,error:t.response.response});this.player.startLoad(),this.facade.logger.error(\"[AMP HLS] Playback Error trying to recover:\",e);break;case Hls.ErrorTypes.MEDIA_ERROR:this.player.recoverMediaError(),this.facade.logger.error(\"[AMP HLS] Playback Error trying to recover:\",e);break;default:this.facade.logger.error(\"[AMP HLS] Playback Error:\",e),this.sendNotification(Mo.ERROR,t)}t.fatal||t.details!==Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR||(this.fragErrorTime===this.getMediaElement().currentTime?(this.getMediaElement().currentTime++,this.facade.logger.error(\"[AMP HLS] Frag Loop Load Error, Seeking to :\",this.getMediaElement().currentTime)):this.fragErrorTime=this.getMediaElement().currentTime),t.fatal||t.type!==Hls.ErrorTypes.NETWORK_ERROR||(t.code=MediaError.MEDIA_ERR_NETWORK,this.sendNotification(Mo.ERROR,t))},vo.prototype.setQuality=function(e){var t;return null!=(t=this.player)?t.currentLevel=e:void 0},vo.prototype.getQuality=function(){var e;return null!=(e=this.player)?e.currentLevel:void 0},vo.prototype.getQualityLevels=function(){var e;return(null!=(e=this.player)?e.levels:void 0)||vo.__super__.getQualityLevels.call(this)},vo.prototype.destroy=function(){var e;null!=(e=this.player)&&e.destroy()};var Jo={MANIFEST_PARSED:\"hlsManifestParsed\",LEVEL_LOADED:\"hlsLevelLoaded\"};n(_o,puremvc.SimpleCommand),_o.prototype.execute=function(e){var t,n,i,o,r,a,s=this;r=e.getBody(),i=this.facade.retrieveProxy(xe.NAME),t=this.facade.getMediaElement(),null!=t&&t.webkitSupportsFullscreen&&(o=this.facade.retrieveProxy(mt.NAME),o.setDisplayState(r),n={},a=this.facade.viewComponent,null!=a.requestFullscreen?(n.enter=function(){return a.requestFullscreen()},n.exit=function(){return document.cancelFullscreen()},n.event=\"onfullscreenchange\",n.element=\"fullscreenElement\"):null!=a.webkitRequestFullScreen?(n.enter=function(){return a.webkitRequestFullScreen()},n.exit=function(){return document.webkitCancelFullScreen()},n.event=\"onwebkitfullscreenchange\",n.element=\"webkitFullscreenElement\"):null!=a.mozRequestFullScreen?(n.enter=function(){return a.mozRequestFullscreen()},n.exit=function(){return document.mozCancelFullScreen()},n.event=\"onmozfullscreenchange\",n.element=\"mozFullscreenElement\"):null!=a.msRequestFullScreen&&(n.enter=function(){return a.msRequestFullscreen()},n.exit=function(){return document.msCancelFullScreen()},n.event=\"onmozfullscreenchange\",n.element=\"mozFullscreenElement\"),r===Vo.FULL_SCREEN?(n.enter(),null!=n.event&&(t[n.event]=function(e){return null==document[n.element]?s.sendNotification(Mo.CHANGE_DISPLAY_STATE,Vo.NORMAL):void 0})):r===Vo.NORMAL&&(n.exit(),t[n.event]=null),this.facade.dispatchEvent(new Nt(\"fullscreenchange\",r===Vo.FULL_SCREEN)))},n(bo,Ie),bo.NAME=a.NAME,bo.prototype.playbackProxy=null,bo.prototype.createPlaybackProxy=function(){},bo.prototype.initialize=function(){var e;this.playbackProxy=this.createPlaybackProxy(),null!=this.playbackProxy&&(this.sendNotification(Mo.INITIALIZED),e=this.facade.player.retrieveProxy(Et.NAME),e.registerPlaybackCore(this.playbackProxy))},bo.prototype.destroy=function(){var e;null!=(e=this.playbackProxy)&&e.destroy()},n(Eo,bo),Eo.NAME=a.NAME,Eo.prototype.defaults={types:[\"application/x-mpegURL\"],data:{enableWorker:!0,enableSoftwareAES:!0,enableCEA708Captions:!0},buffer:null,quality:null,withCredentials:null},Eo.prototype.createPlaybackProxy=function(){var e;return e=window.MediaSource||window.WebKitMediaSource,null!=e?new vo(this.getConfigurationData()):void 0},n(wo,nt),wo.prototype.moduleName=\"rapt\",wo.prototype.createModel=function(){this.registerProxy(new go(this.config))},tn.registerPlugin(\"rapt\",\"html\",wo),n(To,nt),To.prototype.moduleName=\"hls\",To.prototype.createModel=function(){this.proxy=new Eo(this.config),this.registerProxy(this.proxy)},To.prototype.registered=function(){this.player.registerCommand(Mo.CHANGE_DISPLAY_STATE,_o),To.__super__.registered.call(this)},To.prototype.getPlaybackProxy=function(){return this.proxy.playbackProxy},To.prototype.listNotificationPublications=function(){return To.__super__.listNotificationPublications.call(this).concat([Mo.TIMED_METADATA,Jo.MANIFEST_PARSED])},tn.registerPlugin(\"hls\",\"html\",To),Co.akamai={amp:{AMP:tn,utils:{Utils:kt,QueryString:r,Logger:Pt},Config:ht,chromecast:{ChromeCastShim:\"undefined\"!=typeof ChromeCastShim?ChromeCastShim.getInstance():null}}},window.AKAMAI_MEDIA_PLAYER.saveSDK(Ao,Co)}window.AKAMAI_MEDIA_PLAYER.setVersion(Ao)}(),Ndn_Require.define(\"amp_lib\",function(){});var _nw2e=_nw2e||[];Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Amp\",[\"jquery\",\"underscore\",\"backbone\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Analytics\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Viewer/ViewerModule\",\"models/Ndn/Viewer/ViewerModule/Amp/Config\",\"models/Ndn/PlayerServices/Cache\",\"models/Ndn/Debugger\",\"models/Ndn/AdBlockDetector\",\"amp_lib\"],function(e,t,n,i,o,r,a,s,l,u,c,d){function p(e,t,n){var i=e,o=n,r=t;switch(o.length){case 0:return i[r]();case 1:return i[r](o[0]);case 2:return i[r](o[0],o[1]);case 3:return i[r](o[0],o[1],o[2]);case 4:return i[r](o[0],o[1],o[2],o[3]);case 5:return i[r](o[0],o[1],o[2],o[3],o[4]);case 6:return i[r](o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6]);case 8:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]);case 9:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8]);case 10:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]);case 11:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10]);case 12:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11]);case 13:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12]);case 14:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13]);case 15:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14]);case 16:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]);case 17:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16]);case 18:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17]);case 19:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18])}}swfobject.callDomLoadFunctions(),_nw2e.videoPlayer=AKAMAI_MEDIA_PLAYER.noConflict();var h,f=!1,g=function(e,t){var n=e.get(\"playerInstance\"),i=Array.prototype.slice.call(arguments,2);c.inMode(\"delegateMethods\")&&console.log(\"---> Ndn_Viewer_ViewerModule_Amp, _delegateMethod(\",t,\", \",i,\");\");var o,r=n;try{for(var a=t.split(\".\"),s=0;s<a.length-1;s++){var l=a[s];if(null===r||\"object\"!=typeof r||\"undefined\"==typeof r[l])throw\"Method parent could not be found.\";r=r[l]}if(null===r||\"object\"!=typeof r)throw\"Method parent could not be found.\";o=a[a.length-1]}catch(u){c.inMode(\"delegateMethod\")&&console.log(\"ERROR TRYING TO FIND DELEGATE METHOD: \",u)}return r&&\"function\"==typeof r[o]?p(r,o,i):void 0},m=s.extend({defaults:{moduleId:\"amp\",playerInstance:null,isReady:!1,isMuted:!1,playOnLoad:!1,params:null,ampVideoData:null,isBumperVideo:null,isSynchronized:!1,isFullscreen:!1,ampConfig:null,debugInfo:null},initialize:function(e){var t=this;s.prototype.initialize.call(this,e),this.set({isReady:!1}),this.set(\"debugInfo\",{ampVersion:m.getVersion(),playerConfigDefaults:m.getDebugConfig(),playerConfig:null,videosLoaded:[]}),this.on({fullscreenStart:function(){t.set(\"isFullscreen\",!0)},fullscreenEnd:function(){t.set(\"isFullscreen\",!1)}}),this.on(\"share\",function(){t.isFullscreen()&&t.get(\"playerInstance\").exitFullScreen()}),this.handleClosedCaptioning()},isSynchronized:function(){return this.get(\"isSynchronized\")},toggleSynchronized:function(e){this.set(\"isSynchronized\",e)},initializePlayerConfig:function(e){var t=this.get(\"ampConfig\");t||this.set(\"ampConfig\",{comscoreEnabled:e.comscoreEnabled,playbackMode:e.playbackMode})},startSession:function(e){s.prototype.startSession.apply(this,arguments),this.applySessionDefaults(e,{isMuted:!1,playOnLoad:!0,isBumperVideo:!1,playbackMode:m.getDefaultPlaybackMode(),showControls:!0,showShareIcons:!0}),this.toggleAdPlayer(!!e.dfp),this.toggleContentPlayer(!!e.videoData),this.toggleSynchronized(!1),this.initializePlayerConfig({comscoreEnabled:!!e.comscore,playbackMode:e.playbackMode});var t=this;this.set({isMuted:e.isMuted,params:{dfp:e.dfp||{},comscore:e.comscore||{}},ampVideoData:function(){var n=e.videoData||u.getLastCachedVideoData();return t.getAmpVideoData(n,e.isBumperVideo)}()}),this.get(\"debugInfo\").videosLoaded.push([[\"setAutoplay\",e.playOnLoad],[\"ads.setEnabled\",this.isAdPlayerEnabled()],[\"setParams\",this.get(\"params\")],[\"feed.setData\",this.get(\"ampVideoData\")]]),(e.playOnLoad||\"flash\"!=e.playbackMode)&&this.syncThirdPartyPlayer()},maintainVisibility:function(){},isFullscreen:function(){return this.get(\"isFullscreen\")},getCurrentTime:function(){return this.isShowingAdPlayer()?this.getAdPlayerMetadata().currentTime:g(this,\"getCurrentTime\")},getDuration:function(){return this.isShowingAdPlayer()?this.getAdPlayerMetadata().duration:this.getSessionParams().isBumperVideo?6:g(this,\"getDuration\")},getAdPlayerMetadata:function(){var e=this.getPlayerInstance();return e.ads&&e.ads.adVO&&e.ads.adVO.metadata||{}},getPlayerInstance:function(){return this.get(\"playerInstance\")},handleClosedCaptioning:function(){if(a.isOnIos()){var t=this;t.onceReady(function(){var n=t.getPlayerInstance().getMediaElement();n&&(n.setAttribute(\"crossorigin\",\"anonymous\"),t.on(\"loadedmetadata\",function(){if(t.isShowingVideo()){var e=t.getSessionParams().videoData,i=function(){for(var t=0;t<e.subtitles.length;t++){var n=e.subtitles[t];if(\"text/vtt\"==n.type)return n}}();if(i){var o=document.createElement(\"track\");o.kind=\"captions\",o.label=\"English\",o.srclang=\"en\",o.src=i.url,o.type=\"text/vtt\",o.addEventListener(\"load\",function(){this.mode=\"disabled\",n.textTracks[0].mode=\"disabled\"}),n.appendChild(o)}}}),t.on(\"viewerModuleEnd\",function(){e(n).find(\"track\").remove()}))})}},getDuration:function(){return this.getSessionParams().isBumperVideo?6:g(this,\"getDuration\")},play:function(){var e=this;this.syncThirdPartyPlayer().done(function(){e.isPlaying()||g(e,\"play\")})},getAmpVideoData:function(e,t){var n=this.getSessionParams(),i=this.getContainerElement(),o=i.width(),r=i.height(),a=5,s=6,l=\"Wed, 03 Aug 2011 10:00:21 -0400\",u={\"@attributes\":{version:\"2.0\"},channel:{category:\"\",pubDate:l,language:\"en\",ttl:\"10\",item:{title:\"NDN - AMP Premier\",link:\"http://akamai.com/player.html\",description:\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc augue sapien, dapibus vitae imperdiet vitae, ullamcorper eget tortor. In lorem eros, porttitor quis commodo et, egestas a odio. Nunc eu augue sit amet dolor malesuada condimentum in eu velit. Donec commodo bibendum egestas. In viverra condimentum dapibus. Praesent molestie, dolor a laoreet cursus, massa sem varius tellus, at consectetur mauris ligula at dolor. Etiam semper augue et risus mattis iaculis tincidunt odio sodales. Vivamus eget elit quis metus pulvinar condimentum. Donec et vestibulum dui. Proin ultricies ligula sed felis pretium at adipiscing tortor bibendum. Morbi et ligula non massa facilisis lacinia. Duis at ligula mauris. Nullam ipsum tortor, lobortis eget adipiscing eu, sagittis eu sapien. Nunc dictum porttitor lobortis. Suspendisse cursus mollis lorem sed ultrices\",category:\"\",pubDate:l,\"ndn-provider\":{id:e.provider.trackingGroup,name:e.provider.name,image:e.provider.logoUrl},\"media-group\":{\"media-content\":function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i],r={\"@attributes\":{url:function(){var e=o.url.replace(\" \",\"\"),t=/^(rtmp:.*)\\.flv$/gi.exec(e);return t&&(e=t[1]),/\\.f4m\\?/.exec(e)&&(e+=\"&hdcore=1\"),e}(),medium:o.medium,type:o.type,duration:t?s:o.duration,width:640,height:360}},a={\"video/mp4\":\"PDL\",\"video/flv\":\"RMTP\",\"video/x-flv\":\"RMTP\",\"application/x-mpeg\":\"HLS\",\"application/x-mpegURL\":\"HLS\",\"video/f4m\":\"HDS\"\n};\"undefined\"!=typeof a[o.type]&&(r[\"media-category\"]={\"@attributes\":{schema:\"http://mrss.akamai.com/user_agent_hint\",label:a[o.type]}}),0==i&&(r[\"@attributes\"].isDefault=\"true\"),n.push(r)}return n}(e.mediaContent),\"media-title\":e.videoTitle,\"media-subTitle\":function(){for(var t=[],n=0;n<e.subtitles.length;n++){var i=e.subtitles[n];t.push({\"@attributes\":{type:i.type,lang:i.language,href:i.url}})}return t.length?t:null}(),\"media-description\":e.description,\"media-thumbnail\":{\"@attributes\":{url:e[o>400?\"stillImageXLUrl\":\"stillImageUrl\"],width:(o||\"604\")+\"\",height:(r||\"341\")+\"\"}}}}}};return n.showShareIcons&&(u.channel.item[\"media-group\"][\"media-embed\"]={\"@attributes\":{url:\"http://player.js\",width:(o||\"604\")+\"\",height:(r||\"341\")+\"\"},\"media-param\":{\"@attributes\":{name:\"type\"},\"#text\":\"text/javascript\"}}),t&&(u.channel.item[\"media-group\"][\"akamai-subclip\"]={\"akamai-start\":a+\"\",\"akamai-end\":a+s+\"\"}),c.inMode(\"ampVideoData\")&&console.log(\"[[ampVideoData]]\",u),u},end:function(){this.isPlaying()&&g(this,\"end\")},toggleControls:function(e){g(this,\"controls.setMode\",e?\"auto\":\"none\")},pause:function(){this.isPlaying()&&g(this,\"pause\")},initializeThirdPartyPlayer:function(){var t=this;return e.Deferred(function(e){if(t.get(\"playerInstance\"))e.resolve();else{m.loadConfig({adServer:\"dfp\",adOverlayText:t.getContainerElement().width()>350?\"Your content starts in \":\"Starts in \",adBlockDetectionId:t.getSessionParams().adBlockDetectionId});var n=l.generatePlayerConfig(t.get(\"ampConfig\")||{});t.debug({playerConfig:n},!0),t.set(\"playerInstance\",m.getAmpPremier().create(t.getContainerElement().get(0),n)),t.initializeAmpEventProcessing(),t.onceReady(function(){e.resolve()})}}).promise()},initializeAmpEventProcessing:function(){function n(e,t){i.trigger(e,t)}var i=this,o=this.get(\"playerInstance\"),r=\"flash\"==this.getSessionParams().playbackMode;o.addEventListener(\"ready\",e.proxy(function(a){o.addEventListener(\"started\",function(e){n(\"videoStart\",e)}),o.getMediaElement().addEventListener(\"loadedmetadata\",function(){n(\"loadedmetadata\")}),o.addEventListener(\"playstatechange\",e.proxy(function(e){if(e&&e.data){var t=e.data.value;\"playing\"==t?i.isShowingAd()?n(\"adResume\",e):i.isShowingVideo()&&n(\"videoResume\",e):\"ended\"==t&&i.isShowingAd()&&n(\"adEnd\")}},this)),o.addEventListener(\"fullscreenchange\",function(e){n(e.data?\"fullscreenStart\":\"fullscreenEnd\")}),o.addEventListener(\"volumechange\",e.proxy(function(e){i.isPlayingAd()&&(t.isNumber(e.data.currentVolume)?0==e.data.currentVolume&&this.previous(\"volume\")>0?n(\"adMute\"):e.data.currentVolume>0&&0==this.previous(\"volume\")&&n(\"adUnmute\"):t.isNumber(e.data)&&n(0==e.data?\"adMute\":\"adUnmute\"))},this)),o.addEventListener(\"timeupdate\",function(e){i.isPlayingVideo()&&(i.getCurrentTime()>i.getDuration()?(i.end(),n(\"videoEnd\")):n(\"videoTimeUpdate\",e))}),o.addEventListener(\"ended\",function(e){i.isShowingVideo()&&n(\"videoEnd\")}),o.addEventListener(\"error\",function(e){n(\"error\",{source:o.getSrc()})}),r?o.addEventListener(\"adComponentAdsRequest\",function(e){var t=e.data;i.isAdPlayerEnabled()&&n(\"adRequest\",{adTag:t.requestURL,receivedData:t})}):o.ads.addEventListener(\"request\",function(e){i.isAdPlayerEnabled()&&n(\"adRequest\",{receivedData:{}})}),function(){var e=function(e){try{var t=e.data;if(t){var i=t.metadata&&t.metadata.wrapperAdIds&&t.metadata.wrapperAdIds[0]||t.id;n(\"adLoad\",{adId:i,adPlatform:t.adPlatform,adSystem:t.adSystem,adTitle:t.title,duration:t.duration,linear:t.linear?1:0,podPosition:t.podPosition,totalAds:t.totalAds,workflow:t.workflow,url:t.requestURL})}}catch(o){}};r?o.addEventListener(\"adComponentMediaLoaded\",e):o.ads.addEventListener(\"loaded\",e)}(),o.addEventListener(\"playstatechange\",function(e){e&&e.data&&\"paused\"==e.data.value&&(i.isPlayingAd()?n(\"adPause\",{currentTime:i.getCurrentTime()}):i.isPlayingVideo()&&n(\"videoPause\",{currentTime:i.getCurrentTime()}))}),o.addEventListener(\"mediaPlayerElementEvent\",function(e){\"videoWindow\"==e.data.element&&\"click\"==e.data.type&&n(\"click\",e)}),o.ads.addEventListener(\"started\",function(e){n(\"adStart\")}),o.ads.addEventListener(\"ended\",function(e){n(\"adEnd\")}),o.ads.addEventListener(\"timeupdate\",function(e){n(\"adTimeUpdate\")}),o.ads.addEventListener(\"companion\",function(e){if(e&&e.data){var t=e.data[0]||e.data.metadata&&e.data.metadata[0];t||(t=e.data&&e.data.companions&&e.data.companions[0]),t&&n(\"adCompanion\",{content:t.data||t.content})}}),null!=o.share&&o.share.addEventListener(\"share\",function(e){i.pause(),n(\"share\",{medium:e.data.provider})}),o.ads.addEventListener(\"error\",function(e){try{var t=e.data.metadata.error;t&&n(\"adError\",{message:t.reason,receivedData:t})}catch(i){}}),o.ads.addEventListener(\"log\",function(e){try{var t=e.data.metadata.metadata.error;t&&n(\"adError\",{message:t.message,receivedData:t})}catch(i){}}),i.toggleReady(!0)},this))},syncThirdPartyPlayer:function(){return e.Deferred(e.proxy(function(t){this.initializeThirdPartyPlayer().done(e.proxy(function(){this.isSynchronized()?t.resolve():this.updateThirdPartyPlayer().done(function(){t.resolve()})},this))},this))},updateThirdPartyPlayer:function(){var t=this;return e.Deferred(function(e){t.onceReady(function(){var n=t.getSessionParams();t.isSynchronized()||(t.get(\"isMuted\")?(g(t,\"setVolume\",.01),g(t,\"setMuted\",!0)):(g(t,\"setMuted\",!1),g(t,\"setVolume\",.75)),g(t,\"controls.setMode\",n.showControls?\"auto\":\"none\"),g(t,\"setAutoplay\",n.playOnLoad),g(t,\"ads.setEnabled\",t.isAdPlayerEnabled()),g(t,\"setParams\",t.get(\"params\")),g(t,\"feed.setData\",t.get(\"ampVideoData\")),t.toggleSynchronized(!0)),e.resolve()})}).promise()},getDebugInfo:function(){return t.extend({},this.get(\"debugInfo\"),{playerConfigDefaults:m.getDebugConfig()})}},{generateConfig:function(e){return l.generateDefaultConfig(t.extend(e,{imaEnabled:!0,comscoreEnabled:!0}))},getVersion:function(){var e,t=_nw2e.videoPlayer.version||m.getAmpPremier().VERSION;return(e=t.match(/v([0-9.]+)$/))&&e[1]?e[1]:null},getAmpPremier:function(){return _nw2e.videoPlayer.akamai.amp.AMP},loadConfig:function(e){f||(h=this.getTestConfig(e),m.getAmpPremier().loadDefaults(this.generateConfig(e)),f=!0)},getDefaultPlaybackMode:function(){return m.getAmpPremier().getPlaybackMode()},getConfig:function(e){return this.generateConfig(t.extend({},e))},getDebugConfigParams:function(){return{akamaiJsLibFolderUrl:\"../amp.premier\",akamaiResourcesFolderUrl:\"../resources\"}},getTestConfig:function(e){return this.generateConfig(t.extend({},e,this.getDebugConfigParams()))},getDebugConfig:function(){return h}});return m}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Vjs/Config\",[\"underscore\",\"jquery\",\"models/Ndn/App\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/AdBlockDetector\",\"models/Ndn/Analytics\",\"models/Ndn/Debug\",\"lib/amp.premier/config/skin/templates\"],function(e,t,n,i,o,r,a,s){return{generateDefaultConfig:function(t){t.resourcesFolderUrl=t.resourcesFolderUrl||n.getAppUrl()+\"/resources\";var i={resources:[],domain:\"newsinc.com\",target:\"_top\",params:{},paths:{resources:t.resourcesFolderUrl+\"/\"},fullscreen:{\"native\":!0},controls:{autoHide:5,mode:\"auto\"},captioning:{enabled:!0},info:{enabled:!1},share:{enabled:!0,facebook:!0,twitter:!0},autoplay:!1,volumepanel:{},volume:.75,playoverlay:{enabled:!1},language:\"en\",debug:a.inMode(\"vjsDebug\"),mode:\"auto\"};return t.comscoreEnabled&&(i=e.extend(i,this.getComscoreConfig(t))),t.imaEnabled&&(i=e.extend(i,this.getImaConfig(t))),i},getComscoreConfig:function(e){return{comscore:{url:n.isOnSsl()?\"https://sb.scorecardresearch.com/b\":\"http://b.scorecardresearch.com/b\",data:{c1:\"1\",c2:\"11112732\",c3:\"#{comscore.distributorName}\",c4:\"#{comscore.providerName}\",c5:\"\",c6:\"#{comscore.siteSection}\",c10:\"#{comscore.providerCategory}\"},events:{ads:[{type:\"started\",data:{c4:\"#{comscore.providerName} 09\",c5:\"09\"}}],video:[{type:\"started\",data:{c4:\"#{comscore.providerName} #{comscore.c5}\",c5:\"#{comscore.c5}\"}}]}},comscorestreamsense:{enabled:!0,resources:[{type:\"text/javascript\",src:e.resourcesFolderUrl+\"/js/streamsense.4.1412.05.min.js\"}],data:{clientId:\"11112732\",publisherSecret:\"c3798e9f708f2d61a9cf8232b0503d5a\",metadata:{ads:{ns_st_ci:\"#{comscore.videoAssetId}\",c3:\"#{comscore.distributorName}\",c4:\"#{comscore.providerName}\",c6:\"#{comscore.siteSection}\",ca2:\"null\",ca4:\"null\",ca6:\"null\"},video:{ns_st_ci:\"#{comscore.videoAssetId}\",c3:\"#{comscore.distributorName}\",c4:\"#{comscore.providerName}\",c6:\"#{comscore.siteSection}\",ca2:\"#{comscore.ca2}\",ca3:\"#{comscore.ca3}\",ca6:\"null\"}}}}}},getImaConfig:function(e){return{ima:{enabled:!0,version:3,resources:function(){var t=[{type:\"text/javascript\",src:window.location.protocol+\"//s0.2mdn.net/instream/html5/ima3.js\",debug:\"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js\"}];return 1===e.adBlockDetectionId&&(t.push({id:\"GoogleIMAPlugin\",src:o.proxify(e.resourcesFolderUrl+\"/plugins/GoogleIMAPlugin.swf\"),blocking:!1,host:\"akamai\",main:\"GoogleIMAPlugin\",type:\"application/x-shockwave-flash\"}),t.push({id:\"IMAOverlayAdPlugin\",src:o.proxify(e.resourcesFolderUrl+\"/plugins/IMAOverlayAdPlugin.swf\"),blocking:!1,host:\"akamai\",main:\"IMAOverlayAdPlugin\",type:\"application/x-shockwave-flash\"})),t}(),vpaidAllowed:!0,vpaidMode:\"enabled\",companion:{width:\"300\",height:\"250\"},adTagUrl:\"#{dfp.adTagUrl}\",ppid:\"#{dfp.ppid}\",disableCompanionAds:!0}}},generatePlayerConfig:function(t){var n={feed:{enabled:!0},mode:t.playbackMode||\"auto\"};return t.comscoreEnabled===!1&&(n=e.extend(n,{comscore:{enabled:!1},comscorestreamsense:{enabled:!1}})),n}}}),function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof Ndn_Require.define&&Ndn_Require.define.amd)Ndn_Require.define(\"videojs_lib\",[],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.videojs=e()}}(function(){return function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var l=\"function\"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error(\"Cannot find module '\"+a+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var r=\"function\"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){(function(n){var i=\"undefined\"!=typeof n?n:\"undefined\"!=typeof window?window:{},o=e(\"min-document\");if(\"undefined\"!=typeof document)t.exports=document;else{var r=i[\"__GLOBAL_DOCUMENT_CACHE@4\"];r||(r=i[\"__GLOBAL_DOCUMENT_CACHE@4\"]=o),t.exports=r}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"min-document\":3}],2:[function(e,t,n){(function(e){\"undefined\"!=typeof window?t.exports=window:\"undefined\"!=typeof e?t.exports=e:\"undefined\"!=typeof self?t.exports=self:t.exports={}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){var i=e(\"../internal/getNative\"),o=i(Date,\"now\"),r=o||function(){return(new Date).getTime()};t.exports=r},{\"../internal/getNative\":20}],5:[function(e,t,n){function i(e,t,n){function i(){y&&clearTimeout(y),h&&clearTimeout(h),_=0,h=y=v=void 0}function l(t,n){n&&clearTimeout(n),h=y=v=void 0,t&&(_=r(),f=e.apply(m,p),y||h||(p=m=void 0))}function u(){var e=t-(r()-g);0>=e||e>t?l(v,h):y=setTimeout(u,e)}function c(){l(E,y)}function d(){if(p=arguments,g=r(),m=this,v=E&&(y||!w),b===!1)var n=w&&!y;else{h||w||(_=g);var i=b-(g-_),o=0>=i||i>b;o?(h&&(h=clearTimeout(h)),_=g,f=e.apply(m,p)):h||(h=setTimeout(c,i))}return o&&y?y=clearTimeout(y):y||t===b||(y=setTimeout(u,t)),n&&(o=!0,f=e.apply(m,p)),!o||y||h||(p=m=void 0),f}var p,h,f,g,m,y,v,_=0,b=!1,E=!0;if(\"function\"!=typeof e)throw new TypeError(a);if(t=0>t?0:+t||0,n===!0){var w=!0;E=!1}else o(n)&&(w=!!n.leading,b=\"maxWait\"in n&&s(+n.maxWait||0,t),E=\"trailing\"in n?!!n.trailing:E);return d.cancel=i,d}var o=e(\"../lang/isObject\"),r=e(\"../date/now\"),a=\"Expected a function\",s=Math.max;t.exports=i},{\"../date/now\":4,\"../lang/isObject\":33}],6:[function(e,t,n){function i(e,t){if(\"function\"!=typeof e)throw new TypeError(o);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=n[i];return s[t]=a,e.apply(this,s)}}var o=\"Expected a function\",r=Math.max;t.exports=i},{}],7:[function(e,t,n){function i(e,t,n){var i=!0,s=!0;if(\"function\"!=typeof e)throw new TypeError(a);return n===!1?i=!1:r(n)&&(i=\"leading\"in n?!!n.leading:i,s=\"trailing\"in n?!!n.trailing:s),o(e,t,{leading:i,maxWait:+t,trailing:s})}var o=e(\"./debounce\"),r=e(\"../lang/isObject\"),a=\"Expected a function\";t.exports=i},{\"../lang/isObject\":33,\"./debounce\":5}],8:[function(e,t,n){function i(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}t.exports=i},{}],9:[function(e,t,n){function i(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}t.exports=i},{}],10:[function(e,t,n){function i(e,t,n){n||(n={});for(var i=-1,o=t.length;++i<o;){var r=t[i];n[r]=e[r]}return n}t.exports=i},{}],11:[function(e,t,n){var i=e(\"./createBaseFor\"),o=i();t.exports=o},{\"./createBaseFor\":18}],12:[function(e,t,n){function i(e,t){return o(e,t,r)}var o=e(\"./baseFor\"),r=e(\"../object/keysIn\");t.exports=i},{\"../object/keysIn\":39,\"./baseFor\":11}],13:[function(e,t,n){function i(e,t,n,p,h){if(!l(e))return e;var f=s(t)&&(a(t)||c(t)),g=f?void 0:d(t);return o(g||t,function(o,a){if(g&&(a=o,o=t[a]),u(o))p||(p=[]),h||(h=[]),r(e,t,a,i,n,p,h);else{var s=e[a],l=n?n(s,o,a,e,t):void 0,c=void 0===l;c&&(l=o),void 0===l&&(!f||a in e)||!c&&(l===l?l===s:s!==s)||(e[a]=l)}}),e}var o=e(\"./arrayEach\"),r=e(\"./baseMergeDeep\"),a=e(\"../lang/isArray\"),s=e(\"./isArrayLike\"),l=e(\"../lang/isObject\"),u=e(\"./isObjectLike\"),c=e(\"../lang/isTypedArray\"),d=e(\"../object/keys\");t.exports=i},{\"../lang/isArray\":30,\"../lang/isObject\":33,\"../lang/isTypedArray\":36,\"../object/keys\":38,\"./arrayEach\":9,\"./baseMergeDeep\":14,\"./isArrayLike\":21,\"./isObjectLike\":26}],14:[function(e,t,n){function i(e,t,n,i,d,p,h){for(var f=p.length,g=t[n];f--;)if(p[f]==g)return void(e[n]=h[f]);var m=e[n],y=d?d(m,g,n,e,t):void 0,v=void 0===y;v&&(y=g,s(g)&&(a(g)||u(g))?y=a(m)?m:s(m)?o(m):[]:l(g)||r(g)?y=r(m)?c(m):l(m)?m:{}:v=!1),p.push(g),h.push(y),v?e[n]=i(y,g,d,p,h):(y===y?y!==m:m===m)&&(e[n]=y)}var o=e(\"./arrayCopy\"),r=e(\"../lang/isArguments\"),a=e(\"../lang/isArray\"),s=e(\"./isArrayLike\"),l=e(\"../lang/isPlainObject\"),u=e(\"../lang/isTypedArray\"),c=e(\"../lang/toPlainObject\");t.exports=i},{\"../lang/isArguments\":29,\"../lang/isArray\":30,\"../lang/isPlainObject\":34,\"../lang/isTypedArray\":36,\"../lang/toPlainObject\":37,\"./arrayCopy\":8,\"./isArrayLike\":21}],15:[function(e,t,n){function i(e){return function(t){return null==t?void 0:o(t)[e]}}var o=e(\"./toObject\");t.exports=i},{\"./toObject\":28}],16:[function(e,t,n){function i(e,t,n){if(\"function\"!=typeof e)return o;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)};case 5:return function(n,i,o,r,a){return e.call(t,n,i,o,r,a)}}return function(){return e.apply(t,arguments)}}var o=e(\"../utility/identity\");t.exports=i},{\"../utility/identity\":42}],17:[function(e,t,n){function i(e){return a(function(t,n){var i=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for(\"function\"==typeof s?(s=o(s,u,5),a-=2):(s=\"function\"==typeof u?u:void 0,a-=s?1:0),l&&r(n[0],n[1],l)&&(s=3>a?void 0:s,a=1);++i<a;){var c=n[i];c&&e(t,c,s)}return t})}var o=e(\"./bindCallback\"),r=e(\"./isIterateeCall\"),a=e(\"../function/restParam\");t.exports=i},{\"../function/restParam\":6,\"./bindCallback\":16,\"./isIterateeCall\":24}],18:[function(e,t,n){function i(e){return function(t,n,i){for(var r=o(t),a=i(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(n(r[u],u,r)===!1)break}return t}}var o=e(\"./toObject\");t.exports=i},{\"./toObject\":28}],19:[function(e,t,n){var i=e(\"./baseProperty\"),o=i(\"length\");t.exports=o},{\"./baseProperty\":15}],20:[function(e,t,n){function i(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}var o=e(\"../lang/isNative\");t.exports=i},{\"../lang/isNative\":32}],21:[function(e,t,n){function i(e){return null!=e&&r(o(e))}var o=e(\"./getLength\"),r=e(\"./isLength\");t.exports=i},{\"./getLength\":19,\"./isLength\":25}],22:[function(e,t,n){var i=function(){try{Object({toString:0}+\"\")}catch(e){return function(){return!1}}return function(e){return\"function\"!=typeof e.toString&&\"string\"==typeof(e+\"\")}}();t.exports=i},{}],23:[function(e,t,n){function i(e,t){return e=\"number\"==typeof e||o.test(e)?+e:-1,t=null==t?r:t,e>-1&&e%1==0&&t>e}var o=/^\\d+$/,r=9007199254740991;t.exports=i},{}],24:[function(e,t,n){function i(e,t,n){if(!a(n))return!1;var i=typeof t;if(\"number\"==i?o(n)&&r(t,n.length):\"string\"==i&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var o=e(\"./isArrayLike\"),r=e(\"./isIndex\"),a=e(\"../lang/isObject\");t.exports=i},{\"../lang/isObject\":33,\"./isArrayLike\":21,\"./isIndex\":23}],25:[function(e,t,n){function i(e){return\"number\"==typeof e&&e>-1&&e%1==0&&o>=e}var o=9007199254740991;t.exports=i},{}],26:[function(e,t,n){function i(e){return!!e&&\"object\"==typeof e}t.exports=i},{}],27:[function(e,t,n){function i(e){for(var t=u(e),n=t.length,i=n&&e.length,c=!!i&&s(i)&&(r(e)||o(e)||l(e)),p=-1,h=[];++p<n;){var f=t[p];(c&&a(f,i)||d.call(e,f))&&h.push(f)}return h}var o=e(\"../lang/isArguments\"),r=e(\"../lang/isArray\"),a=e(\"./isIndex\"),s=e(\"./isLength\"),l=e(\"../lang/isString\"),u=e(\"../object/keysIn\"),c=Object.prototype,d=c.hasOwnProperty;t.exports=i},{\"../lang/isArguments\":29,\"../lang/isArray\":30,\"../lang/isString\":35,\"../object/keysIn\":39,\"./isIndex\":23,\"./isLength\":25}],28:[function(e,t,n){function i(e){if(a.unindexedChars&&r(e)){for(var t=-1,n=e.length,i=Object(e);++t<n;)i[t]=e.charAt(t);return i}return o(e)?e:Object(e)}var o=e(\"../lang/isObject\"),r=e(\"../lang/isString\"),a=e(\"../support\");t.exports=i},{\"../lang/isObject\":33,\"../lang/isString\":35,\"../support\":41}],29:[function(e,t,n){function i(e){return r(e)&&o(e)&&s.call(e,\"callee\")&&!l.call(e,\"callee\")}var o=e(\"../internal/isArrayLike\"),r=e(\"../internal/isObjectLike\"),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;t.exports=i},{\"../internal/isArrayLike\":21,\"../internal/isObjectLike\":26}],30:[function(e,t,n){var i=e(\"../internal/getNative\"),o=e(\"../internal/isLength\"),r=e(\"../internal/isObjectLike\"),a=\"[object Array]\",s=Object.prototype,l=s.toString,u=i(Array,\"isArray\"),c=u||function(e){return r(e)&&o(e.length)&&l.call(e)==a};t.exports=c},{\"../internal/getNative\":20,\"../internal/isLength\":25,\"../internal/isObjectLike\":26}],31:[function(e,t,n){function i(e){return o(e)&&s.call(e)==r}var o=e(\"./isObject\"),r=\"[object Function]\",a=Object.prototype,s=a.toString;t.exports=i},{\"./isObject\":33}],32:[function(e,t,n){function i(e){return null==e?!1:o(e)?d.test(u.call(e)):a(e)&&(r(e)?d:s).test(e)}var o=e(\"./isFunction\"),r=e(\"../internal/isHostObject\"),a=e(\"../internal/isObjectLike\"),s=/^\\[object .+?Constructor\\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,d=RegExp(\"^\"+u.call(c).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");t.exports=i},{\"../internal/isHostObject\":22,\"../internal/isObjectLike\":26,\"./isFunction\":31}],33:[function(e,t,n){function i(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}t.exports=i},{}],34:[function(e,t,n){function i(e){var t;if(!s(e)||p.call(e)!=u||a(e)||r(e)||!d.call(e,\"constructor\")&&(t=e.constructor,\"function\"==typeof t&&!(t instanceof t)))return!1;var n;return l.ownLast?(o(e,function(e,t,i){return n=d.call(i,t),!1}),n!==!1):(o(e,function(e,t){n=t}),void 0===n||d.call(e,n))}var o=e(\"../internal/baseForIn\"),r=e(\"./isArguments\"),a=e(\"../internal/isHostObject\"),s=e(\"../internal/isObjectLike\"),l=e(\"../support\"),u=\"[object Object]\",c=Object.prototype,d=c.hasOwnProperty,p=c.toString;t.exports=i},{\"../internal/baseForIn\":12,\"../internal/isHostObject\":22,\"../internal/isObjectLike\":26,\"../support\":41,\"./isArguments\":29}],35:[function(e,t,n){function i(e){return\"string\"==typeof e||o(e)&&s.call(e)==r}var o=e(\"../internal/isObjectLike\"),r=\"[object String]\",a=Object.prototype,s=a.toString;t.exports=i},{\"../internal/isObjectLike\":26}],36:[function(e,t,n){function i(e){return r(e)&&o(e.length)&&!!P[k.call(e)]}var o=e(\"../internal/isLength\"),r=e(\"../internal/isObjectLike\"),a=\"[object Arguments]\",s=\"[object Array]\",l=\"[object Boolean]\",u=\"[object Date]\",c=\"[object Error]\",d=\"[object Function]\",p=\"[object Map]\",h=\"[object Number]\",f=\"[object Object]\",g=\"[object RegExp]\",m=\"[object Set]\",y=\"[object String]\",v=\"[object WeakMap]\",_=\"[object ArrayBuffer]\",b=\"[object Float32Array]\",E=\"[object Float64Array]\",w=\"[object Int8Array]\",T=\"[object Int16Array]\",C=\"[object Int32Array]\",A=\"[object Uint8Array]\",S=\"[object Uint8ClampedArray]\",N=\"[object Uint16Array]\",I=\"[object Uint32Array]\",P={};P[b]=P[E]=P[w]=P[T]=P[C]=P[A]=P[S]=P[N]=P[I]=!0,P[a]=P[s]=P[_]=P[l]=P[u]=P[c]=P[d]=P[p]=P[h]=P[f]=P[g]=P[m]=P[y]=P[v]=!1;var x=Object.prototype,k=x.toString;t.exports=i},{\"../internal/isLength\":25,\"../internal/isObjectLike\":26}],37:[function(e,t,n){function i(e){return o(e,r(e))}var o=e(\"../internal/baseCopy\"),r=e(\"../object/keysIn\");t.exports=i},{\"../internal/baseCopy\":10,\"../object/keysIn\":39}],38:[function(e,t,n){var i=e(\"../internal/getNative\"),o=e(\"../internal/isArrayLike\"),r=e(\"../lang/isObject\"),a=e(\"../internal/shimKeys\"),s=e(\"../support\"),l=i(Object,\"keys\"),u=l?function(e){var t=null==e?void 0:e.constructor;return\"function\"==typeof t&&t.prototype===e||(\"function\"==typeof e?s.enumPrototypes:o(e))?a(e):r(e)?l(e):[]}:a;t.exports=u},{\"../internal/getNative\":20,\"../internal/isArrayLike\":21,\"../internal/shimKeys\":27,\"../lang/isObject\":33,\"../support\":41}],39:[function(e,t,n){function i(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&u(t)&&(a(e)||r(e)||d(e))&&t||0;for(var n=e.constructor,i=-1,o=s(n)&&n.prototype||C,h=o===e,f=Array(t),g=t>0,y=p.enumErrorProps&&(e===T||e instanceof Error),v=p.enumPrototypes&&s(e);++i<t;)f[i]=i+\"\";for(var b in e)v&&\"prototype\"==b||y&&(\"message\"==b||\"name\"==b)||g&&l(b,t)||\"constructor\"==b&&(h||!S.call(e,b))||f.push(b);if(p.nonEnumShadows&&e!==C){var P=e===A?E:e===T?m:N.call(e),x=I[P]||I[_];for(P==_&&(o=C),t=w.length;t--;){b=w[t];var k=x[b];h&&k||(k?!S.call(e,b):e[b]===o[b])||f.push(b)}}return f}var o=e(\"../internal/arrayEach\"),r=e(\"../lang/isArguments\"),a=e(\"../lang/isArray\"),s=e(\"../lang/isFunction\"),l=e(\"../internal/isIndex\"),u=e(\"../internal/isLength\"),c=e(\"../lang/isObject\"),d=e(\"../lang/isString\"),p=e(\"../support\"),h=\"[object Array]\",f=\"[object Boolean]\",g=\"[object Date]\",m=\"[object Error]\",y=\"[object Function]\",v=\"[object Number]\",_=\"[object Object]\",b=\"[object RegExp]\",E=\"[object String]\",w=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],T=Error.prototype,C=Object.prototype,A=String.prototype,S=C.hasOwnProperty,N=C.toString,I={};I[h]=I[g]=I[v]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},I[f]=I[E]={constructor:!0,toString:!0,valueOf:!0},I[m]=I[y]=I[b]={constructor:!0,toString:!0},I[_]={constructor:!0},o(w,function(e){for(var t in I)if(S.call(I,t)){var n=I[t];n[e]=S.call(n,e)}}),t.exports=i},{\"../internal/arrayEach\":9,\"../internal/isIndex\":23,\"../internal/isLength\":25,\"../lang/isArguments\":29,\"../lang/isArray\":30,\"../lang/isFunction\":31,\"../lang/isObject\":33,\"../lang/isString\":35,\"../support\":41}],40:[function(e,t,n){var i=e(\"../internal/baseMerge\"),o=e(\"../internal/createAssigner\"),r=o(i);t.exports=r},{\"../internal/baseMerge\":13,\"../internal/createAssigner\":17}],41:[function(e,t,n){var i=Array.prototype,o=Error.prototype,r=Object.prototype,a=r.propertyIsEnumerable,s=i.splice,l={};!function(e){var t=function(){this.x=e},n={0:e,length:e},i=[];t.prototype={valueOf:e,y:e};for(var r in new t)i.push(r);l.enumErrorProps=a.call(o,\"message\")||a.call(o,\"name\"),l.enumPrototypes=a.call(t,\"prototype\"),l.nonEnumShadows=!/valueOf/.test(i),l.ownLast=\"x\"!=i[0],l.spliceObjects=(s.call(n,0,1),!n[0]),l.unindexedChars=\"x\"[0]+Object(\"x\")[0]!=\"xx\"}(1,0),t.exports=l},{}],42:[function(e,t,n){function i(e){return e}t.exports=i},{}],43:[function(e,t,n){\"use strict\";var i=e(\"object-keys\");t.exports=function(){if(\"function\"!=typeof Symbol||\"function\"!=typeof Object.getOwnPropertySymbols)return!1;if(\"symbol\"==typeof Symbol.iterator)return!0;var e={},t=Symbol(\"test\");if(\"string\"==typeof t)return!1;var n=42;e[t]=n;for(t in e)return!1;if(0!==i(e).length)return!1;if(\"function\"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if(\"function\"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(\"function\"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(r.value!==n||r.enumerable!==!0)return!1}return!0}},{\"object-keys\":50}],44:[function(e,t,n){\"use strict\";var i=e(\"object-keys\"),o=e(\"function-bind\"),r=function(e){return\"undefined\"!=typeof e&&null!==e},a=e(\"./hasSymbols\")(),s=Object,l=o.call(Function.call,Array.prototype.push),u=o.call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(e,t){if(!r(e))throw new TypeError(\"target must be an object\");var n,o,c,d,p,h,f,g=s(e);for(n=1;n<arguments.length;++n){if(o=s(arguments[n]),d=i(o),a&&Object.getOwnPropertySymbols)for(p=Object.getOwnPropertySymbols(o),c=0;c<p.length;++c)f=p[c],u(o,f)&&l(d,f);for(c=0;c<d.length;++c)f=d[c],h=o[f],u(o,f)&&(g[f]=h)}return g}},{\"./hasSymbols\":43,\"function-bind\":49,\"object-keys\":50}],45:[function(e,t,n){\"use strict\";var i=e(\"define-properties\"),o=e(\"./implementation\"),r=e(\"./polyfill\"),a=e(\"./shim\");i(o,{implementation:o,getPolyfill:r,shim:a}),t.exports=o},{\"./implementation\":44,\"./polyfill\":52,\"./shim\":53,\"define-properties\":46}],46:[function(e,t,n){\"use strict\";var i=e(\"object-keys\"),o=e(\"foreach\"),r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol(),a=Object.prototype.toString,s=function(e){return\"function\"==typeof e&&\"[object Function]\"===a.call(e)},l=function(){var e={};try{Object.defineProperty(e,\"x\",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}},u=Object.defineProperty&&l(),c=function(e,t,n,i){(!(t in e)||s(i)&&i())&&(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},d=function(e,t){var n=arguments.length>2?arguments[2]:{},a=i(t);r&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,function(i){c(e,i,t[i],n[i])})};d.supportsDescriptors=!!u,t.exports=d},{foreach:47,\"object-keys\":50}],47:[function(e,t,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=function(e,t,n){if(\"[object Function]\"!==o.call(t))throw new TypeError(\"iterator must be a function\");var r=e.length;if(r===+r)for(var a=0;r>a;a++)t.call(n,e[a],a,e);else for(var s in e)i.call(e,s)&&t.call(n,e[s],s,e)}},{}],48:[function(e,t,n){var i=\"Function.prototype.bind called on incompatible \",o=Array.prototype.slice,r=Object.prototype.toString,a=\"[object Function]\";t.exports=function(e){var t=this;if(\"function\"!=typeof t||r.call(t)!==a)throw new TypeError(i+t);for(var n,s=o.call(arguments,1),l=function(){if(this instanceof n){var i=t.apply(this,s.concat(o.call(arguments)));return Object(i)===i?i:this}return t.apply(e,s.concat(o.call(arguments)))},u=Math.max(0,t.length-s.length),c=[],d=0;u>d;d++)c.push(\"$\"+d);if(n=Function(\"binder\",\"return function (\"+c.join(\",\")+\"){ return binder.apply(this,arguments); }\")(l),t.prototype){var p=function(){};p.prototype=t.prototype,n.prototype=new p,p.prototype=null}return n}},{}],49:[function(e,t,n){var i=e(\"./implementation\");t.exports=Function.prototype.bind||i},{\"./implementation\":48}],50:[function(e,t,n){\"use strict\";var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Array.prototype.slice,a=e(\"./isArguments\"),s=!{toString:null}.propertyIsEnumerable(\"toString\"),l=function(){}.propertyIsEnumerable(\"prototype\"),u=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],c=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(\"undefined\"==typeof window)return!1;for(var e in window)try{if(!d[\"$\"+e]&&i.call(window,e)&&null!==window[e]&&\"object\"==typeof window[e])try{c(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),h=function(e){if(\"undefined\"==typeof window||!p)return c(e);try{return c(e)}catch(t){return!1}},f=function(e){var t=null!==e&&\"object\"==typeof e,n=\"[object Function]\"===o.call(e),r=a(e),c=t&&\"[object String]\"===o.call(e),d=[];if(!t&&!n&&!r)throw new TypeError(\"Object.keys called on a non-object\");var p=l&&n;if(c&&e.length>0&&!i.call(e,0))for(var f=0;f<e.length;++f)d.push(String(f));if(r&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var m in e)p&&\"prototype\"===m||!i.call(e,m)||d.push(String(m));if(s)for(var y=h(e),v=0;v<u.length;++v)y&&\"constructor\"===u[v]||!i.call(e,u[v])||d.push(u[v]);return d};f.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||\"\").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(a(e)?r.call(e):e)}}}else Object.keys=f;return Object.keys||f},t.exports=f},{\"./isArguments\":51}],51:[function(e,t,n){\"use strict\";var i=Object.prototype.toString;t.exports=function(e){var t=i.call(e),n=\"[object Arguments]\"===t;return n||(n=\"[object Array]\"!==t&&null!==e&&\"object\"==typeof e&&\"number\"==typeof e.length&&e.length>=0&&\"[object Function]\"===i.call(e.callee)),n}},{}],52:[function(e,t,n){\"use strict\";var i=e(\"./implementation\"),o=function(){if(!Object.assign)return!1;for(var e=\"abcdefghijklmnopqrst\",t=e.split(\"\"),n={},i=0;i<t.length;++i)n[t[i]]=t[i];var o=Object.assign({},n),r=\"\";for(var a in o)r+=a;return e!==r},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,\"xy\")}catch(t){return\"y\"===e[1]}};t.exports=function(){return Object.assign?o()?i:r()?i:Object.assign:i}},{\"./implementation\":44}],53:[function(e,t,n){\"use strict\";var i=(e(\"define-properties\"),e(\"./polyfill\"));t.exports=function(){var e=i();return Ndn_Require.define(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},{\"./polyfill\":52,\"define-properties\":46}],54:[function(e,t,n){function i(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(o){i=o}return[i,n]}t.exports=i},{}],55:[function(e,t,n){function i(e){return e.replace(/\\n\\r?\\s*/g,\"\")}t.exports=function(e){for(var t=\"\",n=0;n<arguments.length;n++)t+=i(e[n])+(arguments[n+1]||\"\");return t}},{}],56:[function(e,t,n){\"use strict\";function i(e,t){for(var n=0;n<e.length;n++)t(e[n])}function o(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e,t,n){var i=e;return d(t)?(n=t,\"string\"==typeof e&&(i={uri:e})):i=h(t,{uri:e}),i.callback=n,i}function a(e,t,n){return t=r(e,t,n),s(t)}function s(e){function t(){4===u.readyState&&r()}function n(){var e=void 0;if(u.response?e=u.response:\"text\"!==u.responseType&&u.responseType||(e=u.responseText||u.responseXML),b)try{e=JSON.parse(e)}catch(t){}return e}function i(e){clearTimeout(f),e instanceof Error||(e=new Error(\"\"+(e||\"Unknown XMLHttpRequest Error\"))),e.statusCode=0,s(e,l)}function r(){if(!h){var t;clearTimeout(f),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=l,o=null;0!==t?(i={body:n(),statusCode:t,method:m,headers:{},url:g,rawRequest:u},u.getAllResponseHeaders&&(i.headers=p(u.getAllResponseHeaders()))):o=new Error(\"Internal XMLHttpRequest Error\"),s(o,i,i.body)}}var s=e.callback;if(\"undefined\"==typeof s)throw new Error(\"callback argument missing\");s=c(s);var l={body:void 0,headers:{},statusCode:0,\nmethod:m,url:g,rawRequest:u},u=e.xhr||null;u||(u=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var d,h,f,g=u.url=e.uri||e.url,m=u.method=e.method||\"GET\",y=e.body||e.data||null,v=u.headers=e.headers||{},_=!!e.sync,b=!1;if(\"json\"in e&&(b=!0,v.accept||v.Accept||(v.Accept=\"application/json\"),\"GET\"!==m&&\"HEAD\"!==m&&(v[\"content-type\"]||v[\"Content-Type\"]||(v[\"Content-Type\"]=\"application/json\"),y=JSON.stringify(e.json))),u.onreadystatechange=t,u.onload=r,u.onerror=i,u.onprogress=function(){},u.ontimeout=i,u.open(m,g,!_,e.username,e.password),_||(u.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(f=setTimeout(function(){h=!0,u.abort(\"timeout\");var e=new Error(\"XMLHttpRequest timeout\");e.code=\"ETIMEDOUT\",i(e)},e.timeout)),u.setRequestHeader)for(d in v)v.hasOwnProperty(d)&&u.setRequestHeader(d,v[d]);else if(e.headers&&!o(e.headers))throw new Error(\"Headers cannot be set on an XDomainRequest object\");return\"responseType\"in e&&(u.responseType=e.responseType),\"beforeSend\"in e&&\"function\"==typeof e.beforeSend&&e.beforeSend(u),u.send(y),u}function l(){}var u=e(\"global/window\"),c=e(\"once\"),d=e(\"is-function\"),p=e(\"parse-headers\"),h=e(\"xtend\");t.exports=a,a.XMLHttpRequest=u.XMLHttpRequest||l,a.XDomainRequest=\"withCredentials\"in new a.XMLHttpRequest?a.XMLHttpRequest:u.XDomainRequest,i([\"get\",\"put\",\"post\",\"patch\",\"head\",\"delete\"],function(e){a[\"delete\"===e?\"del\":e]=function(t,n,i){return n=r(t,n,i),n.method=e.toUpperCase(),s(n)}})},{\"global/window\":2,\"is-function\":57,once:58,\"parse-headers\":61,xtend:62}],57:[function(e,t,n){function i(e){var t=o.call(e);return\"[object Function]\"===t||\"function\"==typeof e&&\"[object RegExp]\"!==t||\"undefined\"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=i;var o=Object.prototype.toString},{}],58:[function(e,t,n){function i(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=i,i.proto=i(function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return i(this)},configurable:!0})})},{}],59:[function(e,t,n){function i(e,t,n){if(!s(t))throw new TypeError(\"iterator must be a function\");arguments.length<3&&(n=this),\"[object Array]\"===l.call(e)?o(e,t,n):\"string\"==typeof e?r(e,t,n):a(e,t,n)}function o(e,t,n){for(var i=0,o=e.length;o>i;i++)u.call(e,i)&&t.call(n,e[i],i,e)}function r(e,t,n){for(var i=0,o=e.length;o>i;i++)t.call(n,e.charAt(i),i,e)}function a(e,t,n){for(var i in e)u.call(e,i)&&t.call(n,e[i],i,e)}var s=e(\"is-function\");t.exports=i;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},{\"is-function\":57}],60:[function(e,t,n){function i(e){return e.replace(/^\\s*|\\s*$/g,\"\")}n=t.exports=i,n.left=function(e){return e.replace(/^\\s*/,\"\")},n.right=function(e){return e.replace(/\\s*$/,\"\")}},{}],61:[function(e,t,n){var i=e(\"trim\"),o=e(\"for-each\"),r=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return o(i(e).split(\"\\n\"),function(e){var n=e.indexOf(\":\"),o=i(e.slice(0,n)).toLowerCase(),a=i(e.slice(n+1));\"undefined\"==typeof t[o]?t[o]=a:r(t[o])?t[o].push(a):t[o]=[t[o],a]}),t}},{\"for-each\":59,trim:60}],62:[function(e,t,n){function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)o.call(n,i)&&(e[i]=n[i])}return e}t.exports=i;var o=Object.prototype.hasOwnProperty},{}],63:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./button.js\"),s=i(a),l=e(\"./component.js\"),u=i(l),c=function(e){function t(n,i){o(this,t),e.call(this,n,i)}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-big-play-button\"},t.prototype.handleClick=function(){this.player_.play()},t}(s[\"default\"]);c.prototype.controlText_=\"Play Video\",u[\"default\"].registerComponent(\"BigPlayButton\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"./button.js\":64,\"./component.js\":67}],64:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./clickable-component.js\"),l=o(s),u=e(\"./component\"),c=o(u),d=e(\"./utils/events.js\"),p=(i(d),e(\"./utils/fn.js\")),h=(i(p),e(\"./utils/log.js\")),f=o(h),g=e(\"global/document\"),m=(o(g),e(\"object.assign\")),y=o(m),v=function(e){function t(n,i){r(this,t),e.call(this,n,i)}return a(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?\"button\":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t=y[\"default\"]({className:this.buildCSSClass()},t),\"button\"!==e&&(f[\"default\"].warn(\"Creating a Button with an HTML element of \"+e+\" is deprecated; use ClickableComponent instead.\"),t=y[\"default\"]({tabIndex:0},t),n=y[\"default\"]({role:\"button\"},n)),n=y[\"default\"]({type:\"button\",\"aria-live\":\"polite\"},n);var i=c[\"default\"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},t.prototype.addChild=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.constructor.name;return f[\"default\"].warn(\"Adding an actionable (user controllable) child to a Button (\"+n+\") is not supported; use a ClickableComponent instead.\"),c[\"default\"].prototype.addChild.call(this,e,t)},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which||e.prototype.handleKeyPress.call(this,t)},t}(l[\"default\"]);c[\"default\"].registerComponent(\"Button\",v),n[\"default\"]=v,t.exports=n[\"default\"]},{\"./clickable-component.js\":65,\"./component\":67,\"./utils/events.js\":135,\"./utils/fn.js\":136,\"./utils/log.js\":139,\"global/document\":1,\"object.assign\":45}],65:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./component\"),l=o(s),u=e(\"./utils/dom.js\"),c=i(u),d=e(\"./utils/events.js\"),p=i(d),h=e(\"./utils/fn.js\"),f=i(h),g=e(\"./utils/log.js\"),m=o(g),y=e(\"global/document\"),v=o(y),_=e(\"object.assign\"),b=o(_),E=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.emitTapEvents(),this.on(\"tap\",this.handleClick),this.on(\"click\",this.handleClick),this.on(\"focus\",this.handleFocus),this.on(\"blur\",this.handleBlur)}return a(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?\"div\":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=b[\"default\"]({className:this.buildCSSClass(),tabIndex:0},n),\"button\"===t&&m[\"default\"].error(\"Creating a ClickableComponent with an HTML element of \"+t+\" is not supported; use a Button instead.\"),i=b[\"default\"]({role:\"button\",\"aria-live\":\"polite\"},i);var o=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(o),o},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=c.createEl(\"span\",{className:\"vjs-control-text\"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_),this.controlTextEl_},t.prototype.controlText=function(e){return e?(this.controlText_=e,this.controlTextEl_.innerHTML=this.localize(this.controlText_),this):this.controlText_||\"Need Text\"},t.prototype.buildCSSClass=function(){return\"vjs-control vjs-button \"+e.prototype.buildCSSClass.call(this)},t.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.prototype.addChild.call(this,t,n)},t.prototype.enable=function(){return this.removeClass(\"vjs-disabled\"),this.el_.setAttribute(\"aria-disabled\",\"false\"),this},t.prototype.disable=function(){return this.addClass(\"vjs-disabled\"),this.el_.setAttribute(\"aria-disabled\",\"true\"),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){p.on(v[\"default\"],\"keydown\",f.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){p.off(v[\"default\"],\"keydown\",f.bind(this,this.handleKeyPress))},t}(l[\"default\"]);l[\"default\"].registerComponent(\"ClickableComponent\",E),n[\"default\"]=E,t.exports=n[\"default\"]},{\"./component\":67,\"./utils/dom.js\":134,\"./utils/events.js\":135,\"./utils/fn.js\":136,\"./utils/log.js\":139,\"global/document\":1,\"object.assign\":45}],66:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./button\"),s=i(a),l=e(\"./component\"),u=i(l),c=function(e){function t(n,i){o(this,t),e.call(this,n,i),this.controlText(i&&i.controlText||this.localize(\"Close\"))}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-close-button \"+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:\"close\",bubbles:!1})},t}(s[\"default\"]);u[\"default\"].registerComponent(\"CloseButton\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"./button\":64,\"./component\":67}],67:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.__esModule=!0;var a=e(\"global/window\"),s=o(a),l=e(\"./utils/dom.js\"),u=i(l),c=e(\"./utils/fn.js\"),d=i(c),p=e(\"./utils/guid.js\"),h=i(p),f=e(\"./utils/events.js\"),g=i(f),m=e(\"./utils/log.js\"),y=o(m),v=e(\"./utils/to-title-case.js\"),_=o(v),b=e(\"object.assign\"),E=o(b),w=e(\"./utils/merge-options.js\"),T=o(w),C=function(){function e(t,n,i){if(r(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=T[\"default\"]({},this.options_),n=this.options_=T[\"default\"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=t&&t.id&&t.id()||\"no_player\";this.id_=o+\"_component_\"+h.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:\"dispose\",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return y[\"default\"].warn(\"this.options() has been deprecated and will be moved to the constructor in 6.0\"),e?(this.options_=T[\"default\"](this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return u.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var i=n[t];if(i&&i[e])return i[e];var o=t.split(\"-\")[0],r=n[o];return r&&r[e]?r[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],o=void 0,r=void 0;if(\"string\"==typeof t){r=t,n||(n={}),n===!0&&(y[\"default\"].warn(\"Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`.\"),n={});var a=n.componentClass||_[\"default\"](r);n.name=r;var s=e.getComponent(a);if(!s)throw new Error(\"Component \"+a+\" does not exist\");if(\"function\"!=typeof s)return null;o=new s(this.player_||this,n)}else o=t;if(this.children_.splice(i,0,o),\"function\"==typeof o.id&&(this.childIndex_[o.id()]=o),r=r||o.name&&o.name(),r&&(this.childNameIndex_[r]=o),\"function\"==typeof o.el&&o.el()){var l=this.contentEl().children,u=l[i]||null;this.contentEl().insertBefore(o.el(),u)}return o},e.prototype.removeChild=function(e){if(\"string\"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&!function(){var i=t.options_,o=function(e){var n=e.name,o=e.opts;if(void 0!==i[n]&&(o=i[n]),o!==!1){o===!0&&(o={}),o.playerOptions=t.options_.playerOptions;var r=t.addChild(n,o);r&&(t[n]=r)}},r=void 0,a=e.getComponent(\"Tech\");r=Array.isArray(n)?n:Object.keys(n),r.concat(Object.keys(t.options_).filter(function(e){return!r.some(function(t){return\"string\"==typeof t?e===t:e===t.name})})).map(function(e){var i=void 0,o=void 0;return\"string\"==typeof e?(i=e,o=n[i]||t.options_[i]||{}):(i=e.name,o=e),{name:i,opts:o}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||_[\"default\"](t.name));return n&&!a.isTech(n)}).forEach(o)}()},e.prototype.buildCSSClass=function(){return\"\"},e.prototype.on=function(e,t,n){var i=this;return\"string\"==typeof e||Array.isArray(e)?g.on(this.el_,e,d.bind(this,t)):!function(){var o=e,r=t,a=d.bind(i,n),s=function(){return i.off(o,r,a)};s.guid=a.guid,i.on(\"dispose\",s);var l=function(){return i.off(\"dispose\",s)};l.guid=a.guid,e.nodeName?(g.on(o,r,a),g.on(o,\"dispose\",l)):\"function\"==typeof e.on&&(o.on(r,a),o.on(\"dispose\",l))}(),this},e.prototype.off=function(e,t,n){if(!e||\"string\"==typeof e||Array.isArray(e))g.off(this.el_,e,t);else{var i=e,o=t,r=d.bind(this,n);this.off(\"dispose\",r),e.nodeName?(g.off(i,o,r),g.off(i,\"dispose\",r)):(i.off(o,r),i.off(\"dispose\",r))}return this},e.prototype.one=function(e,t,n){var i=this,o=arguments;return\"string\"==typeof e||Array.isArray(e)?g.one(this.el_,e,d.bind(this,t)):!function(){var r=e,a=t,s=d.bind(i,n),l=function u(){i.off(r,a,u),s.apply(null,o)};l.guid=s.guid,i.on(r,a,l)}(),this},e.prototype.trigger=function(e,t){return g.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger(\"ready\")},1)},e.prototype.$=function(e,t){return u.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return u.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return u.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return u.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return u.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return u.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass(\"vjs-hidden\"),this},e.prototype.hide=function(){return this.addClass(\"vjs-hidden\"),this},e.prototype.lockShowing=function(){return this.addClass(\"vjs-lock-showing\"),this},e.prototype.unlockShowing=function(){return this.removeClass(\"vjs-lock-showing\"),this},e.prototype.width=function(e,t){return this.dimension(\"width\",e,t)},e.prototype.height=function(e,t){return this.dimension(\"height\",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||t!==t)&&(t=0),-1!==(\"\"+t).indexOf(\"%\")||-1!==(\"\"+t).indexOf(\"px\")?this.el_.style[e]=t:\"auto\"===t?this.el_.style[e]=\"\":this.el_.style[e]=t+\"px\",n||this.trigger(\"resize\"),this;if(!this.el_)return 0;var i=this.el_.style[e],o=i.indexOf(\"px\");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_[\"offset\"+_[\"default\"](e)],10)},e.prototype.currentDimension=function(e){var t=0;if(\"width\"!==e&&\"height\"!==e)throw new Error(\"currentDimension only accepts width or height value\");if(\"function\"==typeof s[\"default\"].getComputedStyle){var n=s[\"default\"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}else if(this.el_.currentStyle){var i=\"offset\"+_[\"default\"](e);t=this.el_[i]}return t=parseFloat(t)},e.prototype.currentDimensions=function(){return{width:this.currentDimension(\"width\"),height:this.currentDimension(\"height\")}},e.prototype.currentWidth=function(){return this.currentDimension(\"width\")},e.prototype.currentHeight=function(){return this.currentDimension(\"height\")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,i=200,o=void 0;this.on(\"touchstart\",function(n){1===n.touches.length&&(t=E[\"default\"]({},n.touches[0]),e=(new Date).getTime(),o=!0)}),this.on(\"touchmove\",function(e){if(e.touches.length>1)o=!1;else if(t){var i=e.touches[0].pageX-t.pageX,r=e.touches[0].pageY-t.pageY,a=Math.sqrt(i*i+r*r);a>n&&(o=!1)}});var r=function(){o=!1};this.on(\"touchleave\",r),this.on(\"touchcancel\",r),this.on(\"touchend\",function(n){if(t=null,o===!0){var r=(new Date).getTime()-e;i>r&&(n.preventDefault(),this.trigger(\"tap\"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=d.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on(\"touchstart\",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on(\"touchmove\",e),this.on(\"touchend\",n),this.on(\"touchcancel\",n)}},e.prototype.setTimeout=function(e,t){e=d.bind(this,e);var n=s[\"default\"].setTimeout(e,t),i=function(){this.clearTimeout(n)};return i.guid=\"vjs-timeout-\"+n,this.on(\"dispose\",i),n},e.prototype.clearTimeout=function(e){s[\"default\"].clearTimeout(e);var t=function(){};return t.guid=\"vjs-timeout-\"+e,this.off(\"dispose\",t),e},e.prototype.setInterval=function(e,t){e=d.bind(this,e);var n=s[\"default\"].setInterval(e,t),i=function(){this.clearInterval(n)};return i.guid=\"vjs-interval-\"+n,this.on(\"dispose\",i),n},e.prototype.clearInterval=function(e){s[\"default\"].clearInterval(e);var t=function(){};return t.guid=\"vjs-interval-\"+e,this.off(\"dispose\",t),e},e.registerComponent=function(t,n){return e.components_||(e.components_={}),e.components_[t]=n,n},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:s[\"default\"]&&s[\"default\"].videojs&&s[\"default\"].videojs[t]?(y[\"default\"].warn(\"The \"+t+\" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)\"),s[\"default\"].videojs[t]):void 0},e.extend=function(t){t=t||{},y[\"default\"].warn(\"Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead\");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},i=function(){n.apply(this,arguments)};i.prototype=Object.create(this.prototype),i.prototype.constructor=i,i.extend=e.extend;for(var o in t)t.hasOwnProperty(o)&&(i.prototype[o]=t[o]);return i},e}();C.registerComponent(\"Component\",C),n[\"default\"]=C,t.exports=n[\"default\"]},{\"./utils/dom.js\":134,\"./utils/events.js\":135,\"./utils/fn.js\":136,\"./utils/guid.js\":138,\"./utils/log.js\":139,\"./utils/merge-options.js\":140,\"./utils/to-title-case.js\":143,\"global/window\":2,\"object.assign\":45}],68:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../component.js\"),s=i(a),l=e(\"./play-toggle.js\"),u=(i(l),e(\"./time-controls/current-time-display.js\")),c=(i(u),e(\"./time-controls/duration-display.js\")),d=(i(c),e(\"./time-controls/time-divider.js\")),p=(i(d),e(\"./time-controls/remaining-time-display.js\")),h=(i(p),e(\"./live-display.js\")),f=(i(h),e(\"./progress-control/progress-control.js\")),g=(i(f),e(\"./fullscreen-toggle.js\")),m=(i(g),e(\"./volume-control/volume-control.js\")),y=(i(m),e(\"./volume-menu-button.js\")),v=(i(y),e(\"./mute-toggle.js\")),_=(i(v),e(\"./text-track-controls/chapters-button.js\")),b=(i(_),e(\"./text-track-controls/descriptions-button.js\")),E=(i(b),e(\"./text-track-controls/subtitles-button.js\")),w=(i(E),e(\"./text-track-controls/captions-button.js\")),T=(i(w),e(\"./playback-rate-menu/playback-rate-menu-button.js\")),C=(i(T),e(\"./spacer-controls/custom-control-spacer.js\")),A=(i(C),function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-control-bar\",dir:\"ltr\"},{role:\"group\"})},t}(s[\"default\"]));A.prototype.options_={loadEvent:\"play\",children:[\"playToggle\",\"volumeMenuButton\",\"currentTimeDisplay\",\"timeDivider\",\"durationDisplay\",\"progressControl\",\"liveDisplay\",\"remainingTimeDisplay\",\"customControlSpacer\",\"playbackRateMenuButton\",\"chaptersButton\",\"descriptionsButton\",\"subtitlesButton\",\"captionsButton\",\"fullscreenToggle\"]},s[\"default\"].registerComponent(\"ControlBar\",A),n[\"default\"]=A,t.exports=n[\"default\"]},{\"../component.js\":67,\"./fullscreen-toggle.js\":69,\"./live-display.js\":70,\"./mute-toggle.js\":71,\"./play-toggle.js\":72,\"./playback-rate-menu/playback-rate-menu-button.js\":73,\"./progress-control/progress-control.js\":78,\"./spacer-controls/custom-control-spacer.js\":81,\"./text-track-controls/captions-button.js\":84,\"./text-track-controls/chapters-button.js\":85,\"./text-track-controls/descriptions-button.js\":87,\"./text-track-controls/subtitles-button.js\":89,\"./time-controls/current-time-display.js\":92,\"./time-controls/duration-display.js\":93,\"./time-controls/remaining-time-display.js\":94,\"./time-controls/time-divider.js\":95,\"./volume-control/volume-control.js\":97,\"./volume-menu-button.js\":99}],69:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../button.js\"),s=i(a),l=e(\"../component.js\"),u=i(l),c=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-fullscreen-control \"+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText(\"Fullscreen\")):(this.player_.requestFullscreen(),this.controlText(\"Non-Fullscreen\"))},t}(s[\"default\"]);c.prototype.controlText_=\"Fullscreen\",u[\"default\"].registerComponent(\"FullscreenToggle\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../button.js\":64,\"../component.js\":67}],70:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../component\"),l=o(s),u=e(\"../utils/dom.js\"),c=i(u),d=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.updateShowing(),this.on(this.player(),\"durationchange\",this.updateShowing)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-live-control vjs-control\"});return this.contentEl_=c.createEl(\"div\",{className:\"vjs-live-display\",innerHTML:'<span class=\"vjs-control-text\">'+this.localize(\"Stream Type\")+\"</span>\"+this.localize(\"LIVE\")},{\"aria-live\":\"off\"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(l[\"default\"]);l[\"default\"].registerComponent(\"LiveDisplay\",d),n[\"default\"]=d,t.exports=n[\"default\"]},{\"../component\":67,\"../utils/dom.js\":134}],71:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../button\"),l=o(s),u=e(\"../component\"),c=o(u),d=e(\"../utils/dom.js\"),p=i(d),h=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"volumechange\",this.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass(\"vjs-hidden\"),this.on(n,\"loadstart\",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass(\"vjs-hidden\"):this.removeClass(\"vjs-hidden\")})}return a(t,e),t.prototype.buildCSSClass=function(){return\"vjs-mute-control \"+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2);var n=this.player_.muted()?\"Unmute\":\"Mute\";this.controlText()!==n&&this.controlText(n);for(var i=0;4>i;i++)p.removeElClass(this.el_,\"vjs-vol-\"+i);p.addElClass(this.el_,\"vjs-vol-\"+t)},t}(l[\"default\"]);h.prototype.controlText_=\"Mute\",c[\"default\"].registerComponent(\"MuteToggle\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../button\":64,\"../component\":67,\"../utils/dom.js\":134}],72:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../button.js\"),s=i(a),l=e(\"../component.js\"),u=i(l),c=function(e){function t(n,i){o(this,t),e.call(this,n,i),this.on(n,\"play\",this.handlePlay),this.on(n,\"pause\",this.handlePause)}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-play-control \"+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass(\"vjs-paused\"),this.addClass(\"vjs-playing\"),this.controlText(\"Pause\")},t.prototype.handlePause=function(){this.removeClass(\"vjs-playing\"),this.addClass(\"vjs-paused\"),this.controlText(\"Play\")},t}(s[\"default\"]);c.prototype.controlText_=\"Play\",u[\"default\"].registerComponent(\"PlayToggle\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../button.js\":64,\"../component.js\":67}],73:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../menu/menu-button.js\"),l=o(s),u=e(\"../../menu/menu.js\"),c=o(u),d=e(\"./playback-rate-menu-item.js\"),p=o(d),h=e(\"../../component.js\"),f=o(h),g=e(\"../../utils/dom.js\"),m=i(g),y=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.updateVisibility(),this.updateLabel(),this.on(n,\"loadstart\",this.updateVisibility),this.on(n,\"ratechange\",this.updateLabel)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=m.createEl(\"div\",{className:\"vjs-playback-rate-value\",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return\"vjs-playback-rate \"+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new c[\"default\"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p[\"default\"](this.player(),{rate:t[n]+\"x\"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute(\"aria-valuenow\",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],i=0;i<t.length;i++)if(t[i]>e){n=t[i];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass(\"vjs-hidden\"):this.addClass(\"vjs-hidden\")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+\"x\");\n},t}(l[\"default\"]);y.prototype.controlText_=\"Playback Rate\",f[\"default\"].registerComponent(\"PlaybackRateMenuButton\",y),n[\"default\"]=y,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../menu/menu-button.js\":106,\"../../menu/menu.js\":108,\"../../utils/dom.js\":134,\"./playback-rate-menu-item.js\":74}],74:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../../menu/menu-item.js\"),s=i(a),l=e(\"../../component.js\"),u=i(l),c=function(e){function t(n,i){o(this,t);var r=i.rate,a=parseFloat(r,10);i.label=r,i.selected=1===a,e.call(this,n,i),this.label=r,this.rate=a,this.on(n,\"ratechange\",this.update)}return r(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(s[\"default\"]);c.prototype.contentElType=\"button\",u[\"default\"].registerComponent(\"PlaybackRateMenuItem\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../menu/menu-item.js\":107}],75:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../component.js\"),l=o(s),u=e(\"../../utils/dom.js\"),c=i(u),d=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"progress\",this.update)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-load-progress\",innerHTML:'<span class=\"vjs-control-text\"><span>'+this.localize(\"Loaded\")+\"</span>: 0%</span>\"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.el_.children,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+\"%\"};this.el_.style.width=o(n,t);for(var r=0;r<e.length;r++){var a=e.start(r),s=e.end(r),l=i[r];l||(l=this.el_.appendChild(c.createEl())),l.style.left=o(a,n),l.style.width=o(s-a,n)}for(var r=i.length;r>e.length;r--)this.el_.removeChild(i[r-1])},t}(l[\"default\"]);l[\"default\"].registerComponent(\"LoadProgressBar\",d),n[\"default\"]=d,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134}],76:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"global/window\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"../../utils/dom.js\"),p=i(d),h=e(\"../../utils/fn.js\"),f=i(h),g=e(\"../../utils/format-time.js\"),m=o(g),y=e(\"lodash-compat/function/throttle\"),v=o(y),_=function(e){function t(n,i){var o=this;r(this,t),e.call(this,n,i),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=p.createEl(\"div\",{className:\"vjs-time-tooltip\"}),this.el().appendChild(this.tooltip),this.addClass(\"vjs-keep-tooltips-inside\")),this.update(0,0),n.on(\"ready\",function(){o.on(n.controlBar.progressControl.el(),\"mousemove\",v[\"default\"](f.bind(o,o.handleMouseMove),25))})}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-mouse-display\"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,i=e.pageX-p.findElPosition(this.el().parentNode).left;this.update(n,i)},t.prototype.update=function(e,t){var n=m[\"default\"](e,this.player_.duration());if(this.el().style.left=t+\"px\",this.el().setAttribute(\"data-current-time\",n),this.keepTooltipsInside){var i=this.clampPosition_(t),o=t-i+1,r=parseFloat(l[\"default\"].getComputedStyle(this.tooltip).width),a=r/2;this.tooltip.innerHTML=n,this.tooltip.style.right=\"-\"+(a-o)+\"px\"}},t.prototype.calculateDistance=function(e){return p.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat(l[\"default\"].getComputedStyle(this.player().el()).width),n=parseFloat(l[\"default\"].getComputedStyle(this.tooltip).width),i=n/2,o=e;return i>e?o=Math.ceil(i):e>t-i&&(o=Math.floor(t-i)),o},t}(c[\"default\"]);c[\"default\"].registerComponent(\"MouseTimeDisplay\",_),n[\"default\"]=_,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134,\"../../utils/fn.js\":136,\"../../utils/format-time.js\":137,\"global/window\":2,\"lodash-compat/function/throttle\":7}],77:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../component.js\"),l=o(s),u=e(\"../../utils/fn.js\"),c=i(u),d=e(\"../../utils/dom.js\"),p=(i(d),e(\"../../utils/format-time.js\")),h=o(p),f=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.updateDataAttr(),this.on(n,\"timeupdate\",this.updateDataAttr),n.ready(c.bind(this,this.updateDataAttr)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass(\"vjs-keep-tooltips-inside\")}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-play-progress vjs-slider-bar\",innerHTML:'<span class=\"vjs-control-text\"><span>'+this.localize(\"Progress\")+\"</span>: 0%</span>\"})},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute(\"data-current-time\",h[\"default\"](e,this.player_.duration()))},t}(l[\"default\"]);l[\"default\"].registerComponent(\"PlayProgressBar\",f),n[\"default\"]=f,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134,\"../../utils/fn.js\":136,\"../../utils/format-time.js\":137}],78:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../../component.js\"),s=i(a),l=e(\"./seek-bar.js\"),u=(i(l),e(\"./mouse-time-display.js\")),c=(i(u),function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-progress-control vjs-control\"})},t}(s[\"default\"]));c.prototype.options_={children:[\"seekBar\"]},s[\"default\"].registerComponent(\"ProgressControl\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./mouse-time-display.js\":76,\"./seek-bar.js\":79}],79:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"global/window\"),l=o(s),u=e(\"../../slider/slider.js\"),c=o(u),d=e(\"../../component.js\"),p=o(d),h=e(\"./load-progress-bar.js\"),f=(o(h),e(\"./play-progress-bar.js\")),g=(o(f),e(\"./tooltip-progress-bar.js\")),m=(o(g),e(\"../../utils/fn.js\")),y=i(m),v=e(\"../../utils/format-time.js\"),_=o(v),b=e(\"object.assign\"),E=(o(b),function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"timeupdate\",this.updateProgress),this.on(n,\"ended\",this.updateProgress),n.ready(y.bind(this,this.updateProgress)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild(\"TooltipProgressBar\"))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-progress-holder\"},{\"aria-label\":\"progress bar\"})},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat(l[\"default\"].getComputedStyle(this.player().el()).width),t=parseFloat(l[\"default\"].getComputedStyle(this.tooltipProgressBar.tooltip).width),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-t/2)+\"px\",n.minWidth=Math.ceil(t/2)+\"px\",n.right=\"-\"+t/2+\"px\"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute(\"aria-valuenow\",(100*this.getPercent()).toFixed(2)),e.setAttribute(\"aria-valuetext\",_[\"default\"](t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(c[\"default\"]));E.prototype.options_={children:[\"loadProgressBar\",\"mouseTimeDisplay\",\"playProgressBar\"],barName:\"playProgressBar\"},E.prototype.playerEvent=\"timeupdate\",p[\"default\"].registerComponent(\"SeekBar\",E),n[\"default\"]=E,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../slider/slider.js\":116,\"../../utils/fn.js\":136,\"../../utils/format-time.js\":137,\"./load-progress-bar.js\":75,\"./play-progress-bar.js\":77,\"./tooltip-progress-bar.js\":80,\"global/window\":2,\"object.assign\":45}],80:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../component.js\"),l=o(s),u=e(\"../../utils/fn.js\"),c=i(u),d=e(\"../../utils/dom.js\"),p=(i(d),e(\"../../utils/format-time.js\")),h=o(p),f=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.updateDataAttr(),this.on(n,\"timeupdate\",this.updateDataAttr),n.ready(c.bind(this,this.updateDataAttr))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-tooltip-progress-bar vjs-slider-bar\",innerHTML:'<div class=\"vjs-time-tooltip\"></div>\\n        <span class=\"vjs-control-text\"><span>'+this.localize(\"Progress\")+\"</span>: 0%</span>\"});return this.tooltip=t.querySelector(\".vjs-time-tooltip\"),t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=h[\"default\"](e,this.player_.duration());this.el_.setAttribute(\"data-current-time\",t),this.tooltip.innerHTML=t},t}(l[\"default\"]);l[\"default\"].registerComponent(\"TooltipProgressBar\",f),n[\"default\"]=f,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134,\"../../utils/fn.js\":136,\"../../utils/format-time.js\":137}],81:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./spacer.js\"),s=i(a),l=e(\"../../component.js\"),u=i(l),c=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-custom-control-spacer \"+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=\"&nbsp;\",t},t}(s[\"default\"]);u[\"default\"].registerComponent(\"CustomControlSpacer\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./spacer.js\":82}],82:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../../component.js\"),s=i(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-spacer \"+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildCSSClass()})},t}(s[\"default\"]);s[\"default\"].registerComponent(\"Spacer\",l),n[\"default\"]=l,t.exports=n[\"default\"]},{\"../../component.js\":67}],83:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./text-track-menu-item.js\"),s=i(a),l=e(\"../../component.js\"),u=i(l),c=function(e){function t(n,i){o(this,t),i.track={kind:i.kind,player:n,label:i.kind+\" settings\",selectable:!1,\"default\":!1,mode:\"disabled\"},i.selectable=!1,e.call(this,n,i),this.addClass(\"vjs-texttrack-settings\"),this.controlText(\", opens \"+i.kind+\" settings dialog\")}return r(t,e),t.prototype.handleClick=function(){this.player().getChild(\"textTrackSettings\").show(),this.player().getChild(\"textTrackSettings\").el_.focus()},t}(s[\"default\"]);u[\"default\"].registerComponent(\"CaptionSettingsMenuItem\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./text-track-menu-item.js\":91}],84:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./text-track-button.js\"),s=i(a),l=e(\"../../component.js\"),u=i(l),c=e(\"./caption-settings-menu-item.js\"),d=i(c),p=function(e){function t(n,i,r){o(this,t),e.call(this,n,i,r),this.el_.setAttribute(\"aria-label\",\"Captions Menu\")}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-captions-button \"+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new d[\"default\"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(s[\"default\"]);p.prototype.kind_=\"captions\",p.prototype.controlText_=\"Captions\",u[\"default\"].registerComponent(\"CaptionsButton\",p),n[\"default\"]=p,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./caption-settings-menu-item.js\":83,\"./text-track-button.js\":90}],85:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./text-track-button.js\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"./text-track-menu-item.js\"),p=o(d),h=e(\"./chapters-track-menu-item.js\"),f=o(h),g=e(\"../../menu/menu.js\"),m=o(g),y=e(\"../../utils/dom.js\"),v=i(y),_=e(\"../../utils/fn.js\"),b=(i(_),e(\"../../utils/to-title-case.js\")),E=o(b),w=e(\"global/window\"),T=(o(w),function(e){function t(n,i,o){r(this,t),e.call(this,n,i,o),this.el_.setAttribute(\"aria-label\",\"Chapters Menu\")}return a(t,e),t.prototype.buildCSSClass=function(){return\"vjs-chapters-button \"+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n];i.kind===this.kind_&&e.push(new p[\"default\"](this.player_,{track:i}))}return e},t.prototype.createMenu=function(){for(var e=this,t=this.player_.textTracks()||[],n=void 0,i=this.items=[],o=0,r=t.length;r>o;o++){var a=t[o];if(a.kind===this.kind_){n=a;break}}var s=this.menu;if(void 0===s){s=new m[\"default\"](this.player_);var l=v.createEl(\"li\",{className:\"vjs-menu-title\",innerHTML:E[\"default\"](this.kind_),tabIndex:-1});s.children_.unshift(l),v.insertElFirst(l,s.contentEl())}if(n&&null==n.cues){n.mode=\"hidden\";var u=this.player_.remoteTextTrackEls().getTrackElementByTrack_(n);u&&u.addEventListener(\"load\",function(t){return e.update()})}if(n&&n.cues&&n.cues.length>0){for(var c=n.cues,d=void 0,o=0,p=c.length;p>o;o++){d=c[o];var h=new f[\"default\"](this.player_,{track:n,cue:d});i.push(h),s.addChild(h)}this.addChild(s)}return this.items.length>0&&this.show(),s},t}(l[\"default\"]));T.prototype.kind_=\"chapters\",T.prototype.controlText_=\"Chapters\",c[\"default\"].registerComponent(\"ChaptersButton\",T),n[\"default\"]=T,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../menu/menu.js\":108,\"../../utils/dom.js\":134,\"../../utils/fn.js\":136,\"../../utils/to-title-case.js\":143,\"./chapters-track-menu-item.js\":86,\"./text-track-button.js\":90,\"./text-track-menu-item.js\":91,\"global/window\":2}],86:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../menu/menu-item.js\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"../../utils/fn.js\"),p=i(d),h=function(e){function t(n,i){r(this,t);var o=i.track,a=i.cue,s=n.currentTime();i.label=a.text,i.selected=a.startTime<=s&&s<a.endTime,e.call(this,n,i),this.track=o,this.cue=a,o.addEventListener(\"cuechange\",p.bind(this,this.update))}return a(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(l[\"default\"]);c[\"default\"].registerComponent(\"ChaptersTrackMenuItem\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../menu/menu-item.js\":107,\"../../utils/fn.js\":136}],87:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./text-track-button.js\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"../../utils/fn.js\"),p=i(d),h=function(e){function t(n,i,o){var a=this;r(this,t),e.call(this,n,i,o),this.el_.setAttribute(\"aria-label\",\"Descriptions Menu\");var s=n.textTracks();s&&!function(){var e=p.bind(a,a.handleTracksChange);s.addEventListener(\"change\",e),a.on(\"dispose\",function(){s.removeEventListener(\"change\",e)})}()}return a(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,i=0,o=t.length;o>i;i++){var r=t[i];if(r.kind!==this.kind_&&\"showing\"===r.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return\"vjs-descriptions-button \"+e.prototype.buildCSSClass.call(this)},t}(l[\"default\"]);h.prototype.kind_=\"descriptions\",h.prototype.controlText_=\"Descriptions\",c[\"default\"].registerComponent(\"DescriptionsButton\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/fn.js\":136,\"./text-track-button.js\":90}],88:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./text-track-menu-item.js\"),s=i(a),l=e(\"../../component.js\"),u=i(l),c=function(e){function t(n,i){o(this,t),i.track={kind:i.kind,player:n,label:i.kind+\" off\",\"default\":!1,mode:\"disabled\"},i.selectable=!0,e.call(this,n,i),this.selected(!0)}return r(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,i=0,o=t.length;o>i;i++){var r=t[i];if(r.kind===this.track.kind&&\"showing\"===r.mode){n=!1;break}}this.selected(n)},t}(s[\"default\"]);u[\"default\"].registerComponent(\"OffTextTrackMenuItem\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./text-track-menu-item.js\":91}],89:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./text-track-button.js\"),s=i(a),l=e(\"../../component.js\"),u=i(l),c=function(e){function t(n,i,r){o(this,t),e.call(this,n,i,r),this.el_.setAttribute(\"aria-label\",\"Subtitles Menu\")}return r(t,e),t.prototype.buildCSSClass=function(){return\"vjs-subtitles-button \"+e.prototype.buildCSSClass.call(this)},t}(s[\"default\"]);c.prototype.kind_=\"subtitles\",c.prototype.controlText_=\"Subtitles\",u[\"default\"].registerComponent(\"SubtitlesButton\",c),n[\"default\"]=c,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./text-track-button.js\":90}],90:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../menu/menu-button.js\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"../../utils/fn.js\"),p=i(d),h=e(\"./text-track-menu-item.js\"),f=o(h),g=e(\"./off-text-track-menu-item.js\"),m=o(g),y=function(e){function t(n,i){r(this,t),e.call(this,n,i);var o=this.player_.textTracks();if(this.items.length<=1&&this.hide(),o){var a=p.bind(this,this.update);o.addEventListener(\"removetrack\",a),o.addEventListener(\"addtrack\",a),this.player_.on(\"dispose\",function(){o.removeEventListener(\"removetrack\",a),o.removeEventListener(\"addtrack\",a)})}}return a(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new m[\"default\"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var i=t[n];i.kind===this.kind_&&e.push(new f[\"default\"](this.player_,{selectable:!0,track:i}))}return e},t}(l[\"default\"]);c[\"default\"].registerComponent(\"TextTrackButton\",y),n[\"default\"]=y,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../menu/menu-button.js\":106,\"../../utils/fn.js\":136,\"./off-text-track-menu-item.js\":88,\"./text-track-menu-item.js\":91}],91:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../menu/menu-item.js\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"../../utils/fn.js\"),p=i(d),h=e(\"global/window\"),f=o(h),g=e(\"global/document\"),m=o(g),y=function(e){function t(n,i){var o=this;r(this,t);var a=i.track,s=n.textTracks();i.label=a.label||a.language||\"Unknown\",i.selected=a[\"default\"]||\"showing\"===a.mode,e.call(this,n,i),this.track=a,s&&!function(){var e=p.bind(o,o.handleTracksChange);s.addEventListener(\"change\",e),o.on(\"dispose\",function(){s.removeEventListener(\"change\",e)})}(),s&&void 0===s.onchange&&!function(){var e=void 0;o.on([\"tap\",\"click\"],function(){if(\"object\"!=typeof f[\"default\"].Event)try{e=new f[\"default\"].Event(\"change\")}catch(t){}e||(e=m[\"default\"].createEvent(\"Event\"),e.initEvent(\"change\",!0,!0)),s.dispatchEvent(e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var r=i[o];r.kind===n&&(r===this.track?r.mode=\"showing\":r.mode=\"disabled\")}},t.prototype.handleTracksChange=function(e){this.selected(\"showing\"===this.track.mode)},t}(l[\"default\"]);c[\"default\"].registerComponent(\"TextTrackMenuItem\",y),n[\"default\"]=y,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../menu/menu-item.js\":107,\"../../utils/fn.js\":136,\"global/document\":1,\"global/window\":2}],92:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../component.js\"),l=o(s),u=e(\"../../utils/dom.js\"),c=i(u),d=e(\"../../utils/format-time.js\"),p=o(d),h=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"timeupdate\",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-current-time vjs-time-control vjs-control\"});return this.contentEl_=c.createEl(\"div\",{className:\"vjs-current-time-display\",innerHTML:'<span class=\"vjs-control-text\">Current Time </span>0:00'},{\"aria-live\":\"off\"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize(\"Current Time\"),n=p[\"default\"](e,this.player_.duration());\nn!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+t+\"</span> \"+n)},t}(l[\"default\"]);l[\"default\"].registerComponent(\"CurrentTimeDisplay\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134,\"../../utils/format-time.js\":137}],93:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../component.js\"),l=o(s),u=e(\"../../utils/dom.js\"),c=i(u),d=e(\"../../utils/format-time.js\"),p=o(d),h=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"timeupdate\",this.updateContent),this.on(n,\"loadedmetadata\",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-duration vjs-time-control vjs-control\"});return this.contentEl_=c.createEl(\"div\",{className:\"vjs-duration-display\",innerHTML:'<span class=\"vjs-control-text\">'+this.localize(\"Duration Time\")+\"</span> 0:00\"},{\"aria-live\":\"off\"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize(\"Duration Time\"),n=p[\"default\"](e);this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+t+\"</span> \"+n}},t}(l[\"default\"]);l[\"default\"].registerComponent(\"DurationDisplay\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134,\"../../utils/format-time.js\":137}],94:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../component.js\"),l=o(s),u=e(\"../../utils/dom.js\"),c=i(u),d=e(\"../../utils/format-time.js\"),p=o(d),h=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"timeupdate\",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,\"div\",{className:\"vjs-remaining-time vjs-time-control vjs-control\"});return this.contentEl_=c.createEl(\"div\",{className:\"vjs-remaining-time-display\",innerHTML:'<span class=\"vjs-control-text\">'+this.localize(\"Remaining Time\")+\"</span> -0:00\"},{\"aria-live\":\"off\"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize(\"Remaining Time\"),t=p[\"default\"](this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+e+\"</span> -\"+t)}},t}(l[\"default\"]);l[\"default\"].registerComponent(\"RemainingTimeDisplay\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../utils/dom.js\":134,\"../../utils/format-time.js\":137}],95:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../../component.js\"),s=i(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-time-control vjs-time-divider\",innerHTML:\"<div><span>/</span></div>\"})},t}(s[\"default\"]);s[\"default\"].registerComponent(\"TimeDivider\",l),n[\"default\"]=l,t.exports=n[\"default\"]},{\"../../component.js\":67}],96:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../../slider/slider.js\"),l=o(s),u=e(\"../../component.js\"),c=o(u),d=e(\"../../utils/fn.js\"),p=i(d),h=e(\"./volume-level.js\"),f=(o(h),function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"volumechange\",this.updateARIAAttributes),n.ready(p.bind(this,this.updateARIAAttributes))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-bar vjs-slider-bar\"},{\"aria-label\":\"volume level\"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute(\"aria-valuenow\",e),this.el_.setAttribute(\"aria-valuetext\",e+\"%\")},t}(l[\"default\"]));f.prototype.options_={children:[\"volumeLevel\"],barName:\"volumeLevel\"},f.prototype.playerEvent=\"volumechange\",c[\"default\"].registerComponent(\"VolumeBar\",f),n[\"default\"]=f,t.exports=n[\"default\"]},{\"../../component.js\":67,\"../../slider/slider.js\":116,\"../../utils/fn.js\":136,\"./volume-level.js\":98}],97:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../../component.js\"),s=i(a),l=e(\"./volume-bar.js\"),u=(i(l),function(e){function t(n,i){o(this,t),e.call(this,n,i),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass(\"vjs-hidden\"),this.on(n,\"loadstart\",function(){n.tech_.featuresVolumeControl===!1?this.addClass(\"vjs-hidden\"):this.removeClass(\"vjs-hidden\")})}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-control vjs-control\"})},t}(s[\"default\"]));u.prototype.options_={children:[\"volumeBar\"]},s[\"default\"].registerComponent(\"VolumeControl\",u),n[\"default\"]=u,t.exports=n[\"default\"]},{\"../../component.js\":67,\"./volume-bar.js\":96}],98:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../../component.js\"),s=i(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-volume-level\",innerHTML:'<span class=\"vjs-control-text\"></span>'})},t}(s[\"default\"]);s[\"default\"].registerComponent(\"VolumeLevel\",l),n[\"default\"]=l,t.exports=n[\"default\"]},{\"../../component.js\":67}],99:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../utils/fn.js\"),l=o(s),u=e(\"../component.js\"),c=i(u),d=e(\"../popup/popup.js\"),p=i(d),h=e(\"../popup/popup-button.js\"),f=i(h),g=e(\"./mute-toggle.js\"),m=i(g),y=e(\"./volume-control/volume-bar.js\"),v=i(y),_=function(e){function t(n){function i(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass(\"vjs-hidden\"):this.removeClass(\"vjs-hidden\")}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),void 0===o.inline&&(o.inline=!0),void 0===o.vertical&&(o.inline?o.vertical=!1:o.vertical=!0),o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=!!o.vertical,e.call(this,n,o),this.on(n,\"volumechange\",this.volumeUpdate),this.on(n,\"loadstart\",this.volumeUpdate),i.call(this),this.on(n,\"loadstart\",i),this.on(this.volumeBar,[\"slideractive\",\"focus\"],function(){this.addClass(\"vjs-slider-active\")}),this.on(this.volumeBar,[\"sliderinactive\",\"blur\"],function(){this.removeClass(\"vjs-slider-active\")}),this.on(this.volumeBar,[\"focus\"],function(){this.addClass(\"vjs-lock-showing\")}),this.on(this.volumeBar,[\"blur\"],function(){this.removeClass(\"vjs-lock-showing\")})}return a(t,e),t.prototype.buildCSSClass=function(){var t=\"\";return t=this.options_.vertical?\"vjs-volume-menu-button-vertical\":\"vjs-volume-menu-button-horizontal\",\"vjs-volume-menu-button \"+e.prototype.buildCSSClass.call(this)+\" \"+t},t.prototype.createPopup=function(){var e=new p[\"default\"](this.player_,{contentElType:\"div\"}),t=new v[\"default\"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(){m[\"default\"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on([\"mousedown\",\"touchdown\"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on([\"mousemove\",\"touchmove\"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,[\"mouseup\",\"touchend\"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off([\"mousemove\",\"touchmove\"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(f[\"default\"]);_.prototype.volumeUpdate=m[\"default\"].prototype.update,_.prototype.controlText_=\"Mute\",c[\"default\"].registerComponent(\"VolumeMenuButton\",_),n[\"default\"]=_,t.exports=n[\"default\"]},{\"../component.js\":67,\"../popup/popup-button.js\":112,\"../popup/popup.js\":113,\"../utils/fn.js\":136,\"./mute-toggle.js\":71,\"./volume-control/volume-bar.js\":96}],100:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./component\"),l=o(s),u=e(\"./modal-dialog\"),c=o(u),d=e(\"./utils/dom\"),p=(i(d),e(\"./utils/merge-options\")),h=o(p),f=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.on(n,\"error\",this.open)}return a(t,e),t.prototype.buildCSSClass=function(){return\"vjs-error-display \"+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):\"\"},t}(c[\"default\"]);f.prototype.options_=h[\"default\"](c[\"default\"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l[\"default\"].registerComponent(\"ErrorDisplay\",f),n[\"default\"]=f,t.exports=n[\"default\"]},{\"./component\":67,\"./modal-dialog\":109,\"./utils/dom\":134,\"./utils/merge-options\":140}],101:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}n.__esModule=!0;var o=e(\"./utils/events.js\"),r=i(o),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=Function.prototype,r.on(this,e,t),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){r.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){r.one(this,e,t)},a.prototype.trigger=function(e){var t=e.type||e;\"string\"==typeof e&&(e={type:t}),e=r.fixEvent(e),this.allowedEvents_[t]&&this[\"on\"+t]&&this[\"on\"+t](e),r.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,n[\"default\"]=a,t.exports=n[\"default\"]},{\"./utils/events.js\":135}],102:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"./utils/log\"),r=i(o),a=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},s=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){e.apply(this,arguments)},i={};\"object\"==typeof t?(\"function\"==typeof t.init&&(r[\"default\"].warn(\"Constructor logic via init() is deprecated; please use constructor() instead.\"),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):\"function\"==typeof t&&(n=t),a(n,e);for(var o in i)i.hasOwnProperty(o)&&(n.prototype[o]=i[o]);return n};n[\"default\"]=s,t.exports=n[\"default\"]},{\"./utils/log\":139}],103:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;for(var o=e(\"global/document\"),r=i(o),a={},s=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],l=s[0],u=void 0,c=0;c<s.length;c++)if(s[c][1]in r[\"default\"]){u=s[c];break}if(u)for(var c=0;c<u.length;c++)a[l[c]]=u[c];n[\"default\"]=a,t.exports=n[\"default\"]},{\"global/document\":1}],104:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"./component\"),s=i(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return r(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-loading-spinner\",dir:\"ltr\"})},t}(s[\"default\"]);s[\"default\"].registerComponent(\"LoadingSpinner\",l),n[\"default\"]=l,t.exports=n[\"default\"]},{\"./component\":67}],105:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"object.assign\"),r=i(o),a=function l(e){\"number\"==typeof e?this.code=e:\"string\"==typeof e?this.message=e:\"object\"==typeof e&&r[\"default\"](this,e),this.message||(this.message=l.defaultMessages[this.code]||\"\")};a.prototype.code=0,a.prototype.message=\"\",a.prototype.status=null,a.errorTypes=[\"MEDIA_ERR_CUSTOM\",\"MEDIA_ERR_ABORTED\",\"MEDIA_ERR_NETWORK\",\"MEDIA_ERR_DECODE\",\"MEDIA_ERR_SRC_NOT_SUPPORTED\",\"MEDIA_ERR_ENCRYPTED\"],a.defaultMessages={1:\"You aborted the media playback\",2:\"A network error caused the media download to fail part-way.\",3:\"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.\",4:\"The media could not be loaded, either because the server or network failed or because the format is not supported.\",5:\"The media is encrypted and we do not have the keys to decrypt it.\"};for(var s=0;s<a.errorTypes.length;s++)a[a.errorTypes[s]]=s,a.prototype[a.errorTypes[s]]=s;n[\"default\"]=a,t.exports=n[\"default\"]},{\"object.assign\":45}],106:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../clickable-component.js\"),l=o(s),u=e(\"../component.js\"),c=o(u),d=e(\"./menu.js\"),p=o(d),h=e(\"../utils/dom.js\"),f=i(h),g=e(\"../utils/fn.js\"),m=i(g),y=e(\"../utils/to-title-case.js\"),v=o(y),_=function(e){function t(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),e.call(this,n,i),this.update(),this.enabled_=!0,this.el_.setAttribute(\"aria-haspopup\",\"true\"),this.el_.setAttribute(\"role\",\"menuitem\"),this.on(\"keydown\",this.handleSubmenuKeyPress)}return a(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute(\"aria-expanded\",\"false\"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new p[\"default\"](this.player_);if(this.options_.title){var t=f.createEl(\"li\",{className:\"vjs-menu-title\",innerHTML:v[\"default\"](this.options_.title),tabIndex:-1});e.children_.unshift(t),f.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t=\"vjs-menu-button\";return t+=this.options_.inline===!0?\"-inline\":\"-popup\",\"vjs-menu-button \"+t+\" \"+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.one(\"mouseout\",m.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){(27===e.which||9===e.which)&&(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute(\"aria-expanded\",\"true\"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute(\"aria-expanded\",\"false\"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute(\"aria-expanded\",\"false\"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l[\"default\"]);c[\"default\"].registerComponent(\"MenuButton\",_),n[\"default\"]=_,t.exports=n[\"default\"]},{\"../clickable-component.js\":65,\"../component.js\":67,\"../utils/dom.js\":134,\"../utils/fn.js\":136,\"../utils/to-title-case.js\":143,\"./menu.js\":108}],107:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../clickable-component.js\"),s=i(a),l=e(\"../component.js\"),u=i(l),c=e(\"object.assign\"),d=i(c),p=function(e){function t(n,i){o(this,t),e.call(this,n,i),this.selectable=i.selectable,this.selected(i.selected),this.selectable?this.el_.setAttribute(\"role\",\"menuitemcheckbox\"):this.el_.setAttribute(\"role\",\"menuitem\")}return r(t,e),t.prototype.createEl=function(t,n,i){return e.prototype.createEl.call(this,\"li\",d[\"default\"]({className:\"vjs-menu-item\",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),i)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass(\"vjs-selected\"),this.el_.setAttribute(\"aria-checked\",\"true\"),this.controlText(\", selected\")):(this.removeClass(\"vjs-selected\"),this.el_.setAttribute(\"aria-checked\",\"false\"),this.controlText(\" \")))},t}(s[\"default\"]);u[\"default\"].registerComponent(\"MenuItem\",p),n[\"default\"]=p,t.exports=n[\"default\"]},{\"../clickable-component.js\":65,\"../component.js\":67,\"object.assign\":45}],108:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../component.js\"),l=o(s),u=e(\"../utils/dom.js\"),c=i(u),d=e(\"../utils/fn.js\"),p=i(d),h=e(\"../utils/events.js\"),f=i(h),g=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.focusedChild_=-1,this.on(\"keydown\",this.handleKeyPress)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on(\"click\",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||\"ul\";this.contentEl_=c.createEl(t,{className:\"vjs-menu-content\"}),this.contentEl_.setAttribute(\"role\",\"menu\");var n=e.prototype.createEl.call(this,\"div\",{append:this.contentEl_,className:\"vjs-menu\"});return n.setAttribute(\"role\",\"presentation\"),n.appendChild(this.contentEl_),f.on(n,\"click\",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(0>e?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(l[\"default\"]);l[\"default\"].registerComponent(\"Menu\",g),n[\"default\"]=g,t.exports=n[\"default\"]},{\"../component.js\":67,\"../utils/dom.js\":134,\"../utils/events.js\":135,\"../utils/fn.js\":136}],109:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./utils/dom\"),l=o(s),u=e(\"./utils/fn\"),c=o(u),d=e(\"./utils/log\"),p=(i(d),e(\"./component\")),h=i(p),f=e(\"./close-button\"),g=(i(f),\"vjs-modal-dialog\"),m=27,y=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=l.createEl(\"div\",{className:g+\"-content\"},{role:\"document\"}),this.descEl_=l.createEl(\"p\",{className:g+\"-description vjs-offscreen\",id:this.el().getAttribute(\"aria-describedby\")}),l.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildCSSClass(),tabIndex:-1},{\"aria-describedby\":this.id()+\"_description\",\"aria-hidden\":\"true\",\"aria-label\":this.label(),role:\"dialog\"})},t.prototype.buildCSSClass=function(){return g+\" vjs-hidden \"+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===m&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize(\"Modal Window\")},t.prototype.description=function(){var e=this.options_.description||this.localize(\"This is a modal window.\");return this.closeable()&&(e+=\" \"+this.localize(\"This modal can be closed by pressing the Escape key or activating the close button.\")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger(\"beforemodalopen\"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,\"keydown\",c.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute(\"aria-hidden\",\"false\"),this.trigger(\"modalopen\"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return\"boolean\"==typeof e&&this[e?\"open\":\"close\"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger(\"beforemodalclose\"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,\"keydown\",c.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute(\"aria-hidden\",\"true\"),this.trigger(\"modalclose\"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if(\"boolean\"==typeof e){var n=this.closeable_=!!e,t=this.getChild(\"closeButton\");if(n&&!t){var i=this.contentEl_;this.contentEl_=this.el_,t=this.addChild(\"closeButton\"),this.contentEl_=i,this.on(t,\"close\",this.close)}!n&&t&&(this.off(t,\"close\",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;return this.trigger(\"beforemodalfill\"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger(\"modalfill\"),i?n.insertBefore(t,i):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger(\"beforemodalempty\"),l.emptyEl(this.contentEl()),this.trigger(\"modalempty\"),this},t.prototype.content=function(e){return\"undefined\"!=typeof e&&(this.content_=e),this.content_},t}(h[\"default\"]);y.prototype.options_={temporary:!0},h[\"default\"].registerComponent(\"ModalDialog\",y),n[\"default\"]=y,t.exports=n[\"default\"]},{\"./close-button\":66,\"./component\":67,\"./utils/dom\":134,\"./utils/fn\":136,\"./utils/log\":139}],110:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./component.js\"),l=o(s),u=e(\"global/document\"),c=o(u),d=e(\"global/window\"),p=o(d),h=e(\"./utils/events.js\"),f=i(h),g=e(\"./utils/dom.js\"),m=i(g),y=e(\"./utils/fn.js\"),v=i(y),_=e(\"./utils/guid.js\"),b=i(_),E=e(\"./utils/browser.js\"),w=i(E),T=e(\"./utils/log.js\"),C=o(T),A=e(\"./utils/to-title-case.js\"),S=o(A),N=e(\"./utils/time-ranges.js\"),I=e(\"./utils/buffer.js\"),P=e(\"./utils/stylesheet.js\"),x=i(P),k=e(\"./fullscreen-api.js\"),M=o(k),D=e(\"./media-error.js\"),O=o(D),L=e(\"safe-json-parse/tuple\"),R=o(L),j=e(\"object.assign\"),V=o(j),U=e(\"./utils/merge-options.js\"),B=o(U),G=e(\"./tracks/text-track-list-converter.js\"),F=o(G),H=e(\"./tech/loader.js\"),z=(o(H),e(\"./poster-image.js\")),W=(o(z),e(\"./tracks/text-track-display.js\")),q=(o(W),e(\"./loading-spinner.js\")),Y=(o(q),e(\"./big-play-button.js\")),X=(o(Y),e(\"./control-bar/control-bar.js\")),Z=(o(X),e(\"./error-display.js\")),J=(o(Z),e(\"./tracks/text-track-settings.js\")),K=(o(J),e(\"./modal-dialog\")),$=o(K),Q=e(\"./tech/tech.js\"),ee=o(Q),te=e(\"./tech/html5.js\"),ne=(o(te),function(e){function t(n,i,o){var a=this;if(r(this,t),n.id=n.id||\"vjs_video_\"+b.newGUID(),i=V[\"default\"](t.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.reportTouchActivity=!1,e.call(this,null,i,o),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error(\"No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?\");this.tag=n,this.tagAttributes=n&&m.getElAttributes(n),this.language(this.options_.language),i.languages?!function(){var e={};Object.getOwnPropertyNames(i.languages).forEach(function(t){e[t.toLowerCase()]=i.languages[t];\n}),a.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},this.poster_=i.poster||\"\",this.controls_=!!i.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var s=B[\"default\"](this.options_);i.plugins&&!function(){var e=i.plugins;Object.getOwnPropertyNames(e).forEach(function(t){\"function\"==typeof this[t]?this[t](e[t]):C[\"default\"].error(\"Unable to find plugin:\",t)},a)}(),this.options_.playerOptions=s,this.initChildren(),this.isAudio(\"audio\"===n.nodeName.toLowerCase()),this.controls()?this.addClass(\"vjs-controls-enabled\"):this.addClass(\"vjs-controls-disabled\"),this.el_.setAttribute(\"role\",\"region\"),this.isAudio()?this.el_.setAttribute(\"aria-label\",\"audio player\"):this.el_.setAttribute(\"aria-label\",\"video player\"),this.isAudio()&&this.addClass(\"vjs-audio\"),this.flexNotSupported_()&&this.addClass(\"vjs-no-flex\"),w.IS_IOS||this.addClass(\"vjs-workinghover\"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on(\"fullscreenchange\",this.handleFullscreenChange_),this.on(\"stageclick\",this.handleStageClick_)}return a(t,e),t.prototype.dispose=function(){this.trigger(\"dispose\"),this.off(\"dispose\"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,\"div\"),n=this.tag;n.removeAttribute(\"width\"),n.removeAttribute(\"height\");var i=m.getElAttributes(n);if(Object.getOwnPropertyNames(i).forEach(function(e){\"class\"===e?t.className=i[e]:t.setAttribute(e,i[e])}),n.playerId=n.id,n.id+=\"_html5_api\",n.className=\"vjs-tech\",n.player=t.player=this,this.addClass(\"vjs-paused\"),p[\"default\"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=x.createStyleElement(\"vjs-styles-dimensions\");var o=m.$(\".vjs-styles-defaults\"),r=m.$(\"head\");r.insertBefore(this.styleEl_,o?o.nextSibling:r.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=n.getElementsByTagName(\"a\"),s=0;s<a.length;s++){var l=a.item(s);m.addElClass(l,\"vjs-hidden\"),l.setAttribute(\"hidden\",\"hidden\")}return n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(t,n),m.insertElFirst(n,t),this.children_.unshift(n),this.el_=t,t},t.prototype.width=function(e){return this.dimension(\"width\",e)},t.prototype.height=function(e){return this.dimension(\"height\",e)},t.prototype.dimension=function(e,t){var n=e+\"_\";if(void 0===t)return this[n]||0;if(\"\"===t)this[n]=void 0;else{var i=parseFloat(t);if(isNaN(i))return C[\"default\"].error('Improper value \"'+t+'\" supplied for for '+e),this;this[n]=i}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,void(e?this.addClass(\"vjs-fluid\"):this.removeClass(\"vjs-fluid\")))},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\\d+\\:\\d+$/.test(e))throw new Error(\"Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.\");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(p[\"default\"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e=\"number\"==typeof this.width_?this.width_:this.options_.width,t=\"number\"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var i=void 0,o=void 0,r=void 0,a=void 0;r=void 0!==this.aspectRatio_&&\"auto\"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+\":\"+this.videoHeight():\"16:9\";var s=r.split(\":\"),l=s[1]/s[0];i=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,o=void 0!==this.height_?this.height_:i*l,a=/^[^a-zA-Z]/.test(this.id())?\"dimensions-\"+this.id():this.id()+\"-dimensions\",this.addClass(a),x.setTextContent(this.styleEl_,\"\\n      .\"+a+\" {\\n        width: \"+i+\"px;\\n        height: \"+o+\"px;\\n      }\\n\\n      .\"+a+\".vjs-fluid {\\n        padding-top: \"+100*l+\"%;\\n      }\\n    \")},t.prototype.loadTech_=function(e,t){this.tech_&&this.unloadTech_(),\"Html5\"!==e&&this.tag&&(ee[\"default\"].getTech(\"Html5\").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=V[\"default\"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:this.id()+\"_\"+e+\"_api\",textTracks:this.textTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),\"vtt.js\":this.options_[\"vtt.js\"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src);var i=ee[\"default\"].getTech(e);i||(i=l[\"default\"].getComponent(e)),this.tech_=new i(n),this.tech_.ready(v.bind(this,this.handleTechReady_),!0),F[\"default\"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,\"loadstart\",this.handleTechLoadStart_),this.on(this.tech_,\"waiting\",this.handleTechWaiting_),this.on(this.tech_,\"canplay\",this.handleTechCanPlay_),this.on(this.tech_,\"canplaythrough\",this.handleTechCanPlayThrough_),this.on(this.tech_,\"playing\",this.handleTechPlaying_),this.on(this.tech_,\"ended\",this.handleTechEnded_),this.on(this.tech_,\"seeking\",this.handleTechSeeking_),this.on(this.tech_,\"seeked\",this.handleTechSeeked_),this.on(this.tech_,\"play\",this.handleTechPlay_),this.on(this.tech_,\"firstplay\",this.handleTechFirstPlay_),this.on(this.tech_,\"pause\",this.handleTechPause_),this.on(this.tech_,\"progress\",this.handleTechProgress_),this.on(this.tech_,\"durationchange\",this.handleTechDurationChange_),this.on(this.tech_,\"fullscreenchange\",this.handleTechFullscreenChange_),this.on(this.tech_,\"error\",this.handleTechError_),this.on(this.tech_,\"suspend\",this.handleTechSuspend_),this.on(this.tech_,\"abort\",this.handleTechAbort_),this.on(this.tech_,\"emptied\",this.handleTechEmptied_),this.on(this.tech_,\"stalled\",this.handleTechStalled_),this.on(this.tech_,\"loadedmetadata\",this.handleTechLoadedMetaData_),this.on(this.tech_,\"loadeddata\",this.handleTechLoadedData_),this.on(this.tech_,\"timeupdate\",this.handleTechTimeUpdate_),this.on(this.tech_,\"ratechange\",this.handleTechRateChange_),this.on(this.tech_,\"volumechange\",this.handleTechVolumeChange_),this.on(this.tech_,\"texttrackchange\",this.handleTechTextTrackChange_),this.on(this.tech_,\"loadedmetadata\",this.updateStyleEl_),this.on(this.tech_,\"posterchange\",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_(\"controls\")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||\"Html5\"===e&&this.tag||m.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.textTracks_=this.textTracks(),this.textTracksJson_=F[\"default\"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t=\"\\n      Please make sure that you are not using this inside of a plugin.\\n      To disable this alert and error, please pass in an object with\\n      `IWillNotUseThisInPlugins` to the `tech` method. See\\n      https://github.com/videojs/video.js/issues/2617 for more info.\\n    \";throw p[\"default\"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,\"mousedown\",this.handleTechClick_),this.on(this.tech_,\"touchstart\",this.handleTechTouchStart_),this.on(this.tech_,\"touchmove\",this.handleTechTouchMove_),this.on(this.tech_,\"touchend\",this.handleTechTouchEnd_),this.on(this.tech_,\"tap\",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,\"tap\",this.handleTechTap_),this.off(this.tech_,\"touchstart\",this.handleTechTouchStart_),this.off(this.tech_,\"touchmove\",this.handleTechTouchMove_),this.off(this.tech_,\"touchend\",this.handleTechTouchEnd_),this.off(this.tech_,\"mousedown\",this.handleTechClick_)},t.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_(\"setVolume\",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.src()&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},t.prototype.handleTechLoadStart_=function(){this.removeClass(\"vjs-ended\"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger(\"loadstart\")):(this.trigger(\"loadstart\"),this.trigger(\"firstplay\"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass(\"vjs-has-started\"),this.trigger(\"firstplay\")):this.removeClass(\"vjs-has-started\")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass(\"vjs-ended\"),this.removeClass(\"vjs-paused\"),this.addClass(\"vjs-playing\"),this.hasStarted(!0),this.trigger(\"play\")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass(\"vjs-waiting\"),this.trigger(\"waiting\"),this.one(\"timeupdate\",function(){return e.removeClass(\"vjs-waiting\")})},t.prototype.handleTechCanPlay_=function(){this.removeClass(\"vjs-waiting\"),this.trigger(\"canplay\")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass(\"vjs-waiting\"),this.trigger(\"canplaythrough\")},t.prototype.handleTechPlaying_=function(){this.removeClass(\"vjs-waiting\"),this.trigger(\"playing\")},t.prototype.handleTechSeeking_=function(){this.addClass(\"vjs-seeking\"),this.trigger(\"seeking\")},t.prototype.handleTechSeeked_=function(){this.removeClass(\"vjs-seeking\"),this.trigger(\"seeked\")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass(\"vjs-has-started\"),this.trigger(\"firstplay\")},t.prototype.handleTechPause_=function(){this.removeClass(\"vjs-playing\"),this.addClass(\"vjs-paused\"),this.trigger(\"pause\")},t.prototype.handleTechProgress_=function(){this.trigger(\"progress\")},t.prototype.handleTechEnded_=function(){this.addClass(\"vjs-ended\"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger(\"ended\")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_(\"duration\"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass(\"vjs-fullscreen\"):this.removeClass(\"vjs-fullscreen\")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger(\"fullscreenchange\")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e&&e.code)},t.prototype.handleTechSuspend_=function(){this.trigger(\"suspend\")},t.prototype.handleTechAbort_=function(){this.trigger(\"abort\")},t.prototype.handleTechEmptied_=function(){this.trigger(\"emptied\")},t.prototype.handleTechStalled_=function(){this.trigger(\"stalled\")},t.prototype.handleTechLoadedMetaData_=function(){this.trigger(\"loadedmetadata\")},t.prototype.handleTechLoadedData_=function(){this.trigger(\"loadeddata\")},t.prototype.handleTechTimeUpdate_=function(){this.trigger(\"timeupdate\")},t.prototype.handleTechRateChange_=function(){this.trigger(\"ratechange\")},t.prototype.handleTechVolumeChange_=function(){this.trigger(\"volumechange\")},t.prototype.handleTechTextTrackChange_=function(){this.trigger(\"texttrackchange\")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_[e](t)}catch(n){throw C[\"default\"](n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?C[\"default\"](\"Video.js: \"+e+\" method not defined for \"+this.techName_+\" playback technology.\",t):\"TypeError\"===t.name?(C[\"default\"](\"Video.js: \"+e+\" unavailable on \"+this.techName_+\" playback technology element.\",t),this.tech_.isReady_=!1):C[\"default\"](t),t}},t.prototype.play=function(){return this.techCall_(\"play\"),this},t.prototype.pause=function(){return this.techCall_(\"pause\"),this},t.prototype.paused=function(){return this.techGet_(\"paused\")===!1?!1:!0},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass(\"vjs-scrubbing\"):this.removeClass(\"vjs-scrubbing\"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_(\"setCurrentTime\",e),this):this.cache_.currentTime=this.techGet_(\"currentTime\")||0},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,0>e&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass(\"vjs-live\"):this.removeClass(\"vjs-live\"),this.trigger(\"durationchange\")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_(\"buffered\");return n&&n.length||(n=N.createTimeRange(0,0)),n},t.prototype.bufferedPercent=function(){return I.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_(\"setVolume\",t),this):(t=parseFloat(this.techGet_(\"volume\")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_(\"setMuted\",e),this):this.techGet_(\"muted\")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_(\"supportsFullScreen\")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=M[\"default\"];return this.isFullscreen(!0),e.requestFullscreen?(f.on(c[\"default\"],e.fullscreenchange,v.bind(this,function t(n){this.isFullscreen(c[\"default\"][e.fullscreenElement]),this.isFullscreen()===!1&&f.off(c[\"default\"],e.fullscreenchange,t),this.trigger(\"fullscreenchange\")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_(\"enterFullScreen\"):(this.enterFullWindow(),this.trigger(\"fullscreenchange\")),this},t.prototype.exitFullscreen=function(){var e=M[\"default\"];return this.isFullscreen(!1),e.requestFullscreen?c[\"default\"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_(\"exitFullScreen\"):(this.exitFullWindow(),this.trigger(\"fullscreenchange\")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c[\"default\"].documentElement.style.overflow,f.on(c[\"default\"],\"keydown\",v.bind(this,this.fullWindowOnEscKey)),c[\"default\"].documentElement.style.overflow=\"hidden\",m.addElClass(c[\"default\"].body,\"vjs-full-window\"),this.trigger(\"enterFullWindow\")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,f.off(c[\"default\"],\"keydown\",this.fullWindowOnEscKey),c[\"default\"].documentElement.style.overflow=this.docOrigOverflow,m.removeElClass(c[\"default\"].body,\"vjs-full-window\"),this.trigger(\"exitFullWindow\")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var o=S[\"default\"](i[n]),r=ee[\"default\"].getTech(o);if(r||(r=l[\"default\"].getComponent(o)),r){if(r.isSupported()&&(t=r.canPlayType(e)))return t}else C[\"default\"].error('The \"'+o+'\" tech is undefined. Skipped browser support check for that tech.')}return\"\"},t.prototype.selectSource=function(e){var t=this.options_.techOrder.map(S[\"default\"]).map(function(e){return[e,ee[\"default\"].getTech(e)||l[\"default\"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(C[\"default\"].error('The \"'+t+'\" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,n){var i=void 0;return e.some(function(e){return t.some(function(t){return i=n(e,t),i?!0:void 0})}),i},i=void 0,o=function(e){return function(t,n){return e(n,t)}},r=function(e,t){var n=e[0],i=e[1];return i.canPlaySource(t)?{source:t,tech:n}:void 0};return i=this.options_.sourceOrder?n(e,t,o(r)):n(t,e,r),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_(\"src\");var t=ee[\"default\"].getTech(this.techName_);return t||(t=l[\"default\"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):\"string\"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e)?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||\"\",this.ready(function(){t.prototype.hasOwnProperty(\"setSource\")?this.techCall_(\"setSource\",e):this.techCall_(\"src\",e.src),\"auto\"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_(\"load\"),this},t.prototype.reset=function(){return this.loadTech_(S[\"default\"](this.options_.techOrder[0]),null),this.techCall_(\"reset\"),this},t.prototype.currentSrc=function(){return this.techGet_(\"currentSrc\")||this.cache_.src||\"\"},t.prototype.currentType=function(){return this.currentType_||\"\"},t.prototype.preload=function(e){return void 0!==e?(this.techCall_(\"setPreload\",e),this.options_.preload=e,this):this.techGet_(\"preload\")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_(\"setAutoplay\",e),this.options_.autoplay=e,this):this.techGet_(\"autoplay\",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_(\"setLoop\",e),this.options_.loop=e,this):this.techGet_(\"loop\")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=\"\"),this.poster_=e,this.techCall_(\"setPoster\",e),this.trigger(\"posterchange\"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||\"\",this.trigger(\"posterchange\"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_(\"setControls\",e),e?(this.removeClass(\"vjs-controls-disabled\"),this.addClass(\"vjs-controls-enabled\"),this.trigger(\"controlsenabled\"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass(\"vjs-controls-enabled\"),this.addClass(\"vjs-controls-disabled\"),this.trigger(\"controlsdisabled\"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass(\"vjs-using-native-controls\"),this.trigger(\"usingnativecontrols\")):(this.removeClass(\"vjs-using-native-controls\"),this.trigger(\"usingcustomcontrols\"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass(\"vjs-error\"),this.errorDisplay.close(),this):(e instanceof O[\"default\"]?this.error_=e:this.error_=new O[\"default\"](e),this.addClass(\"vjs-error\"),C[\"default\"].error(\"(CODE:\"+this.error_.code+\" \"+O[\"default\"].errorTypes[this.error_.code]+\")\",this.error_.message,this.error_),this.trigger(\"error\"),this)},t.prototype.ended=function(){return this.techGet_(\"ended\")},t.prototype.seeking=function(){return this.techGet_(\"seeking\")},t.prototype.seekable=function(){return this.techGet_(\"seekable\")},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass(\"vjs-user-inactive\"),this.addClass(\"vjs-user-active\"),this.trigger(\"useractive\")):(this.userActivity_=!1,this.tech_&&this.tech_.one(\"mousemove\",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass(\"vjs-user-active\"),this.addClass(\"vjs-user-inactive\"),this.trigger(\"userinactive\"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,i=v.bind(this,this.reportUserActivity),o=function(e){(e.screenX!==t||e.screenY!==n)&&(t=e.screenX,n=e.screenY,i())},r=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},a=function(t){i(),this.clearInterval(e)};this.on(\"mousedown\",r),this.on(\"mousemove\",o),this.on(\"mouseup\",a),this.on(\"keydown\",i),this.on(\"keyup\",i);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_(\"setPlaybackRate\",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_(\"playbackRate\"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.networkState=function(){return this.techGet_(\"networkState\")},t.prototype.readyState=function(){return this.techGet_(\"readyState\")},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){return this.tech_&&this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.track,n=void 0===t?arguments[0]:t;this.tech_&&this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(\"\"+e).toLowerCase(),this)},t.prototype.languages=function(){return B[\"default\"](t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=B[\"default\"](this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var i=t[n];i=B[\"default\"](i),i.player=void 0,e.tracks[n]=i}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||\"\";var i=new $[\"default\"](n,t);return n.addChild(i),i.on(\"dispose\",function(){n.removeChild(i)}),i.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=m.getElAttributes(e),i=n[\"data-setup\"];if(null!==i){var o=R[\"default\"](i||\"{}\"),r=o[0],a=o[1];r&&C[\"default\"].error(r),V[\"default\"](n,a)}if(V[\"default\"](t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;u>l;l++){var c=s[l],d=c.nodeName.toLowerCase();\"source\"===d?t.sources.push(m.getElAttributes(c)):\"track\"===d&&t.tracks.push(m.getElAttributes(c))}return t},t}(l[\"default\"]));ne.players={};var ie=p[\"default\"].navigator;ne.prototype.options_={techOrder:[\"html5\",\"flash\"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:[\"mediaLoader\",\"posterImage\",\"textTrackDisplay\",\"loadingSpinner\",\"bigPlayButton\",\"controlBar\",\"errorDisplay\",\"textTrackSettings\"],language:c[\"default\"].getElementsByTagName(\"html\")[0].getAttribute(\"lang\")||ie.languages&&ie.languages[0]||ie.userLanguage||ie.language||\"en\",languages:{},notSupportedMessage:\"No compatible source was found for this media.\"},ne.prototype.handleLoadedMetaData_,ne.prototype.handleLoadedData_,ne.prototype.handleUserActive_,ne.prototype.handleUserInactive_,ne.prototype.handleTimeUpdate_,ne.prototype.handleTechEnded_,ne.prototype.handleVolumeChange_,ne.prototype.handleError_,ne.prototype.flexNotSupported_=function(){var e=c[\"default\"].createElement(\"i\");return!(\"flexBasis\"in e.style||\"webkitFlexBasis\"in e.style||\"mozFlexBasis\"in e.style||\"msFlexBasis\"in e.style||\"msFlexOrder\"in e.style)},l[\"default\"].registerComponent(\"Player\",ne),n[\"default\"]=ne,t.exports=n[\"default\"]},{\"./big-play-button.js\":63,\"./component.js\":67,\"./control-bar/control-bar.js\":68,\"./error-display.js\":100,\"./fullscreen-api.js\":103,\"./loading-spinner.js\":104,\"./media-error.js\":105,\"./modal-dialog\":109,\"./poster-image.js\":114,\"./tech/html5.js\":119,\"./tech/loader.js\":120,\"./tech/tech.js\":121,\"./tracks/text-track-display.js\":125,\"./tracks/text-track-list-converter.js\":127,\"./tracks/text-track-settings.js\":129,\"./utils/browser.js\":131,\"./utils/buffer.js\":132,\"./utils/dom.js\":134,\"./utils/events.js\":135,\"./utils/fn.js\":136,\"./utils/guid.js\":138,\"./utils/log.js\":139,\"./utils/merge-options.js\":140,\"./utils/stylesheet.js\":141,\"./utils/time-ranges.js\":142,\"./utils/to-title-case.js\":143,\"global/document\":1,\"global/window\":2,\"object.assign\":45,\"safe-json-parse/tuple\":54}],111:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"./player.js\"),r=i(o),a=function(e,t){r[\"default\"].prototype[e]=t};n[\"default\"]=a,t.exports=n[\"default\"]},{\"./player.js\":110}],112:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../clickable-component.js\"),l=o(s),u=e(\"../component.js\"),c=o(u),d=e(\"./popup.js\"),p=(o(d),e(\"../utils/dom.js\")),h=(i(p),e(\"../utils/fn.js\")),f=(i(h),e(\"../utils/to-title-case.js\")),g=(o(f),function(e){function t(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,t),e.call(this,n,i),this.update()}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t=\"vjs-menu-button\";return t+=this.options_.inline===!0?\"-inline\":\"-popup\",\"vjs-menu-button \"+t+\" \"+e.prototype.buildCSSClass.call(this)},t}(l[\"default\"]));c[\"default\"].registerComponent(\"PopupButton\",g),n[\"default\"]=g,t.exports=n[\"default\"]},{\"../clickable-component.js\":65,\"../component.js\":67,\"../utils/dom.js\":134,\"../utils/fn.js\":136,\"../utils/to-title-case.js\":143,\"./popup.js\":113}],113:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../component.js\"),l=o(s),u=e(\"../utils/dom.js\"),c=i(u),d=e(\"../utils/fn.js\"),p=i(d),h=e(\"../utils/events.js\"),f=i(h),g=function(e){function t(){r(this,t),e.apply(this,arguments)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on(\"click\",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||\"ul\";this.contentEl_=c.createEl(t,{className:\"vjs-menu-content\"});var n=e.prototype.createEl.call(this,\"div\",{append:this.contentEl_,className:\"vjs-menu\"});return n.appendChild(this.contentEl_),f.on(n,\"click\",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l[\"default\"]);l[\"default\"].registerComponent(\"Popup\",g),n[\"default\"]=g,t.exports=n[\"default\"]},{\"../component.js\":67,\"../utils/dom.js\":134,\"../utils/events.js\":135,\"../utils/fn.js\":136}],114:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./clickable-component.js\"),l=o(s),u=e(\"./component.js\"),c=o(u),d=e(\"./utils/fn.js\"),p=i(d),h=e(\"./utils/dom.js\"),f=i(h),g=e(\"./utils/browser.js\"),m=i(g),y=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.update(),n.on(\"posterchange\",p.bind(this,this.update))}return a(t,e),t.prototype.dispose=function(){this.player().off(\"posterchange\",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=f.createEl(\"div\",{className:\"vjs-poster\",tabIndex:-1});return m.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=f.createEl(\"img\"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t=\"\";e&&(t='url(\"'+e+'\")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l[\"default\"]);c[\"default\"].registerComponent(\"PosterImage\",y),n[\"default\"]=y,t.exports=n[\"default\"]},{\"./clickable-component.js\":65,\"./component.js\":67,\"./utils/browser.js\":131,\"./utils/dom.js\":134,\"./utils/fn.js\":136}],115:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}n.__esModule=!0;var r=e(\"./utils/events.js\"),a=o(r),s=e(\"global/document\"),l=i(s),u=e(\"global/window\"),c=i(u),d=!1,p=void 0,h=function(){var e=l[\"default\"].getElementsByTagName(\"video\"),t=l[\"default\"].getElementsByTagName(\"audio\"),n=[];if(e&&e.length>0)for(var i=0,o=e.length;o>i;i++)n.push(e[i]);if(t&&t.length>0)for(var i=0,o=t.length;o>i;i++)n.push(t[i]);if(n&&n.length>0)for(var i=0,o=n.length;o>i;i++){var r=n[i];if(!r||!r.getAttribute){f(1);break}if(void 0===r.player){var a=r.getAttribute(\"data-setup\");if(null!==a){p(r)}}}else d||f(1)},f=function(e,t){t&&(p=t),setTimeout(h,e)};\"complete\"===l[\"default\"].readyState?d=!0:a.one(c[\"default\"],\"load\",function(){d=!0});var g=function(){return d};n.autoSetup=h,\nn.autoSetupTimeout=f,n.hasLoaded=g},{\"./utils/events.js\":135,\"global/document\":1,\"global/window\":2}],116:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../component.js\"),l=o(s),u=e(\"../utils/dom.js\"),c=i(u),d=e(\"object.assign\"),p=o(d),h=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on(\"mousedown\",this.handleMouseDown),this.on(\"touchstart\",this.handleMouseDown),this.on(\"focus\",this.handleFocus),this.on(\"blur\",this.handleBlur),this.on(\"click\",this.handleClick),this.on(n,\"controlsvisible\",this.update),this.on(n,this.playerEvent,this.update)}return a(t,e),t.prototype.createEl=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+\" vjs-slider\",n=p[\"default\"]({tabIndex:0},n),i=p[\"default\"]({role:\"slider\",\"aria-valuenow\":0,\"aria-valuemin\":0,\"aria-valuemax\":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),c.blockTextSelection(),this.addClass(\"vjs-sliding\"),this.trigger(\"slideractive\"),this.on(t,\"mousemove\",this.handleMouseMove),this.on(t,\"mouseup\",this.handleMouseUp),this.on(t,\"touchmove\",this.handleMouseMove),this.on(t,\"touchend\",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;c.unblockTextSelection(),this.removeClass(\"vjs-sliding\"),this.trigger(\"sliderinactive\"),this.off(e,\"mousemove\",this.handleMouseMove),this.off(e,\"mouseup\",this.handleMouseUp),this.off(e,\"touchmove\",this.handleMouseMove),this.off(e,\"touchend\",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){(\"number\"!=typeof e||e!==e||0>e||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+\"%\";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=c.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,\"keydown\",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,\"keydown\",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass(\"vjs-slider-vertical\"):this.addClass(\"vjs-slider-horizontal\"),this)},t}(l[\"default\"]);l[\"default\"].registerComponent(\"Slider\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../component.js\":67,\"../utils/dom.js\":134,\"object.assign\":45}],117:[function(e,t,n){function i(e){return e.streamingFormats={\"rtmp/mp4\":\"MP4\",\"rtmp/flv\":\"FLV\"},e.streamFromParts=function(e,t){return e+\"&\"+t},e.streamToParts=function(e){var t={connection:\"\",stream:\"\"};if(!e)return t;var n=e.search(/&(?!\\w+=)/),i=void 0;return-1!==n?i=n+1:(n=i=e.lastIndexOf(\"/\")+1,0===n&&(n=i=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(i,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\\/\\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?\"maybe\":\"\"},e.rtmpSourceHandler.canHandleSource=function(t){var n=e.rtmpSourceHandler.canPlayType(t.type);return n?n:e.isStreamingSrc(t.src)?\"maybe\":\"\"},e.rtmpSourceHandler.handleSource=function(t,n){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n[\"default\"]=i,t.exports=n[\"default\"]},{}],118:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.charAt(0).toUpperCase()+e.slice(1);S[\"set\"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){S[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var u=e(\"./tech\"),c=o(u),d=e(\"../utils/dom.js\"),p=i(d),h=e(\"../utils/url.js\"),f=i(h),g=e(\"../utils/time-ranges.js\"),m=e(\"./flash-rtmp\"),y=o(m),v=e(\"../component\"),_=o(v),b=e(\"global/window\"),E=o(b),w=e(\"object.assign\"),T=o(w),C=E[\"default\"].navigator,A=function(e){function t(n,i){r(this,t),e.call(this,n,i),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),E[\"default\"].videojs=E[\"default\"].videojs||{},E[\"default\"].videojs.Flash=E[\"default\"].videojs.Flash||{},E[\"default\"].videojs.Flash.onReady=t.onReady,E[\"default\"].videojs.Flash.onEvent=t.onEvent,E[\"default\"].videojs.Flash.onError=t.onError,this.on(\"seeked\",function(){this.lastSeekTarget_=void 0})}return a(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf=\"//vjs.zencdn.net/swf/5.0.1/video-js.swf\");var n=e.techId,i=T[\"default\"]({readyFunction:\"videojs.Flash.onReady\",eventProxyFunction:\"videojs.Flash.onEvent\",errorEventProxyFunction:\"videojs.Flash.onError\",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),o=T[\"default\"]({wmode:\"opaque\",bgcolor:\"#000000\"},e.params),r=T[\"default\"]({id:n,name:n,\"class\":\"vjs-tech\"},e.attributes);return this.el_=t.embed(e.swf,i,o,r),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=f.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger(\"seeking\"),this.el_.vjs_setProperty(\"currentTime\",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(e){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty(\"currentTime\")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty(\"currentSrc\")},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty(\"poster\")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?g.createTimeRange():g.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty(\"buffered\");return 0===e.length?g.createTimeRange():g.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(c[\"default\"]),S=A.prototype,N=\"rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted\".split(\",\"),I=\"networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoTracks,audioTracks,videoWidth,videoHeight\".split(\",\"),P=0;P<N.length;P++)l(N[P]),s(N[P]);for(var P=0;P<I.length;P++)l(I[P]);A.isSupported=function(){return A.version()[0]>=10},c[\"default\"].withSourceHandlers(A),A.nativeSourceHandler={},A.nativeSourceHandler.canPlayType=function(e){return e in A.formats?\"maybe\":\"\"},A.nativeSourceHandler.canHandleSource=function(e){function t(e){var t=f.getFileExtension(e);return t?\"video/\"+t:\"\"}var n;return n=e.type?e.type.replace(/;.*/,\"\").toLowerCase():t(e.src),A.nativeSourceHandler.canPlayType(n)},A.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},A.nativeSourceHandler.dispose=function(){},A.registerSourceHandler(A.nativeSourceHandler),A.formats={\"video/flv\":\"FLV\",\"video/x-flv\":\"FLV\",\"video/mp4\":\"MP4\",\"video/m4v\":\"MP4\"},A.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&A.checkReady(n)},A.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){A.checkReady(e)},50))},A.onEvent=function(e,t){var n=p.getEl(e).tech;n.trigger(t)},A.onError=function(e,t){var n=p.getEl(e).tech;return\"srcnotfound\"===t?n.error(4):void n.error(\"FLASH: \"+t)},A.version=function(){var e=\"0,0,0\";try{e=new E[\"default\"].ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\").GetVariable(\"$version\").replace(/\\D+/g,\",\").match(/^,?(.+),?$/)[1]}catch(t){try{C.mimeTypes[\"application/x-shockwave-flash\"].enabledPlugin&&(e=(C.plugins[\"Shockwave Flash 2.0\"]||C.plugins[\"Shockwave Flash\"]).description.replace(/\\D+/g,\",\").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(\",\")},A.embed=function(e,t,n,i){var o=A.getEmbedCode(e,t,n,i),r=p.createEl(\"div\",{innerHTML:o}).childNodes[0];return r},A.getEmbedCode=function(e,t,n,i){var o='<object type=\"application/x-shockwave-flash\" ',r=\"\",a=\"\",s=\"\";return t&&Object.getOwnPropertyNames(t).forEach(function(e){r+=e+\"=\"+t[e]+\"&amp;\"}),n=T[\"default\"]({movie:e,flashvars:r,allowScriptAccess:\"always\",allowNetworking:\"all\"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name=\"'+e+'\" value=\"'+n[e]+'\" />'}),i=T[\"default\"]({data:e,width:\"100%\",height:\"100%\"},i),Object.getOwnPropertyNames(i).forEach(function(e){s+=e+'=\"'+i[e]+'\" '}),\"\"+o+s+\">\"+a+\"</object>\"},y[\"default\"](A),_[\"default\"].registerComponent(\"Flash\",A),c[\"default\"].registerTech(\"Flash\",A),n[\"default\"]=A,t.exports=n[\"default\"]},{\"../component\":67,\"../utils/dom.js\":134,\"../utils/time-ranges.js\":142,\"../utils/url.js\":144,\"./flash-rtmp\":117,\"./tech\":121,\"global/window\":2,\"object.assign\":45}],119:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./tech.js\"),l=o(s),u=e(\"../component\"),c=o(u),d=e(\"../utils/dom.js\"),p=i(d),h=e(\"../utils/url.js\"),f=i(h),g=e(\"../utils/fn.js\"),m=i(g),y=e(\"../utils/log.js\"),v=o(y),_=e(\"../utils/browser.js\"),b=i(_),E=e(\"global/document\"),w=o(E),T=e(\"global/window\"),C=o(T),A=e(\"object.assign\"),S=o(A),N=e(\"../utils/merge-options.js\"),I=o(N),P=function(e){function t(n,i){r(this,t),e.call(this,n,i);var o=n.source;if(o&&(this.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(o):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var a=this.el_.childNodes,s=a.length,l=[];s--;){var u=a[s],c=u.nodeName.toLowerCase();\"track\"===c&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack_(u.track)):l.push(u))}for(var d=0;d<l.length;d++)this.el_.removeChild(l[d])}this.featuresNativeTextTracks&&(this.handleTextTrackChange_=m.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=m.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=m.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(b.TOUCH_ENABLED&&n.nativeControlsForTouch===!0||b.IS_IPHONE||b.IS_NATIVE_ANDROID)&&this.setControls(!0),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){var n=this.el().textTracks,i=this.textTracks();n&&n.removeEventListener&&(n.removeEventListener(\"change\",this.handleTextTrackChange_),n.removeEventListener(\"addtrack\",this.handleTextTrackAdd_),n.removeEventListener(\"removetrack\",this.handleTextTrackRemove_));for(var o=i.length;o--;)i.removeTrack_(i[o]);t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1)if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=w[\"default\"].createElement(\"video\");var i=this.options_.tag&&p.getElAttributes(this.options_.tag),o=I[\"default\"]({},i);b.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete o.controls,p.setElAttributes(e,S[\"default\"](o,{id:this.options_.techId,\"class\":\"vjs-tech\"}))}for(var r=[\"autoplay\",\"preload\",\"loop\",\"muted\"],a=r.length-1;a>=0;a--){var s=r[a],l={};\"undefined\"!=typeof this.options_[s]&&(l[s]=this.options_[s]),p.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on(\"loadstart\",n);var i=function(){e||this.trigger(\"loadstart\")};return t.on(\"loadedmetadata\",i),t.ready(function(){this.off(\"loadstart\",n),this.off(\"loadedmetadata\",i),e||this.trigger(\"loadstart\")}),{v:void 0}}();if(\"object\"==typeof n)return n.v}var i=[\"loadstart\"];i.push(\"loadedmetadata\"),e.readyState>=2&&i.push(\"loadeddata\"),e.readyState>=3&&i.push(\"canplay\"),e.readyState>=4&&i.push(\"canplaythrough\"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener(\"change\",this.handleTextTrackChange_),e.addEventListener(\"addtrack\",this.handleTextTrackAdd_),e.addEventListener(\"removetrack\",this.handleTextTrackRemove_))}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:\"change\",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.play=function(){this.el_.play()},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){v[\"default\"](t,\"Video is not ready. (Video.js)\")}},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if(\"function\"==typeof this.el_.webkitEnterFullScreen){var e=C[\"default\"].navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;\"webkitDisplayingFullscreen\"in e&&this.one(\"webkitbeginfullscreen\",function(){this.one(\"webkitendfullscreen\",function(){this.trigger(\"fullscreenchange\",{isFullscreen:!1})}),this.trigger(\"fullscreenchange\",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.setSrc=function(e){this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){this.el_.poster=e},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(){return this.el_.error},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var n=w[\"default\"].createElement(\"track\");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t[\"default\"]&&(n[\"default\"]=t[\"default\"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),this.el().appendChild(n),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var n=void 0,i=void 0,o=this.remoteTextTrackEls().getTrackElementByTrack_(t);for(this.remoteTextTrackEls().removeTrackElement_(o),this.remoteTextTracks().removeTrack_(t),n=this.$$(\"track\"),i=n.length;i--;)(t===n[i]||t===n[i].track)&&this.el().removeChild(n[i])},t}(l[\"default\"]);P.TEST_VID=w[\"default\"].createElement(\"video\");var x=w[\"default\"].createElement(\"track\");x.kind=\"captions\",x.srclang=\"en\",x.label=\"English\",P.TEST_VID.appendChild(x),P.isSupported=function(){try{P.TEST_VID.volume=.5}catch(e){return!1}return!!P.TEST_VID.canPlayType},l[\"default\"].withSourceHandlers(P),P.nativeSourceHandler={},P.nativeSourceHandler.canPlayType=function(e){try{return P.TEST_VID.canPlayType(e)}catch(t){return\"\"}},P.nativeSourceHandler.canHandleSource=function(e){var t;return e.type?P.nativeSourceHandler.canPlayType(e.type):e.src?(t=f.getFileExtension(e.src),P.nativeSourceHandler.canPlayType(\"video/\"+t)):\"\"},P.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},P.nativeSourceHandler.dispose=function(){},P.registerSourceHandler(P.nativeSourceHandler),P.canControlVolume=function(){var e=P.TEST_VID.volume;return P.TEST_VID.volume=e/2+.1,e!==P.TEST_VID.volume},P.canControlPlaybackRate=function(){if(b.IS_ANDROID&&b.IS_CHROME)return!1;var e=P.TEST_VID.playbackRate;return P.TEST_VID.playbackRate=e/2+.1,e!==P.TEST_VID.playbackRate},P.supportsNativeTextTracks=function(){var e;return e=!!P.TEST_VID.textTracks,e&&P.TEST_VID.textTracks.length>0&&(e=\"number\"!=typeof P.TEST_VID.textTracks[0].mode),e&&b.IS_FIREFOX&&(e=!1),!e||\"onremovetrack\"in P.TEST_VID.textTracks||(e=!1),e},P.Events=[\"loadstart\",\"suspend\",\"abort\",\"error\",\"emptied\",\"stalled\",\"loadedmetadata\",\"loadeddata\",\"canplay\",\"canplaythrough\",\"playing\",\"waiting\",\"seeking\",\"seeked\",\"ended\",\"durationchange\",\"timeupdate\",\"progress\",\"play\",\"pause\",\"ratechange\",\"volumechange\"],P.prototype.featuresVolumeControl=P.canControlVolume(),P.prototype.featuresPlaybackRate=P.canControlPlaybackRate(),P.prototype.movingMediaElementInDOM=!b.IS_IOS,P.prototype.featuresFullscreenResize=!0,P.prototype.featuresProgressEvents=!0,P.prototype.featuresNativeTextTracks=P.supportsNativeTextTracks();var k=void 0,M=/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i,D=/^video\\/mp4/i;P.patchCanPlayType=function(){b.ANDROID_VERSION>=4&&(k||(k=P.TEST_VID.constructor.prototype.canPlayType),P.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&M.test(e)?\"maybe\":k.call(this,e)}),b.IS_OLD_ANDROID&&(k||(k=P.TEST_VID.constructor.prototype.canPlayType),P.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&D.test(e)?\"maybe\":k.call(this,e)})},P.unpatchCanPlayType=function(){var e=P.TEST_VID.constructor.prototype.canPlayType;return P.TEST_VID.constructor.prototype.canPlayType=k,k=null,e},P.patchCanPlayType(),P.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute(\"src\"),\"function\"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},P.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll(\"source\"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute(\"src\"),\"function\"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},c[\"default\"].registerComponent(\"Html5\",P),l[\"default\"].registerTech(\"Html5\",P),n[\"default\"]=P,t.exports=n[\"default\"]},{\"../component\":67,\"../utils/browser.js\":131,\"../utils/dom.js\":134,\"../utils/fn.js\":136,\"../utils/log.js\":139,\"../utils/merge-options.js\":140,\"../utils/url.js\":144,\"./tech.js\":121,\"global/document\":1,\"global/window\":2,\"object.assign\":45}],120:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(\"../component.js\"),s=i(a),l=e(\"./tech.js\"),u=i(l),c=e(\"global/window\"),d=(i(c),e(\"../utils/to-title-case.js\")),p=i(d),h=function(e){function t(n,i,r){if(o(this,t),e.call(this,n,i,r),i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var a=0,l=i.playerOptions.techOrder;a<l.length;a++){var c=p[\"default\"](l[a]),d=u[\"default\"].getTech(c);if(c||(d=s[\"default\"].getComponent(c)),d&&d.isSupported()){n.loadTech_(c);break}}}return r(t,e),t}(s[\"default\"]);s[\"default\"].registerComponent(\"MediaLoader\",h),n[\"default\"]=h,t.exports=n[\"default\"]},{\"../component.js\":67,\"../utils/to-title-case.js\":143,\"./tech.js\":121,\"global/window\":2}],121:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../component\"),l=o(s),u=e(\"../tracks/html-track-element\"),c=o(u),d=e(\"../tracks/html-track-element-list\"),p=o(d),h=e(\"../utils/merge-options.js\"),f=o(h),g=e(\"../tracks/text-track\"),m=o(g),y=e(\"../tracks/text-track-list\"),v=o(y),_=e(\"../utils/fn.js\"),b=i(_),E=e(\"../utils/log.js\"),w=o(E),T=e(\"../utils/time-ranges.js\"),C=e(\"../utils/buffer.js\"),A=e(\"../media-error.js\"),S=o(A),N=e(\"global/window\"),I=o(N),P=e(\"global/document\"),x=o(P),k=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];r(this,t),n.reportTouchActivity=!1,e.call(this,null,n,i),this.hasStarted_=!1,this.on(\"playing\",function(){this.hasStarted_=!0}),this.on(\"loadstart\",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(n.nativeCaptions===!1||n.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on(\"ready\",this.emulateTextTracks),this.initTextTrackListeners(),this.emitTapEvents()}return a(t,e),t.prototype.manualProgressOn=function(){this.on(\"durationchange\",this.onDurationChange),this.manualProgress=!0,this.one(\"ready\",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off(\"durationchange\",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(b.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger(\"progress\"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return T.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return C.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on(\"play\",this.trackCurrentTime),this.on(\"pause\",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off(\"play\",this.trackCurrentTime),this.off(\"pause\",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){var t=this.textTracks();if(t)for(var n=t.length;n--;)this.removeRemoteTextTrack(t[n]);this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(e instanceof S[\"default\"]?this.error_=e:this.error_=new S[\"default\"](e),this.trigger(\"error\")),this.error_},t.prototype.played=function(){return this.hasStarted_?T.createTimeRange(0,0):T.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:\"timeupdate\",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=b.bind(this,function(){this.trigger(\"texttrackchange\")}),t=this.textTracks();t&&(t.addEventListener(\"removetrack\",e),t.addEventListener(\"addtrack\",e),this.on(\"dispose\",b.bind(this,function(){t.removeEventListener(\"removetrack\",e),t.removeEventListener(\"addtrack\",e)})))},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){I[\"default\"].WebVTT||null==this.el().parentNode||!function(){var t=x[\"default\"].createElement(\"script\");t.src=e.options_[\"vtt.js\"]||\"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js\",t.onload=function(){e.trigger(\"vttjsloaded\")},t.onerror=function(){e.trigger(\"vttjserror\")},e.on(\"dispose\",function(){t.onload=null,t.onerror=null}),e.el().parentNode.appendChild(t),I[\"default\"].WebVTT=!0}();var n=function(){return e.trigger(\"texttrackchange\")},i=function(){n();for(var e=0;e<t.length;e++){var i=t[e];i.removeEventListener(\"cuechange\",n),\"showing\"===i.mode&&i.addEventListener(\"cuechange\",n)}};i(),t.addEventListener(\"change\",i),this.on(\"dispose\",function(){t.removeEventListener(\"change\",i)})}},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new v[\"default\"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new v[\"default\"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p[\"default\"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error(\"TextTrack kind is required but was not provided\");return M(this,e,t,n)},t.prototype.addRemoteTextTrack=function(e){var t=f[\"default\"](e,{tech:this}),n=new c[\"default\"](t);return this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),this.textTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e);var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return\"\"},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error(\"Tech \"+e+\" must be a Tech\");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:I[\"default\"]&&I[\"default\"].videojs&&I[\"default\"].videojs[e]?(w[\"default\"].warn(\"The \"+e+\" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\"),I[\"default\"].videojs[e]):void 0},t}(l[\"default\"]);k.prototype.textTracks_;var M=function(e,t,n,i){var o=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],r=e.textTracks();o.kind=t,n&&(o.label=n),i&&(o.language=i),o.tech=e;var a=new m[\"default\"](o);return r.addTrack_(a),a};k.prototype.featuresVolumeControl=!0,k.prototype.featuresFullscreenResize=!1,k.prototype.featuresPlaybackRate=!1,k.prototype.featuresProgressEvents=!1,k.prototype.featuresTimeupdateEvents=!1,k.prototype.featuresNativeTextTracks=!1,k.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],i=void 0,o=0;o<n.length;o++)if(i=n[o].canPlayType(t))return i;return\"\"},e.selectSourceHandler=function(t){for(var n=e.sourceHandlers||[],i=void 0,o=0;o<n.length;o++)if(i=n[o].canHandleSource(t))return n[o];return null},e.canPlaySource=function(t){var n=e.selectSourceHandler(t);return n?n.canHandleSource(t):\"\"};var t=[\"seekable\",\"duration\"];t.forEach(function(e){var t=this[e];\"function\"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){\nvar n=e.selectSourceHandler(t);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:w[\"default\"].error(\"No source hander found for the current source.\")),this.disposeSourceHandler(),this.off(\"dispose\",this.disposeSourceHandler),this.currentSource_=t,this.sourceHandler_=n.handleSource(t,this),this.on(\"dispose\",this.disposeSourceHandler),this},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},l[\"default\"].registerComponent(\"Tech\",k),l[\"default\"].registerComponent(\"MediaTechController\",k),k.registerTech(\"Tech\",k),n[\"default\"]=k,t.exports=n[\"default\"]},{\"../component\":67,\"../media-error.js\":105,\"../tracks/html-track-element\":123,\"../tracks/html-track-element-list\":122,\"../tracks/text-track\":130,\"../tracks/text-track-list\":128,\"../utils/buffer.js\":132,\"../utils/fn.js\":136,\"../utils/log.js\":139,\"../utils/merge-options.js\":140,\"../utils/time-ranges.js\":142,\"global/document\":1,\"global/window\":2}],122:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.__esModule=!0;var a=e(\"../utils/browser.js\"),s=o(a),l=e(\"global/document\"),u=i(l),c=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];r(this,e);var n=this;if(s.IS_IE8){n=u[\"default\"].createElement(\"custom\");for(var i in e.prototype)\"constructor\"!==i&&(n[i]=e.prototype[i])}n.trackElements_=[],Object.defineProperty(n,\"length\",{get:function(){return this.trackElements_.length}});for(var o=0,a=t.length;a>o;o++)n.addTrackElement_(t[o]);return s.IS_IE8?n:void 0}return e.prototype.addTrackElement_=function(e){this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,i=this.trackElements_.length;i>n;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;n>t;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n[\"default\"]=c,t.exports=n[\"default\"]},{\"../utils/browser.js\":131,\"global/document\":1}],123:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../utils/browser.js\"),l=o(s),u=e(\"global/document\"),c=i(u),d=e(\"../event-target\"),p=i(d),h=e(\"../tracks/text-track\"),f=i(h),g=0,m=1,y=2,v=3,_=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),e.call(this);var i=void 0,o=this;if(l.IS_IE8){o=c[\"default\"].createElement(\"custom\");for(var a in t.prototype)\"constructor\"!==a&&(o[a]=t.prototype[a])}var s=new f[\"default\"](n);return o.kind=s.kind,o.src=s.src,o.srclang=s.language,o.label=s.label,o[\"default\"]=s[\"default\"],Object.defineProperty(o,\"readyState\",{get:function(){return i}}),Object.defineProperty(o,\"track\",{get:function(){return s}}),i=g,s.addEventListener(\"loadeddata\",function(){i=y,o.trigger({type:\"load\",target:o})}),l.IS_IE8?o:void 0}return a(t,e),t}(p[\"default\"]);_.prototype.allowedEvents_={load:\"load\"},_.NONE=g,_.LOADING=m,_.LOADED=y,_.ERROR=v,n[\"default\"]=_,t.exports=n[\"default\"]},{\"../event-target\":101,\"../tracks/text-track\":130,\"../utils/browser.js\":131,\"global/document\":1}],124:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.__esModule=!0;var a=e(\"../utils/browser.js\"),s=o(a),l=e(\"global/document\"),u=i(l),c=function(){function e(t){r(this,e);var n=this;if(s.IS_IE8){n=u[\"default\"].createElement(\"custom\");for(var i in e.prototype)\"constructor\"!==i&&(n[i]=e.prototype[i])}return e.prototype.setCues_.call(n,t),Object.defineProperty(n,\"length\",{get:function(){return this.length_}}),s.IS_IE8?n:void 0}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,i=e.length;this.cues_=e,this.length_=e.length;var o=function(e){\"\"+e in this||Object.defineProperty(this,\"\"+e,{get:function(){return this.cues_[e]}})};if(i>t)for(n=t;i>n;n++)o.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,i=this.length;i>n;n++){var o=this[n];if(o.id===e){t=o;break}}return t},e}();n[\"default\"]=c,t.exports=n[\"default\"]},{\"../utils/browser.js\":131,\"global/document\":1}],125:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return\"rgba(\"+parseInt(e[1]+e[1],16)+\",\"+parseInt(e[2]+e[2],16)+\",\"+parseInt(e[3]+e[3],16)+\",\"+t+\")\"}function l(e,t,n){try{e.style[t]=n}catch(i){}}n.__esModule=!0;var u=e(\"../component\"),c=o(u),d=e(\"../menu/menu.js\"),p=(o(d),e(\"../menu/menu-item.js\")),h=(o(p),e(\"../menu/menu-button.js\")),f=(o(h),e(\"../utils/fn.js\")),g=i(f),m=e(\"global/document\"),y=(o(m),e(\"global/window\")),v=o(y),_=\"#222\",b=\"#ccc\",E={monospace:\"monospace\",sansSerif:\"sans-serif\",serif:\"serif\",monospaceSansSerif:'\"Andale Mono\", \"Lucida Console\", monospace',monospaceSerif:'\"Courier New\", monospace',proportionalSansSerif:\"sans-serif\",proportionalSerif:\"serif\",casual:'\"Comic Sans MS\", Impact, fantasy',script:'\"Monotype Corsiva\", cursive',smallcaps:'\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'},w=function(e){function t(n,i,o){r(this,t),e.call(this,n,i,o),n.on(\"loadstart\",g.bind(this,this.toggleDisplay)),n.on(\"texttrackchange\",g.bind(this,this.updateDisplay)),n.ready(g.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on(\"fullscreenchange\",g.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var i=e[t];this.player_.addRemoteTextTrack(i)}var o={captions:1,subtitles:1},r=this.player_.textTracks(),a=void 0,s=void 0;if(r){for(var t=0;t<r.length;t++){var i=r[t];i[\"default\"]&&(\"descriptions\"!==i.kind||a?i.kind in o&&!s&&(s=i):a=i)}s?s.mode=\"showing\":a&&(a.mode=\"showing\")}}))}return a(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-text-track-display\"},{\"aria-live\":\"assertive\",\"aria-atomic\":\"true\"})},t.prototype.clearDisplay=function(){\"function\"==typeof v[\"default\"].WebVTT&&v[\"default\"].WebVTT.processCues(v[\"default\"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,i=e.length;i--;){var o=e[i];\"showing\"===o.mode&&(\"descriptions\"===o.kind?t=o:n=o)}n?this.updateForTrack(n):t&&this.updateForTrack(t)}},t.prototype.updateForTrack=function(e){if(\"function\"==typeof v[\"default\"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],i=0;i<e.activeCues.length;i++)n.push(e.activeCues[i]);v[\"default\"].WebVTT.processCues(v[\"default\"],n,this.el_);for(var o=n.length;o--;){var r=n[o];if(r){var a=r.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&l(a.firstChild,\"color\",s(t.color||\"#fff\",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(a.firstChild,\"backgroundColor\",s(t.backgroundColor||\"#000\",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(a,\"backgroundColor\",s(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&(\"dropshadow\"===t.edgeStyle?a.firstChild.style.textShadow=\"2px 2px 3px \"+_+\", 2px 2px 4px \"+_+\", 2px 2px 5px \"+_:\"raised\"===t.edgeStyle?a.firstChild.style.textShadow=\"1px 1px \"+_+\", 2px 2px \"+_+\", 3px 3px \"+_:\"depressed\"===t.edgeStyle?a.firstChild.style.textShadow=\"1px 1px \"+b+\", 0 1px \"+b+\", -1px -1px \"+_+\", 0 -1px \"+_:\"uniform\"===t.edgeStyle&&(a.firstChild.style.textShadow=\"0 0 4px \"+_+\", 0 0 4px \"+_+\", 0 0 4px \"+_+\", 0 0 4px \"+_)),t.fontPercent&&1!==t.fontPercent){var u=v[\"default\"].parseFloat(a.style.fontSize);a.style.fontSize=u*t.fontPercent+\"px\",a.style.height=\"auto\",a.style.top=\"auto\",a.style.bottom=\"2px\"}t.fontFamily&&\"default\"!==t.fontFamily&&(\"small-caps\"===t.fontFamily?a.firstChild.style.fontVariant=\"small-caps\":a.firstChild.style.fontFamily=E[t.fontFamily])}}}},t}(c[\"default\"]);c[\"default\"].registerComponent(\"TextTrackDisplay\",w),n[\"default\"]=w,t.exports=n[\"default\"]},{\"../component\":67,\"../menu/menu-button.js\":106,\"../menu/menu-item.js\":107,\"../menu/menu.js\":108,\"../utils/fn.js\":136,\"global/document\":1,\"global/window\":2}],126:[function(e,t,n){n.__esModule=!0;var i={disabled:\"disabled\",hidden:\"hidden\",showing:\"showing\"},o={subtitles:\"subtitles\",captions:\"captions\",descriptions:\"descriptions\",chapters:\"chapters\",metadata:\"metadata\"};n.TextTrackMode=i,n.TextTrackKind=o},{}],127:[function(e,t,n){n.__esModule=!0;var i=function(e){var t=[\"kind\",\"label\",\"language\",\"id\",\"inBandMetadataTrackDispatchType\",\"mode\",\"src\"].reduce(function(t,n,i){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},o=function(e){var t=e.$$(\"track\"),n=Array.prototype.map.call(t,function(e){return e.track}),o=Array.prototype.map.call(t,function(e){var t=i(e.track);return e.src&&(t.src=e.src),t});return o.concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(i))},r=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n[\"default\"]={textTracksToJson:o,jsonToTextTracks:r,trackToJson_:i},t.exports=n[\"default\"]},{}],128:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"../event-target\"),l=o(s),u=e(\"../utils/fn.js\"),c=i(u),d=e(\"../utils/browser.js\"),p=i(d),h=e(\"global/document\"),f=o(h),g=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];r(this,t),e.call(this);var i=this;if(p.IS_IE8){i=f[\"default\"].createElement(\"custom\");for(var o in t.prototype)\"constructor\"!==o&&(i[o]=t.prototype[o])}i.tracks_=[],Object.defineProperty(i,\"length\",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)i.addTrack_(n[a]);return p.IS_IE8?i:void 0}return a(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;\"\"+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),e.addEventListener(\"modechange\",c.bind(this,function(){this.trigger(\"change\")})),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:\"addtrack\"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,i=this.length;i>n;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:\"removetrack\"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,i=this.length;i>n;n++){var o=this[n];if(o.id===e){t=o;break}}return t},t}(l[\"default\"]);g.prototype.allowedEvents_={change:\"change\",addtrack:\"addtrack\",removetrack:\"removetrack\"};for(var m in g.prototype.allowedEvents_)g.prototype[\"on\"+m]=null;n[\"default\"]=g,t.exports=n[\"default\"]},{\"../event-target\":101,\"../utils/browser.js\":131,\"../utils/fn.js\":136,\"global/document\":1}],129:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function l(e,t){if(t){var n=void 0;for(n=0;n<e.options.length;n++){var i=e.options[n];if(i.value===t)break}e.selectedIndex=n}}function u(){var e='<div class=\"vjs-tracksettings\">\\n      <div class=\"vjs-tracksettings-colors\">\\n        <div class=\"vjs-fg-color vjs-tracksetting\">\\n            <label class=\"vjs-label\">Foreground</label>\\n            <select>\\n              <option value=\"\">---</option>\\n              <option value=\"#FFF\">White</option>\\n              <option value=\"#000\">Black</option>\\n              <option value=\"#F00\">Red</option>\\n              <option value=\"#0F0\">Green</option>\\n              <option value=\"#00F\">Blue</option>\\n              <option value=\"#FF0\">Yellow</option>\\n              <option value=\"#F0F\">Magenta</option>\\n              <option value=\"#0FF\">Cyan</option>\\n            </select>\\n            <span class=\"vjs-text-opacity vjs-opacity\">\\n              <select>\\n                <option value=\"\">---</option>\\n                <option value=\"1\">Opaque</option>\\n                <option value=\"0.5\">Semi-Opaque</option>\\n              </select>\\n            </span>\\n        </div> <!-- vjs-fg-color -->\\n        <div class=\"vjs-bg-color vjs-tracksetting\">\\n            <label class=\"vjs-label\">Background</label>\\n            <select>\\n              <option value=\"\">---</option>\\n              <option value=\"#FFF\">White</option>\\n              <option value=\"#000\">Black</option>\\n              <option value=\"#F00\">Red</option>\\n              <option value=\"#0F0\">Green</option>\\n              <option value=\"#00F\">Blue</option>\\n              <option value=\"#FF0\">Yellow</option>\\n              <option value=\"#F0F\">Magenta</option>\\n              <option value=\"#0FF\">Cyan</option>\\n            </select>\\n            <span class=\"vjs-bg-opacity vjs-opacity\">\\n                <select>\\n                  <option value=\"\">---</option>\\n                  <option value=\"1\">Opaque</option>\\n                  <option value=\"0.5\">Semi-Transparent</option>\\n                  <option value=\"0\">Transparent</option>\\n                </select>\\n            </span>\\n        </div> <!-- vjs-bg-color -->\\n        <div class=\"window-color vjs-tracksetting\">\\n            <label class=\"vjs-label\">Window</label>\\n            <select>\\n              <option value=\"\">---</option>\\n              <option value=\"#FFF\">White</option>\\n              <option value=\"#000\">Black</option>\\n              <option value=\"#F00\">Red</option>\\n              <option value=\"#0F0\">Green</option>\\n              <option value=\"#00F\">Blue</option>\\n              <option value=\"#FF0\">Yellow</option>\\n              <option value=\"#F0F\">Magenta</option>\\n              <option value=\"#0FF\">Cyan</option>\\n            </select>\\n            <span class=\"vjs-window-opacity vjs-opacity\">\\n                <select>\\n                  <option value=\"\">---</option>\\n                  <option value=\"1\">Opaque</option>\\n                  <option value=\"0.5\">Semi-Transparent</option>\\n                  <option value=\"0\">Transparent</option>\\n                </select>\\n            </span>\\n        </div> <!-- vjs-window-color -->\\n      </div> <!-- vjs-tracksettings -->\\n      <div class=\"vjs-tracksettings-font\">\\n        <div class=\"vjs-font-percent vjs-tracksetting\">\\n          <label class=\"vjs-label\">Font Size</label>\\n          <select>\\n            <option value=\"0.50\">50%</option>\\n            <option value=\"0.75\">75%</option>\\n            <option value=\"1.00\" selected>100%</option>\\n            <option value=\"1.25\">125%</option>\\n            <option value=\"1.50\">150%</option>\\n            <option value=\"1.75\">175%</option>\\n            <option value=\"2.00\">200%</option>\\n            <option value=\"3.00\">300%</option>\\n            <option value=\"4.00\">400%</option>\\n          </select>\\n        </div> <!-- vjs-font-percent -->\\n        <div class=\"vjs-edge-style vjs-tracksetting\">\\n          <label class=\"vjs-label\">Text Edge Style</label>\\n          <select>\\n            <option value=\"none\">None</option>\\n            <option value=\"raised\">Raised</option>\\n            <option value=\"depressed\">Depressed</option>\\n            <option value=\"uniform\">Uniform</option>\\n            <option value=\"dropshadow\">Dropshadow</option>\\n          </select>\\n        </div> <!-- vjs-edge-style -->\\n        <div class=\"vjs-font-family vjs-tracksetting\">\\n          <label class=\"vjs-label\">Font Family</label>\\n          <select>\\n            <option value=\"\">Default</option>\\n            <option value=\"monospaceSerif\">Monospace Serif</option>\\n            <option value=\"proportionalSerif\">Proportional Serif</option>\\n            <option value=\"monospaceSansSerif\">Monospace Sans-Serif</option>\\n            <option value=\"proportionalSansSerif\">Proportional Sans-Serif</option>\\n            <option value=\"casual\">Casual</option>\\n            <option value=\"script\">Script</option>\\n            <option value=\"small-caps\">Small Caps</option>\\n          </select>\\n        </div> <!-- vjs-font-family -->\\n      </div>\\n    </div>\\n    <div class=\"vjs-tracksettings-controls\">\\n      <button class=\"vjs-default-button\">Defaults</button>\\n      <button class=\"vjs-done-button\">Done</button>\\n    </div>';return e}n.__esModule=!0;var c=e(\"../component\"),d=o(c),p=e(\"../utils/events.js\"),h=i(p),f=e(\"../utils/fn.js\"),g=i(f),m=e(\"../utils/log.js\"),y=o(m),v=e(\"safe-json-parse/tuple\"),_=o(v),b=e(\"global/window\"),E=o(b),w=function(e){function t(n,i){r(this,t),e.call(this,n,i),this.hide(),void 0===i.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),h.on(this.$(\".vjs-done-button\"),\"click\",g.bind(this,function(){this.saveSettings(),this.hide()})),h.on(this.$(\".vjs-default-button\"),\"click\",g.bind(this,function(){this.$(\".vjs-fg-color > select\").selectedIndex=0,this.$(\".vjs-bg-color > select\").selectedIndex=0,this.$(\".window-color > select\").selectedIndex=0,this.$(\".vjs-text-opacity > select\").selectedIndex=0,this.$(\".vjs-bg-opacity > select\").selectedIndex=0,this.$(\".vjs-window-opacity > select\").selectedIndex=0,this.$(\".vjs-edge-style select\").selectedIndex=0,this.$(\".vjs-font-family select\").selectedIndex=0,this.$(\".vjs-font-percent select\").selectedIndex=2,this.updateDisplay()})),h.on(this.$(\".vjs-fg-color > select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-bg-color > select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".window-color > select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-text-opacity > select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-bg-opacity > select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-window-opacity > select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-font-percent select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-edge-style select\"),\"change\",g.bind(this,this.updateDisplay)),h.on(this.$(\".vjs-font-family select\"),\"change\",g.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,\"div\",{className:\"vjs-caption-settings vjs-modal-overlay\",innerHTML:u()})},t.prototype.getValues=function(){var e=s(this.$(\".vjs-edge-style select\")),t=s(this.$(\".vjs-font-family select\")),n=s(this.$(\".vjs-fg-color > select\")),i=s(this.$(\".vjs-text-opacity > select\")),o=s(this.$(\".vjs-bg-color > select\")),r=s(this.$(\".vjs-bg-opacity > select\")),a=s(this.$(\".window-color > select\")),l=s(this.$(\".vjs-window-opacity > select\")),u=E[\"default\"].parseFloat(s(this.$(\".vjs-font-percent > select\"))),c={backgroundOpacity:r,textOpacity:i,windowOpacity:l,edgeStyle:e,fontFamily:t,color:n,backgroundColor:o,windowColor:a,fontPercent:u};for(var d in c)(\"\"===c[d]||\"none\"===c[d]||\"fontPercent\"===d&&1===c[d])&&delete c[d];return c},t.prototype.setValues=function(e){l(this.$(\".vjs-edge-style select\"),e.edgeStyle),l(this.$(\".vjs-font-family select\"),e.fontFamily),l(this.$(\".vjs-fg-color > select\"),e.color),l(this.$(\".vjs-text-opacity > select\"),e.textOpacity),l(this.$(\".vjs-bg-color > select\"),e.backgroundColor),l(this.$(\".vjs-bg-opacity > select\"),e.backgroundOpacity),l(this.$(\".window-color > select\"),e.windowColor),l(this.$(\".vjs-window-opacity > select\"),e.windowOpacity);var t=e.fontPercent;t&&(t=t.toFixed(2)),l(this.$(\".vjs-font-percent > select\"),t)},t.prototype.restoreSettings=function(){var e=void 0,t=void 0;try{var n=_[\"default\"](E[\"default\"].localStorage.getItem(\"vjs-text-track-settings\"));e=n[0],t=n[1],e&&y[\"default\"].error(e)}catch(i){y[\"default\"].warn(i)}t&&this.setValues(t)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?E[\"default\"].localStorage.setItem(\"vjs-text-track-settings\",JSON.stringify(e)):E[\"default\"].localStorage.removeItem(\"vjs-text-track-settings\")}catch(t){y[\"default\"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild(\"textTrackDisplay\");e&&e.updateDisplay()},t}(d[\"default\"]);d[\"default\"].registerComponent(\"TextTrackSettings\",w),n[\"default\"]=w,t.exports=n[\"default\"]},{\"../component\":67,\"../utils/events.js\":135,\"../utils/fn.js\":136,\"../utils/log.js\":139,\"global/window\":2,\"safe-json-parse/tuple\":54}],130:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e(\"./text-track-cue-list\"),l=o(s),u=e(\"../utils/fn.js\"),c=i(u),d=e(\"../utils/guid.js\"),p=i(d),h=e(\"../utils/browser.js\"),f=i(h),g=e(\"./text-track-enums\"),m=i(g),y=e(\"../utils/log.js\"),v=o(y),_=e(\"../event-target\"),b=o(_),E=e(\"global/document\"),w=o(E),T=e(\"global/window\"),C=o(T),A=e(\"../utils/url.js\"),S=e(\"xhr\"),N=o(S),I=function(e,t){var n=new C[\"default\"].WebVTT.Parser(C[\"default\"],C[\"default\"].vttjs,C[\"default\"].WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:\"loadeddata\",target:t})},n.parse(e),i.length>0&&(console.groupCollapsed&&console.groupCollapsed(\"Text Track parsing errors for \"+t.src),i.forEach(function(e){return v[\"default\"].error(e)}),console.groupEnd&&console.groupEnd()),n.flush()},P=function(e,t){var n={uri:e},i=A.isCrossOrigin(e);i&&(n.cors=i),N[\"default\"](n,c.bind(this,function(e,n,i){return e?v[\"default\"].error(e,n):(t.loaded_=!0,void(\"function\"!=typeof C[\"default\"].WebVTT?t.tech_&&!function(){var e=function(){return I(i,t)};t.tech_.on(\"vttjsloaded\",e),t.tech_.on(\"vttjserror\",function(){v[\"default\"].error(\"vttjs failed to load, stopping trying to process \"+t.src),t.tech_.off(\"vttjsloaded\",e)})}():I(i,t)))}))},x=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(r(this,t),e.call(this),!n.tech)throw new Error(\"A tech was not provided.\");var i=this;if(f.IS_IE8){i=w[\"default\"].createElement(\"custom\");for(var o in t.prototype)\"constructor\"!==o&&(i[o]=t.prototype[o])}i.tech_=n.tech;var a=m.TextTrackMode[n.mode]||\"disabled\",s=m.TextTrackKind[n.kind]||\"subtitles\",u=n[\"default\"],d=n.label||\"\",h=n.language||n.srclang||\"\",g=n.id||\"vjs_text_track_\"+p.newGUID();(\"metadata\"===s||\"chapters\"===s)&&(a=\"hidden\"),i.cues_=[],i.activeCues_=[];var y=new l[\"default\"](i.cues_),v=new l[\"default\"](i.activeCues_),_=!1,b=c.bind(i,function(){this.activeCues,_&&(this.trigger(\"cuechange\"),_=!1)});return\"disabled\"!==a&&i.tech_.on(\"timeupdate\",b),Object.defineProperty(i,\"kind\",{get:function(){return s},set:function(){}}),Object.defineProperty(i,\"label\",{get:function(){return d},set:function(){}}),Object.defineProperty(i,\"language\",{get:function(){return h},set:function(){}}),Object.defineProperty(i,\"id\",{get:function(){return g},set:function(){}}),Object.defineProperty(i,\"default\",{get:function(){return u},set:function(){}}),Object.defineProperty(i,\"mode\",{get:function(){return a},set:function(e){m.TextTrackMode[e]&&(a=e,\"showing\"===a&&this.tech_.on(\"timeupdate\",b),this.trigger(\"modechange\"))}}),Object.defineProperty(i,\"cues\",{get:function(){return this.loaded_?y:null},set:function(){}}),Object.defineProperty(i,\"activeCues\",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return v;for(var e=this.tech_.currentTime(),t=[],n=0,i=this.cues.length;i>n;n++){var o=this.cues[n];o.startTime<=e&&o.endTime>=e?t.push(o):o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e&&t.push(o)}if(_=!1,t.length!==this.activeCues_.length)_=!0;else for(var n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(_=!0);return this.activeCues_=t,v.setCues_(this.activeCues_),v},set:function(){}}),n.src?(i.src=n.src,P(n.src,i)):i.loaded_=!0,f.IS_IE8?i:void 0}return a(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,i=this.cues_.length;i>n;n++){var o=this.cues_[n];o===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(b[\"default\"]);x.prototype.allowedEvents_={cuechange:\"cuechange\"},n[\"default\"]=x,t.exports=n[\"default\"]},{\"../event-target\":101,\"../utils/browser.js\":131,\"../utils/fn.js\":136,\"../utils/guid.js\":138,\"../utils/log.js\":139,\"../utils/url.js\":144,\"./text-track-cue-list\":124,\"./text-track-enums\":126,\"global/document\":1,\"global/window\":2,xhr:56}],131:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"global/document\"),r=i(o),a=e(\"global/window\"),s=i(a),l=s[\"default\"].navigator.userAgent,u=/AppleWebKit\\/([\\d.]+)/i.exec(l),c=u?parseFloat(u.pop()):null,d=/iPad/i.test(l);n.IS_IPAD=d;var p=/iPhone/i.test(l)&&!d;n.IS_IPHONE=p;var h=/iPod/i.test(l);n.IS_IPOD=h;var f=p||d||h;n.IS_IOS=f;var g=function(){var e=l.match(/OS (\\d+)_/i);return e&&e[1]?e[1]:void 0}();n.IOS_VERSION=g;var m=/Android/i.test(l);n.IS_ANDROID=m;var y=function(){var e,t,n=l.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+\".\"+n[2]):e?e:null):null}();n.ANDROID_VERSION=y;var v=m&&/webkit/i.test(l)&&2.3>y;n.IS_OLD_ANDROID=v;var _=m&&5>y&&537>c;n.IS_NATIVE_ANDROID=_;var b=/Firefox/i.test(l);n.IS_FIREFOX=b;var E=/Edge/i.test(l);n.IS_EDGE=E;var w=!E&&/Chrome/i.test(l);n.IS_CHROME=w;var T=/MSIE\\s8\\.0/.test(l);n.IS_IE8=T;var C=!!(\"ontouchstart\"in s[\"default\"]||s[\"default\"].DocumentTouch&&r[\"default\"]instanceof s[\"default\"].DocumentTouch);n.TOUCH_ENABLED=C;var A=\"backgroundSize\"in r[\"default\"].createElement(\"video\").style;n.BACKGROUND_SIZE_SUPPORTED=A},{\"global/document\":1,\"global/window\":2}],132:[function(e,t,n){function i(e,t){var n,i,r=0;if(!t)return 0;e&&e.length||(e=o.createTimeRange(0,0));for(var a=0;a<e.length;a++)n=e.start(a),i=e.end(a),i>t&&(i=t),r+=i-n;return r/t}n.__esModule=!0,n.bufferedPercent=i;var o=e(\"./time-ranges.js\")},{\"./time-ranges.js\":142}],133:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"./log.js\"),r=i(o),a={get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n,!0}};n[\"default\"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(\"function\"==typeof Proxy){var n=function(){var n={};return Object.keys(t).forEach(function(e){a.hasOwnProperty(e)&&(n[e]=function(){return r[\"default\"].warn(t[e]),a[e].apply(this,arguments)})}),{v:new Proxy(e,n)}}();if(\"object\"==typeof n)return n.v}return e},t.exports=n[\"default\"]},{\"./log.js\":139}],134:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){return e.raw=t,e}function a(e){return\"string\"==typeof e&&/\\S/.test(e)}function s(e){if(/\\s/.test(e))throw new Error(\"class has illegal whitespace characters\")}function l(e){return new RegExp(\"(^|\\\\s)\"+e+\"($|\\\\s)\")}function u(e){return function(t,n){return a(t)?(a(n)&&(n=L[\"default\"].querySelector(n)),(N(n)?n:L[\"default\"])[e](t)):L[\"default\"][e](null)}}function c(e){return 0===e.indexOf(\"#\")&&(e=e.slice(1)),L[\"default\"].getElementById(e)}function d(){var e=arguments.length<=0||void 0===arguments[0]?\"div\":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=L[\"default\"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf(\"aria-\")||\"role\"===e||\"type\"===e?(G[\"default\"].warn(H[\"default\"](D,e,n)),i.setAttribute(e,n)):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){n[e];i.setAttribute(e,n[e])}),i}function p(e,t){\"undefined\"==typeof e.textContent?e.innerText=t:e.textContent=t}function h(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function f(e){var t=e[W];return t||(t=e[W]=U.newGUID()),z[t]||(z[t]={}),z[t]}function g(e){var t=e[W];return t?!!Object.getOwnPropertyNames(z[t]).length:!1}function m(e){var t=e[W];if(t){delete z[t];try{delete e[W]}catch(n){e.removeAttribute?e.removeAttribute(W):e[W]=null}}}function y(e,t){return e.classList?e.classList.contains(t):(s(t),l(t).test(e.className))}function v(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+\" \"+t).trim()),e}function _(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\\s+/).filter(function(e){return e!==t}).join(\" \")),e}function b(e,t,n){var i=y(e,t);return\"function\"==typeof n&&(n=n(e,t)),\"boolean\"!=typeof n&&(n=!i),n!==i?(n?v(e,t):_(e,t),e):void 0}function E(e,t){\nObject.getOwnPropertyNames(t).forEach(function(n){var i=t[n];null===i||\"undefined\"==typeof i||i===!1?e.removeAttribute(n):e.setAttribute(n,i===!0?\"\":i)})}function w(e){var t,n,i,o,r;if(t={},n=\",autoplay,controls,loop,muted,default,\",e&&e.attributes&&e.attributes.length>0){i=e.attributes;for(var a=i.length-1;a>=0;a--)o=i[a].name,r=i[a].value,(\"boolean\"==typeof e[o]||-1!==n.indexOf(\",\"+o+\",\"))&&(r=null!==r?!0:!1),t[o]=r}return t}function T(){L[\"default\"].body.focus(),L[\"default\"].onselectstart=function(){return!1}}function C(){L[\"default\"].onselectstart=function(){return!0}}function A(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=L[\"default\"].documentElement,i=L[\"default\"].body,o=n.clientLeft||i.clientLeft||0,r=j[\"default\"].pageXOffset||i.scrollLeft,a=t.left+r-o,s=n.clientTop||i.clientTop||0,l=j[\"default\"].pageYOffset||i.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function S(e,t){var n={},i=A(e),o=e.offsetWidth,r=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+r)/r)),n.x=Math.max(0,Math.min(1,(u-s)/o)),n}function N(e){return!!e&&\"object\"==typeof e&&1===e.nodeType}function I(e){return!!e&&\"object\"==typeof e&&3===e.nodeType}function P(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function x(e){return\"function\"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return\"function\"==typeof e&&(e=e()),N(e)||I(e)?e:\"string\"==typeof e&&/\\S/.test(e)?L[\"default\"].createTextNode(e):void 0}).filter(function(e){return e})}function k(e,t){return x(t).forEach(function(t){return e.appendChild(t)}),e}function M(e,t){return k(P(e),t)}n.__esModule=!0,n.getEl=c,n.createEl=d,n.textContent=p,n.insertElFirst=h,n.getElData=f,n.hasElData=g,n.removeElData=m,n.hasElClass=y,n.addElClass=v,n.removeElClass=_,n.toggleElClass=b,n.setElAttributes=E,n.getElAttributes=w,n.blockTextSelection=T,n.unblockTextSelection=C,n.findElPosition=A,n.getPointerPosition=S,n.isEl=N,n.isTextNode=I,n.emptyEl=P,n.normalizeContent=x,n.appendContent=k,n.insertContent=M;var D=r([\"Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set \",\" to \",\".\"],[\"Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set \",\" to \",\".\"]),O=e(\"global/document\"),L=o(O),R=e(\"global/window\"),j=o(R),V=e(\"./guid.js\"),U=i(V),B=e(\"./log.js\"),G=o(B),F=e(\"tsml\"),H=o(F),z={},W=\"vdata\"+(new Date).getTime(),q=u(\"querySelector\");n.$=q;var Y=u(\"querySelectorAll\");n.$$=Y},{\"./guid.js\":138,\"./log.js\":139,\"global/document\":1,\"global/window\":2,tsml:55}],135:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function r(e,t,n){if(Array.isArray(t))return d(r,e,t,n);var i=h.getElData(e);i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=g.newGUID()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=u(t);var o=i.handlers[t.type];if(o)for(var r=o.slice(0),a=0,s=r.length;s>a&&!t.isImmediatePropagationStopped();a++)r[a].call(e,t,n)}}),1===i.handlers[t].length&&(e.addEventListener?e.addEventListener(t,i.dispatcher,!1):e.attachEvent&&e.attachEvent(\"on\"+t,i.dispatcher))}function a(e,t,n){if(h.hasElData(e)){var i=h.getElData(e);if(i.handlers){if(Array.isArray(t))return d(a,e,t,n);var o=function(t){i.handlers[t]=[],c(e,t)};if(t){var r=i.handlers[t];if(r){if(!n)return void o(t);if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);c(e,t)}}else for(var l in i.handlers)o(l)}}}function s(e,t,n){var i=h.hasElData(e)?h.getElData(e):{},o=e.parentNode||e.ownerDocument;if(\"string\"==typeof t&&(t={type:t,target:e}),t=u(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&t.bubbles===!0)s.call(null,o,t,n);else if(!o&&!t.defaultPrevented){var r=h.getElData(t.target);t.target[t.type]&&(r.disabled=!0,\"function\"==typeof t.target[t.type]&&t.target[t.type](),r.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return d(l,e,t,n);var i=function o(){a(e,t,o),n.apply(this,arguments)};i.guid=n.guid=n.guid||g.newGUID(),r(e,t,i)}function u(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i=e||y[\"default\"].event;e={};for(var o in i)\"layerX\"!==o&&\"layerY\"!==o&&\"keyLocation\"!==o&&\"webkitMovementX\"!==o&&\"webkitMovementY\"!==o&&(\"returnValue\"===o&&i.preventDefault||(e[o]=i[o]));if(e.target||(e.target=e.srcElement||_[\"default\"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var r=_[\"default\"].documentElement,a=_[\"default\"].body;e.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function c(e,t){var n=h.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent(\"on\"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&h.removeElData(e)}function d(e,t,n,i){n.forEach(function(n){e(t,n,i)})}n.__esModule=!0,n.on=r,n.off=a,n.trigger=s,n.one=l,n.fixEvent=u;var p=e(\"./dom.js\"),h=o(p),f=e(\"./guid.js\"),g=o(f),m=e(\"global/window\"),y=i(m),v=e(\"global/document\"),_=i(v)},{\"./dom.js\":134,\"./guid.js\":138,\"global/document\":1,\"global/window\":2}],136:[function(e,t,n){n.__esModule=!0;var i=e(\"./guid.js\"),o=function(e,t,n){t.guid||(t.guid=i.newGUID());var o=function(){return t.apply(e,arguments)};return o.guid=n?n+\"_\"+t.guid:t.guid,o};n.bind=o},{\"./guid.js\":138}],137:[function(e,t,n){function i(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){e=0>e?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),r=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(o=i=n=\"-\"),o=o>0||a>0?o+\":\":\"\",i=((o||r>=10)&&10>i?\"0\"+i:i)+\":\",n=10>n?\"0\"+n:n,o+i+n}()}n.__esModule=!0,n[\"default\"]=i,t.exports=n[\"default\"]},{}],138:[function(e,t,n){function i(){return o++}n.__esModule=!0,n.newGUID=i;var o=1},{}],139:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){var n=Array.prototype.slice.call(t),i=function(){},o=a[\"default\"].console||{log:i,warn:i,error:i};e?n.unshift(e.toUpperCase()+\":\"):e=\"log\",s.history.push(n),n.unshift(\"VIDEOJS:\"),o[e].apply?o[e].apply(o,n):o[e](n.join(\" \"))}n.__esModule=!0;var r=e(\"global/window\"),a=i(r),s=function(){o(null,arguments)};s.history=[],s.error=function(){o(\"error\",arguments)},s.warn=function(){o(\"warn\",arguments)},n[\"default\"]=s,t.exports=n[\"default\"]},{\"global/window\":2}],140:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e){return!!e&&\"object\"==typeof e&&\"[object Object]\"===e.toString()&&e.constructor===Object}function r(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(l),s[\"default\"].apply(null,e),e[0]}n.__esModule=!0,n[\"default\"]=r;var a=e(\"lodash-compat/object/merge\"),s=i(a),l=function(e,t){return o(t)?o(e)?void 0:r(t):t};t.exports=n[\"default\"]},{\"lodash-compat/object/merge\":40}],141:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"global/document\"),r=i(o),a=function(e){var t=r[\"default\"].createElement(\"style\");return t.className=e,t};n.createStyleElement=a;var s=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};n.setTextContent=s},{\"global/document\":1}],142:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){return Array.isArray(e)?r(e):void 0===e||void 0===t?r():r([[e,t]])}function r(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error(\"This TimeRanges object is empty\")},end:function(){throw new Error(\"This TimeRanges object is empty\")}}:{length:e.length,start:a.bind(null,\"start\",0,e),end:a.bind(null,\"end\",1,e)}}function a(e,t,n,i){return void 0===i&&(u[\"default\"].warn(\"DEPRECATED: Function '\"+e+\"' on 'TimeRanges' called without an index argument.\"),i=0),s(e,i,n.length-1),n[i][t]}function s(e,t,n){if(0>t||t>n)throw new Error(\"Failed to execute '\"+e+\"' on 'TimeRanges': The index provided (\"+t+\") is greater than or equal to the maximum bound (\"+n+\").\")}n.__esModule=!0,n.createTimeRanges=o;var l=e(\"./log.js\"),u=i(l);n.createTimeRange=o},{\"./log.js\":139}],143:[function(e,t,n){function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n[\"default\"]=i,t.exports=n[\"default\"]},{}],144:[function(e,t,n){function i(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var o=e(\"global/document\"),r=i(o),a=e(\"global/window\"),s=i(a),l=function(e){var t=[\"protocol\",\"hostname\",\"port\",\"pathname\",\"search\",\"hash\",\"host\"],n=r[\"default\"].createElement(\"a\");n.href=e;var i=\"\"===n.host&&\"file:\"!==n.protocol,o=void 0;i&&(o=r[\"default\"].createElement(\"div\"),o.innerHTML='<a href=\"'+e+'\"></a>',n=o.firstChild,o.setAttribute(\"style\",\"display:none; position:absolute;\"),r[\"default\"].body.appendChild(o));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return\"http:\"===a.protocol&&(a.host=a.host.replace(/:80$/,\"\")),\"https:\"===a.protocol&&(a.host=a.host.replace(/:443$/,\"\")),i&&r[\"default\"].body.removeChild(o),a};n.parseUrl=l;var u=function(e){if(!e.match(/^https?:\\/\\//)){var t=r[\"default\"].createElement(\"div\");t.innerHTML='<a href=\"'+e+'\">x</a>',e=t.firstChild.href}return e};n.getAbsoluteURL=u;var c=function(e){if(\"string\"==typeof e){var t=/^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return\"\"};n.getFileExtension=c;var d=function(e){var t=s[\"default\"].location,n=l(e),i=\":\"===n.protocol?t.protocol:n.protocol,o=i+n.host!==t.protocol+t.host;return o};n.isCrossOrigin=d},{\"global/document\":1,\"global/window\":2}],145:[function(e,t,n){function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t[\"default\"]=e,t}function o(e){return e&&e.__esModule?e:{\"default\":e}}n.__esModule=!0;var r=e(\"global/window\"),a=o(r),s=e(\"global/document\"),l=o(s),u=e(\"./setup\"),c=i(u),d=e(\"./utils/stylesheet.js\"),p=i(d),h=e(\"./component\"),f=o(h),g=e(\"./event-target\"),m=o(g),y=e(\"./utils/events.js\"),v=i(y),_=e(\"./player\"),b=o(_),E=e(\"./plugins.js\"),w=o(E),T=e(\"../../src/js/utils/merge-options.js\"),C=o(T),A=e(\"./utils/fn.js\"),S=i(A),N=e(\"./tracks/text-track.js\"),I=o(N),P=e(\"object.assign\"),x=(o(P),e(\"./utils/time-ranges.js\")),k=e(\"./utils/format-time.js\"),M=o(k),D=e(\"./utils/log.js\"),O=o(D),L=e(\"./utils/dom.js\"),R=i(L),j=e(\"./utils/browser.js\"),V=i(j),U=e(\"./utils/url.js\"),B=i(U),G=e(\"./extend.js\"),F=o(G),H=e(\"lodash-compat/object/merge\"),z=o(H),W=e(\"./utils/create-deprecation-proxy.js\"),q=o(W),Y=e(\"xhr\"),X=o(Y),Z=e(\"./tech/tech.js\"),J=o(Z),K=e(\"./tech/html5.js\"),$=(o(K),e(\"./tech/flash.js\"));o($);\"undefined\"==typeof HTMLVideoElement&&(l[\"default\"].createElement(\"video\"),l[\"default\"].createElement(\"audio\"),l[\"default\"].createElement(\"track\"));var Q=function ne(e,t,n){var i=void 0;if(\"string\"==typeof e){if(0===e.indexOf(\"#\")&&(e=e.slice(1)),ne.getPlayers()[e])return t&&O[\"default\"].warn('Player \"'+e+'\" is already initialised. Options will not be applied.'),n&&ne.getPlayers()[e].ready(n),ne.getPlayers()[e];i=R.getEl(e)}else i=e;if(!i||!i.nodeName)throw new TypeError(\"The element or ID supplied is not valid. (videojs)\");return i.player||b[\"default\"].players[i.playerId]||new b[\"default\"](i,t,n)};if(a[\"default\"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var ee=R.$(\".vjs-styles-defaults\");if(!ee){ee=p.createStyleElement(\"vjs-styles-defaults\");var te=R.$(\"head\");te.insertBefore(ee,te.firstChild),p.setTextContent(ee,\"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    \")}}c.autoSetupTimeout(1,Q),Q.VERSION=\"5.9.2\",Q.options=b[\"default\"].prototype.options_,Q.getPlayers=function(){return b[\"default\"].players},Q.players=q[\"default\"](b[\"default\"].players,{get:\"Access to videojs.players is deprecated; use videojs.getPlayers instead\",set:\"Modification of videojs.players is deprecated\"}),Q.getComponent=f[\"default\"].getComponent,Q.registerComponent=function(e,t){J[\"default\"].isTech(t)&&O[\"default\"].warn(\"The \"+e+\" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\"),f[\"default\"].registerComponent.call(f[\"default\"],e,t)},Q.getTech=J[\"default\"].getTech,Q.registerTech=J[\"default\"].registerTech,Q.browser=V,Q.TOUCH_ENABLED=V.TOUCH_ENABLED,Q.extend=F[\"default\"],Q.mergeOptions=C[\"default\"],Q.bind=S.bind,Q.plugin=w[\"default\"],Q.addLanguage=function(e,t){var n;return e=(\"\"+e).toLowerCase(),z[\"default\"](Q.options.languages,(n={},n[e]=t,n))[e]},Q.log=O[\"default\"],Q.createTimeRange=Q.createTimeRanges=x.createTimeRanges,Q.formatTime=M[\"default\"],Q.parseUrl=B.parseUrl,Q.isCrossOrigin=B.isCrossOrigin,Q.EventTarget=m[\"default\"],Q.on=v.on,Q.one=v.one,Q.off=v.off,Q.trigger=v.trigger,Q.xhr=X[\"default\"],Q.TextTrack=I[\"default\"],Q.isEl=R.isEl,Q.isTextNode=R.isTextNode,Q.createEl=R.createEl,Q.hasClass=R.hasElClass,Q.addClass=R.addElClass,Q.removeClass=R.removeElClass,Q.toggleClass=R.toggleElClass,Q.setAttributes=R.setElAttributes,Q.getAttributes=R.getElAttributes,Q.emptyEl=R.emptyEl,Q.appendContent=R.appendContent,Q.insertContent=R.insertContent,\"function\"==typeof Ndn_Require.define&&Ndn_Require.define.amd?Ndn_Require.define(\"videojs\",[],function(){return Q}):\"object\"==typeof n&&\"object\"==typeof t&&(t.exports=Q),n[\"default\"]=Q,t.exports=n[\"default\"]},{\"../../src/js/utils/merge-options.js\":140,\"./component\":67,\"./event-target\":101,\"./extend.js\":102,\"./player\":110,\"./plugins.js\":111,\"./setup\":115,\"./tech/flash.js\":118,\"./tech/html5.js\":119,\"./tech/tech.js\":121,\"./tracks/text-track.js\":130,\"./utils/browser.js\":131,\"./utils/create-deprecation-proxy.js\":133,\"./utils/dom.js\":134,\"./utils/events.js\":135,\"./utils/fn.js\":136,\"./utils/format-time.js\":137,\"./utils/log.js\":139,\"./utils/stylesheet.js\":141,\"./utils/time-ranges.js\":142,\"./utils/url.js\":144,\"global/document\":1,\"global/window\":2,\"lodash-compat/object/merge\":40,\"object.assign\":45,xhr:56}]},{},[145])(145)}),function(e){var t=e.vttjs={},n=t.VTTCue,i=t.VTTRegion,o=e.VTTCue,r=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=i},t.restore=function(){t.VTTCue=o,t.VTTRegion=r}}(this),function(e,t){function n(e){if(\"string\"!=typeof e)return!1;var t=s[e.toLowerCase()];return t?e.toLowerCase():!1}function i(e){if(\"string\"!=typeof e)return!1;var t=l[e.toLowerCase()];return t?e.toLowerCase():!1}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function r(e,t,r){var s=this,l=/MSIE\\s8\\.0/.test(navigator.userAgent),u={};l?s=document.createElement(\"custom\"):u.enumerable=!0,s.hasBeenReset=!1;var c=\"\",d=!1,p=e,h=t,f=r,g=null,m=\"\",y=!0,v=\"auto\",_=\"start\",b=50,E=\"middle\",w=50,T=\"middle\";return Object.defineProperty(s,\"id\",o({},u,{get:function(){return c},set:function(e){c=\"\"+e}})),Object.defineProperty(s,\"pauseOnExit\",o({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,\"startTime\",o({},u,{get:function(){return p},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"Start time must be set to a number.\");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"endTime\",o({},u,{get:function(){return h},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"End time must be set to a number.\");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"text\",o({},u,{get:function(){return f},set:function(e){f=\"\"+e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"region\",o({},u,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"vertical\",o({},u,{get:function(){return m},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError(\"An invalid or illegal string was specified.\");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,\"snapToLines\",o({},u,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"line\",o({},u,{get:function(){return v},set:function(e){if(\"number\"!=typeof e&&e!==a)throw new SyntaxError(\"An invalid number or illegal string was specified.\");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"lineAlign\",o({},u,{get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError(\"An invalid or illegal string was specified.\");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,\"position\",o({},u,{get:function(){return b},set:function(e){if(0>e||e>100)throw new Error(\"Position must be between 0 and 100.\");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"positionAlign\",o({},u,{get:function(){return E},set:function(e){var t=i(e);if(!t)throw new SyntaxError(\"An invalid or illegal string was specified.\");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,\"size\",o({},u,{get:function(){return w},set:function(e){if(0>e||e>100)throw new Error(\"Size must be between 0 and 100.\");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"align\",o({},u,{get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError(\"An invalid or illegal string was specified.\");T=t,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var a=\"auto\",s={\"\":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};r.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||r,t.VTTCue=r}(this,this.vttjs||{}),function(e,t){function n(e){if(\"string\"!=typeof e)return!1;var t=r[e.toLowerCase()];return t?e.toLowerCase():!1}function i(e){return\"number\"==typeof e&&e>=0&&100>=e}function o(){var e=100,t=3,o=0,r=100,a=0,s=100,l=\"\";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error(\"Width must be between 0 and 100.\");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"Lines must be set to a number.\");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error(\"RegionAnchorX must be between 0 and 100.\");r=e}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error(\"RegionAnchorY must be between 0 and 100.\");o=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error(\"ViewportAnchorY must be between 0 and 100.\");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error(\"ViewportAnchorX must be between 0 and 100.\");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError(\"An invalid or illegal string was specified.\");l=t}}})}var r={\"\":!0,up:!0};e.VTTRegion=e.VTTRegion||o,t.VTTRegion=o}(this,this.vttjs||{}),function(e){function t(e,t){this.name=\"ParsingError\",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(\":\",\"\"),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function i(){this.values=f(null)}function o(e,t,n,i){var o=i?e.split(i):[e];for(var r in o)if(\"string\"==typeof o[r]){var a=o[r].split(n);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}function r(e,r,a){function s(){var i=n(e);if(null===i)throw new t(t.Errors.BadTimeStamp,\"Malformed timestamp: \"+c);return e=e.replace(/^[^\\sa-zA-Z-]+/,\"\"),i}function l(e,t){var n=new i;o(e,function(e,t){switch(e){case\"region\":for(var i=a.length-1;i>=0;i--)if(a[i].id===t){n.set(e,a[i].region);break}break;case\"vertical\":n.alt(e,t,[\"rl\",\"lr\"]);break;case\"line\":var o=t.split(\",\"),r=o[0];n.integer(e,r),n.percent(e,r)?n.set(\"snapToLines\",!1):null,n.alt(e,r,[\"auto\"]),2===o.length&&n.alt(\"lineAlign\",o[1],[\"start\",\"middle\",\"end\"]);break;case\"position\":o=t.split(\",\"),n.percent(e,o[0]),2===o.length&&n.alt(\"positionAlign\",o[1],[\"start\",\"middle\",\"end\"]);break;case\"size\":n.percent(e,t);break;case\"align\":n.alt(e,t,[\"start\",\"middle\",\"end\",\"left\",\"right\"])}},/:/,/\\s/),t.region=n.get(\"region\",null),t.vertical=n.get(\"vertical\",\"\"),t.line=n.get(\"line\",\"auto\"),t.lineAlign=n.get(\"lineAlign\",\"start\"),t.snapToLines=n.get(\"snapToLines\",!0),t.size=n.get(\"size\",100),t.align=n.get(\"align\",\"middle\"),t.position=n.get(\"position\",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get(\"positionAlign\",{start:\"start\",left:\"start\",middle:\"middle\",end:\"end\",right:\"end\"},t.align)}function u(){e=e.replace(/^\\s+/,\"\")}var c=e;if(u(),r.startTime=s(),u(),\"-->\"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,\"Malformed time stamp (time stamps must be separated by '-->'): \"+c);e=e.substr(3),u(),r.endTime=s(),u(),l(e,r)}function a(e,t){function i(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function o(e){return g[e]}function r(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],o);return e}function a(e,t){return!v[t.localName]||v[t.localName]===e.localName}function s(t,n){var i=m[t];if(!i)return null;var o=e.document.createElement(i);o.localName=i;var r=y[t];return r&&n&&(o[r]=n.trim()),o}for(var l,u=e.document.createElement(\"div\"),c=u,d=[];null!==(l=i());)if(\"<\"!==l[0])c.appendChild(e.document.createTextNode(r(l)));else{if(\"/\"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(\">\",\"\")&&(d.pop(),c=c.parentNode);continue}var p,h=n(l.substr(1,l.length-2));if(h){p=e.document.createProcessingInstruction(\"timestamp\",h),c.appendChild(p);continue}var f=l.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);if(!f)continue;if(p=s(f[1],f[3]),!p)continue;if(!a(c,p))continue;f[2]&&(p.className=f[2].substr(1).replace(\".\",\" \")),d.push(f[1]),c.appendChild(p),c=p}return u}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var i=e.pop(),o=i.textContent||i.innerText;if(o){var r=o.match(/^.*(\\n|\\r)/);return r?(e.length=0,r[0]):o}return\"ruby\"===i.tagName?n(e):i.childNodes?(t(e,i),n(e)):void 0}var i,o=[],r=\"\";if(!e||!e.childNodes)return\"ltr\";for(t(o,e);r=n(o);)for(var a=0;a<r.length;a++){i=r.charCodeAt(a);for(var s=0;s<_.length;s++)if(_[s]===i)return\"rtl\"}return\"ltr\"}function l(e){if(\"number\"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,o=0;o<n.length&&n[o]!==t;o++)\"showing\"===n[o].mode&&i++;return-1*++i}function u(){}function c(e,t,n){var i=/MSIE\\s8\\.0/.test(navigator.userAgent),o=\"rgba(255, 255, 255, 1)\",r=\"rgba(0, 0, 0, 0.8)\";i&&(o=\"rgb(255, 255, 255)\",r=\"rgb(0, 0, 0)\"),u.call(this),this.cue=t,this.cueDiv=a(e,t.text);var l={color:o,backgroundColor:r,position:\"relative\",left:0,right:0,top:0,bottom:0,display:\"inline\"};i||(l.writingMode=\"\"===t.vertical?\"horizontal-tb\":\"lr\"===t.vertical?\"vertical-lr\":\"vertical-rl\",l.unicodeBidi=\"plaintext\"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement(\"div\"),l={textAlign:\"middle\"===t.align?\"center\":t.align,font:n.font,whiteSpace:\"pre-line\",position:\"absolute\"},i||(l.direction=s(this.cueDiv),l.writingMode=\"\"===t.vertical?\"horizontal-tb\":\"lr\"===t.vertical?\"vertical-lr\":\"vertical-rl\".stylesunicodeBidi=\"plaintext\"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case\"start\":c=t.position;break;case\"middle\":c=t.position-t.size/2;break;case\"end\":c=t.position-t.size}\"\"===t.vertical?this.applyStyles({left:this.formatStyle(c,\"%\"),width:this.formatStyle(t.size,\"%\")}):this.applyStyles({top:this.formatStyle(c,\"%\"),height:this.formatStyle(t.size,\"%\")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,\"px\"),bottom:this.formatStyle(e.bottom,\"px\"),left:this.formatStyle(e.left,\"px\"),right:this.formatStyle(e.right,\"px\"),height:this.formatStyle(e.height,\"px\"),width:this.formatStyle(e.width,\"px\")})}}function d(e){var t,n,i,o,r=/MSIE\\s8\\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,o=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight,r&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,i){function o(e,t){for(var o,r=new d(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(i);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(o=new d(e),a=l),e=new d(r)}return o||r}var r=new d(t),a=t.cue,s=l(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case\"\":u=[\"+y\",\"-y\"],c=\"height\";break;case\"rl\":u=[\"+x\",\"-x\"],c=\"width\";break;case\"lr\":u=[\"-x\",\"+x\"],c=\"width\"}var p=r.lineHeight,h=p*Math.round(s),f=n[c]+p,g=u[0];Math.abs(h)>f&&(h=0>h?-1:1,h*=Math.ceil(f/p)*p),0>s&&(h+=\"\"===a.vertical?n.height:n.width,u=u.reverse()),r.move(g,h)}else{var m=r.lineHeight/n.height*100;switch(a.lineAlign){case\"middle\":s-=m/2;break;case\"end\":s-=m}switch(a.vertical){case\"\":t.applyStyles({top:t.formatStyle(s,\"%\")});break;case\"rl\":t.applyStyles({left:t.formatStyle(s,\"%\")});break;case\"lr\":t.applyStyles({right:t.formatStyle(s,\"%\")})}u=[\"+y\",\"-x\",\"+x\",\"-y\"],r=new d(t)}var y=o(r,u);t.move(y.toCSSCompatValues(n))}function h(){}var f=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error(\"Object.create shim only accepts one parameter.\");return e.prototype=t,new e}}();t.prototype=f(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:\"Malformed WebVTT signature.\"},BadTimeStamp:{code:1,message:\"Malformed time stamp.\"}},i.prototype={set:function(e,t){this.get(e)||\"\"===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return(n=t.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/))&&(t=parseFloat(t),t>=0&&100>=t)?(this.set(e,t),!0):!1}};var g={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&lrm;\":\"‎\",\"&rlm;\":\"‏\",\"&nbsp;\":\" \"},m={c:\"span\",i:\"i\",b:\"b\",u:\"u\",ruby:\"ruby\",rt:\"rt\",v:\"span\",lang:\"span\"},y={v:\"title\",lang:\"lang\"},v={rt:\"ruby\"},_=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];\nu.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},u.prototype.formatStyle=function(e,t){return 0===e?0:e+t},c.prototype=f(u.prototype),c.prototype.constructor=c,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case\"+x\":this.left+=t,this.right+=t;break;case\"-x\":this.left-=t,this.right-=t;break;case\"+y\":this.top+=t,this.bottom+=t;break;case\"-y\":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case\"+x\":return this.left<e.left;case\"-x\":return this.right>e.right;case\"+y\":return this.top<e.top;case\"-y\":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),i=t*n;return i/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var o={left:e.left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n};return o},h.StringDecoder=function(){return{decode:function(e){if(!e)return\"\";if(\"string\"!=typeof e)throw new Error(\"Error - expected string data.\");return decodeURIComponent(encodeURIComponent(e))}}},h.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null};var b=.05,E=\"sans-serif\",w=\"1.5%\";h.processCues=function(e,t,n){function i(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var o=e.document.createElement(\"div\");if(o.style.position=\"absolute\",o.style.left=\"0\",o.style.right=\"0\",o.style.top=\"0\",o.style.bottom=\"0\",o.style.margin=w,n.appendChild(o),i(t)){var r=[],a=d.getSimpleBoxPosition(o),s=Math.round(a.height*b*100)/100,l={font:s+\"px \"+E};!function(){for(var n,i,s=0;s<t.length;s++)i=t[s],n=new c(e,i,l),o.appendChild(n.div),p(e,n,a,r),i.displayState=n.div,r.push(d.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)o.appendChild(t[u].displayState)},h.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state=\"INITIAL\",this.buffer=\"\",this.decoder=n||new TextDecoder(\"utf8\"),this.regionList=[]},h.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&\"\\r\"!==e[t]&&\"\\n\"!==e[t];)++t;var n=e.substr(0,t);return\"\\r\"===e[t]&&++t,\"\\n\"===e[t]&&++t,l.buffer=e.substr(t),n}function a(e){var t=new i;if(o(e,function(e,n){switch(e){case\"id\":t.set(e,n);break;case\"width\":t.percent(e,n);break;case\"lines\":t.integer(e,n);break;case\"regionanchor\":case\"viewportanchor\":var o=n.split(\",\");if(2!==o.length)break;var r=new i;if(r.percent(\"x\",o[0]),r.percent(\"y\",o[1]),!r.has(\"x\")||!r.has(\"y\"))break;t.set(e+\"X\",r.get(\"x\")),t.set(e+\"Y\",r.get(\"y\"));break;case\"scroll\":t.alt(e,n,[\"up\"])}},/=/,/\\s/),t.has(\"id\")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get(\"width\",100),n.lines=t.get(\"lines\",3),n.regionAnchorX=t.get(\"regionanchorX\",0),n.regionAnchorY=t.get(\"regionanchorY\",100),n.viewportAnchorX=t.get(\"viewportanchorX\",0),n.viewportAnchorY=t.get(\"viewportanchorY\",100),n.scroll=t.get(\"scroll\",\"\"),l.onregion&&l.onregion(n),l.regionList.push({id:t.get(\"id\"),region:n})}}function s(e){o(e,function(e,t){switch(e){case\"Region\":a(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var u;if(\"INITIAL\"===l.state){if(!/\\r\\n|\\n/.test(l.buffer))return this;u=n();var c=u.match(/^WEBVTT([ \\t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);l.state=\"HEADER\"}for(var d=!1;l.buffer;){if(!/\\r\\n|\\n/.test(l.buffer))return this;switch(d?d=!1:u=n(),l.state){case\"HEADER\":/:/.test(u)?s(u):u||(l.state=\"ID\");continue;case\"NOTE\":u||(l.state=\"ID\");continue;case\"ID\":if(/^NOTE($|[ \\t])/.test(u)){l.state=\"NOTE\";break}if(!u)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,\"\"),l.state=\"CUE\",-1===u.indexOf(\"-->\")){l.cue.id=u;continue}case\"CUE\":try{r(u,l.cue,l.regionList)}catch(p){l.reportOrThrowError(p),l.cue=null,l.state=\"BADCUE\";continue}l.state=\"CUETEXT\";continue;case\"CUETEXT\":var h=-1!==u.indexOf(\"-->\");if(!u||h&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state=\"ID\";continue}l.cue.text&&(l.cue.text+=\"\\n\"),l.cue.text+=u;continue;case\"BADCUE\":u||(l.state=\"ID\");continue}}}catch(p){l.reportOrThrowError(p),\"CUETEXT\"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state=\"INITIAL\"===l.state?\"BADWEBVTT\":\"BADCUE\"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||\"HEADER\"===e.state)&&(e.buffer+=\"\\n\\n\",e.parse()),\"INITIAL\"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=h}(this,this.vttjs||{}),Ndn_Require.define(\"lib/video.js.player/AdsPlayer\",[\"jquery\",\"underscore\",\"backbone\"],function(e,t,n){var i=!1,o=n.Model.extend({defaults:{currentAd:null,player:null,isPlaying:!1,isPaused:!1,isInitialized:!1,adPlayRequested:!1,contentComplete:!1,allAdsCompleted:!1,contentPlayerControlsState:!1,adTagUrl:null},initialize:function(t,n){this.set(\"player\",t),e.Deferred(e.proxy(function(e){this.loadResources(e,n.defaultParams)},this)).promise().always(e.proxy(function(){google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.createAdContainer(t,n.playerElementId),this.get(\"imaAdContainer\").initialize();var i=new google.ima.AdsLoader(this.get(\"imaAdContainer\"));i.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e.proxy(this.adsManagerReady,this)),i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.proxy(this.onAdsError,this)),this.set(\"adsLoader\",i),t.on(\"ended\",e.proxy(function(){this.isAdPlaying()||(this.get(\"adsLoader\").contentComplete(),this.set(\"contentComplete\",!0),this.get(\"allAdsCompleted\")&&this.trigger(\"allAdsEnded\",{type:\"allAdsEnded\"}))},this)),t.on(\"fullscreenchange\",e.proxy(function(){var e=this.get(\"player\"),t=this.get(\"fullscreenDiv\"),n=this.get(\"adsManager\");null!=n&&void 0!=n&&(e.isFullscreen()?(t.className=\"adsFullscreen\",n.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)):(t.className=\"adsNormalMode\",n.resize(this.getPlayerWidth(),this.getPlayerHeight(),google.ima.ViewMode.NORMAL)))},this)),this.set(\"isInitialized\",!0),this.trigger(\"adsPlayerInitialized\"),window.addEventListener?window.addEventListener(\"resize\",this.windowResize.bind(this)):window.attachEvent(\"resize\",this.windowResize.bind(this))},this))},isInitialized:function(){return this.get(\"isInitialized\")},createAdContainer:function(t,n){var i=document.getElementById(n),o=t.getChild(\"controlBar\").el().parentNode.appendChild(e(document.createElement(\"div\"))[0]);o.id=\"adContainer\",o.className=\"video-js\",o.onmouseover=e.proxy(function(){this.get(\"controlsDiv\").className=\"showAdsControls\"},this),o.onmouseout=e.proxy(function(){this.get(\"controlsDiv\").className=\"hideAdsControls\"},this),this.set(\"adContainerDiv\",o),this.createAdControls(o),this.set(\"imaAdContainer\",new google.ima.AdDisplayContainer(o,i)),this.set(\"playerElement\",i)},createAdControls:function(t){var n=document.createElement(\"div\");n.id=\"adsSpinnerDiv\",n.className=\"vjs-loading-spinner\";var i=document.createElement(\"div\");i.id=\"adsControlsDiv\",i.className=\"hideAdsControls\";var o=document.createElement(\"div\");o.className=\"adsInfoDiv\";var r=document.createElement(\"div\");r.id=\"adsCountdownDiv\",r.innerHTML=\"\",r.style.display=\"block\";var a=document.createElement(\"a\");a.className=\"adChoicesLogo\",a.href=\"http://assets.newsinc.com/info/adchoices.html\",a.target=\"_blank\",a.style.display=\"block\";var s=document.createElement(\"div\");s.id=\"adsCountDiv\",s.innerHTML=\"\",s.style.display=\"block\";var l=document.createElement(\"div\");l.id=\"adsPlayPauseDiv\",l.className=\"adsPlaying\";var u=e.proxy(function(){this.togglePlay()},this);document.addEventListener?l.addEventListener(\"click\",u,!1):l.attachEvent(\"click\",u,!1);var c=document.createElement(\"div\");c.id=\"adsMuteDiv\",c.className=\"adsUnmuted\";var d=e.proxy(function(){if(0==this.get(\"isMuted\"))this.setVolume(0,!0);else{var e=this.get(\"player\");this.setVolume(e.volume(),!0)}},this);document.addEventListener?c.addEventListener(\"click\",d,!1):c.attachEvent(\"click\",d,!1);var p=document.createElement(\"div\");p.id=\"adsVolumeSliderDiv\";var h=e.proxy(function(e){var t=this.get(\"volumeSliderDiv\"),n=(e.clientX-t.getBoundingClientRect().left)/t.offsetWidth;n=Math.min(Math.max(n,0),1),this.setVolume(n,!0)},this);document.addEventListener?p.addEventListener(\"click\",h,!1):p.attachEvent(\"click\",h,!1);var f=document.createElement(\"div\");f.id=\"adsVolumeLevelDiv\";var g=document.createElement(\"div\");g.id=\"adsFullscreenDiv\",g.className=\"adsNormalMode\";var m=e.proxy(function(){var e=this.get(\"player\");e.isFullscreen()?e.exitFullscreen():e.requestFullscreen()},this);document.addEventListener?g.addEventListener(\"click\",m,!1):g.attachEvent(\"click\",m,!1),o.appendChild(a),o.appendChild(r),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(s),i.appendChild(l),i.appendChild(c),i.appendChild(p),i.appendChild(g),p.appendChild(f),this.set(\"adsCountDiv\",s),this.set(\"controlsDiv\",i),this.set(\"countdownDiv\",r),this.set(\"playPauseDiv\",l),this.set(\"muteDiv\",c),this.set(\"volumeSliderDiv\",p),this.set(\"volumeLevelDiv\",f),this.set(\"fullscreenDiv\",g)},windowResize:function(){var e=this.get(\"player\"),t=this.get(\"adsManager\"),n=this.getPlayerWidth(),i=this.getPlayerHeight(),o=this.get(\"previousPlayerWidth\"),r=this.get(\"previousPlayerHeight\");if(null!=t&&void 0!=t&&o!=n&&r!=i){var a=google.ima.ViewMode.NORMAL;e.isFullscreen()&&(a=google.ima.ViewMode.FULLSCREEN),t.resize(n,i,a),this.set({previousPlayerWidth:n,previousPlayerHeight:i})}},adsManagerReady:function(t){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0;var i=t.getAdsManager(this.get(\"playerElement\"),n);this.set(\"adsManager\",i),i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,e.proxy(this.onContentPauseRequested,this)),i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,e.proxy(this.onContentResumeRequested,this)),i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.proxy(this.onAdsError,this)),i.addEventListener(google.ima.AdEvent.Type.LOADED,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.STARTED,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.PAUSED,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.RESUMED,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.SKIPPED,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.COMPLETE,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.CLICK,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,e.proxy(this.onAdsEvent,this)),i.addEventListener(google.ima.AdEvent.Type.LOG,e.proxy(this.onAdsEvent,this));try{var o=this.get(\"player\");i.init(this.getPlayerWidth(),this.getPlayerHeight(),google.ima.ViewMode.NORMAL),this.setVolume(o.muted()?0:o.volume(),!1),i.start()}catch(r){console.log(\"Exception received: \",r),this.onAdsError(r)}},onContentPauseRequested:function(){var e=this.get(\"player\");this.set(\"isPlaying\",!0),this.showAdContainer(!0),e.controls(!1),e.pause()},onContentResumeRequested:function(){var e=this.get(\"player\");this.set(\"isPlaying\",!1),this.hideAdContainer(),e.controls(this.get(\"contentPlayerControlsState\")),this.get(\"contentComplete\")||e.play()},onAdsEvent:function(t){var n=t.getAd();switch(t.type){case google.ima.AdEvent.Type.LOADED:var i=\"preroll\";-1==n.getAdPodInfo().getPodIndex()?i=\"postroll\":1==n.getAdPodInfo().getPodIndex()&&(i=\"midroll\");var o={adId:n.getAdId(),adSystem:n.getAdSystem(),title:n.getTitle(),duration:n.getDuration(),linear:n.isLinear(),podPosition:i,totalAds:n.getAdPodInfo().getTotalAds(),requestURL:this.get(\"adTagUrl\")};this.trigger(\"loaded\",{data:o}),this.get(\"countdownDiv\").innerHTML=\"\",this.get(\"adsCountDiv\").innerHTML=\"\",this.get(\"controlsDiv\").className=\"showAdsControls\";break;case google.ima.AdEvent.Type.STARTED:this.trigger(\"started\"),this.showAdContainer(!1),this.get(\"controlsDiv\").className=\"hideAdsControls\",this.get(\"playPauseDiv\").className=\"adsPlaying\",this.set(\"currentAd\",n),this.startAdTrackerTimer();var r=this.get(\"companion\"),a=n.getCompanionAds(r.width,r.height);if(null!=a&&void 0!=a){var s=[];e.each(a,e.proxy(function(e,t){s.push({content:t.getContent()})},this)),this.trigger(\"companion\",{data:s})}if(this.get(\"adsCountDiv\").innerHTML=\"\",n.getAdPodInfo()){var l,u;if(l=n.getAdPodInfo().getAdPosition(),u=n.getAdPodInfo().getTotalAds(),u>1){var c=\"Advertisement: (\"+l+\" of \"+u+\")\";this.get(\"adsCountDiv\").innerHTML=c}}break;case google.ima.AdEvent.Type.PAUSED:this.set(\"isPaused\",!0),this.get(\"playPauseDiv\").className=\"adsPaused\",this.stopAdTrackerTimer(),this.trigger(\"pause\");break;case google.ima.AdEvent.Type.RESUMED:this.set(\"isPaused\",!1),this.get(\"playPauseDiv\").className=\"adsPlaying\",this.startAdTrackerTimer(),this.trigger(\"resume\");break;case google.ima.AdEvent.Type.CLICK:this.get(\"adsManager\").pause(),this.trigger(\"clicked\");break;case google.ima.AdEvent.Type.SKIPPED:this.trigger(\"skipped\");case google.ima.AdEvent.Type.COMPLETE:this.trigger(\"ended\"),this.stopAdTrackerTimer(),this.get(\"countdownDiv\").innerHTML=\"\",this.get(\"adsCountDiv\").innerHTML=\"\";break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.set(\"allAdsCompleted\",!0),this.get(\"contentComplete\")&&this.trigger(\"allAdsEnded\",{type:\"allAdsEnded\"});break;case google.ima.AdEvent.Type.LOG:var d=t.getAdData().adError;d&&(console.error(\"Ad error log: \"+d),this.trigger(\"error\",{data:{message:d.getMessage(),vastErrorCode:d.getVastErrorCode(),errorType:d.getType(),errorCode:d.getErrorCode()}}))}},onAdsError:function(e){console.error(\"Ad error: \"+e.getError());var t=e.getError();null!=t&&this.trigger(\"error\",{data:{reason:t.getMessage(),vastErrorCode:t.getVastErrorCode(),errorType:t.getType(),errorCode:t.getErrorCode()}}),this.onContentResumeRequested(),this.reset(),this.set(\"allAdsCompleted\",!0)},requestAds:function(t){this.reset();var n=this.get(\"player\"),i=this.get(\"adsLoader\"),o=(\"https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=\"+e.now(),new google.ima.AdsRequest);this.set(\"contentPlayerControlsState\",t.showContentPlayerControls),n.controls(!1),o.adTagUrl=t.dfp.adTagUrl,o.linearAdSlotWidth=this.getPlayerWidth(),o.linearAdSlotHeight=this.getPlayerHeight(),o.nonLinearAdSlotWidth=this.getPlayerWidth(),o.nonLinearAdSlotHeight=this.getPlayerHeight(),i.requestAds(o),this.set(\"adTagUrl\",o.adTagUrl),this.set(\"adPlayRequested\",!0),this.trigger(\"request\",{requestURL:o.adTagUrl}),this.showAdContainer(!0)},startAdTrackerTimer:function(){this.stopAdTrackerTimer(),this.set(\"adTrackingTimer\",setInterval(e.proxy(function(){this.onAdTrackerInterval()},this),250))},stopAdTrackerTimer:function(){null!=this.get(\"adTrackingTimer\")&&void 0!=this.get(\"adTrackingTimer\")&&clearInterval(this.get(\"adTrackingTimer\")),this.set(\"adTrackingTimer\",null),this.get(\"countdownDiv\").innerHTML=\"\"},onAdTrackerInterval:function(){var e=this.get(\"adsManager\");if(null!=e&&void 0!=e){var t=this.get(\"currentAd\"),n=e.getRemainingTime(),i=(t.getDuration(),\"\"),o=Math.floor(n/60),r=Math.floor(n%60);i=\"Your content starts in \",o>0?(r.toString().length<2&&(r=\"0\"+r),i+=o+\":\"+r):i+=r+1+\" Seconds\",this.get(\"countdownDiv\").innerHTML=i,this.trigger(\"timeupdate\"),this.windowResize()}},togglePlay:function(){1==this.get(\"isPlaying\")&&(0==this.get(\"isPaused\")?this.pause():this.play())},play:function(){var e=this.get(\"adsManager\"),t=this.get(\"playPauseDiv\");null!=e&&void 0!=e&&(0==this.get(\"isPlaying\")?(e.start(),t.className=\"adsPlaying\"):1==this.get(\"isPaused\")&&(e.resume(),t.className=\"adsPlaying\"))},pause:function(){var e=this.get(\"adsManager\"),t=this.get(\"playPauseDiv\");null!=e&&void 0!=e&&1==this.get(\"isPlaying\")&&0==this.get(\"isPaused\")&&(e.pause(),t.className=\"adsPaused\")},skip:function(){var e=this.get(\"adsManager\");null!=e&&void 0!=e&&e.skip()},setVolume:function(e,t){var n=this.get(\"volumeLevelDiv\"),i=this.get(\"muteDiv\"),o=this.get(\"adsManager\"),r=this.get(\"player\");null!=o&&void 0!=o&&(o.setVolume(e),t&&(0>=e?r.muted(!0):(r.muted(!1),r.volume(e))),n.style.width=100*e+\"%\",0==e?(this.set(\"isMuted\",!0),i.className=\"adsMuted\"):(this.set(\"isMuted\",!1),i.className=\"adsUnmuted\"))},isAdPlaying:function(){return this.get(\"isPlaying\")},hasAdBeenRequested:function(){return this.get(\"adPlayRequested\")},getAdDuration:function(){var e=this.get(\"currentAd\");return null!=e&&void 0!=e?e.getDuration():0},getAdCurrentTime:function(){var e=this.get(\"currentAd\"),t=this.get(\"adsManager\");if(null!=e&&void 0!=e&&null!=t&&void 0!=t){var n=e.getDuration(),i=t.getRemainingTime(),o=n-i;return o=o>0?o:0}return 0},getPlayerWidth:function(){var e=parseInt(getComputedStyle(this.get(\"player\").el()).width,10)||this.get(\"player\").width();return e},getPlayerHeight:function(){var e=parseInt(getComputedStyle(this.get(\"player\").el()).height,10)||this.get(\"player\").height();return e},showAdContainer:function(e){var t=this.get(\"adContainerDiv\");t.style.display=\"block\",t.className=\"adContainer\",e&&(t.className=\"adContainer vjs-waiting\")},hideAdContainer:function(){var e=this.get(\"adContainerDiv\");e.style.display=\"none\",e.className=\"adContainer\"},reset:function(){var e=this.get(\"adsManager\");e&&(e.destroy(),this.set(\"adsManager\",null)),this.stopAdTrackerTimer(),this.hideAdContainer(),this.get(\"player\").controls(this.get(\"contentPlayerControlsState\")),this.set({adPlayRequested:!1,isPlaying:!1,isPaused:!1,contentComplete:!1,allAdsCompleted:!1,contentPlayerControlsState:!1})},loadResources:function(t,n){if(this.set(\"companion\",n.ima.companion),o.hasLoadedResources())return t.resolve();var r=null;e.each(n.ima.resources,function(e,t){return\"text/javascript\"===t.type?(r=t,!1):void 0}),e.getScript(r.src,function(){return i=!0,t.resolve()})},addEventListener:function(e,t){this.on(e,t)},removeEventListeners:function(e){this.off(e)}},{hasLoadedResources:function(){return i}});return o}),Ndn_Require.define(\"lib/video.js.player/ComscoreStreamsense\",[\"jquery\",\"underscore\",\"backbone\"],function(e,t,n){var i=!1,o=n.Model.extend({defaults:{},streamingTag:null,initialize:function(t,n){e.Deferred(e.proxy(function(e){this.loadResources(e,n.defaultParams)},this)).promise().always(e.proxy(function(){t.on(\"dataChanged\",e.proxy(this.onDataChanged,this)),t.on(\"pause\",e.proxy(this.onStopped,this)),t.on(\"playing\",e.proxy(this.onContentVideoPlaying,this)),t.on(\"ended\",e.proxy(this.onStopped,this)),t.ads.on(\"skipped\",e.proxy(this.onStopped,this)),t.ads.on(\"ended\",e.proxy(this.onStopped,this)),t.ads.on(\"started\",e.proxy(this.onAdStarted,this)),t.ads.on(\"error\",e.proxy(this.onAdError,this))},this))},createStreamingTag:function(){null!=this.streamingTag&&(this.streamingTag.stop(),this.streamingTag=null),this.streamingTag=new akamai.amp.ns_.StreamingTag({customerC2:this.get(\"data\").clientId})},onDataChanged:function(e){if(this.get(\"comscoreenabled\")||(e.playerConfig.comscorestreamsense?e.playerConfig.comscorestreamsense.enabled:!1)){var t={ads:{},video:{}};for(key in this.get(\"data\").metadata.ads)value=this.get(\"data\").metadata.ads[key],paramData=this.resolve(e.params,this.getToken(value)),\"null\"!==paramData&&void 0!=paramData&&(t.ads[key]=paramData);for(key in this.get(\"data\").metadata.video)value=this.get(\"data\").metadata.video[key],paramData=this.resolve(e.params,this.getToken(value)),\"null\"!==paramData&&void 0!=paramData&&(t.video[key]=paramData);this.set(\"metaData\",t),this.createStreamingTag()}else null!=this.streamingTag&&(this.streamingTag.stop(),this.streamingTag=null)},onAdStarted:function(){null!=this.streamingTag&&this.streamingTag.playVideoAdvertisement(this.get(\"metaData\").ads)},onAdError:function(){null!=this.streamingTag&&(this.streamingTag.playVideoAdvertisement(this.get(\"metaData\").ads),this.streamingTag.stop())},onContentVideoPlaying:function(){null!=this.streamingTag&&this.streamingTag.playVideoContentPart(this.get(\"metaData\").video)},onStopped:function(){null!=this.streamingTag&&this.streamingTag.stop()},getToken:function(e){if(void 0==e)return null;var t=e.match(\"#{(.*)}\");return null!=t&&void 0!=t&&2==t.length?t[1]:e},resolve:function(e,t){t=t.split(\".\");for(var n=e;t.length;){if(\"object\"!=typeof n)return;n=n[t.shift()]}return n},loadResources:function(t,n){if(this.set(\"comscoreenabled\",n.comscorestreamsense.enabled),this.set(\"data\",n.comscorestreamsense.data),o.hasLoadedResources())return t.resolve();var r=null;e.each(n.comscorestreamsense.resources,function(e,t){return\"text/javascript\"===t.type?(r=t,!1):void 0}),e.getScript(r.src,function(){return i=!0,t.resolve()})}},{hasLoadedResources:function(){return i}});return o}),Ndn_Require.define(\"lib/video.js.player/ShareWrapper\",[\"jquery\",\"underscore\",\"backbone\",\"videojs_lib\"],function(e,t,n,i){var o=!1,r=n.Model.extend({defaults:{},streamingTag:null,initialize:function(t,n){this.set(\"defaultShareConfig\",n.defaultParams.share),t.on(\"dataChanged\",e.proxy(this.onDataChanged,this));var o=i.getComponent(\"MenuItem\"),a=i.getComponent(\"MenuButton\"),s=i.getComponent(\"ClickableComponent\"),l=t.get(\"player\"),u=(l.controlBar.getChild(\"fullscreenToggle\"),this);r.SocialItems=i.extend(o,{kind:null,constructor:function(e,t){o.call(this,e,t),this.kind=t.kind},createEl:function(e,t){return(void 0==t||null==t)&&(t={}),t.className=\"vjs-menu-item\",t.innerHTML='<span class=\"vjs-icon-'+this.options_.iconClass+'\" title=\"'+this.options_.label+'\"></span>',s.prototype.createEl.call(this,\"li\",t)},handleClick:function(){u.trigger(\"share\",{data:{provider:this.kind}})}}),r.SocialBtn=i.extend(a,{constructor:function(e,t){a.call(this,e,t),this.addClass(\"vjs-icon-share\")},buttonText:\"Social\",buildCSSClass:function(){return\"vjs-social-button vjs-control icon-share \"+a.prototype.buildCSSClass.call(this)},createItems:function(){var e=[],t=this.options_;for(var n in this.available)this.available.hasOwnProperty(n)&&t[n]&&e.push(new r.SocialItems(this.player_,this.available[n]));return e},handleClick:function(){u.trigger(\"share\",{data:{provider:\"share\"}})},options_:{facebook:!0,twitter:!0},available:{facebook:{label:\"Facebook\",kind:\"facebook\",iconClass:\"facebook\"},twitter:{label:\"Twitter\",kind:\"twitter\",iconClass:\"twitter\"}}}),SocialBtnInstance=new r.SocialBtn(l);var c=l.controlBar.addChild(SocialBtnInstance);l.controlBar.el().insertBefore(SocialBtnInstance.el(),l.controlBar.getChild(\"customControlSpacer\").el().nextSibling),this.set(\"shareButton\",c)},onDataChanged:function(e){var t=e.videoData[\"media-share\"],n=(e.playerConfig,this.get(\"shareButton\").children()[0].children());for(index in n){var i=n[index];\"share\"!=i.options_.kind&&i.hide()}var o=this.get(\"defaultShareConfig\");if(null!=t&&t[\"show-icons\"]&&void 0!=o&&null!=o&&o.enabled){if(this.get(\"shareButton\").show(),o.facebook)for(index in n){var i=n[index];if(\"facebook\"==i.options_.kind){i.show();break}}if(o.twitter)for(index in n){var i=n[index];if(\"twitter\"==i.options_.kind){i.show();break}}}else this.get(\"shareButton\").hide()},addEventListener:function(e,t){this.on(e,t)}},{hasLoadedResources:function(){return o}});return r}),Ndn_Require.define(\"lib/video.js.player/Utils\",[],function(){var e={ab:{name:\"Abkhaz\",nativeName:\"аҧсуа\"},aa:{name:\"Afar\",nativeName:\"Afaraf\"},af:{name:\"Afrikaans\",nativeName:\"Afrikaans\"},ak:{name:\"Akan\",nativeName:\"Akan\"},sq:{name:\"Albanian\",nativeName:\"Shqip\"},am:{name:\"Amharic\",nativeName:\"አማርኛ\"},ar:{name:\"Arabic\",nativeName:\"العربية\"},an:{name:\"Aragonese\",nativeName:\"Aragonés\"},hy:{name:\"Armenian\",nativeName:\"Հայերեն\"},as:{name:\"Assamese\",nativeName:\"অসমীয়া\"},av:{name:\"Avaric\",nativeName:\"авар мацӀ, магӀарул мацӀ\"},ae:{name:\"Avestan\",nativeName:\"avesta\"},ay:{name:\"Aymara\",nativeName:\"aymar aru\"},az:{name:\"Azerbaijani\",nativeName:\"azərbaycan dili\"},bm:{name:\"Bambara\",nativeName:\"bamanankan\"},ba:{name:\"Bashkir\",nativeName:\"башҡорт теле\"},eu:{name:\"Basque\",nativeName:\"euskara, euskera\"},be:{name:\"Belarusian\",nativeName:\"Беларуская\"},bn:{name:\"Bengali\",nativeName:\"বাংলা\"},bh:{name:\"Bihari\",nativeName:\"भोजपुरी\"},bi:{name:\"Bislama\",nativeName:\"Bislama\"},bs:{name:\"Bosnian\",nativeName:\"bosanski jezik\"},br:{name:\"Breton\",nativeName:\"brezhoneg\"},bg:{name:\"Bulgarian\",nativeName:\"български език\"},my:{name:\"Burmese\",nativeName:\"ဗမာစာ\"},ca:{name:\"Catalan; Valencian\",nativeName:\"Català\"},ch:{name:\"Chamorro\",nativeName:\"Chamoru\"},ce:{name:\"Chechen\",nativeName:\"нохчийн мотт\"},ny:{name:\"Chichewa; Chewa; Nyanja\",nativeName:\"chiCheŵa, chinyanja\"},zh:{name:\"Chinese\",nativeName:\"中文 (Zhōngwén), 汉语, 漢語\"},cv:{name:\"Chuvash\",nativeName:\"чӑваш чӗлхи\"},kw:{name:\"Cornish\",nativeName:\"Kernewek\"},co:{name:\"Corsican\",nativeName:\"corsu, lingua corsa\"},cr:{name:\"Cree\",nativeName:\"ᓀᐦᐃᔭᐍᐏᐣ\"},hr:{name:\"Croatian\",nativeName:\"hrvatski\"},cs:{name:\"Czech\",nativeName:\"česky, čeština\"},da:{name:\"Danish\",nativeName:\"dansk\"},dv:{name:\"Divehi; Dhivehi; Maldivian;\",nativeName:\"ދިވެހި\"},nl:{name:\"Dutch\",nativeName:\"Nederlands, Vlaams\"},en:{name:\"English\",nativeName:\"English\"},eo:{name:\"Esperanto\",nativeName:\"Esperanto\"},et:{name:\"Estonian\",nativeName:\"eesti, eesti keel\"},ee:{name:\"Ewe\",nativeName:\"Eʋegbe\"},fo:{name:\"Faroese\",nativeName:\"føroyskt\"},fj:{name:\"Fijian\",nativeName:\"vosa Vakaviti\"},fi:{name:\"Finnish\",nativeName:\"suomi, suomen kieli\"},fr:{name:\"French\",nativeName:\"français, langue française\"},ff:{name:\"Fula; Fulah; Pulaar; Pular\",nativeName:\"Fulfulde, Pulaar, Pular\"},gl:{name:\"Galician\",nativeName:\"Galego\"},ka:{name:\"Georgian\",nativeName:\"ქართული\"},de:{name:\"German\",nativeName:\"Deutsch\"},el:{name:\"Greek, Modern\",nativeName:\"Ελληνικά\"},gn:{name:\"Guaraní\",nativeName:\"Avañeẽ\"},gu:{name:\"Gujarati\",nativeName:\"ગુજરાતી\"},ht:{name:\"Haitian; Haitian Creole\",nativeName:\"Kreyòl ayisyen\"},ha:{name:\"Hausa\",nativeName:\"Hausa, هَوُسَ\"},he:{name:\"Hebrew (modern)\",nativeName:\"עברית\"},hz:{name:\"Herero\",nativeName:\"Otjiherero\"},hi:{name:\"Hindi\",nativeName:\"हिन्दी, हिंदी\"},ho:{name:\"Hiri Motu\",nativeName:\"Hiri Motu\"},hu:{name:\"Hungarian\",nativeName:\"Magyar\"},ia:{name:\"Interlingua\",nativeName:\"Interlingua\"},id:{name:\"Indonesian\",nativeName:\"Bahasa Indonesia\"},ie:{name:\"Interlingue\",nativeName:\"Originally called Occidental; then Interlingue after WWII\"},ga:{name:\"Irish\",nativeName:\"Gaeilge\"},ig:{name:\"Igbo\",nativeName:\"Asụsụ Igbo\"},ik:{name:\"Inupiaq\",nativeName:\"Iñupiaq, Iñupiatun\"},io:{name:\"Ido\",nativeName:\"Ido\"},is:{name:\"Icelandic\",nativeName:\"Íslenska\"},it:{name:\"Italian\",nativeName:\"Italiano\"},iu:{name:\"Inuktitut\",nativeName:\"ᐃᓄᒃᑎᑐᑦ\"},ja:{name:\"Japanese\",nativeName:\"日本語 (にほんご／にっぽんご)\"},jv:{name:\"Javanese\",nativeName:\"basa Jawa\"},kl:{name:\"Kalaallisut, Greenlandic\",nativeName:\"kalaallisut, kalaallit oqaasii\"},kn:{name:\"Kannada\",nativeName:\"ಕನ್ನಡ\"},kr:{name:\"Kanuri\",nativeName:\"Kanuri\"},ks:{name:\"Kashmiri\",nativeName:\"कश्मीरी, كشميري‎\"},kk:{name:\"Kazakh\",nativeName:\"Қазақ тілі\"},km:{name:\"Khmer\",nativeName:\"ភាសាខ្មែរ\"},ki:{name:\"Kikuyu, Gikuyu\",nativeName:\"Gĩkũyũ\"},rw:{name:\"Kinyarwanda\",nativeName:\"Ikinyarwanda\"},ky:{name:\"Kirghiz, Kyrgyz\",nativeName:\"кыргыз тили\"},kv:{name:\"Komi\",nativeName:\"коми кыв\"},kg:{name:\"Kongo\",nativeName:\"KiKongo\"},ko:{name:\"Korean\",nativeName:\"한국어 (韓國語), 조선말 (朝鮮語)\"},ku:{name:\"Kurdish\",nativeName:\"Kurdî, كوردی‎\"},kj:{name:\"Kwanyama, Kuanyama\",nativeName:\"Kuanyama\"},la:{name:\"Latin\",nativeName:\"latine, lingua latina\"},lb:{name:\"Luxembourgish, Letzeburgesch\",nativeName:\"Lëtzebuergesch\"},lg:{name:\"Luganda\",nativeName:\"Luganda\"},li:{name:\"Limburgish, Limburgan, Limburger\",nativeName:\"Limburgs\"},ln:{name:\"Lingala\",nativeName:\"Lingála\"},lo:{name:\"Lao\",nativeName:\"ພາສາລາວ\"},lt:{name:\"Lithuanian\",nativeName:\"lietuvių kalba\"},lu:{name:\"Luba-Katanga\",nativeName:\"\"},lv:{name:\"Latvian\",nativeName:\"latviešu valoda\"},gv:{name:\"Manx\",nativeName:\"Gaelg, Gailck\"},mk:{name:\"Macedonian\",nativeName:\"македонски јазик\"},mg:{name:\"Malagasy\",nativeName:\"Malagasy fiteny\"},ms:{name:\"Malay\",nativeName:\"bahasa Melayu, بهاس ملايو‎\"},ml:{name:\"Malayalam\",nativeName:\"മലയാളം\"},mt:{name:\"Maltese\",nativeName:\"Malti\"},mi:{name:\"Māori\",nativeName:\"te reo Māori\"},mr:{name:\"Marathi (Marāṭhī)\",nativeName:\"मराठी\"},mh:{name:\"Marshallese\",nativeName:\"Kajin M̧ajeļ\"},mn:{name:\"Mongolian\",nativeName:\"монгол\"},na:{name:\"Nauru\",nativeName:\"Ekakairũ Naoero\"},nv:{name:\"Navajo, Navaho\",nativeName:\"Diné bizaad, Dinékʼehǰí\"},nb:{name:\"Norwegian Bokmål\",nativeName:\"Norsk bokmål\"},nd:{name:\"North Ndebele\",nativeName:\"isiNdebele\"},ne:{name:\"Nepali\",nativeName:\"नेपाली\"},ng:{name:\"Ndonga\",nativeName:\"Owambo\"},nn:{name:\"Norwegian Nynorsk\",nativeName:\"Norsk nynorsk\"},no:{name:\"Norwegian\",nativeName:\"Norsk\"},ii:{name:\"Nuosu\",nativeName:\"ꆈꌠ꒿ Nuosuhxop\"},nr:{name:\"South Ndebele\",nativeName:\"isiNdebele\"},oc:{name:\"Occitan\",nativeName:\"Occitan\"},oj:{name:\"Ojibwe, Ojibwa\",nativeName:\"ᐊᓂᔑᓈᐯᒧᐎᓐ\"},cu:{name:\"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic\",nativeName:\"ѩзыкъ словѣньскъ\"},om:{name:\"Oromo\",nativeName:\"Afaan Oromoo\"},or:{name:\"Oriya\",nativeName:\"ଓଡ଼ିଆ\"},os:{name:\"Ossetian, Ossetic\",nativeName:\"ирон æвзаг\"},pa:{name:\"Panjabi, Punjabi\",nativeName:\"ਪੰਜਾਬੀ, پنجابی‎\"},pi:{name:\"Pāli\",nativeName:\"पाऴि\"},fa:{name:\"Persian\",nativeName:\"فارسی\"},pl:{name:\"Polish\",nativeName:\"polski\"},ps:{name:\"Pashto, Pushto\",nativeName:\"پښتو\"},pt:{name:\"Portuguese\",nativeName:\"Português\"},qu:{name:\"Quechua\",nativeName:\"Runa Simi, Kichwa\"},rm:{name:\"Romansh\",nativeName:\"rumantsch grischun\"},rn:{name:\"Kirundi\",nativeName:\"kiRundi\"},ro:{name:\"Romanian, Moldavian, Moldovan\",nativeName:\"română\"},ru:{name:\"Russian\",nativeName:\"русский язык\"},sa:{name:\"Sanskrit (Saṁskṛta)\",nativeName:\"संस्कृतम्\"},sc:{name:\"Sardinian\",nativeName:\"sardu\"},sd:{name:\"Sindhi\",nativeName:\"सिन्धी, سنڌي، سندھی‎\"},se:{name:\"Northern Sami\",nativeName:\"Davvisámegiella\"},sm:{name:\"Samoan\",nativeName:\"gagana faa Samoa\"},sg:{name:\"Sango\",nativeName:\"yângâ tî sängö\"},sr:{name:\"Serbian\",nativeName:\"српски језик\"},gd:{name:\"Scottish Gaelic; Gaelic\",nativeName:\"Gàidhlig\"},sn:{name:\"Shona\",nativeName:\"chiShona\"},si:{name:\"Sinhala, Sinhalese\",nativeName:\"සිංහල\"},sk:{name:\"Slovak\",nativeName:\"slovenčina\"},sl:{name:\"Slovene\",nativeName:\"slovenščina\"},so:{name:\"Somali\",nativeName:\"Soomaaliga, af Soomaali\"},st:{name:\"Southern Sotho\",nativeName:\"Sesotho\"},es:{name:\"Spanish; Castilian\",nativeName:\"español, castellano\"},su:{name:\"Sundanese\",nativeName:\"Basa Sunda\"},sw:{name:\"Swahili\",nativeName:\"Kiswahili\"},ss:{name:\"Swati\",nativeName:\"SiSwati\"},sv:{name:\"Swedish\",nativeName:\"svenska\"},ta:{name:\"Tamil\",nativeName:\"தமிழ்\"},te:{name:\"Telugu\",nativeName:\"తెలుగు\"},tg:{name:\"Tajik\",nativeName:\"тоҷикӣ, toğikī, تاجیکی‎\"},th:{name:\"Thai\",nativeName:\"ไทย\"},ti:{name:\"Tigrinya\",nativeName:\"ትግርኛ\"},bo:{name:\"Tibetan Standard, Tibetan, Central\",nativeName:\"བོད་ཡིག\"},tk:{name:\"Turkmen\",nativeName:\"Türkmen, Түркмен\"},tl:{name:\"Tagalog\",nativeName:\"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔\"},tn:{name:\"Tswana\",nativeName:\"Setswana\"},to:{name:\"Tonga (Tonga Islands)\",nativeName:\"faka Tonga\"},tr:{name:\"Turkish\",nativeName:\"Türkçe\"},ts:{name:\"Tsonga\",nativeName:\"Xitsonga\"},tt:{name:\"Tatar\",\nnativeName:\"татарча, tatarça, تاتارچا‎\"},tw:{name:\"Twi\",nativeName:\"Twi\"},ty:{name:\"Tahitian\",nativeName:\"Reo Tahiti\"},ug:{name:\"Uighur, Uyghur\",nativeName:\"Uyƣurqə, ئۇيغۇرچە‎\"},uk:{name:\"Ukrainian\",nativeName:\"українська\"},ur:{name:\"Urdu\",nativeName:\"اردو\"},uz:{name:\"Uzbek\",nativeName:\"zbek, Ўзбек, أۇزبېك‎\"},ve:{name:\"Venda\",nativeName:\"Tshivenḓa\"},vi:{name:\"Vietnamese\",nativeName:\"Tiếng Việt\"},vo:{name:\"Volapük\",nativeName:\"Volapük\"},wa:{name:\"Walloon\",nativeName:\"Walon\"},cy:{name:\"Welsh\",nativeName:\"Cymraeg\"},wo:{name:\"Wolof\",nativeName:\"Wollof\"},fy:{name:\"Western Frisian\",nativeName:\"Frysk\"},xh:{name:\"Xhosa\",nativeName:\"isiXhosa\"},yi:{name:\"Yiddish\",nativeName:\"ייִדיש\"},yo:{name:\"Yoruba\",nativeName:\"Yorùbá\"},za:{name:\"Zhuang, Chuang\",nativeName:\"Saɯ cueŋƅ, Saw cuengh\"}};return{getUserAgent:function(e){return\"undefined\"!=typeof e?e:navigator.userAgent||navigator.vendor||window.opera||\"\"},isIos:function(e){return this.isOnIosVersion(\"\",e)},isOnIosVersion:function(e,t){return t=this.getUserAgent(t),!!t.match(new RegExp(\"(iPad|iPhone|iPod).* OS \"+e.replace(/\\./g,\"_\")+(e?\"(_|\\\\s)\":\"\"),\"gi\"))},isIPhone:function(e){return e=this.getUserAgent(e),e.match(/iPhone/)},isIPad:function(e){return e=this.getUserAgent(e),e.match(/iPad/)},isAndroid:function(e){return e=this.getUserAgent(e),e.match(/Android/)},isMobile:function(e){return this.isIos(e)||this.isAndroid(e)},isIe:function(e){return e=this.getUserAgent(e),!!e.match(/(MSIE)/g)||!!e.match(/(Trident)/g)},getIeVersion:function(e){if(e=this.getUserAgent(e),this.isIe(e)){var t=function(){var t=-1,n=new RegExp(\"Trident/([0-9]{1,}[.0-9]{0,})\");return null!=n.exec(e)&&(t=parseFloat(RegExp.$1)),t};return-1==t()?7:t()+4}return null},isChrome:function(e){return this.getUserAgent(e).toLowerCase().indexOf(\"chrome\")>-1},isFirefox:function(e){return!!this.getUserAgent(e).match(/(Firefox)/g)},isSafari:function(e){return!!this.getUserAgent(e).match(/(Safari)/g)},isWindows:function(e){return!!this.getUserAgent(e).match(/(Windows)/g)},supportsHTML5Video:function(){return null!=document.createElement(\"video\").canPlayType},getLanguageName:function(t){t=t.slice(0,2);var n=e[t];return n?n.name:void 0},getLangauageNativeName:function(t){t=t.slice(0,2);var n=e[t];return n?n.nativeName:void 0}}}),Ndn_Require.define(\"videojs_hls_lib\",[\"videojs_lib\"],function(e){var t=window.videojs;window.videojs=e,function(){return function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var l=\"function\"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error(\"Cannot find module '\"+a+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var r=\"function\"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=function(e,t){return e.start(t)+\"-\"+e.end(t)},o=function(e,t){var n=e.toString(16);return\"00\".substring(0,2-n.length)+n+(t%2?\" \":\"\")},r=function(e){return e>=32&&126>e?String.fromCharCode(e):\".\"},a={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n=16,i=\"\",a=void 0,s=void 0,l=0;l<t.length/n;l++)a=t.slice(l*n,l*n+n).map(o).join(\"\"),s=t.slice(l*n,l*n+n).map(r).join(\"\"),i+=a+\" \"+s+\"\\n\";return i},tagDump:function(e){return a.hexDump(e.bytes)},textRanges:function(e){var t=\"\",n=void 0;for(n=0;n<e.length;n++)t+=i(e,n)+\" \";return t}};n[\"default\"]=a,t.exports=n[\"default\"]},{}],2:[function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],o=n[4],r=void 0,a=void 0,s=void 0,l=[],u=[],c=void 0,d=void 0,p=void 0,h=void 0,f=void 0,g=void 0;for(r=0;256>r;r++)u[(l[r]=r<<1^283*(r>>7))^r]=r;for(a=s=0;!i[a];a^=c||1,s=u[s]||1)for(h=s^s<<1^s<<2^s<<3^s<<4,h=h>>8^255&h^99,i[a]=h,o[h]=a,p=l[d=l[c=l[a]]],g=16843009*p^65537*d^257*c^16843008*a,f=257*l[h]^16843008*h,r=0;4>r;r++)t[r][a]=f=f<<24^f>>>8,n[r][h]=g=g<<24^g>>>8;for(r=0;5>r;r++)t[r]=t[r].slice(0),n[r]=n[r].slice(0);return e},a=null,s=function(){function e(t){i(this,e),a||(a=r()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var n=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=this._tables[0][4],d=this._tables[1],p=t.length,h=1;if(4!==p&&6!==p&&8!==p)throw new Error(\"Invalid aes key size\");for(l=t.slice(0),u=[],this._key=[l,u],n=p;4*p+28>n;n++)s=l[n-1],(n%p===0||8===p&&n%p===4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],n%p===0&&(s=s<<8^s>>>24^h<<24,h=h<<1^283*(h>>7))),l[n]=l[n-p]^s;for(o=0;n;o++,n--)s=l[3&o?n:n-4],4>=n||4>o?u[o]=s:u[o]=d[0][c[s>>>24]]^d[1][c[s>>16&255]]^d[2][c[s>>8&255]]^d[3][c[255&s]]}return o(e,[{key:\"decrypt\",value:function(e,t,n,i,o,r){var a=this._key[1],s=e^a[0],l=i^a[1],u=n^a[2],c=t^a[3],d=void 0,p=void 0,h=void 0,f=a.length/4-2,g=void 0,m=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],E=y[3],w=y[4];for(g=0;f>g;g++)d=v[s>>>24]^_[l>>16&255]^b[u>>8&255]^E[255&c]^a[m],p=v[l>>>24]^_[u>>16&255]^b[c>>8&255]^E[255&s]^a[m+1],h=v[u>>>24]^_[c>>16&255]^b[s>>8&255]^E[255&l]^a[m+2],c=v[c>>>24]^_[s>>16&255]^b[l>>8&255]^E[255&u]^a[m+3],m+=4,s=d,l=p,u=h;for(g=0;4>g;g++)o[(3&-g)+r]=w[s>>>24]<<24^w[l>>16&255]<<16^w[u>>8&255]<<8^w[255&c]^a[m++],d=s,s=l,l=u,u=c,c=d}}]),e}();n[\"default\"]=s,t.exports=n[\"default\"]},{}],3:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},l=e(\"../stream\"),u=i(l),c=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,u[\"default\"]),this.jobs=[],this.delay=1,this.timeout_=null}return r(t,e),a(t,[{key:\"processJob_\",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:\"push\",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(u[\"default\"]);n[\"default\"]=c,t.exports=n[\"default\"]},{\"../stream\":13}],4:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e(\"./aes\"),s=i(a),l=e(\"./async-stream\"),u=i(l),c=e(\"pkcs7\"),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},p=function(e,t,n){var i=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),o=new s[\"default\"](Array.prototype.slice.call(t)),r=new Uint8Array(e.byteLength),a=new Int32Array(r.buffer),l=void 0,u=void 0,c=void 0,p=void 0,h=void 0,f=void 0,g=void 0,m=void 0,y=void 0;for(l=n[0],u=n[1],c=n[2],p=n[3],y=0;y<i.length;y+=4)h=d(i[y]),f=d(i[y+1]),g=d(i[y+2]),m=d(i[y+3]),o.decrypt(h,f,g,m,a,y),a[y]=d(a[y]^l),a[y+1]=d(a[y+1]^u),a[y+2]=d(a[y+2]^c),a[y+3]=d(a[y+3]^p),l=h,u=f,c=g,p=m;return r};n.decrypt=p;var h=function(){function e(t,n,i,r){o(this,e);var a=e.STEP,s=new Int32Array(t.buffer),l=new Uint8Array(t.byteLength),p=0;for(this.asyncStream_=new u[\"default\"],this.asyncStream_.push(this.decryptChunk_(s.subarray(p,p+a),n,i,l)),p=a;p<s.length;p+=a)i=new Uint32Array([d(s[p-4]),d(s[p-3]),d(s[p-2]),d(s[p-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(p,p+a),n,i,l));this.asyncStream_.push(function(){r(null,(0,c.unpad)(l))})}return r(e,[{key:\"decryptChunk_\",value:function(e,t,n,i){return function(){var o=p(e,t,n);i.set(o,e.byteOffset)}}}]),e}();n.Decrypter=h,h.STEP=32e3,n[\"default\"]={Decrypter:h,decrypt:p}},{\"./aes\":2,\"./async-stream\":3,pkcs7:18}],5:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"./decrypter\"),r=e(\"./async-stream\"),a=i(r);n[\"default\"]={decrypt:o.decrypt,Decrypter:o.Decrypter,AsyncStream:a[\"default\"]},t.exports=n[\"default\"]},{\"./async-stream\":3,\"./decrypter\":4}],6:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"./line-stream\"),r=i(o),a=e(\"./parse-stream\"),s=i(a),l=e(\"./parser\"),u=i(l);n[\"default\"]={LineStream:r[\"default\"],ParseStream:s[\"default\"],Parser:u[\"default\"]},t.exports=n[\"default\"]},{\"./line-stream\":7,\"./parse-stream\":8,\"./parser\":9}],7:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},l=e(\"../stream\"),u=i(l),c=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this),this.buffer=\"\"}return r(t,e),a(t,[{key:\"push\",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf(\"\\n\");t>-1;t=this.buffer.indexOf(\"\\n\"))this.trigger(\"data\",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(u[\"default\"]);n[\"default\"]=c,t.exports=n[\"default\"]},{\"../stream\":13}],8:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},l=e(\"../stream\"),u=i(l),c=function(){var e=\"[^=]*\",t='\"[^\"]*\"|[^,]*',n=\"(?:\"+e+\")=(?:\"+t+\")\";return new RegExp(\"(?:^|,)(\"+n+\")\")},d=function(e){for(var t=e.split(c()),n=t.length,i={},o=void 0;n--;)\"\"!==t[n]&&(o=/([^=]*)=(.*)/.exec(t[n]).slice(1),o[0]=o[0].replace(/^\\s+|\\s+$/g,\"\"),o[1]=o[1].replace(/^\\s+|\\s+$/g,\"\"),o[1]=o[1].replace(/^['\"](.*)['\"]$/g,\"$1\"),i[o[0]]=o[1]);return i},p=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this)}return r(t,e),a(t,[{key:\"push\",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\\u0000\\s]+|[\\u0000\\s]+$/g,\"\"),0!==e.length){if(\"#\"!==e[0])return void this.trigger(\"data\",{type:\"uri\",uri:e});if(0!==e.indexOf(\"#EXT\"))return void this.trigger(\"data\",{type:\"comment\",text:e.slice(1)});if(e=e.replace(\"\\r\",\"\"),t=/^#EXTM3U/.exec(e))return void this.trigger(\"data\",{type:\"tag\",tagType:\"m3u\"});if(t=/^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(e))return n={type:\"tag\",tagType:\"inf\"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger(\"data\",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:\"tag\",tagType:\"targetduration\"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger(\"data\",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:\"tag\",tagType:\"totalduration\"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger(\"data\",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:\"tag\",tagType:\"version\"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger(\"data\",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(e))return n={type:\"tag\",tagType:\"media-sequence\"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger(\"data\",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(e))return n={type:\"tag\",tagType:\"discontinuity-sequence\"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger(\"data\",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:\"tag\",tagType:\"playlist-type\"},t[1]&&(n.playlistType=t[1]),void this.trigger(\"data\",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:\"tag\",tagType:\"byterange\"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger(\"data\",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:\"tag\",tagType:\"allow-cache\"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger(\"data\",n);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:\"tag\",tagType:\"stream-inf\"},t[1]){if(n.attributes=d(t[1]),n.attributes.RESOLUTION){var i=n.attributes.RESOLUTION.split(\"x\"),o={};i[0]&&(o.width=parseInt(i[0],10)),i[1]&&(o.height=parseInt(i[1],10)),n.attributes.RESOLUTION=o}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes[\"PROGRAM-ID\"]&&(n.attributes[\"PROGRAM-ID\"]=parseInt(n.attributes[\"PROGRAM-ID\"],10))}return void this.trigger(\"data\",n)}return(t=/^#EXT-X-ENDLIST/.exec(e))?void this.trigger(\"data\",{type:\"tag\",tagType:\"endlist\"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void this.trigger(\"data\",{type:\"tag\",tagType:\"discontinuity\"}):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(n={type:\"tag\",tagType:\"key\"},t[1]&&(n.attributes=d(t[1]),n.attributes.IV&&(\"0x\"===n.attributes.IV.substring(0,2)&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger(\"data\",n)):void this.trigger(\"data\",{type:\"tag\",data:e.slice(4,e.length)})}}}]),t}(u[\"default\"]);n[\"default\"]=p,t.exports=n[\"default\"]},{\"../stream\":13}],9:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=e(\"../stream\"),c=o(u),d=e(\"./line-stream\"),p=o(d),h=e(\"./parse-stream\"),f=o(h),g=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,m=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this),this.lineStream=new p[\"default\"],this.parseStream=new f[\"default\"],this.lineStream.pipe(this.parseStream);var e=this,n=[],i={},o=void 0,a=function(){};this.manifest={allowCache:!0,discontinuityStarts:[]},this.parseStream.on(\"data\",function(t){({tag:function(){(({\"allow-cache\":function(){this.manifest.allowCache=t.allowed,\"allowed\"in t||(this.trigger(\"info\",{message:\"defaulting allowCache to YES\"}),this.manifest.allowCache=!0)},byterange:function r(){var r={};\"length\"in t&&(i.byterange=r,r.length=t.length,\"offset\"in t||(this.trigger(\"info\",{message:\"defaulting offset to zero\"}),t.offset=0)),\"offset\"in t&&(i.byterange=r,r.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){\"mediaSequence\"in this.manifest||(this.manifest.mediaSequence=0,this.trigger(\"info\",{message:\"defaulting media sequence to zero\"})),\"discontinuitySequence\"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger(\"info\",{message:\"defaulting discontinuity sequence to zero\"})),t.duration>=0&&(i.duration=t.duration),this.manifest.segments=n},key:function(){return t.attributes?\"NONE\"===t.attributes.METHOD?void(o=null):t.attributes.URI?(t.attributes.METHOD||this.trigger(\"warn\",{message:\"defaulting key method to AES-128\"}),o={method:t.attributes.METHOD||\"AES-128\",uri:t.attributes.URI},void(\"undefined\"!=typeof t.attributes.IV&&(o.iv=t.attributes.IV))):void this.trigger(\"warn\",{message:\"ignoring key declaration without URI\"}):void this.trigger(\"warn\",{message:\"ignoring key declaration without attribute list\"})},\"media-sequence\":function(){return isFinite(t.number)?void(this.manifest.mediaSequence=t.number):void this.trigger(\"warn\",{message:\"ignoring invalid media sequence: \"+t.number})},\"discontinuity-sequence\":function(){return isFinite(t.number)?void(this.manifest.discontinuitySequence=t.number):void this.trigger(\"warn\",{message:\"ignoring invalid discontinuity sequence: \"+t.number})},\"playlist-type\":function(){return/VOD|EVENT/.test(t.playlistType)?void(this.manifest.playlistType=t.playlistType):void this.trigger(\"warn\",{message:\"ignoring unknown playlist type: \"+t.playlist})},\"stream-inf\":function(){return this.manifest.playlists=n,t.attributes?(i.attributes||(i.attributes={}),void(i.attributes=(0,g.mergeOptions)(i.attributes,t.attributes))):void this.trigger(\"warn\",{message:\"ignoring empty stream-inf attributes\"})},discontinuity:function(){i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},targetduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger(\"warn\",{message:\"ignoring invalid target duration: \"+t.duration}):void(this.manifest.targetDuration=t.duration)},totalduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger(\"warn\",{message:\"ignoring invalid total duration: \"+t.duration}):void(this.manifest.totalDuration=t.duration)}})[t.tagType]||a).call(e)},uri:function(){i.uri=t.uri,n.push(i),!this.manifest.targetDuration||\"duration\"in i||(this.trigger(\"warn\",{message:\"defaulting segment duration to the target duration\"}),i.duration=this.manifest.targetDuration),o&&(i.key=o),i={}},comment:function(){}})[t.type].call(e)})}return a(t,e),s(t,[{key:\"push\",value:function(e){this.lineStream.push(e)}},{key:\"end\",value:function(){this.lineStream.push(\"\\n\")}}]),t}(c[\"default\"]);n[\"default\"]=m,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"../stream\":13,\"./line-stream\":7,\"./parse-stream\":8}],10:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=e(\"./resolve-url\"),c=o(u),d=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,p=e(\"./stream\"),h=o(p),f=e(\"./m3u8\"),g=o(f),m=function(e,t){for(var n=!1,i=(0,d.mergeOptions)(e,{}),o=e.playlists.length,r=void 0;o--;)if(r=i.playlists[o],r.uri===t.uri){if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)continue;i.playlists[o]=(0,d.mergeOptions)(r,t),i.playlists[t.uri]=i.playlists[o],r.segments&&(i.playlists[o].segments=y(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),n=!0}return n?i:null},y=function(e,t,n){var i=t.slice(),o=void 0,r=void 0;for(n=n||0,o=Math.min(e.length,t.length+n),r=n;o>r;r++)i[r-n]=(0,d.mergeOptions)(e[r],i[r-n]);return i},v=function(e){function t(e,n,i){r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this);var o=this,a=void 0,s=void 0,u=void 0,d=void 0,p=void 0;if(this.hls_=n,this.trackExpiredTime_=!1,!e)throw new Error(\"A non-empty playlist URL is required\");d=function(e,t,n){o.setBandwidth(u||e),u=null,n&&(o.state=n),o.error={playlist:o.master.playlists[t],status:e.status,message:\"HLS playlist request error at URL: \"+t,responseText:e.responseText,code:e.status>=500?4:2},o.trigger(\"error\")},p=function(e,t){var n=void 0,i=void 0,r=void 0;o.setBandwidth(u||e),u=null,o.state=\"HAVE_METADATA\",n=new g[\"default\"].Parser,n.push(e.responseText),n.end(),n.manifest.uri=t,r=m(o.master,n.manifest),i=1e3*(n.manifest.targetDuration||10),r?(o.master=r,o.updateMediaPlaylist_(n.manifest)):i/=2,o.media().endList||(window.clearTimeout(s),s=window.setTimeout(function(){o.trigger(\"mediaupdatetimeout\")},i)),o.trigger(\"loadedplaylist\")},o.state=\"HAVE_NOTHING\",this.expired_=0,a=this.dispose,o.dispose=function(){u&&(u.onreadystatechange=null,u.abort(),u=null),window.clearTimeout(s),a.call(this)},o.media=function(e){var t=o.state,n=void 0;if(!e)return o.media_;if(\"HAVE_NOTHING\"===o.state)throw new Error(\"Cannot switch media playlist from \"+o.state);if(\"string\"==typeof e){if(!o.master.playlists[e])throw new Error(\"Unknown playlist URI: \"+e);e=o.master.playlists[e]}if(n=!o.media_||e.uri!==o.media_.uri,o.master.playlists[e.uri].endList)return u&&(u.onreadystatechange=null,u.abort(),u=null),o.state=\"HAVE_METADATA\",o.media_=e,void(n&&o.trigger(\"mediachange\"));if(n){if(o.state=\"SWITCHING_MEDIA\",u){if((0,c[\"default\"])(o.master.uri,e.uri)===u.url)return;u.onreadystatechange=null,u.abort(),u=null}u=this.hls_.xhr({uri:(0,c[\"default\"])(o.master.uri,e.uri),withCredentials:i},function(n,i){return n?d(i,e.uri,t):(p(i,e.uri),void(\"HAVE_MASTER\"===t?o.trigger(\"loadedmetadata\"):o.trigger(\"mediachange\")))})}},o.setBandwidth=function(e){o.bandwidth=e.bandwidth},o.on(\"firstplay\",function(){this.trackExpiredTime_=!0}),o.on(\"mediaupdatetimeout\",function(){\"HAVE_METADATA\"===o.state&&(o.state=\"HAVE_CURRENT_METADATA\",u=this.hls_.xhr({uri:(0,c[\"default\"])(o.master.uri,o.media().uri),withCredentials:i},function(e,t){return e?d(t,o.media().uri):void p(t,o.media().uri)}))}),u=this.hls_.xhr({uri:e,withCredentials:i},function(t,n){var i=void 0,r=void 0;if(u=null,t)return o.error={status:n.status,message:\"HLS playlist request error at URL: \"+e,responseText:n.responseText,code:2},o.trigger(\"error\");if(i=new g[\"default\"].Parser,i.push(n.responseText),i.end(),o.state=\"HAVE_MASTER\",i.manifest.uri=e,i.manifest.playlists){for(o.master=i.manifest,r=o.master.playlists.length;r--;)o.master.playlists[o.master.playlists[r].uri]=o.master.playlists[r];return o.trigger(\"loadedplaylist\"),void(u||o.media(i.manifest.playlists[0]))}return o.master={uri:window.location.href,playlists:[{uri:e}]},o.master.playlists[e]=o.master.playlists[0],p(n,e),o.trigger(\"loadedmetadata\")})}return a(t,e),s(t,[{key:\"updateMediaPlaylist_\",value:function(e){var t=void 0,n=void 0,i=void 0;if(t=this.media_,this.media_=this.master.playlists[e.uri],t&&this.trackExpiredTime_&&e.uri===t.uri){if(e.segments.length){if(void 0!==e.segments[0].start)return void(this.expired_=e.segments[0].start);if(void 0!==e.segments[0].end)return void(this.expired_=e.segments[0].end-e.segments[0].duration)}for(n=e.mediaSequence-t.mediaSequence-1;n>=0;n--)if(i=t.segments[n]){if(void 0!==i.end)return void(this.expired_=i.end);if(void 0!==i.start)return void(this.expired_=i.start+i.duration);this.expired_+=i.duration}else this.expired_+=t.targetDuration||10}}},{key:\"getMediaIndexForTime_\",value:function(e){var t=void 0,n=void 0,i=e,o=this.media_.segments.length,r=o-1,a=void 0,s=void 0,l=void 0,u=void 0;if(!this.media_)return 0;if(0>e)return 0;for(t=0;o>t;t++)if(n=this.media_.segments[t],n.end){if(n.end>e){u=n.end,s=t;break}l=n.end,a=t+1}if(void 0!==a){for(e-=l,t=a;(s||o)>t;t++)if(n=this.media_.segments[t],e-=n.duration,0>e)return t;return t>=s?a+Math.floor((i-l)/(u-l)*(s-a)):r}if(void 0!==s){for(e=u-e,t=s;t>=0;t--)if(n=this.media_.segments[t],e-=n.duration,0>e)return t;return 0===e?0:-1}if(e-=this.expired_,0>e)return-1;for(t=0;o>t;t++)if(n=this.media_.segments[t],e-=n.duration,0>e)return t;return r}}]),t}(h[\"default\"]);n[\"default\"]=v,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./m3u8\":6,\"./resolve-url\":12,\"./stream\":13}],11:[function(e,t,n){(function(e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var t=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof e?e.videojs:null,i={UNSAFE_LIVE_SEGMENTS:3},o=function(e,t){var n=0,i=t-e.mediaSequence,o=e.segments[i];if(o){if(\"undefined\"!=typeof o.start)return{result:o.start,precise:!0};if(\"undefined\"!=typeof o.end)return{result:o.end-o.duration,precise:!0}}for(;i--;){if(o=e.segments[i],\"undefined\"!=typeof o.end)return{result:n+o.end,precise:!0};if(n+=o.duration,\"undefined\"!=typeof o.start)return{result:n+o.start,precise:!0}}return{result:n,precise:!1}},r=function(e,t){for(var n=0,i=void 0,o=t-e.mediaSequence;o<e.segments.length;o++){if(i=e.segments[o],\"undefined\"!=typeof i.start)return{result:i.start-n,precise:!0};if(n+=i.duration,\"undefined\"!=typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},a=function(e,t){var n=void 0,i=void 0;return\"undefined\"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=o(e,t),n.precise?n.result:(i=r(e,t),i.precise?i.result:n.result))},s=function(e,t,n){if(!e)return 0;if(\"undefined\"==typeof n&&(n=!0),\"undefined\"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return window.Infinity}return a(e,t,n)};n.duration=s;var l=function(e){var n=void 0,o=void 0;return e.segments?e.endList?(0,t.createTimeRange)(0,s(e)):(n=a(e,e.mediaSequence),o=a(e,e.mediaSequence+Math.max(0,e.segments.length-i.UNSAFE_LIVE_SEGMENTS)),(0,t.createTimeRange)(n,o)):(0,t.createTimeRange)()};n.seekable=l,i.duration=s,i.seekable=l,n[\"default\"]=i}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],12:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"global/document\"),r=i(o),a=function(e,t){var n=r[\"default\"].querySelector(\"base\"),i=r[\"default\"].querySelector(\"head\"),o=r[\"default\"].createElement(\"a\"),a=n,s=void 0,l=void 0;return n?s=n.href:a=i.appendChild(r[\"default\"].createElement(\"base\")),a.href=e,o.href=t,l=o.href,n?n.href=s:i.removeChild(a),l};n[\"default\"]=a,t.exports=n[\"default\"]},{\"global/document\":16}],13:[function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.listeners={}}return o(e,[{key:\"on\",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:\"off\",value:function(e,t){var n=void 0;return this.listeners[e]?(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1):!1}},{key:\"trigger\",value:function(e){var t=void 0,n=void 0,i=void 0,o=void 0;if(t=this.listeners[e])if(2===arguments.length)for(i=t.length,n=0;i>n;++n)t[n].call(this,arguments[1]);else for(o=Array.prototype.slice.call(arguments,1),i=t.length,n=0;i>n;++n)t[n].apply(this,o)}},{key:\"dispose\",value:function(){this.listeners={}}},{key:\"pipe\",value:function(e){this.on(\"data\",function(t){e.push(t)})}}]),e}();n[\"default\"]=r,t.exports=n[\"default\"]},{}],14:[function(e,t,n){(function(e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof e?e.videojs:null,o=function(){var e=function t(e,n){if(e=(0,i.mergeOptions)({timeout:45e3},e),t.beforeRequest&&\"function\"==typeof t.beforeRequest){var o=t.beforeRequest(e);o&&(e=o)}var r=(0,i.xhr)(e,function(e,t){!e&&r.response&&(r.responseTime=(new Date).getTime(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=r.response.byteLength||r.response.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),e||r.timedout?r.timedout=r.timedout||\"ETIMEDOUT\"===e.code:r.timedout=!1,e||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error(\"XHR Failed with a response of: \"+(r&&(r.response||r.responseText)))),n(e,r)});return r.requestTime=(new Date).getTime(),r};return e};n[\"default\"]=o,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],15:[function(e,t,n){},{}],16:[function(e,t,n){(function(n){var i=\"undefined\"!=typeof n?n:\"undefined\"!=typeof window?window:{},o=e(\"min-document\");\nif(\"undefined\"!=typeof document)t.exports=document;else{var r=i[\"__GLOBAL_DOCUMENT_CACHE@4\"];r||(r=i[\"__GLOBAL_DOCUMENT_CACHE@4\"]=o),t.exports=r}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"min-document\":15}],17:[function(e,t,n){\"use strict\";var i;t.exports=function(e){var t=i[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},i=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],18:[function(e,t,n){\"use strict\";n.pad=e(\"./pad.js\"),n.unpad=e(\"./unpad.js\")},{\"./pad.js\":17,\"./unpad.js\":19}],19:[function(e,t,n){\"use strict\";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],20:[function(e,t,n){(function(e){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof e?e.videojs:null,r=i(o),a=function(e){Object.defineProperties(e.frame,{id:{get:function(){return r[\"default\"].log.warn(\"cue.frame.id is deprecated. Use cue.value.key instead.\"),e.value.key}},value:{get:function(){return r[\"default\"].log.warn(\"cue.frame.value is deprecated. Use cue.value.data instead.\"),e.value.data}},privateData:{get:function(){return r[\"default\"].log.warn(\"cue.frame.privateData is deprecated. Use cue.value.data instead.\"),e.value.data}}})},s=function(e,t,n){var i=window.WebKitDataCue||window.VTTCue;t&&t.forEach(function(e){this.inbandTextTrack_.addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n&&n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var n=new i(t,t,e.value||e.url||e.data||\"\");n.frame=e,n.value=e,a(n),this.metadataTrack_.addCue(n)},this)},e)};n[\"default\"]=s,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],21:[function(e,t,n){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=function(e,t,n){n.captions&&n.captions.length&&!e.inbandTextTrack_&&(e.inbandTextTrack_=t.player_.addTextTrack(\"captions\",\"cc1\")),n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=t.player_.addTextTrack(\"metadata\",\"Timed Metadata\"),e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n[\"default\"]=i,t.exports=n[\"default\"]},{}],22:[function(e,t,n){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i={TIME_BETWEEN_TICKS:Math.floor(1e3/480),TIME_PER_TICK:Math.floor(1e3/240),BYTES_PER_CHUNK:1024,MIN_CHUNK:1024,MAX_CHUNK:1048576};n[\"default\"]=i,t.exports=n[\"default\"]},{}],23:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,c=o(u),d=e(\"./flash-source-buffer\"),p=o(d),h=e(\"./flash-constants\"),f=o(h),g=function(e){function t(){var e=this;r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this),this.sourceBuffers=[],this.readyState=\"closed\",this.on([\"sourceopen\",\"webkitsourceopen\"],function(t){e.swfObj=document.getElementById(t.swfId),e.player_=(0,c[\"default\"])(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState=\"open\",e.tech_.on(\"seeking\",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.swfObj&&e.swfObj.vjs_load()})}return a(t,e),s(t,[{key:\"addSeekableRange_\",value:function(){}},{key:\"addSourceBuffer\",value:function(e){var t=void 0;if(0!==e.indexOf(\"video/mp2t\"))throw new Error(\"NotSupportedError (Video.js)\");return t=new p[\"default\"](this),this.sourceBuffers.push(t),t}},{key:\"endOfStream\",value:function(e){\"network\"===e?this.tech_.error(2):\"decode\"===e&&this.tech_.error(3),\"ended\"!==this.readyState&&(this.readyState=\"ended\",this.swfObj.vjs_endOfStream())}}]),t}(c[\"default\"].EventTarget);n[\"default\"]=g;try{Object.defineProperty(g.prototype,\"duration\",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty(\"duration\"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty(\"duration\");if(this.swfObj.vjs_setProperty(\"duration\",e),n>e)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(m){g.prototype.duration=NaN}for(var y in f[\"default\"])g[y]=f[\"default\"][y];t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./flash-constants\":22,\"./flash-source-buffer\":24}],24:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,c=o(u),d=e(\"mux.js\"),p=o(d),h=e(\"./remove-cues-from-track\"),f=o(h),g=e(\"./create-text-tracks-if-necessary\"),m=o(g),y=e(\"./add-text-track-data\"),v=o(y),_=e(\"./flash-constants\"),b=o(_),E=function(e){window.setTimeout(e,b[\"default\"].TIME_BETWEEN_TICKS)},w=function(e){function t(e){var n=this;r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this);var i=void 0;this.chunkSize_=b[\"default\"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource=e,this.updating=!1,this.timestampOffset_=0,this.segmentParser_=new p[\"default\"].flv.Transmuxer,this.segmentParser_.on(\"data\",this.receiveBuffer_.bind(this)),i=window.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(this.segmentParser_.getFlvHeader()))),this.mediaSource.swfObj.vjs_appendBuffer(i),Object.defineProperty(this,\"timestampOffset\",{get:function(){return this.timestampOffset_},set:function(e){\"number\"==typeof e&&e>=0&&(this.timestampOffset_=e,this.segmentParser_=new p[\"default\"].flv.Transmuxer,this.segmentParser_.on(\"data\",this.receiveBuffer_.bind(this)),this.mediaSource.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN)}}),Object.defineProperty(this,\"buffered\",{get:function(){return c[\"default\"].createTimeRanges(this.mediaSource.swfObj.vjs_getProperty(\"buffered\"))}}),this.mediaSource.player_.on(\"seeked\",function(){(0,f[\"default\"])(0,1/0,n.metadataTrack_),(0,f[\"default\"])(0,1/0,n.inbandTextTrack_)})}return a(t,e),s(t,[{key:\"appendBuffer\",value:function(e){var t=this,n=void 0,i=524288,o=0;if(this.updating)throw n=new Error(\"SourceBuffer.append() cannot be called while an update is in progress\"),n.name=\"InvalidStateError\",n.code=11,n;this.updating=!0,this.mediaSource.readyState=\"open\",this.trigger({type:\"update\"});var r=function a(){t.segmentParser_.push(e.subarray(o,o+i)),o+=i,E(o<e.byteLength?a:t.segmentParser_.flush.bind(t.segmentParser_))};r()}},{key:\"abort\",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:\"updateend\"}))}},{key:\"remove\",value:function(e,t){(0,f[\"default\"])(e,t,this.metadataTrack_),(0,f[\"default\"])(e,t,this.inbandTextTrack_),this.trigger({type:\"update\"}),this.trigger({type:\"updateend\"})}},{key:\"receiveBuffer_\",value:function(e){var t=this;(0,m[\"default\"])(this,this.mediaSource,e),(0,v[\"default\"])(this,e.captions,e.metadata),E(function(){var n=t.convertTagsToData_(e);0===t.buffer_.length&&E(t.processBuffer_.bind(t)),n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)})}},{key:\"processBuffer_\",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0,r=0,a=0,s=+new Date,l=void 0;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:\"updateend\"})));do{for(a++,e=this.buffer_[0].subarray(r,r+this.chunkSize_),e.byteLength<this.chunkSize_||this.buffer_[0].byteLength===r+this.chunkSize_?(r=0,this.buffer_.shift()):r+=this.chunkSize_,this.bufferSize_-=e.byteLength,i=\"\",n=e.byteLength,t=0;n>t;t++)i+=String.fromCharCode(e[t]);o=window.btoa(i),this.mediaSource.swfObj.CallFunction('<invoke name=\"vjs_appendBuffer\"returntype=\"javascript\"><arguments><string>'+o+\"</string></arguments></invoke>\"),l=new Date-s}while(this.buffer_.length&&l<b[\"default\"].TIME_PER_TICK);this.buffer_.length&&r&&(this.buffer_[0]=this.buffer_[0].subarray(r)),l>=b[\"default\"].TIME_PER_TICK&&(this.chunkSize_=Math.floor(this.chunkSize_*(a/4))),this.chunkSize_=Math.max(b[\"default\"].MIN_CHUNK,Math.min(this.chunkSize_,b[\"default\"].MAX_CHUNK)),0!==this.bufferSize_?E(this.processBuffer_.bind(this)):(this.updating=!1,this.trigger({type:\"updateend\"}))}},{key:\"convertTagsToData_\",value:function(e){var t=0,n=this.mediaSource.tech_,i=0,o=void 0,r=void 0,a=void 0,s=[],l=this.getOrderedTags_(e);for(isNaN(this.basePtsOffset_)&&l.length&&(this.basePtsOffset_=l[0].pts),n.buffered().length&&(i=n.buffered().end(0)-this.timestampOffset),i=Math.max(i,n.currentTime()-this.timestampOffset),i*=1e3,i+=this.basePtsOffset_,o=0;o<l.length;o++)l[o].pts>=i&&s.push(l[o]);if(0!==s.length){for(o=0;o<s.length;o++)t+=s[o].bytes.byteLength;for(a=new Uint8Array(t),o=0,r=0;o<s.length;o++)a.set(s[o].bytes,r),r+=s[o].bytes.byteLength;return a}}},{key:\"getOrderedTags_\",value:function(e){for(var t=e.tags.videoTags,n=e.tags.audioTags,i=void 0,o=[];t.length||n.length;)i=t.length?n.length&&n[0].dts<t[0].dts?n.shift():t.shift():n.shift(),o.push(i.finalize());return o}}]),t}(c[\"default\"].EventTarget);n[\"default\"]=w,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./add-text-track-data\":20,\"./create-text-tracks-if-necessary\":21,\"./flash-constants\":22,\"./remove-cues-from-track\":26,\"mux.js\":37}],25:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,c=o(u),d=e(\"./virtual-source-buffer\"),p=o(d),h=function(e){return e.replace(/avc1\\.(\\d+)\\.(\\d+)/i,function(e,t,n){var i=(\"00\"+Number(t).toString(16)).slice(-2),o=(\"00\"+Number(n).toString(16)).slice(-2);return\"avc1.\"+i+\"00\"+o})},f=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,c[\"default\"].EventTarget);var e=this,n=void 0;this.mediaSource_=new window.MediaSource;for(n in this.mediaSource_)n in t.prototype||\"function\"!=typeof this.mediaSource_[n]||(this[n]=this.mediaSource_[n].bind(this.mediaSource_));this.duration_=NaN,Object.defineProperty(this,\"duration\",{get:function(){return e.duration_===1/0?e.duration_:e.mediaSource_.duration},set:function(t){return e.duration_=t,t!==1/0?void(e.mediaSource_.duration=t):void 0}}),Object.defineProperty(this,\"seekable\",{get:function(){return this.duration_===1/0?c[\"default\"].createTimeRanges([[0,e.mediaSource_.duration]]):e.mediaSource_.seekable}}),Object.defineProperty(this,\"readyState\",{get:function(){return e.mediaSource_.readyState}}),this.sourceBuffers=[],[\"sourceopen\",\"sourceclose\",\"sourceended\"].forEach(function(e){this.mediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on(\"sourceopen\",function(t){var n=document.querySelector('[src=\"'+e.url_+'\"]');n&&(e.player_=(0,c[\"default\"])(n.parentNode))}),this.on(\"sourceclose\",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0})}return a(t,e),s(t,[{key:\"addSeekableRange_\",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw n=new Error(\"MediaSource.addSeekableRange() can only be invoked when the duration is Infinity\"),n.name=\"InvalidStateError\",n.code=11,n;(t>this.mediaSource_.duration||isNaN(this.mediaSource_.duration))&&(this.mediaSource_.duration=t)}},{key:\"addSourceBuffer\",value:function(e){var t=void 0,n=void 0,i=void 0,o=void 0,r=/avc1\\.[\\da-f]+/i,a=/mp4a\\.\\d+.\\d+/i;return/^video\\/mp2t/i.test(e)?(n=e.split(\";\").slice(1).join(\";\"),n=h(n),i=(n.match(r)||[])[0],o=(n.match(a)||[])[0],i&&i.length||(i=\"avc1.4d400d\"),o&&o.length||(o=\"mp4a.40.2\"),t=new p[\"default\"](this,[i,o]),this.sourceBuffers.push(t),t):(t=this.mediaSource_.addSourceBuffer(e),this.sourceBuffers.push(t),t)}}]),t}(c[\"default\"].EventTarget);n[\"default\"]=f,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./virtual-source-buffer\":29}],26:[function(e,t,n){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var i=function(e,t,n){var i=void 0,o=void 0;if(n)for(i=n.cues.length;i--;)o=n.cues[i],o.startTime<=t&&o.endTime>=e&&n.removeCue(o)};n[\"default\"]=i,t.exports=n[\"default\"]},{}],27:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"mux.js\"),r=i(o),a=void 0,s={},l=function(e){e.on(\"data\",function(e){var t=e.data;e.data=t.buffer,postMessage({action:\"data\",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.captionStream&&e.captionStream.on(\"data\",function(e){postMessage({action:\"caption\",data:e})}),e.on(\"done\",function(e){postMessage({action:\"done\"})})},u={init:function(e){s=e&&e.options||{},this.defaultInit()},defaultInit:function(){a&&a.dispose(),a=new r[\"default\"].mp4.Transmuxer(s),l(a)},push:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);a.push(t)},reset:function(){this.defaultInit()},setTimestampOffset:function(e){var t=e.timestampOffset||0;a.setBaseMediaDecodeTime(Math.round(9e4*t))},flush:function(e){a.flush()}},c=function(e){e.onmessage=function(e){a||\"init\"===e.data.action||u.defaultInit(),e.data&&e.data.action&&u[e.data.action]&&u[e.data.action](e.data)}};n[\"default\"]=c,t.exports=n[\"default\"]},{\"mux.js\":37}],28:[function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var o=e(\"./flash-media-source\"),r=i(o),a=e(\"./html-media-source\"),s=i(a),l=window.videojs,u=0,c={mode:\"auto\"};l.mediaSources={};var d=function(e,t){var n=l.mediaSources[e];if(!n)throw new Error(\"Media Source not found (Video.js)\");n.trigger({type:\"sourceopen\",swfId:t})},p=function(){return!!window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"')},h=function(e){var t=l.mergeOptions(c,e);return this.MediaSource={open:d,supportsNativeMediaSources:p},\"html5\"===t.mode||\"auto\"===t.mode&&p()?new s[\"default\"]:new r[\"default\"]};n.MediaSource=h,h.open=d,h.supportsNativeMediaSources=p;var f={createObjectURL:function(e){var t=\"blob:vjs-media-source/\",n=void 0;return e instanceof s[\"default\"]?(n=window.URL.createObjectURL(e.mediaSource_),e.url_=n,n):e instanceof r[\"default\"]?(n=t+u,u++,l.mediaSources[n]=e,n):(n=window.URL.createObjectURL(e),e.url_=n,n)}};n.URL=f,l.MediaSource=h,l.URL=f},{\"./flash-media-source\":23,\"./html-media-source\":25}],29:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,c=o(u),d=e(\"./create-text-tracks-if-necessary\"),p=o(d),h=e(\"./remove-cues-from-track\"),f=o(h),g=e(\"./add-text-track-data\"),m=o(g),y=e(\"webworkify\"),v=o(y),_=e(\"./transmuxer-worker\"),b=o(_),E=function(e,t,n){return function(){return e[t]&&e[t].updating?void 0:e.trigger(n)}},w=function(e){function t(e,n){var i=this;r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,c[\"default\"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=n,this.transmuxer_=(0,v[\"default\"])(b[\"default\"]),this.transmuxer_.postMessage({action:\"init\",options:{remux:!1}}),this.transmuxer_.onmessage=function(e){return\"data\"===e.data.action?i.data_(e):\"done\"===e.data.action?i.done_(e):void 0},Object.defineProperty(this,\"timestampOffset\",{get:function(){return this.timestampOffset_},set:function(e){\"number\"==typeof e&&e>=0&&(this.timestampOffset_=e,this.transmuxer_.postMessage({action:\"setTimestampOffset\",timestampOffset:e}))}}),Object.defineProperty(this,\"appendWindowStart\",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,\"updating\",{get:function(){return this.bufferUpdating_||this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating}}),Object.defineProperty(this,\"buffered\",{get:function(){var e=null,t=null,n=0,i=[],o=[];if(!(this.videoBuffer_&&0!==this.videoBuffer_.buffered.length||this.audioBuffer_&&0!==this.audioBuffer_.buffered.length))return c[\"default\"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;for(var r=this.videoBuffer_.buffered,a=this.audioBuffer_.buffered,s=r.length;s--;)i.push({time:r.start(s),type:\"start\"}),i.push({time:r.end(s),type:\"end\"});for(s=a.length;s--;)i.push({time:a.start(s),type:\"start\"}),i.push({time:a.end(s),type:\"end\"});for(i.sort(function(e,t){return e.time-t.time}),s=0;s<i.length;s++)\"start\"===i[s].type?(n++,2===n&&(e=i[s].time)):\"end\"===i[s].type&&(n--,1===n&&(t=i[s].time)),null!==e&&null!==t&&(o.push([e,t]),e=null,t=null);return c[\"default\"].createTimeRanges(o)}})}return a(t,e),s(t,[{key:\"data_\",value:function(e){var t=e.data.segment,n=this.mediaSource_.mediaSource_;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),\"video\"===t.type?this.videoBuffer_||(this.videoBuffer_=n.addSourceBuffer('video/mp4;codecs=\"'+this.codecs_[0]+'\"'),this.videoBuffer_.addEventListener(\"updatestart\",E(this,\"audioBuffer_\",\"updatestart\")),this.videoBuffer_.addEventListener(\"update\",E(this,\"audioBuffer_\",\"update\")),this.videoBuffer_.addEventListener(\"updateend\",E(this,\"audioBuffer_\",\"updateend\"))):\"audio\"===t.type?this.audioBuffer_||(this.audioBuffer_=n.addSourceBuffer('audio/mp4;codecs=\"'+this.codecs_[1]+'\"'),this.audioBuffer_.addEventListener(\"updatestart\",E(this,\"videoBuffer_\",\"updatestart\")),this.audioBuffer_.addEventListener(\"update\",E(this,\"videoBuffer_\",\"update\")),this.audioBuffer_.addEventListener(\"updateend\",E(this,\"videoBuffer_\",\"updateend\"))):\"combined\"===t.type&&(this.videoBuffer_||(this.videoBuffer_=n.addSourceBuffer('video/mp4;codecs=\"'+this.codecs_.join(\",\")+'\"'),this.videoBuffer_.addEventListener(\"updatestart\",E(this,\"videoBuffer_\",\"updatestart\")),this.videoBuffer_.addEventListener(\"update\",E(this,\"videoBuffer_\",\"update\")),this.videoBuffer_.addEventListener(\"updateend\",E(this,\"videoBuffer_\",\"updateend\")))),(0,p[\"default\"])(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:\"done_\",value:function(){this.processPendingSegments_()}},{key:\"appendBuffer\",value:function(e){this.bufferUpdating_=!0,this.transmuxer_.postMessage({action:\"push\",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:\"flush\"})}},{key:\"remove\",value:function(e,t){this.videoBuffer_&&this.videoBuffer_.remove(e,t),this.audioBuffer_&&this.audioBuffer_.remove(e,t),(0,f[\"default\"])(e,t,this.metadataTrack_),(0,f[\"default\"])(e,t,this.inbandTextTrack_)}},{key:\"processPendingSegments_\",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,i=t.data;return\"combined\"===n&&(n=\"video\"),e[n].segments.push(i),e[n].bytes+=i.byteLength,t.captions&&(e.captions=e.captions.concat(t.captions)),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),(0,m[\"default\"])(this,e.captions,e.metadata),this.concatAndAppendSegments_(e.video,this.videoBuffer_),this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:\"concatAndAppendSegments_\",value:function(e,t){var n=0,i=void 0;e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(e){i.set(e,n),n+=e.byteLength}),t.appendBuffer(i))}},{key:\"abort\",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:\"reset\"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(c[\"default\"].EventTarget);n[\"default\"]=w,t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./add-text-track-data\":20,\"./create-text-tracks-if-necessary\":21,\"./remove-cues-from-track\":26,\"./transmuxer-worker\":27,webworkify:50}],30:[function(e,t,n){\"use strict\";var i,o=e(\"../utils/stream.js\");i=function(){var e,t=0;i.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],i=e[t+5],o=(16&i)>>4;return o?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3,o=6144&e[t+3];return o|i|n},this.push=function(n){var i,o,r,a=0,s=0;for(void 0!==e&&e.length?(r=e.length,e=new Uint8Array(n.byteLength+r),e.set(e.subarray(0,r)),e.set(n,r)):e=n;e.length-s>=10;)if(e[s]!==\"I\".charCodeAt(0)||e[s+1]!==\"D\".charCodeAt(0)||e[s+2]!==\"3\".charCodeAt(0))if(e[s]&!0&&240===(240&e[s+1])){if(a=this.parseAdtsSize(e,s),a>e.length)break;o={type:\"audio\",data:e.subarray(s,s+a),pts:t,dts:t},this.trigger(\"data\",o),s+=a}else s++;else{if(a=this.parseId3TagSize(e,s),a>e.length)break;i={type:\"timed-metadata\",data:e.subarray(s,s+a)},this.trigger(\"data\",i),s+=a}}},i.prototype=new o,t.exports=i},{\"../utils/stream.js\":49}],31:[function(e,t,n){\"use strict\";var i,o=e(\"../utils/stream.js\"),r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=function(){var e,t;i.prototype.init.call(this),e=this,this.push=function(e){var n,i,o,a,s,l,u=0,c=0;if(\"audio\"===e.type)for(t?(a=t,t=new Uint8Array(a.byteLength+e.data.byteLength),t.set(a),t.set(e.data,a.byteLength)):t=e.data;u+5<t.length;)if(255===t[u]&&240===(246&t[u+1])){if(i=2*(1&~t[u+1]),n=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,s=1024*((3&t[u+6])+1),l=9e4*s/r[(60&t[u+2])>>>2],o=u+n,t.byteLength<o)return;if(this.trigger(\"data\",{pts:e.pts+c*l,dts:e.dts+c*l,sampleCount:s,audioobjecttype:(t[u+2]>>>6&3)+1,channelcount:(1&t[u+2])<<3|(192&t[u+3])>>>6,samplerate:r[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+i,o)}),t.byteLength===o)return void(t=void 0);c++,t=t.subarray(o)}else u++},this.flush=function(){this.trigger(\"done\")}},i.prototype=new o,t.exports=i},{\"../utils/stream.js\":49}],32:[function(e,t,n){\"use strict\";var i,o,r=e(\"../utils/stream.js\"),a=e(\"../utils/exp-golomb.js\");o=function(){var e,t,n=0;o.prototype.init.call(this),this.push=function(i){var o;for(t?(o=new Uint8Array(t.byteLength+i.data.byteLength),o.set(t),o.set(i.data,t.byteLength),t=o):t=i.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}this.trigger(\"data\",t.subarray(n+3,e-2));do e++;while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger(\"data\",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger(\"data\",t.subarray(n+3)),t=null,n=0,this.trigger(\"done\")}},o.prototype=new r,i=function(){var e,t,n,r,s,l,u,c=new o;i.prototype.init.call(this),e=this,this.push=function(e){\"video\"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,c.push(e))},c.on(\"data\",function(i){var o={trackId:t,pts:n,dts:r,data:i};switch(31&i[0]){case 5:o.nalUnitType=\"slice_layer_without_partitioning_rbsp_idr\";break;case 6:o.nalUnitType=\"sei_rbsp\",o.escapedRBSP=s(i.subarray(1));break;case 7:o.nalUnitType=\"seq_parameter_set_rbsp\",o.escapedRBSP=s(i.subarray(1)),o.config=l(o.escapedRBSP);break;case 8:o.nalUnitType=\"pic_parameter_set_rbsp\";break;case 9:o.nalUnitType=\"access_unit_delimiter_rbsp\"}e.trigger(\"data\",o)}),c.on(\"done\",function(){e.trigger(\"done\")}),this.flush=function(){c.flush()},u=function(e,t){var n,i,o=8,r=8;for(n=0;e>n;n++)0!==r&&(i=t.readExpGolomb(),r=(o+i+256)%256),o=0===r?o:r},s=function(e){for(var t,n,i=e.byteLength,o=[],r=1;i-2>r;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(o.push(r+2),r+=2):r++;if(0===o.length)return e;t=i-o.length,n=new Uint8Array(t);var a=0;for(r=0;t>r;a++,r++)a===o[0]&&(a++,o.shift()),n[r]=e[a];return n},l=function(e){var t,n,i,o,r,s,l,c,d,p,h,f,g=0,m=0,y=0,v=0;if(t=new a(e),n=t.readUnsignedByte(),o=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),(100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||139===n||134===n)&&(r=t.readUnsignedExpGolomb(),3===r&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==r?8:12,f=0;h>f;f++)t.readBoolean()&&(6>f?u(16,t):u(64,t));if(t.skipUnsignedExpGolomb(),s=t.readUnsignedExpGolomb(),0===s)t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),f=0;l>f;f++)t.skipExpGolomb();return t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),p=t.readBits(1),0===p&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),{profileIdc:n,levelIdc:i,profileCompatibility:o,width:16*(c+1)-2*g-2*m,height:(2-p)*(d+1)*16-2*y-2*v}}},i.prototype=new r,t.exports={H264Stream:i,NalByteStream:o}},{\"../utils/exp-golomb.js\":48,\"../utils/stream.js\":49}],33:[function(e,t,n){t.exports={adts:e(\"./adts\"),h264:e(\"./h264\")}},{\"./adts\":31,\"./h264\":32}],34:[function(e,t,n){\"use strict\";var i;i=function(e,t){var n,o=0,r=16384,a=function(e,t){var n,i=e.position+t;i<e.bytes.byteLength||(n=new Uint8Array(2*i),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=i.widthBytes||new Uint8Array(\"width\".length),l=i.heightBytes||new Uint8Array(\"height\".length),u=i.videocodecidBytes||new Uint8Array(\"videocodecid\".length);if(!i.widthBytes){for(n=0;n<\"width\".length;n++)s[n]=\"width\".charCodeAt(n);for(n=0;n<\"height\".length;n++)l[n]=\"height\".charCodeAt(n);for(n=0;n<\"videocodecid\".length;n++)u[n]=\"videocodecid\".charCodeAt(n);i.widthBytes=s,i.heightBytes=l,i.videocodecidBytes=u}switch(this.keyFrame=!1,e){case i.VIDEO_TAG:this.length=16,r*=6;break;case i.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case i.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw\"Error Unknown TagType\"}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i,o=t||0;n=n||e.byteLength,i=o+n,a(this,n),this.bytes.set(e.subarray(o,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===o?0:this.length-(o+4)},this.startNalUnit=function(){if(o>0)throw new Error(\"Attempted to create new NAL wihout closing the old one\");o=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===o+4?this.length-=4:o>0&&(t=o+4,n=this.length-t,this.position=o,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),o=0},this.writeMetaDataDouble=function(e,t){var n;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,\"width\"===e)this.bytes.set(s,this.position),this.position+=5;else if(\"height\"===e)this.bytes.set(l,this.position),this.position+=6;else if(\"videocodecid\"===e)this.bytes.set(u,this.position),\nthis.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++o},this.writeMetaDataBoolean=function(e,t){var n;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)a(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++o},this.finalize=function(){var e,n;switch(this.bytes[0]){case i.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case i.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case i.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,o),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=i.frameTime(this.bytes),this}},i.AUDIO_TAG=8,i.VIDEO_TAG=9,i.METADATA_TAG=18,i.isAudioFrame=function(e){return i.AUDIO_TAG===e[0]},i.isVideoFrame=function(e){return i.VIDEO_TAG===e[0]},i.isMetaData=function(e){return i.METADATA_TAG===e[0]},i.isKeyFrame=function(e){return i.isVideoFrame(e)?23===e[11]:i.isAudioFrame(e)?!0:i.isMetaData(e)?!0:!1},i.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.exports=i},{}],35:[function(e,t,n){t.exports={tag:e(\"./flv-tag\"),Transmuxer:e(\"./transmuxer\"),tools:e(\"../tools/flv-inspector\")}},{\"../tools/flv-inspector\":46,\"./flv-tag\":34,\"./transmuxer\":36}],36:[function(e,t,n){\"use strict\";var i,o,r,a,s,l,u,c=e(\"../utils/stream.js\"),d=e(\"./flv-tag.js\"),p=e(\"../m2ts/m2ts.js\"),h=e(\"../codecs/adts.js\"),f=e(\"../codecs/h264\").H264Stream;s=function(e,t){\"number\"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),\"number\"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},l=function(e,t){var n=new d(d.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble(\"videocodecid\",7),n.writeMetaDataDouble(\"width\",e.width),n.writeMetaDataDouble(\"height\",e.height),n},u=function(e,t){var n,i=new d(d.VIDEO_TAG,!0);for(i.dts=t,i.pts=t,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),n=0;n<e.pps.length;++n)i.writeShort(e.pps[n].length),i.writeBytes(e.pps[n]);return i},r=function(e){var t,n=[];r.prototype.init.call(this),this.push=function(t){s(e,t),e&&void 0===e.channelcount&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var i,o,r,a=[];if(0===n.length)return void this.trigger(\"done\");for(r=-(1/0);n.length;)i=n.shift(),(e.extraData!==t||i.pts-r>=1e3)&&(o=new d(d.METADATA_TAG),o.pts=i.pts,o.dts=i.dts,o.writeMetaDataDouble(\"audiocodecid\",10),o.writeMetaDataBoolean(\"stereo\",2===e.channelcount),o.writeMetaDataDouble(\"audiosamplerate\",e.samplerate),o.writeMetaDataDouble(\"audiosamplesize\",16),a.push(o),t=e.extraData,o=new d(d.AUDIO_TAG,!0),o.pts=i.pts,o.dts=i.dts,o.view.setUint16(o.position,e.extraData),o.position+=2,o.length=Math.max(o.length,o.position),a.push(o),r=i.pts),o=new d(d.AUDIO_TAG),o.pts=i.pts,o.dts=i.dts,o.writeBytes(i.data),a.push(o);t=null,this.trigger(\"data\",{track:e,tags:a}),this.trigger(\"done\")}},r.prototype=new c,o=function(e){var t,n,i=[];o.prototype.init.call(this),this.finishFrame=function(n,i){i&&(t&&e&&e.newMetadata&&(i.keyFrame||0===n.length)&&(n.push(l(t,i.pts)),n.push(u(e,i.pts)),e.newMetadata=!1),i.endNalUnit(),n.push(i))},this.push=function(t){s(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),i.push(t)},this.flush=function(){for(var o,r=[];i.length&&\"access_unit_delimiter_rbsp\"!==i[0].nalUnitType;)i.shift();if(0===i.length)return void this.trigger(\"done\");for(;i.length;)o=i.shift(),\"seq_parameter_set_rbsp\"===o.nalUnitType?(e.newMetadata=!0,t=o.config,e.width=t.width,e.height=t.height,e.sps=[o.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):\"pic_parameter_set_rbsp\"===o.nalUnitType?(e.newMetadata=!0,e.pps=[o.data],n.endNalUnit()):\"access_unit_delimiter_rbsp\"===o.nalUnitType?(n&&this.finishFrame(r,n),n=new d(d.VIDEO_TAG),n.pts=o.pts,n.dts=o.dts):(\"slice_layer_without_partitioning_rbsp_idr\"===o.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(o.data);n&&this.finishFrame(r,n),this.trigger(\"data\",{track:e,tags:r}),this.trigger(\"done\")}},o.prototype=new c,a=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(\"video\"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void(\"audio\"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}},a.prototype=new c,a.prototype.flush=function(){var e,t,n,i,o={tags:{},captions:[],metadata:[]};if(!(this.pendingTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),o.tags.videoTags=this.videoTags,o.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)t=this.pendingCaptions[n],t.startTime=t.startPts-i,t.startTime/=9e4,t.endTime=t.endPts-i,t.endTime/=9e4,o.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)e=this.pendingMetadata[n],e.cueTime=e.pts-i,e.cueTime/=9e4,o.metadata.push(e);o.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.trigger(\"data\",o),this.trigger(\"done\")}},i=function(e){var t,n,s,l,u,c,g,m,y,v=this;i.prototype.init.call(this),e=e||{},this.metadataStream=new p.MetadataStream,e.metadataStream=this.metadataStream,t=new p.TransportPacketStream,n=new p.TransportParseStream,s=new p.ElementaryStream,l=new h,u=new f,y=new a(e),t.pipe(n).pipe(s),s.pipe(u),s.pipe(l),s.pipe(this.metadataStream).pipe(y),m=new p.CaptionStream,u.pipe(m).pipe(y),s.on(\"data\",function(e){var t,n,i;if(\"metadata\"===e.type){for(t=e.tracks.length;t--;)\"video\"===e.tracks[t].type?n=e.tracks[t]:\"audio\"===e.tracks[t].type&&(i=e.tracks[t]);n&&!c&&(y.numberOfTracks++,c=new o(n),u.pipe(c).pipe(y)),i&&!g&&(y.numberOfTracks++,g=new r(i),l.pipe(g).pipe(y))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},y.on(\"data\",function(e){v.trigger(\"data\",e)}),y.on(\"done\",function(){v.trigger(\"done\")}),this.getFlvHeader=function(e,t,n){var i,o,r,a=new Uint8Array(9),s=new DataView(a.buffer);return e=e||0,t=void 0===t?!0:t,n=void 0===n?!0:n,s.setUint8(0,70),s.setUint8(1,76),s.setUint8(2,86),s.setUint8(3,1),s.setUint8(4,(t?4:0)|(n?1:0)),s.setUint32(5,a.byteLength),0>=e?(o=new Uint8Array(a.byteLength+4),o.set(a),o.set([0,0,0,0],a.byteLength),o):(i=new d(d.METADATA_TAG),i.pts=i.dts=0,i.writeMetaDataDouble(\"duration\",e),r=i.finalize().length,o=new Uint8Array(a.byteLength+r),o.set(a),o.set(s.byteLength,r),o)}},i.prototype=new c,t.exports=i},{\"../codecs/adts.js\":31,\"../codecs/h264\":32,\"../m2ts/m2ts.js\":40,\"../utils/stream.js\":49,\"./flv-tag.js\":34}],37:[function(e,t,n){\"use strict\";var i={codecs:e(\"./codecs\"),mp4:e(\"./mp4\"),flv:e(\"./flv\"),mp2t:e(\"./m2ts\")};t.exports=i},{\"./codecs\":33,\"./flv\":35,\"./m2ts\":39,\"./mp4\":43}],38:[function(e,t,n){\"use strict\";var i=4,o=128,r=e(\"../utils/stream\"),a=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,a=0;t<e.byteLength&&e[t]!==o;){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)a+=255,t++;if(a+=e[t++],!n.payload&&r===i){n.payloadType=r,n.payloadSize=a,n.payload=e.subarray(t,t+a);break}t+=a,r=0,a=0}return n},s=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:\"GA94\"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},l=function(e,t){var n,i,o,r,a=[];if(!(64&t[0]))return a;for(i=31&t[0],n=0;i>n;n++)o=3*n,r={type:3&t[o+2],pts:e},4&t[o+2]&&(r.ccData=t[o+3]<<8|t[o+4],a.push(r));return a},u=function(){u.prototype.init.call(this),this.captionPackets_=[],this.field1_=new C,this.field1_.on(\"data\",this.trigger.bind(this,\"data\")),this.field1_.on(\"done\",this.trigger.bind(this,\"done\"))};u.prototype=new r,u.prototype.push=function(e){var t,n;\"sei_rbsp\"===e.nalUnitType&&(t=a(e.escapedRBSP),t.payloadType===i&&(n=s(t),n&&(this.captionPackets_=this.captionPackets_.concat(l(e.pts,n)))))},u.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.sort(function(e,t){return e.pts-t.pts}),this.captionPackets_.forEach(this.field1_.push,this.field1_),this.captionPackets_.length=0,void this.field1_.flush()):void this.field1_.flush()};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608},d=function(e){return null===e?\"\":(e=c[e]||e,String.fromCharCode(e))},p=0,h=5152,f=5167,g=5157,m=5158,y=5159,v=5165,_=5153,b=5164,E=5166,w=14,T=function(){for(var e=[],t=w+1;t--;)e.push(\"\");return e},C=function(){C.prototype.init.call(this),this.mode_=\"popOn\",this.topRow_=0,this.startPts_=0,this.displayed_=T(),this.nonDisplayed_=T(),this.lastControlCode_=null,this.push=function(e){if(0===e.type){var t,n,i,o;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);switch(4096===(61440&t)?this.lastControlCode_=t:this.lastControlCode_=null,t){case p:break;case h:this.mode_=\"popOn\";break;case f:this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;break;case g:this.topRow_=w-1,this.mode_=\"rollUp\";break;case m:this.topRow_=w-2,this.mode_=\"rollUp\";break;case y:this.topRow_=w-3,this.mode_=\"rollUp\";break;case v:this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;break;case _:\"popOn\"===this.mode_?this.nonDisplayed_[w]=this.nonDisplayed_[w].slice(0,-1):this.displayed_[w]=this.displayed_[w].slice(0,-1);break;case b:this.flushDisplayed(e.pts),this.displayed_=T();break;case E:this.nonDisplayed_=T();break;default:if(i=t>>>8,o=255&t,i>=16&&23>=i&&o>=64&&127>=o&&(16!==i||96>o)&&(i=32,o=null),(17===i||25===i)&&o>=48&&63>=o&&(i=14850474,o=\"\"),16===(240&i))return;this[this.mode_](e.pts,i,o)}}}};C.prototype=new r,C.prototype.flushDisplayed=function(e){var t,n;for(n=0;n<this.displayed_.length;n++)t=this.displayed_[n],t.length&&this.trigger(\"data\",{startPts:this.startPts_,endPts:e,text:t.trim()})},C.prototype.popOn=function(e,t,n){var i=this.nonDisplayed_[w];i+=d(t),i+=d(n),this.nonDisplayed_[w]=i},C.prototype.rollUp=function(e,t,n){var i=this.displayed_[w];\"\"===i&&(this.flushDisplayed(e),this.startPts_=e),i+=d(t),i+=d(n),this.displayed_[w]=i},C.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]=\"\";for(e=this.topRow_;w>e;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[w]=\"\"},t.exports={CaptionStream:u,Cea608Stream:C}},{\"../utils/stream\":49}],39:[function(e,t,n){t.exports=e(\"./m2ts\")},{\"./m2ts\":40}],40:[function(e,t,n){\"use strict\";var i,o,r,a=e(\"../utils/stream.js\"),s=e(\"./caption-stream\"),l=e(\"./stream-types\"),a=e(\"../utils/stream.js\"),u=e(\"./stream-types.js\"),c=188,d=71,i=function(){var e=new Uint8Array(c),t=0;i.prototype.init.call(this),this.push=function(n){var i,o=0,r=c;for(t?(i=new Uint8Array(n.byteLength+t),i.set(e.subarray(0,t)),i.set(n,t),t=0):i=n;r<i.byteLength;)i[o]!==d||i[r]!==d?(o++,r++):(this.trigger(\"data\",i.subarray(o,r)),o+=c,r+=c);o<i.byteLength&&(e.set(i.subarray(o),0),t=i.byteLength-o)},this.flush=function(){t===c&&e[0]===d&&(this.trigger(\"data\",e),t=0),this.trigger(\"done\")}};i.prototype=new a,o=function(){var e,t,n,i;o.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var o=0;i.payloadUnitStartIndicator&&(o+=e[o]+1),\"pat\"===i.type?t(e.subarray(o),i):n(e.subarray(o),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,o,r,a;if(1&e[5]){for(i.programMapTable={},n=(15&e[1])<<8|e[2],o=3+n-4,r=(15&e[10])<<8|e[11],a=12+r;o>a;)i.programMapTable[(31&e[a+1])<<8|e[a+2]]=e[a],a+=((15&e[a+3])<<8|e[a+4])+5;for(t.programMapTable=i.programMapTable;i.packetsWaitingForPmt.length;)i.processPes_.apply(i,i.packetsWaitingForPmt.shift())}},this.push=function(t){var n={},i=4;n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid?(n.type=\"pat\",e(t.subarray(i),n),this.trigger(\"data\",n)):n.pid===this.pmtPid?(n.type=\"pmt\",e(t.subarray(i),n),this.trigger(\"data\",n)):void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.streamType=this.programMapTable[n.pid],n.type=\"pes\",n.data=e.subarray(t),this.trigger(\"data\",n)}},o.prototype=new a,o.STREAM_TYPES={h264:27,adts:15},r=function(){var e,t={data:[],size:0},n={data:[],size:0},i={data:[],size:0},o=function(e,t){var n;t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},a=function(t,n){var i,r=new Uint8Array(t.size),a={type:n},s=0;if(t.data.length){for(a.trackId=t.data[0].pid;t.data.length;)i=t.data.shift(),r.set(i.data,s),s+=i.data.byteLength;o(r,a),t.size=0,e.trigger(\"data\",a)}};r.prototype.init.call(this),e=this,this.push=function(o){({pat:function(){},pes:function(){var e,r;switch(o.streamType){case l.H264_STREAM_TYPE:case u.H264_STREAM_TYPE:e=t,r=\"video\";break;case l.ADTS_STREAM_TYPE:e=n,r=\"audio\";break;case l.METADATA_STREAM_TYPE:e=i,r=\"timed-metadata\";break;default:return}o.payloadUnitStartIndicator&&a(e,r),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t,n,i={type:\"metadata\",tracks:[]},r=o.programMapTable;for(t in r)r.hasOwnProperty(t)&&(n={timelineStartInfo:{baseMediaDecodeTime:0}},n.id=+t,r[t]===u.H264_STREAM_TYPE?(n.codec=\"avc\",n.type=\"video\"):r[t]===u.ADTS_STREAM_TYPE&&(n.codec=\"adts\",n.type=\"audio\"),i.tracks.push(n));e.trigger(\"data\",i)}})[o.type]()},this.flush=function(){a(t,\"video\"),a(n,\"audio\"),a(i,\"timed-metadata\"),this.trigger(\"done\")}},r.prototype=new a;var p={PAT_PID:0,MP2T_PACKET_LENGTH:c,TransportPacketStream:i,TransportParseStream:o,ElementaryStream:r,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e(\"./metadata-stream\")};for(var h in l)l.hasOwnProperty(h)&&(p[h]=l[h]);t.exports=p},{\"../utils/stream.js\":49,\"./caption-stream\":38,\"./metadata-stream\":41,\"./stream-types\":42,\"./stream-types.js\":42}],41:[function(e,t,n){\"use strict\";var i,o=e(\"../utils/stream\"),r=e(\"./stream-types\"),a=function(e,t,n){var i,o=\"\";for(i=t;n>i;i++)o+=\"%\"+(\"00\"+e[i].toString(16)).slice(-2);return o},s=function(e,t,n){return decodeURIComponent(a(e,t,n))},l=function(e,t,n){return unescape(a(e,t,n))},u=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length-1);break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=l(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};i=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},o=0,a=[],s=0;if(i.prototype.init.call(this),this.dispatchType=r.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=(\"00\"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,r,l,d,p;if(\"timed-metadata\"===e.type){if(e.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(e.data.length<10||e.data[0]!==\"I\".charCodeAt(0)||e.data[1]!==\"D\".charCodeAt(0)||e.data[2]!==\"3\".charCodeAt(0)))return void(n.debug&&console.log(\"Skipping unrecognized metadata packet\"));if(a.push(e),s+=e.data.byteLength,1===a.length&&(o=u(e.data.subarray(6,10)),o+=10),!(o>s)){for(t={data:new Uint8Array(o),frames:[],pts:a[0].pts,dts:a[0].dts},d=0;o>d;)t.data.set(a[0].data.subarray(0,o-d),d),d+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();i=10,64&t.data[5]&&(i+=4,i+=u(t.data.subarray(10,14)),o-=u(t.data.subarray(16,20)));do{if(r=u(t.data.subarray(i+4,i+8)),1>r)return console.log(\"Malformed ID3 frame encountered. Skipping metadata parsing.\");if(p=String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),l={id:p,data:t.data.subarray(i+10,i+r+10)},l.key=l.id,c[l.id]&&(c[l.id](l),\"com.apple.streaming.transportStreamTimestamp\"===l.owner)){var h=l.data,f=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;f*=4,f+=3&h[7],l.timeStamp=f,this.trigger(\"timestamp\",l)}t.frames.push(l),i+=10,i+=r}while(o>i);this.trigger(\"data\",t)}}}},i.prototype=new o,t.exports=i},{\"../utils/stream\":49,\"./stream-types\":42}],42:[function(e,t,n){\"use strict\";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],43:[function(e,t,n){t.exports={generator:e(\"./mp4-generator\"),Transmuxer:e(\"./transmuxer\").Transmuxer,AudioSegmentStream:e(\"./transmuxer\").AudioSegmentStream,VideoSegmentStream:e(\"./transmuxer\").VideoSegmentStream,tools:e(\"../tools/mp4-inspector\")}},{\"../tools/mp4-inspector\":47,\"./mp4-generator\":44,\"./transmuxer\":45}],44:[function(e,t,n){\"use strict\";var i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v,_,b,E,w,T,C,A,S,N,I,P,x,k,M,D,O,L,R,j,V,U;!function(){var e;S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);N=new Uint8Array([\"i\".charCodeAt(0),\"s\".charCodeAt(0),\"o\".charCodeAt(0),\"m\".charCodeAt(0)]),P=new Uint8Array([\"a\".charCodeAt(0),\"v\".charCodeAt(0),\"c\".charCodeAt(0),\"1\".charCodeAt(0)]),I=new Uint8Array([0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:x,audio:k},L=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),j=R,V=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=R,D=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}(),i=function(e){var t,n,i,o=[],r=0;for(t=1;t<arguments.length;t++)o.push(arguments[t]);for(t=o.length;t--;)r+=o[t].byteLength;for(n=new Uint8Array(r+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<o.length;t++)n.set(o[t],r),r+=o[t].byteLength;return n},o=function(){return i(S.dinf,i(S.dref,L))},r=function(e){return i(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return i(S.ftyp,N,I,N,P)},v=function(e){return i(S.hdlr,M[e])},s=function(e){return i(S.mdat,e)},y=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),i(S.mdhd,t)},m=function(e){return i(S.mdia,y(e),v(e.type),u(e))},l=function(e){return i(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return i(S.minf,\"video\"===e.type?i(S.vmhd,D):i(S.smhd,O),o(),b(e))},c=function(e,t){for(var n=[],o=t.length;o--;)n[o]=T(t[o]);return i.apply(null,[S.moof,l(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=f(e[t]);return i.apply(null,[S.moov,h(4294967295)].concat(n).concat(p(e)))},p=function(e){for(var t=e.length,n=[];t--;)n[t]=C(e[t]);return i.apply(null,[S.mvex].concat(n))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(S.mvhd,t)},_=function(e){var t,n,o=e.samples||[],r=new Uint8Array(4+o.length);for(n=0;n<o.length;n++)t=o[n].flags,r[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return i(S.sdtp,r)},b=function(e){return i(S.stbl,E(e),i(S.stts,U),i(S.stsc,j),i(S.stsz,V),i(S.stco,R))},function(){var e,t;E=function(n){return i(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),\"video\"===n.type?e(n):t(n))},e=function(e){var t,n=e.sps||[],o=e.pps||[],r=[],a=[];for(t=0;t<n.length;t++)r.push((65280&n[t].byteLength)>>>8),r.push(255&n[t].byteLength),r=r.concat(Array.prototype.slice.call(n[t]));for(t=0;t<o.length;t++)a.push((65280&o[t].byteLength)>>>8),a.push(255&o[t].byteLength),a=a.concat(Array.prototype.slice.call(o[t]));return i(S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(r).concat([o.length]).concat(a))),i(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return i(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))}}(),w=function(){return i(S.styp,N,I,N)},g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return i(S.tkhd,t)},T=function(e){var t,n,o,r,a;return t=i(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),n=i(S.tfdt,new Uint8Array([0,0,0,0,e.baseMediaDecodeTime>>>24&255,e.baseMediaDecodeTime>>>16&255,e.baseMediaDecodeTime>>>8&255,255&e.baseMediaDecodeTime])),a=88,\"audio\"===e.type?(o=A(e,a),i(S.traf,t,n,o)):(r=_(e),o=A(e,r.length+a),i(S.traf,t,n,o,r))},f=function(e){return e.duration=e.duration||4294967295,i(S.trak,g(e),m(e))},C=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return\"video\"!==e.type&&(t[t.length-1]=0),i(S.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,i=0,o=0,r=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(o=4),void 0!==e[0].compositionTimeOffset&&(r=8)),[0,0,n|i|o|r,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var o,r,a,s;for(r=e.samples||[],t+=20+16*r.length,o=n(r,t),s=0;s<r.length;s++)a=r[s],o=o.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return i(S.trun,new Uint8Array(o))},e=function(e,t){var o,r,a,s;for(r=e.samples||[],t+=20+8*r.length,o=n(r,t),s=0;s<r.length;s++)a=r[s],o=o.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return i(S.trun,new Uint8Array(o))},A=function(n,i){return\"audio\"===n.type?e(n,i):t(n,i)}}(),t.exports={ftyp:a,mdat:s,moof:c,moov:d,initSegment:function(e){var t,n=a(),i=d(e);return t=new Uint8Array(n.byteLength+i.byteLength),t.set(n),t.set(i,n.byteLength),t}}},{}],45:[function(e,t,n){\"use strict\";var i,o,r,a,s,l,u,c,d,p,h=e(\"../utils/stream.js\"),f=e(\"./mp4-generator.js\"),g=e(\"../m2ts/m2ts.js\"),m=e(\"../codecs/adts.js\"),y=e(\"../codecs/h264\").H264Stream,v=e(\"../aac\");s=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},d=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},p=function(e){var t,n,i=0;for(t=0;t<e.length;t++)n=e[t],i+=n.data.byteLength;return i},o=function(e){var t=[],n=0,i=0;o.prototype.init.call(this),this.push=function(n){l(e,n),e&&(e.audioobjecttype=n.audioobjecttype,e.channelcount=n.channelcount,e.samplerate=n.samplerate,e.samplingfrequencyindex=n.samplingfrequencyindex,e.samplesize=n.samplesize),t.push(n)},this.setEarliestDts=function(t){i=t-e.timelineStartInfo.baseMediaDecodeTime},this.flush=function(){var i,o,r,a;return 0===t.length?void this.trigger(\"done\"):(i=this.trimAdtsFramesByEarliestDts_(t),e.samples=this.generateSampleTable_(i),r=f.mdat(this.concatenateFrameData_(i)),t=[],c(e),o=f.moof(n,[e]),a=new Uint8Array(o.byteLength+r.byteLength),n++,a.set(o),a.set(r,o.byteLength),u(e),this.trigger(\"data\",{track:e,boxes:a}),void this.trigger(\"done\"))},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=i?(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0):!1}))},this.generateSampleTable_=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(e){var t,n,i=0,o=new Uint8Array(p(e));for(t=0;t<e.length;t++)n=e[t],o.set(n.data,i),i+=n.data.byteLength;return o}},o.prototype=new h,i=function(e){var t,n,o=0,r=[];i.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(i){l(e,i),\"seq_parameter_set_rbsp\"!==i.nalUnitType||t||(t=i.config,e.width=t.width,e.height=t.height,e.sps=[i.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility),\"pic_parameter_set_rbsp\"!==i.nalUnitType||n||(n=i.data,e.pps=[i.data]),r.push(i)},this.flush=function(){for(var t,n,i,a,s,u;r.length&&\"access_unit_delimiter_rbsp\"!==r[0].nalUnitType;)r.shift();return 0===r.length?(this.resetStream_(),void this.trigger(\"done\")):(t=this.groupNalsIntoFrames_(r),i=this.groupFramesIntoGops_(t),i[0][0].keyFrame||(n=this.getGopForFusion_(r[0],e),n?(i.unshift(n),i.byteLength+=n.byteLength,i.nalCount+=n.nalCount,i.pts=n.pts,i.dts=n.dts,i.duration+=n.duration):i=this.extendFirstKeyFrame_(i)),l(e,i),e.samples=this.generateSampleTable_(i),s=f.mdat(this.concatenateNalData_(i)),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],c(e),this.trigger(\"timelineStartInfo\",e.timelineStartInfo),a=f.moof(o,[e]),u=new Uint8Array(a.byteLength+s.byteLength),o++,u.set(a),u.set(s,a.byteLength),this.trigger(\"data\",{track:e,boxes:u}),this.resetStream_(),void this.trigger(\"done\"))},this.resetStream_=function(){u(e),t=void 0,n=void 0},this.getGopForFusion_=function(t){var n,i,o,r,a,s=45e3,l=1e4,u=1/0;for(a=0;a<this.gopCache_.length;a++)r=this.gopCache_[a],o=r.gop,e.pps&&d(e.pps[0],r.pps[0])&&e.sps&&d(e.sps[0],r.sps[0])&&(o.dts<e.timelineStartInfo.dts||(n=t.dts-o.dts-o.duration,n>=-l&&s>=n&&(!i||u>n)&&(i=r,u=n)));return i?i.gop:null},this.extendFirstKeyFrame_=function(e){var t;return e[0][0].keyFrame||(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,i=[],o=[];for(i.byteLength=0,t=0;t<e.length;t++)n=e[t],\"access_unit_delimiter_rbsp\"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,o.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):(\"slice_layer_without_partitioning_rbsp_idr\"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return(o.length&&!i.duration||i.duration<=0)&&(i.duration=o[o.length-1].duration),o.push(i),o},this.groupFramesIntoGops_=function(e){var t,n,i=[],o=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,o.byteLength=0,o.nalCount=0,o.duration=0,o.pts=e[0].pts,o.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(i.length&&(o.push(i),o.byteLength+=i.byteLength,o.nalCount+=i.nalCount,o.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return o.length&&i.duration<=0&&(i.duration=o[o.length-1].duration),o.byteLength+=i.byteLength,o.nalCount+=i.nalCount,o.duration+=i.duration,o.push(i),o},this.generateSampleTable_=function(e,t){var n,i,o,r,a,l=t||0,u=[];for(n=0;n<e.length;n++)for(r=e[n],i=0;i<r.length;i++)a=r[i],o=s(),o.dataOffset=l,o.compositionTimeOffset=a.pts-a.dts,o.duration=a.duration,o.size=4*a.length,o.size+=a.byteLength,a.keyFrame&&(o.flags.dependsOn=2),l+=o.size,u.push(o);return u},this.concatenateNalData_=function(e){var t,n,i,o,r,a,s=0,l=e.byteLength,u=e.nalCount,c=l+4*u,d=new Uint8Array(c),p=new DataView(d.buffer);for(t=0;t<e.length;t++)for(o=e[t],n=0;n<o.length;n++)for(r=o[n],i=0;i<r.length;i++)a=r[i],p.setUint32(s,a.data.byteLength),s+=4,d.set(a.data,s),s+=a.data.byteLength;return d}},i.prototype=new h,l=function(e,t){\"number\"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),\n\"number\"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},u=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},c=function(e){var t,n=9e4,i=e.minSegmentDts-e.timelineStartInfo.dts,o=e.minSegmentPts-e.minSegmentDts;e.baseMediaDecodeTime=e.timelineStartInfo.baseMediaDecodeTime,e.baseMediaDecodeTime+=i,e.baseMediaDecodeTime-=o,e.baseMediaDecodeTime=Math.max(0,e.baseMediaDecodeTime),\"audio\"===e.type&&(t=e.samplerate/n,e.baseMediaDecodeTime*=t,e.baseMediaDecodeTime=Math.floor(e.baseMediaDecodeTime))},a=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,\"undefined\"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,\"video\"===e.track.type&&(this.videoTrack=e.track),void(\"audio\"===e.track.type&&(this.audioTrack=e.track)))}},a.prototype=new h,a.prototype.flush=function(){var e,t,n,i,o=0,r={captions:[],metadata:[]},a=0;if(!(0===this.pendingTracks.length||this.remuxTracks&&this.pendingTracks.length<this.numberOfTracks)){for(this.videoTrack?a=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts),1===this.pendingTracks.length?r.type=this.pendingTracks[0].type:r.type=\"combined\",this.emittedTracks+=this.pendingTracks.length,n=f.initSegment(this.pendingTracks),r.data=new Uint8Array(n.byteLength+this.pendingBytes),r.data.set(n),o+=n.byteLength,i=0;i<this.pendingBoxes.length;i++)r.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)e=this.pendingCaptions[i],e.startTime=e.startPts-a,e.startTime/=9e4,e.endTime=e.endPts-a,e.endTime/=9e4,r.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)t=this.pendingMetadata[i],t.cueTime=t.pts-a,t.cueTime/=9e4,r.metadata.push(t);r.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger(\"data\",r),this.emittedTracks>=this.numberOfTracks&&(this.trigger(\"done\"),this.emittedTracks=0)}},r=function(e){var t,n,s,l,c,d,p,h,f,_,b,E,w,T=this;this.setupAacPipeline=function(){this.metadataStream=new g.MetadataStream,e.metadataStream=this.metadataStream,h=new v,d=new m,E=new a(e),w=h,h.pipe(d),h.pipe(this.metadataStream),this.metadataStream.pipe(E),this.metadataStream.on(\"timestamp\",function(e){h.setTimestamp(e.timeStamp)}),this.addAacListener()},this.addAacListener=function(){h.on(\"data\",function(e){if(\"timed-metadata\"===e.type){var t={timelineStartInfo:{baseMediaDecodeTime:0},codec:\"adts\",type:\"audio\"};t&&!_&&(E.numberOfTracks++,_=new o(t),d.pipe(_).pipe(E))}})},this.setupTsPipeline=function(){this.metadataStream=new g.MetadataStream,e.metadataStream=this.metadataStream,s=new g.TransportPacketStream,l=new g.TransportParseStream,c=new g.ElementaryStream,d=new m,p=new y,b=new g.CaptionStream,E=new a(e),w=s,s.pipe(l).pipe(c),c.pipe(p),c.pipe(d),c.pipe(this.metadataStream).pipe(E),p.pipe(b).pipe(E),this.addTsListener()},this.addTsListener=function(){c.on(\"data\",function(e){var r;if(\"metadata\"===e.type){for(r=e.tracks.length;r--;)t||\"video\"!==e.tracks[r].type?n||\"audio\"!==e.tracks[r].type||(n=e.tracks[r],n.timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime):(t=e.tracks[r],t.timelineStartInfo.baseMediaDecodeTime=T.baseMediaDecodeTime);t&&!f&&(E.numberOfTracks++,f=new i(t),f.on(\"timelineStartInfo\",function(e){n&&(n.timelineStartInfo=e,_.setEarliestDts(e.dts))}),p.pipe(f).pipe(E)),n&&!_&&(E.numberOfTracks++,_=new o(n),d.pipe(_).pipe(E))}})},r.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,void 0===e.aacfile?this.setupTsPipeline():this.setupAacPipeline(),this.setBaseMediaDecodeTime=function(e){this.baseMediaDecodeTime=e,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,u(n),n.timelineStartInfo.baseMediaDecodeTime=e),t&&(f.gopCache_=[],t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,u(t),t.timelineStartInfo.baseMediaDecodeTime=e)},this.push=function(e){w.push(e)},this.flush=function(){w.flush()},E.on(\"data\",function(e){T.trigger(\"data\",e)}),E.on(\"done\",function(){T.trigger(\"done\")})},r.prototype=new h,t.exports={Transmuxer:r,VideoSegmentStream:i,AudioSegmentStream:o}},{\"../aac\":30,\"../codecs/adts.js\":31,\"../codecs/h264\":32,\"../m2ts/m2ts.js\":40,\"../utils/stream.js\":49,\"./mp4-generator.js\":44}],46:[function(e,t,n){\"use strict\";var i={8:\"audio\",9:\"video\",18:\"metadata\"},o=function(e){return\"0x\"+(\"00\"+e.toString(16)).slice(-2).toUpperCase()},r=function(e){for(var t,n=[];e.byteLength>0;){switch(t=0,e.byteLength){default:n.push(o(e[t++]));case 7:n.push(o(e[t++]));case 6:n.push(o(e[t++]));case 5:n.push(o(e[t++]));case 4:n.push(o(e[t++]));case 3:n.push(o(e[t++]));case 2:n.push(o(e[t++]));case 1:n.push(o(e[t++]))}e=e.subarray(t)}return n.join(\" \")},a=function(e,t){var n=[\"AVC Sequence Header\",\"AVC NALU\",\"AVC End-of-Sequence\"],i=e[1]&parseInt(\"01111111\",2)<<16|e[2]<<8|e[3];return t=t||{},t.avcPacketType=n[e[0]],t.CompositionTime=e[1]&parseInt(\"10000000\",2)?-i:i,1===e[0]?t.nalUnitTypeRaw=r(e.subarray(4,100)):t.data=r(e.subarray(4)),t},s=function(e,t){var n=[\"Unknown\",\"Keyframe (for AVC, a seekable frame)\",\"Inter frame (for AVC, a nonseekable frame)\",\"Disposable inter frame (H.263 only)\",\"Generated keyframe (reserved for server use only)\",\"Video info/command frame\"],i=e[0]&parseInt(\"00001111\",2);return t=t||{},t.frameType=n[(e[0]&parseInt(\"11110000\",2))>>>4],t.codecID=i,7===i?a(e.subarray(1),t):t},l=function(e,t){var n=[\"AAC Sequence Header\",\"AAC Raw\"];return t=t||{},t.aacPacketType=n[e[0]],t.data=r(e.subarray(1)),t},u=function(e,t){var n=[\"Linear PCM, platform endian\",\"ADPCM\",\"MP3\",\"Linear PCM, little endian\",\"Nellymoser 16-kHz mono\",\"Nellymoser 8-kHz mono\",\"Nellymoser\",\"G.711 A-law logarithmic PCM\",\"G.711 mu-law logarithmic PCM\",\"reserved\",\"AAC\",\"Speex\",\"MP3 8-Khz\",\"Device-specific sound\"],i=[\"5.5-kHz\",\"11-kHz\",\"22-kHz\",\"44-kHz\"],o=(e[0]&parseInt(\"11110000\",2))>>>4;return t=t||{},t.soundFormat=n[o],t.soundRate=i[(e[0]&parseInt(\"00001100\",2))>>>2],t.soundSize=(e[0]&parseInt(\"00000010\",2))>>>1?\"16-bit\":\"8-bit\",t.soundType=e[0]&parseInt(\"00000001\",2)?\"Stereo\":\"Mono\",10===o?l(e.subarray(1),t):t},c=function(e){return{tagType:i[e[0]],dataSize:e[1]<<16|e[2]<<8|e[3],timestamp:e[7]<<24|e[4]<<16|e[5]<<8|e[6],streamID:e[8]<<16|e[9]<<8|e[10]}},d=function(e){var t=c(e);switch(e[0]){case 8:u(e.subarray(11),t);break;case 9:s(e.subarray(11),t);break;case 18:}return t},p=function(e){var t,n,i=9,o=[];for(i+=4;i<e.byteLength;)t=e[i+1]<<16,t|=e[i+2]<<8,t|=e[i+3],t+=11,n=e.subarray(i,i+t),o.push(d(n)),i+=t+4;return o},h=function(e){return JSON.stringify(e,null,2)};t.exports={inspectTag:d,inspect:p,textify:h}},{}],47:[function(e,t,n){(function(e){\"use strict\";var n,i,o=function(e){var t=\"\";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},r=function(e){return new Date(1e3*e-20828448e5)},a=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},s=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),o=[];for(t=0;t+4<e.length;t+=n){if(n=i.getUint32(t),t+=4,0>=n)return;switch(31&e[t]){case 1:o.push(\"slice_layer_without_partitioning_rbsp\");break;case 5:o.push(\"slice_layer_without_partitioning_rbsp_idr\");break;case 6:o.push(\"sei_rbsp\");break;case 7:o.push(\"seq_parameter_set_rbsp\");break;case 8:o.push(\"pic_parameter_set_rbsp\");break;case 9:o.push(\"access_unit_delimiter_rbsp\");break;default:o.push(31&e[t])}}return o},l={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:n(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,o,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(i=6,o=0;s>o;o++)n=r.getUint16(i),i+=2,a.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,o=0;t>o;o++)n=r.getUint16(i),i+=2,a.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:o(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;i<e.byteLength;)n.compatibleBrands.push(o(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:n(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:n(e.subarray(8))}},hdlr:function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:o(t.subarray(8,12)),name:\"\"},r=8;for(r=24;r<t.byteLength;r++){if(0===t[r]){r++;break}i.name+=String.fromCharCode(t[r])}return i.name=decodeURIComponent(e.escape(i.name)),i},mdat:function(e){return{byteLength:e.byteLength,nals:s(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,o={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:\"\"};return 1===o.version?(i+=4,o.creationTime=r(n.getUint32(i)),i+=8,o.modificationTime=r(n.getUint32(i)),i+=4,o.timescale=n.getUint32(i),i+=8,o.duration=n.getUint32(i)):(o.creationTime=r(n.getUint32(i)),i+=4,o.modificationTime=r(n.getUint32(i)),i+=4,o.timescale=n.getUint32(i),i+=4,o.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),o.language+=String.fromCharCode((t>>10)+96),o.language+=String.fromCharCode(((960&t)>>5)+96),o.language+=String.fromCharCode((31&t)+96),o},mdia:function(e){return{boxes:n(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:n(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(i.streamDescriptor=n(e.subarray(28))[0]),i},moof:function(e){return{boxes:n(e)}},moov:function(e){return{boxes:n(e)}},mvex:function(e){return{boxes:n(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=r(t.getUint32(n)),n+=8,i.modificationTime=r(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=r(t.getUint32(n)),n+=4,i.modificationTime=r(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},o=n.getUint16(22);for(t=24;o;t+=12,o--)i.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return i},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:n(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},o=n.getUint32(4);for(t=8;o;t+=4,o--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),o={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)o.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return o},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:n(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},o=n.getUint32(4);for(t=8;o;t+=8,o--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return l.ftyp(e)},tfdt:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},o=1&i.flags[2],r=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],l=32&i.flags[2];return t=8,o&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),r&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),i},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=r(t.getUint32(n)),n+=8,i.modificationTime=r(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=r(t.getUint32(n)),n+=4,i.modificationTime=r(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/16,i},traf:function(e){return{boxes:n(e)}},trak:function(e){return{boxes:n(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),o=1&n.flags[2],r=4&n.flags[2],s=1&n.flags[1],l=2&n.flags[1],u=4&n.flags[1],c=8&n.flags[1],d=i.getUint32(4),p=8;for(o&&(n.dataOffset=i.getUint32(p),p+=4),r&&d&&(t={flags:a(e.subarray(p,p+4))},p+=4,s&&(t.duration=i.getUint32(p),p+=4),l&&(t.size=i.getUint32(p),p+=4),c&&(t.compositionTimeOffset=i.getUint32(p),p+=4),n.samples.push(t),d--);d--;)t={},s&&(t.duration=i.getUint32(p),p+=4),l&&(t.size=i.getUint32(p),p+=4),u&&(t.flags=a(e.subarray(p,p+4)),p+=4),c&&(t.compositionTimeOffset=i.getUint32(p),p+=4),n.samples.push(t);return n},\"url \":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};n=function(e){for(var t,n,i,r,a,s=0,u=[],c=new ArrayBuffer(e.length),d=new Uint8Array(c),p=0;p<e.length;++p)d[p]=e[p];for(t=new DataView(c);s<e.byteLength;)n=t.getUint32(s),i=o(e.subarray(s+4,s+8)),r=n>1?s+n:e.byteLength,a=(l[i]||function(e){return{data:e}})(e.subarray(s+8,r)),a.size=n,a.type=i,u.push(a),s=r;return u},i=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(\" \"),e.map(function(e,o){return n+e.type+\"\\n\"+Object.keys(e).filter(function(e){return\"type\"!==e&&\"boxes\"!==e}).map(function(t){var i=n+\"  \"+t+\": \",o=e[t];if(o instanceof Uint8Array||o instanceof Uint32Array){var r=Array.prototype.slice.call(new Uint8Array(o.buffer,o.byteOffset,o.byteLength)).map(function(e){return\" \"+(\"00\"+e.toString(16)).slice(-2)}).join(\"\").match(/.{1,24}/g);return r?1===r.length?i+\"<\"+r.join(\"\").slice(1)+\">\":i+\"<\\n\"+r.map(function(e){return n+\"  \"+e}).join(\"\\n\")+\"\\n\"+n+\"  >\":i+\"<>\"}return i+JSON.stringify(o,null,2).split(\"\\n\").map(function(e,t){return 0===t?e:n+\"  \"+e}).join(\"\\n\")}).join(\"\\n\")+(e.boxes?\"\\n\"+i(e.boxes,t+1):\"\")}).join(\"\\n\")},t.exports={inspect:n,textify:i}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],48:[function(e,t,n){\"use strict\";var i;i=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var o=e.byteLength-t,r=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error(\"no bytes available\");r.set(e.subarray(o,o+a)),n=new DataView(r.buffer).getUint32(0),i=8*a,t-=a},this.skipBits=function(e){var o;i>e?(n<<=e,i-=e):(e-=i,o=Math.floor(e/8),e-=8*o,t-=o,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var o=Math.min(i,e),r=n>>>32-o;return i-=o,i>0?n<<=o:t>0&&this.loadWord(),o=e-o,o>0?r<<o|this.readBits(o):r},this.skipLeadingZeros=function(){var e;for(e=0;i>e;++e)if(0!==(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=i},{}],49:[function(e,t,n){\"use strict\";var i=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t].push(n)},this.off=function(t,n){var i;return e[t]?(i=e[t].indexOf(n),e[t].splice(i,1),i>-1):!1},this.trigger=function(t){var n,i,o,r;if(n=e[t])if(2===arguments.length)for(o=n.length,i=0;o>i;++i)n[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(o=n.length,i=0;o>i;++i)n[i].apply(this,r)}},this.dispose=function(){e={}}}};i.prototype.pipe=function(e){return this.on(\"data\",function(t){e.push(t)}),this.on(\"done\",function(){e.flush()}),e},i.prototype.push=function(e){this.trigger(\"data\",e)},i.prototype.flush=function(){this.trigger(\"done\")},t.exports=i},{}],50:[function(e,t,n){var i=arguments[3],o=arguments[4],r=arguments[5],a=JSON.stringify;t.exports=function(e){for(var t,n=Object.keys(r),s=0,l=n.length;l>s;s++){var u=n[s];if(r[u].exports===e){t=u;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},s=0,l=n.length;l>s;s++){var u=n[s];c[u]=u}o[t]=[Function([\"require\",\"module\",\"exports\"],\"(\"+e+\")(self)\"),c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[t]=t,o[d]=[Function([\"require\"],\"require(\"+a(t)+\")(self)\"),p];var h=\"(\"+i+\")({\"+Object.keys(o).map(function(e){return a(e)+\":[\"+o[e][0]+\",\"+a(o[e][1])+\"]\"}).join(\",\")+\"},{},[\"+a(d)+\"])\",f=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(f.createObjectURL(new Blob([h],{type:\"text/javascript\"})))}},{}],51:[function(e,t,n){(function(i){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,a=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if(\"value\"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=r,n=a,i=!0,s=u=void 0}},u=e(\"./playlist-loader\"),c=o(u),d=e(\"./playlist\"),p=o(d),h=e(\"./xhr\"),f=o(h),g=e(\"./decrypter\"),m=e(\"./bin-utils\"),y=o(m),v=e(\"videojs-contrib-media-sources\"),_=e(\"./m3u8\"),b=o(_),E=\"undefined\"!=typeof window?window.videojs:\"undefined\"!=typeof i?i.videojs:null,w=o(E),T=e(\"./resolve-url\"),C=o(T),A={PlaylistLoader:c[\"default\"],Playlist:p[\"default\"],Decrypter:g.Decrypter,AsyncStream:g.AsyncStream,decrypt:g.decrypt,utils:y[\"default\"],xhr:(0,f[\"default\"])()};A.GOAL_BUFFER_LENGTH=30,A.canPlaySource=function(){return w[\"default\"].log.warn(\"HLS is no longer a tech. Please remove it from your player's techOrder.\")},A.findSoleUncommonTimeRangesEnd_=function(e,t){var n=void 0,i=void 0,o=void 0,r=[],a=[],s=function(e){return e[0]<=o&&e[1]>=o};if(e)for(n=0;n<e.length;n++)i=e.start(n),o=e.end(n),a.push([i,o]);if(t)for(n=0;n<t.length;n++)i=t.start(n),o=t.end(n),a.some(s)||r.push(o);return 1!==r.length?null:r[0]},A.supportsNativeHls=function(){var e=document.createElement(\"video\"),t=void 0,n=void 0;return w[\"default\"].getComponent(\"Html5\").isSupported()?(t=e.canPlayType(\"application/x-mpegURL\"),n=e.canPlayType(\"application/vnd.apple.mpegURL\"),/probably|maybe/.test(t)||/probably|maybe/.test(n)):!1}(),A.isSupported=function(){return w[\"default\"].log.warn(\"HLS is no longer a tech. Please remove it from your player's techOrder.\")},A.comparePlaylistBandwidth=function(e,t){var n=void 0,i=void 0;return e.attributes&&e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attributes&&t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,n-i},A.comparePlaylistResolution=function(e,t){var n=void 0,i=void 0;return e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i};var S=1.2,N=3e5,I=1/30,P=w[\"default\"].getComponent(\"Component\"),x=500,k=function(e){return e.retries&&e.retries>=2},M=function(e,t){var n=void 0;return e?(n=getComputedStyle(e),n?n[t]:\"\"):\"\"},D=function(e,t,n){if(e){var i=e.segments[t],o=e.segments[t-1];n&&i&&(i.end=n,o?o.end&&(i.duration=i.end-o.end):i.duration=i.end)}},O=function(e,t,n,i){if(!e)return!1;var o=e.segments,r=n===o.length-1,a=i.length&&o[o.length-1].end<=i.end(0);return e.endList&&\"open\"===t.readyState&&(r||a)},L=function(e){var t={codecCount:0,videoCodec:null,audioProfile:null};return t.codecCount=e.split(\",\").length,t.codecCount=t.codecCount||2,t.videoCodec=/(^|\\s|,)+(avc1)[^ ,]*/i.exec(e),t.videoCodec=t.videoCodec&&t.videoCodec[2],t.audioProfile=/(^|\\s|,)+mp4a.\\d+\\.(\\d+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},R=function(e){return function(t){var n=void 0,i=[],o=this.tech_,r=o.buffered();if(\"undefined\"==typeof t&&(t=o.currentTime()),!this.mediaSource||this.mediaSource.mediaSource_&&!this.mediaSource.mediaSource_.sourceBuffers.length)return w[\"default\"].createTimeRanges([]);if(r&&r.length)for(n=0;n<r.length;n++)e(r.start(n),r.end(n),t)&&i.push([r.start(n),r.end(n)]);return w[\"default\"].createTimeRanges(i)}},j=function(e){function t(e,n){var i=this;r(this,t),l(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this,e);var o=void 0;e.options_&&e.options_.playerId&&(o=(0,w[\"default\"])(e.options_.playerId),o.hls||Object.defineProperty(o,\"hls\",{get:function(){return w[\"default\"].log.warn(\"player.hls is deprecated. Use player.tech.hls instead.\"),i}})),this.tech_=e,this.source_=n.source,this.mode_=n.mode,this.pendingSegment_=null,this.bandwidth=n.bandwidth||4194304,this.bytesReceived=0,this.loadingState_=\"none\",\"none\"!==this.tech_.preload()&&(this.loadingState_=\"meta\"),this.startCheckingBuffer_(),this.on(this.tech_,\"seeking\",function(){this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,\"error\",function(){this.stopCheckingBuffer_()}),this.on(this.tech_,\"play\",this.play)}return a(t,e),s(t,[{key:\"src\",value:function(e){var t=this,n=void 0;e&&(this.mediaSource=new w[\"default\"].MediaSource({mode:this.mode_}),this.mediaSource.addEventListener(\"sourceopen\",this.handleSourceOpen.bind(this)),this.options_={},\"undefined\"!=typeof this.source_.withCredentials?this.options_.withCredentials=this.source_.withCredentials:w[\"default\"].options.hls&&(this.options_.withCredentials=w[\"default\"].options.hls.withCredentials),this.playlists=new A.PlaylistLoader(this.source_.src,this.tech_.hls,this.options_.withCredentials),this.tech_.one(\"canplay\",this.setupFirstPlay.bind(this)),this.playlists.on(\"loadedmetadata\",function(){n=t.playlists.media(),n.endList&&\"metadata\"!==t.tech_.preload()&&\"none\"!==t.tech_.preload()&&(t.loadingState_=\"segments\"),t.setupSourceBuffer_(),t.setupFirstPlay(),t.fillBuffer(),t.tech_.trigger(\"loadedmetadata\")}),this.playlists.on(\"error\",function(){t.blacklistCurrentPlaylist_(t.playlists.error)}),this.playlists.on(\"loadedplaylist\",function(){var e=t.playlists.media(),i=void 0;return e?(t.updateDuration(t.playlists.media()),i=t.seekable(),t.duration()===1/0&&0!==i.length&&t.mediaSource.addSeekableRange_(i.start(0),i.end(0)),void(n=e)):void t.playlists.media(t.selectPlaylist())}),this.playlists.on(\"mediachange\",function(){t.tech_.trigger({type:\"mediachange\",bubbles:!0})}),this.tech_.el()&&this.tech_.src(w[\"default\"].URL.createObjectURL(this.mediaSource)))}},{key:\"handleSourceOpen\",value:function(){this.sourceBuffer||this.setupSourceBuffer_(),this.tech_.autoplay()&&this.play()}},{key:\"excludeIncompatibleVariants_\",value:function(e){var t=this.playlists.master,n=2,i=null,o=null,r=void 0;e.attributes&&e.attributes.CODECS&&(r=L(e.attributes.CODECS),i=r.videoCodec,o=r.audioProfile,n=r.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null,audioProfile:null};e.attributes&&e.attributes.CODECS&&(t=L(e.attributes.CODECS)),t.codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==i&&(e.excludeUntil=1/0),(\"5\"===t.audioProfile&&\"5\"!==o||\"5\"===o&&\"5\"!==t.audioProfile)&&(e.excludeUntil=1/0)})}},{key:\"setupSourceBuffer_\",value:function(){var e=this.playlists.media(),t=void 0;e&&\"open\"===this.mediaSource.readyState&&(t=\"video/mp2t\",e.attributes&&e.attributes.CODECS&&(t+='; codecs=\"'+e.attributes.CODECS+'\"'),this.sourceBuffer=this.mediaSource.addSourceBuffer(t),this.excludeIncompatibleVariants_(e),this.sourceBuffer.addEventListener(\"updateend\",this.updateEndHandler_.bind(this)))}},{key:\"setupFirstPlay\",value:function(){var e=void 0,t=this.playlists.media();this.duration()===1/0&&0===this.tech_.played().length&&!this.tech_.paused()&&this.sourceBuffer&&t&&this.tech_.readyState()>=1&&(this.playlists.trigger(\"firstplay\"),e=this.seekable(),e.length&&this.tech_.setCurrentTime(e.end(0)))}},{key:\"play\",value:function(){return this.loadingState_=\"segments\",this.tech_.ended()&&this.tech_.setCurrentTime(0),0===this.tech_.played().length?this.setupFirstPlay():void(this.duration()===1/0&&this.tech_.currentTime()<this.seekable().start(0)&&this.tech_.setCurrentTime(this.seekable().start(0)))}},{key:\"setCurrentTime\",value:function(e){var t=this.findBufferedRange_();return this.playlists&&this.playlists.media()&&this.playlists.media().segments?t&&t.length?e:this.pendingSegment_&&this.pendingSegment_.buffered?e:(this.lastSegmentLoaded_=null,this.cancelSegmentXhr(),this.keyXhr_&&(this.keyXhr_.aborted=!0,this.cancelKeyXhr()),void this.fillBuffer(this.playlists.getMediaIndexForTime_(e))):0}},{key:\"duration\",value:function(){var e=this.playlists;return e?this.mediaSource?this.mediaSource.duration:A.Playlist.duration(e.media()):0}},{key:\"seekable\",value:function n(){var e=void 0,n=void 0;return this.playlists&&(e=this.playlists.media())?(n=A.Playlist.seekable(e),0===n.length?n:0===n.start(0)?w[\"default\"].createTimeRanges([[this.playlists.expired_,this.playlists.expired_+n.end(0)]]):n):w[\"default\"].createTimeRanges()}},{key:\"updateDuration\",value:function(e){var t=this,n=this.mediaSource.duration,i=A.Playlist.duration(e),o=this.tech_.buffered(),r=function a(){t.mediaSource.duration=i,t.tech_.trigger(\"durationchange\"),t.mediaSource.removeEventListener(\"sourceopen\",a)};o.length>0&&(i=Math.max(i,o.end(o.length-1))),n!==i&&(\"open\"!==this.mediaSource.readyState?this.mediaSource.addEventListener(\"sourceopen\",r):this.sourceBuffer&&this.sourceBuffer.updating||(this.mediaSource.duration=i,this.tech_.trigger(\"durationchange\")))}},{key:\"resetSrc_\",value:function(){this.cancelSegmentXhr(),this.cancelKeyXhr(),this.sourceBuffer&&\"open\"===this.mediaSource.readyState&&this.sourceBuffer.abort()}},{key:\"cancelKeyXhr\",value:function(){this.keyXhr_&&(this.keyXhr_.onreadystatechange=null,this.keyXhr_.abort(),this.keyXhr_=null)}},{key:\"cancelSegmentXhr\",value:function(){this.segmentXhr_&&(this.segmentXhr_.onreadystatechange=null,this.segmentXhr_.abort(),this.segmentXhr_=null),this.pendingSegment_=null}},{key:\"dispose\",value:function(){this.stopCheckingBuffer_(),this.playlists&&this.playlists.dispose(),this.resetSrc_(),l(Object.getPrototypeOf(t.prototype),\"dispose\",this).call(this)}},{key:\"selectPlaylist\",value:function(){var e=void 0,t=this.playlists.master.playlists.slice(),n=[],i=+new Date,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0;for(t.sort(A.comparePlaylistBandwidth),t=t.filter(function(e){return\"undefined\"!=typeof e.excludeUntil?i>=e.excludeUntil:!0}),o=t.length;o--;)r=t[o],\nr.attributes&&r.attributes.BANDWIDTH&&(e=r.attributes.BANDWIDTH*S,e<this.bandwidth&&(n.push(r),a||(a=r)));for(o=n.length,n.sort(A.comparePlaylistResolution),r=null,c=parseInt(M(this.tech_.el(),\"width\"),10),d=parseInt(M(this.tech_.el(),\"height\"),10);o--;)if(r=n[o],r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&r.attributes.RESOLUTION.height){var p=r.attributes.RESOLUTION;if(p.width===c&&p.height===d){s=null,u=r;break}if(p.width<c&&p.height<d)break;(!s||p.width<l.width&&p.height<l.height)&&(s=r,l=s.attributes.RESOLUTION)}return s||u||a||t[0]}},{key:\"checkBuffer_\",value:function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null),this.fillBuffer(),this.drainBuffer(),this.checkBufferTimeout_=window.setTimeout(this.checkBuffer_.bind(this),x)}},{key:\"startCheckingBuffer_\",value:function(){this.checkBuffer_()}},{key:\"stopCheckingBuffer_\",value:function(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:\"fillBuffer\",value:function(e){var t=this.tech_,n=t.currentTime(),i=0!==this.tech_.buffered().length,o=this.findBufferedRange_(),r=!(o&&o.length),a=0,s=0,l=void 0,u=void 0,c=void 0;if(\"segments\"===this.loadingState_&&t.currentSrc()&&this.playlists&&!this.segmentXhr_&&!this.pendingSegment_&&\"HAVE_NOTHING\"!==this.playlists.state&&this.playlists.media()&&this.playlists.media().segments&&\"SWITCHING_MEDIA\"!==this.playlists.state){if(\"undefined\"==typeof e)if(o&&o.length){if(a=o.end(0),e=this.playlists.getMediaIndexForTime_(a),s=Math.max(0,a-n),s>=A.GOAL_BUFFER_LENGTH)return}else e=this.playlists.getMediaIndexForTime_(this.tech_.currentTime());if(l=this.playlists.media().segments[e]){if(this.lastSegmentLoaded_&&this.playlistUriToUrl(this.lastSegmentLoaded_.uri)===this.playlistUriToUrl(l.uri)&&this.lastSegmentLoaded_.byterange===l.byterange)return this.fillBuffer(e+1);u={uri:this.playlistUriToUrl(l.uri),mediaIndex:e,mediaSequence:this.playlists.media().mediaSequence,playlist:this.playlists.media(),currentBufferedEnd:a,bytes:null,encryptedBytes:null,decrypter:null,buffered:null,timestampOffset:null},e>0&&(c=A.Playlist.duration(u.playlist,u.playlist.mediaSequence+e)+this.playlists.expired_),this.tech_.seeking()&&r?u.playlist.discontinuityStarts.length&&(u.timestampOffset=c):l.discontinuity&&o.length?u.timestampOffset=o.end(0):!i&&this.tech_.currentTime()>.05&&(u.timestampOffset=c),this.loadSegment(u)}}}},{key:\"playlistUriToUrl\",value:function(e){var t=void 0;return t=this.playlists.media().uri===this.source_.src?(0,C[\"default\"])(this.source_.src,e):(0,C[\"default\"])((0,C[\"default\"])(this.source_.src,this.playlists.media().uri||\"\"),e)}},{key:\"byterangeStr_\",value:function(e){var t=void 0,n=void 0;return n=e.offset+e.length-1,t=e.offset,\"bytes=\"+t+\"-\"+n}},{key:\"segmentXhrHeaders_\",value:function(e){var t={};return\"byterange\"in e&&(t.Range=this.byterangeStr_(e.byterange)),t}},{key:\"setBandwidth\",value:function(e){this.segmentXhrTime=e.roundTripTime,this.bandwidth=e.bandwidth,this.bytesReceived+=e.bytesReceived||0,this.tech_.trigger(\"bandwidthupdate\")}},{key:\"blacklistCurrentPlaylist_\",value:function(e){var t=void 0,n=void 0;return(t=e.playlist||this.playlists.media())?(t.excludeUntil=Date.now()+N,(n=this.selectPlaylist())?(w[\"default\"].log.warn(\"Problem encountered with the current HLS playlist. Switching to another playlist.\"),this.playlists.media(n)):(w[\"default\"].log.warn(\"Problem encountered with the current HLS playlist. No suitable alternatives found.\"),this.error=e,this.mediaSource.endOfStream(\"network\"))):(this.error=e,this.mediaSource.endOfStream(\"network\"))}},{key:\"loadSegment\",value:function(e){var t=this,n=e.playlist.segments[e.mediaIndex],i=0,o=this.seekable(),r=this.tech_.currentTime();this.sourceBuffer&&!this.sourceBuffer.updating&&(i=o.length&&o.start(0)>0&&o.start(0)<r?o.start(0):r-60,i>0&&this.sourceBuffer.remove(0,i)),n.key&&this.fetchKey_(n),this.segmentXhr_=this.tech_.hls.xhr({uri:e.uri,responseType:\"arraybuffer\",withCredentials:this.source_.withCredentials,timeout:1.5*n.duration*1e3,headers:this.segmentXhrHeaders_(n)},function(i,o){return t.segmentXhr_&&o===t.segmentXhr_?(t.segmentXhr_=null,o.timedout?(t.bandwidth=1,t.playlists.media(t.selectPlaylist())):!o.aborted&&i?t.blacklistCurrentPlaylist_({status:o.status,message:\"HLS segment request error at URL: \"+e.uri,code:o.status>=500?4:2}):void(o.response&&(t.lastSegmentLoaded_=n,t.setBandwidth(o),n.key?e.encryptedBytes=new Uint8Array(o.response):e.bytes=new Uint8Array(o.response),t.pendingSegment_=e,t.tech_.trigger(\"progress\"),t.drainBuffer(),t.playlists.media(t.selectPlaylist())))):void 0})}},{key:\"drainBuffer\",value:function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0;if(this.pendingSegment_&&this.sourceBuffer&&!this.pendingSegment_.buffered&&!this.sourceBuffer.updating){if(e=this.pendingSegment_,t=e.mediaIndex,n=e.playlist,i=e.bytes,o=n.segments[t],o.key&&!i){if(k(o.key))return this.blacklistCurrentPlaylist_({message:\"HLS segment key request error.\",code:4});if(!o.key.bytes)return;if(e.decrypter)return;return a=o.key.iv||new Uint32Array([0,0,0,t+n.mediaSequence]),r=new A.Decrypter(e.encryptedBytes,o.key.bytes,a,function(t,n){t&&w[\"default\"].log.warn(t),e.bytes=n}),void(e.decrypter=r)}this.pendingSegment_.buffered=this.tech_.buffered(),null!==e.timestampOffset&&(this.sourceBuffer.timestampOffset=e.timestampOffset),this.sourceBuffer.appendBuffer(i)}}},{key:\"updateEndHandler_\",value:function(){var e=this.pendingSegment_,t=void 0,n=void 0,i=void 0,o=void 0,r=void 0,a=void 0;if(!e)return void(this.pendingSegment_=null);if(e.buffered){if(this.pendingSegment_=null,t=e.playlist,n=e.mediaIndex+(e.mediaSequence-t.mediaSequence),i=this.findBufferedRange_(),a=O(t,this.mediaSource,n,i),e.playlist.uri!==this.playlists.media().uri)return a?this.mediaSource.endOfStream():this.fillBuffer();if(o=this.seekable(),this.tech_.seeking()&&0===i.length&&o.length&&this.tech_.currentTime()<o.start(0)){var s=this.findNextBufferedRange_();s.length&&(w[\"default\"].log(\"tried seeking to\",this.tech_.currentTime(),\"but that was too early, retrying at\",s.start(0)),this.tech_.setCurrentTime(s.start(0)+I))}return r=A.findSoleUncommonTimeRangesEnd_(e.buffered,this.tech_.buffered()),D(t,n,r),a?this.mediaSource.endOfStream():null!==r||e.buffered.length!==this.tech_.buffered().length?(this.updateDuration(t),void this.fillBuffer()):void this.fillBuffer(n+1)}}},{key:\"fetchKey_\",value:function(e){var t=this,n=void 0,i=void 0,o=void 0;return!this.keyXhr_&&(i=this.options_,o=function(n){return function(i,o){var r=void 0;return t.keyXhr_=null,i||!o.response||16!==o.response.byteLength?(n.retries=n.retries||0,n.retries++,void(o.aborted||t.fetchKey_(e))):(r=new DataView(o.response),n.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),void t.checkBuffer_())}},n=e.key)?n.bytes||k(n)?void 0:void(this.keyXhr_=this.tech_.hls.xhr({uri:this.playlistUriToUrl(n.uri),responseType:\"arraybuffer\",withCredentials:i.withCredentials},o(n))):void 0}}]),t}(P);n[\"default\"]=j,j.prototype.findBufferedRange_=R(function(e,t,n){return n>=e-I&&t+I>=n}),j.prototype.findNextBufferedRange_=R(function(e,t,n){return e-I>=n});var V=function U(e){return{canHandleSource:function(e){return U.canPlayType(e.type)},handleSource:function(t,n){return\"flash\"===e&&n.setTimeout(function(){n.trigger(\"loadstart\")},1),n.hls=new j(n,{source:t,mode:e}),n.hls.xhr=(0,f[\"default\"])(),w[\"default\"].Hls.xhr.beforeRequest&&(n.hls.xhr.beforeRequest=w[\"default\"].Hls.xhr.beforeRequest),n.hls.src(t.src),n.hls},canPlayType:function(e){return U.canPlayType(e)}}};V.canPlayType=function(e){var t=/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;return A.supportsNativeHls?!1:t.test(e)},(\"undefined\"==typeof w[\"default\"].MediaSource||\"undefined\"==typeof w[\"default\"].URL)&&(w[\"default\"].MediaSource=v.MediaSource,w[\"default\"].URL=v.URL),v.MediaSource.supportsNativeMediaSources()&&w[\"default\"].getComponent(\"Html5\").registerSourceHandler(V(\"html5\")),window.Uint8Array&&w[\"default\"].getComponent(\"Flash\").registerSourceHandler(V(\"flash\")),w[\"default\"].HlsHandler=j,w[\"default\"].HlsSourceHandler=V,w[\"default\"].Hls=A,w[\"default\"].m3u8=b[\"default\"],n[\"default\"]={Hls:A,HlsHandler:j,HlsSourceHandler:V},t.exports=n[\"default\"]}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{\"./bin-utils\":1,\"./decrypter\":5,\"./m3u8\":6,\"./playlist\":11,\"./playlist-loader\":10,\"./resolve-url\":12,\"./xhr\":14,\"videojs-contrib-media-sources\":28}]},{},[51])(51)}.call(),window.videojs=t}),Ndn_Require.define(\"videojs_texttracks\",[\"videojs_lib\",\"jquery\"],function(e,t){function n(t,n){this.textTrackParsers={\"text/vtt\":WebVTTParser,\"application/ttml+xml\":TTMLParser},this.player=t,this.onSuccess=n.onSuccess,this.track=n.track,this.xhrOpts={uri:this.track.src},this.crossOrigin=e.isCrossOrigin(this.track.src),this.crossOrigin&&(this.xhrOpts.cors=this.crossOrigin),e.xhr(this.xhrOpts,e.bind(this,function(e,t,n){return e?void console.error(\"Failed to process track:\"+this.track.src):(this.textTrackParsers.hasOwnProperty(this.track.type)&&(this.track.cues=(new this.textTrackParsers[this.track.type]).parse(n)),void(void 0!=this.track.cues&&null!=this.track.cues&&this.track.cues.length>0&&(this.track.loaded=!0,this.onSuccess.call(this,this.track))))}))}TTMLParser=function(){},TTMLParser.prototype.parse=function(e){var n=t.parseXML(e),i=n.getElementsByTagName(\"tt\"),o=[];if(i&&i.length>0){var r=i[0].getElementsByTagName(\"body\");if(r&&r.length>0)for(var a=r[0].getElementsByTagName(\"div\"),s=a[0].getElementsByTagName(\"p\"),o=[],l=0;l<s.length;l++){var u=s[l],c=this.parseTime(u.getAttribute(\"begin\")),d=this.parseTime(u.getAttribute(\"end\")),p=u.textContent;o.push({data:p,startTime:c,endTime:d})}}return o},TTMLParser.prototype.parseTime=function(e){var t,n,i=3600,o=60,r=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\\.([0-9])+)?$/;return r.test(e)?(t=e.split(\":\"),n=parseFloat(t[0])*i+parseFloat(t[1])*o+parseFloat(t[2])):NaN},WebVTTParser=function(){this.parser=new WebVTT.Parser(window,vttjs,WebVTT.StringDecoder())},WebVTTParser.prototype.parse=function(e){var t=[],n=[];return this.parser.oncue=function(e){t.push({data:e.text,startTime:e.startTime,endTime:e.endTime})},this.parser.onparsingerror=function(e){n.push(e)},this.parser.onflush=function(){},this.parser.parse(e),n.length>0&&(console.groupCollapsed&&console.groupCollapsed(\"Text Track parsing errors\"),n.forEach(function(e){console.error(\"error :\",e)}),console.groupEnd&&console.groupEnd()),this.parser.flush(),t},function(){function i(i){function r(){a(),p(),l()}function a(){MenuButton=e.getComponent(\"MenuButton\"),MenuItem=e.getComponent(\"MenuItem\"),CaptionItem=e.extend(MenuItem,{constructor:function(e,t){MenuItem.call(this,e,t)},buttonText:\"Captions Item\",handleClick:function(e){this.trigger(\"itemClicked\");var t=this.options_;t.selected=!0,MenuItem.prototype.handleClick.call(this,e),-2==t.index?(this.player().getChild(\"textTrackSettings\").show(),this.player().getChild(\"textTrackSettings\").el_.focus()):s(t.index)}}),CaptionButton=e.extend(MenuButton,{constructor:function(e,t){MenuButton.call(this,e,t)},buttonText:\"Captions\",buildCSSClass:function(){return\"vjs-captions-button vjs-control \"+MenuButton.prototype.buildCSSClass.call(this)},createItems:function(){var t,n=[],i=(this.options_,v.tracks?v.tracks:[]),o=v.selectedTrack>=0&&v.selectedTrack<i.length?v.selectedTrack:-1;if(i.length>0){captionOffItem=new CaptionItem(this.player_,{label:\"Captions Off\",selectable:!0,index:-1,selected:-1==o?!0:!1}),n.push(captionOffItem),captionOffItem.on(\"itemClicked\",e.bind(this,this.unselectAllItems));for(var r in i){var t=i[r];if(t.loaded){t.index=parseInt(r),t.selected=o==parseInt(r)?!0:!1;var a=new CaptionItem(this.player_,t);n.push(a),a.on(\"itemClicked\",e.bind(this,this.unselectAllItems))}}1==n.length&&(n=[])}return n},unselectAllItems:function(){for(var e in this.items){var t=this.items[e];t.selected(!1),t.options_.selected=!1}}}),y=new CaptionButton(player,{});var t=player.controlBar.addChild(y);player.controlBar.el().insertBefore(t.el(),player.controlBar.getChild(\"customControlSpacer\").el().nextSibling)}function s(e){g=-1,v.selectedTrack=e,player.off(\"timeupdate\",c),l(),e>=0&&v.tracks[e].loaded&&(v.selectedTrack=e,player.on(\"timeupdate\",c))}function l(){d(!0)}function u(e,t){return e>t.endTime?1:e<t.startTime?-1:0}function c(){var e,t,n=v.tracks[v.selectedTrack].cues,i=this.currentTime(),o=0,r=n.length-1;if(!(g>=0&&0==u(i,n[g]))){for(g=-1;r>=o;)if(e=Math.ceil((o+r)/2),t=u(i,n[e]),1==t)o=e+1;else{if(-1!=t){g=e;break}r=e-1}if(-1==g)return void l();var a=n[g];d(!a.data),m.find(\".vjs-track-overlay-text\").html(a.data)}}function d(e){e?m.css(\"visibility\",\"hidden\"):m.css(\"visibility\",\"visible\")}function p(){m=t(\"<div class='vjs-track-overlay'><div class='vjs-track-overlay-text'></div></div>\"),videoWrapper.find(\".vjs-control-bar\").before(m),h()}function h(){trackStyle=t.extend(!0,{},setting.trackStyle);var e=trackStyle[\"font-size\"];if(void 0!=e&&null!=e&&\"auto\"==e){var n=m.width();e=.025*n,m.one(\"resize\",h)}trackStyle[\"font-size\"]=e,m.find(\".vjs-track-overlay-text\").css(trackStyle)}function f(){y.update(),s(v.selectedTrack)}var g,m,y,v={};setting=t.extend(!0,{},o,i.setting),videoWrapper=t(this.el()),player=this,player.textTrack={loadTracks:function(e){var t=[];for(index in e.tracks){var i=e.tracks[index];i={label:i.label,src:i.src,selectable:!0,cues:i.cues,type:i.type,loaded:!1},t.push(i),new n(player,{track:i,onSuccess:function(e){f()}})}v.tracks=t,v.selectedTrack=e.selectedTrack>=0&&e.selectedTrack<e.tracks.length?e.selectedTrack:-1,f()}},r()}var o={trackStyle:{\"background-color\":\"rgba(0,0,0,0.8)\",color:\"white\",\"text-align\":\"center\",\"font-size\":\"auto\"}};e.plugin(\"textTrack\",i)}()}),Ndn_Require.define(\"lib/video.js.player/VideoJSPlayer\",[\"jquery\",\"underscore\",\"backbone\",\"require\",\"videojs_lib\",\"lib/video.js.player/AdsPlayer\",\"lib/video.js.player/ComscoreStreamsense\",\"lib/video.js.player/ShareWrapper\",\"lib/video.js.player/Utils\",\"videojs_hls_lib\",\"videojs_texttracks\"],function(e,t,n,i,o,r,a,s,l){var u=null,c=n.Model.extend({defaults:{version:\"1.0.0\"},initialize:function(){},createInstance:function(e,t){return new p(e,{playerConfig:t})},getVersion:function(){return this.get(\"version\")},getPlaybackMode:function(){return l.isMobile()?\"html\":\"flash\"}},{loadDefaultParams:function(e){u=e},getDefaultParams:function(){return u}}),d=function(e){var t=[\"video/mp4\"];return t.indexOf(e)},p=n.Model.extend({ads:null,defaults:{adsEnabled:!1,hasStarted:!1,isBumperVideo:!1,isReady:!1,player:null,playerConfig:null,params:null,playOnLoad:!1,videoData:null,volume:.75},initialize:function(t,n){var i=this.createAndEmbedPlayer(t,n.playerConfig);this.ads=new r(this.get(\"player\"),{playerElementId:i,defaultParams:c.getDefaultParams()}),this.ads.on({adsPlayerInitialized:e.proxy(function(){this.checkAndFireReady()},this),allAdsEnded:e.proxy(function(){this.trigger(\"ended\",{type:\"ended\"})},this)}),this.comscore=new a(this,{defaultParams:c.getDefaultParams()}),this.share=new s(this,{defaultParams:c.getDefaultParams()})},checkAndFireReady:function(){this.ads.isInitialized()&&this.get(\"isReady\")&&this.trigger(\"ready\",{type:\"ready\"})},isReady:function(){return this.get(\"isReady\")},createAndEmbedPlayer:function(t,n){var i,r=Math.floor(1e3*Math.random()),a=e(document.createElement(\"video\"));t&&t.nodeType?(void 0!==t.getAttribute(\"id\")&&null!==t.getAttribute(\"id\")&&(r=t.getAttribute(\"id\")),i=t):i=e(\"#\"+t),a.attr(\"id\",\"videojsplayer-\"+r),a.addClass(\"video-js\"),a.appendTo(i);var s=e.proxy(function(e){this.trigger(e.type,e)},this),u=e.proxy(function(e){if(this.get(\"isBumperVideo\")){var t=this.get(\"videoData\"),n=t[\"bumper-subclip\"];void 0!=n&&null!=n&&e>n[\"bumper-end\"]&&this.end()}},this);this.set(\"playerConfig\",n);var c=o(\"videojsplayer-\"+r,{controls:!0,preload:l.isMobile()?void 0:\"auto\",flash:{swf:\"js/lib/video.js/video-js.swf\"},html5:{nativeCaptions:!1},controlBar:{volumeMenuButton:{inline:!1,vertical:!0}}});try{c.textTrack({})}catch(d){console.error(\"Failed to load the text track plugin:\",d)}return c.removeChild(c.getChild(\"bigPlayButton\")),c.ready(e.proxy(function(){this.set(\"isReady\",!0),this.checkAndFireReady()},this),!1),c.on(\"loadeddata\",e.proxy(function(){},this)),c.on(\"loadedmetadata\",function(){s({type:\"loadedmetadata\"})}),c.on(\"ended\",e.proxy(function(){0==this.get(\"adsEnabled\")&&s({type:\"ended\"})},this)),c.on(\"loadstart\",function(){s({type:\"loadstart\"})}),c.on(\"canplay\",function(){s({type:\"canplay\"})}),c.on(\"pause\",e.proxy(function(){this.ads.isAdPlaying()||c.scrubbing()||c.seeking()||c.ended()||s({type:\"pause\"})},this)),c.on(\"playing\",e.proxy(function(){0==this.get(\"hasStarted\")&&(s({type:\"started\"}),this.set(\"hasStarted\",!0)),s({type:\"playstatechange\",data:{newState:\"playing\"}}),s({type:\"playing\"})},this)),c.on(\"volumechange\",function(){s({type:\"volumechange\",data:{currentVolume:c.volume(),isMuted:c.muted()}})}),c.on(\"fullscreenchange\",function(){s(c.isFullscreen()?{type:\"fullscreenchange\",data:{isFullscreen:!0}}:{type:\"fullscreenchange\"})}),c.on(\"timeupdate\",function(){c.seeking()||s({type:\"timeupdate\",data:{currentTime:c.currentTime(),duration:c.duration()}}),u(c.currentTime())}),this.set(\"player\",c),a.attr(\"id\")},addEventListener:function(e,t){this.on(e,t)},removeEventListeners:function(e){this.off(e)},setAutoplay:function(e){this.set(\"playOnLoad\",e)},setParams:function(e){this.set(\"params\",e)},setData:function(t){var n=this.get(\"player\"),i=t[\"media-content\"],o=t[\"media-subtitle\"],r=[];this.set(\"videoData\",t),this.set(\"hasStarted\",!1),this.ads.reset(),videoContent=n,e.each(i,function(t,n){var i=r.length,o=d(n.type);-1!=o&&(e.each(r,function(e,t){return o<=t.order?(i=e,!1):void 0}),r.splice(i,0,{type:n.type,src:n.url,order:o}))}),n.poster(t[\"media-thumbnail\"]),n.src(r);var a=[];null!=o&&void 0!=o&&e.each(o,function(e,t){a.push({label:l.getLanguageName(t.lang),src:t.href,srclang:t.lang,type:t.type})});try{n.textTrack.loadTracks({tracks:a})}catch(s){console.error(\"failed to load text tracks: \",s)}this.controls(!0);var u=t[\"bumper-subclip\"];void 0!=u&&null!=u?(this.setCurrentTime(u[\"bumper-start\"]),this.controls(!1),this.set(\"isBumperVideo\",!0)):this.set(\"isBumperVideo\",!1),this.get(\"playOnLoad\")&&this.play(),this.trigger(\"dataChanged\",{params:this.get(\"params\"),playerConfig:this.get(\"playerConfig\"),videoData:t})},controls:function(e){if(void 0!==e){var t=this.get(\"params\");e=!!e,this.get(\"player\").controls(e),t.showContentPlayerControls=e,this.set(\"params\",t)}},play:function(){1==this.get(\"adsEnabled\")?0==this.ads.hasAdBeenRequested()?(this.get(\"player\").load(),this.ads.requestAds(this.get(\"params\"))):this.ads.isAdPlaying()?this.ads.play():this.get(\"player\").play():this.get(\"player\").play()},pause:function(){this.ads.isAdPlaying()?this.ads.pause():this.get(\"player\").pause()},end:function(){var e=this.get(\"player\");e.pause(),e.currentTime(0),this.trigger(\"ended\",{type:\"ended\"})},getCurrentTime:function(){return this.get(\"player\").currentTime()},setCurrentTime:function(e){this.get(\"player\").currentTime(e)},getDuration:function(){return this.get(\"player\").duration()},volume:function(){return this.get(\"player\").volume()},setVolume:function(e){this.get(\"player\").volume(e),this.set(\"volume\",e)},setMuted:function(e){this.get(\"player\").muted(e)},requestFullScreen:function(){this.get(\"player\").requestFullscreen()},exitFullScreen:function(){this.get(\"player\").exitFullscreen()},setAdsEnabled:function(e){this.set(\"adsEnabled\",e)}});return c});var _nw2e=_nw2e||[];Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Vjs\",[\"jquery\",\"underscore\",\"backbone\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Analytics\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Viewer/ViewerModule\",\"models/Ndn/Viewer/ViewerModule/Vjs/Config\",\"models/Ndn/PlayerServices/Cache\",\"models/Ndn/Debugger\",\"models/Ndn/AdBlockDetector\",\"lib/video.js.player/VideoJSPlayer\"],function(e,t,n,i,o,r,a,s,l,u,c,d,p){function h(e,t,n){var i=e,o=n,r=t;switch(o.length){case 0:return i[r]();case 1:return i[r](o[0]);case 2:return i[r](o[0],o[1]);case 3:return i[r](o[0],o[1],o[2]);case 4:return i[r](o[0],o[1],o[2],o[3]);case 5:return i[r](o[0],o[1],o[2],o[3],o[4]);case 6:return i[r](o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6]);case 8:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]);case 9:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8]);case 10:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]);case 11:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10]);case 12:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11]);case 13:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12]);case 14:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13]);case 15:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14]);case 16:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]);case 17:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16]);case 18:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17]);case 19:return i[r](o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18])}}_nw2e.vjsVideoPlayer=new p;var f,g=!1,m=function(e,t){var n=e.get(\"playerInstance\"),i=Array.prototype.slice.call(arguments,2);c.inMode(\"delegateMethods\")&&console.log(\"---> Ndn_Viewer_ViewerModule_Vjs, _delegateMethod(\",t,\", \",i,\");\");var o,r=n;try{for(var a=t.split(\".\"),s=0;s<a.length-1;s++){var l=a[s];if(null===r||\"object\"!=typeof r||\"undefined\"==typeof r[l])throw\"Method parent could not be found.\";r=r[l]}if(null===r||\"object\"!=typeof r)throw\"Method parent could not be found.\";o=a[a.length-1]}catch(u){c.inMode(\"delegateMethod\")&&console.log(\"ERROR TRYING TO FIND DELEGATE METHOD: \",u)}return r&&\"function\"==typeof r[o]?h(r,o,i):void 0},y=s.extend({defaults:{moduleId:\"vjs\",playerInstance:null,isReady:!1,isMuted:!1,playOnLoad:!1,params:null,vjsVideoData:null,isBumperVideo:null,isSynchronized:!1,isFullscreen:!1,vjsConfig:null,volume:.75,debugInfo:null},initialize:function(e){var t=this;s.prototype.initialize.call(this,e),this.set({isReady:!1}),this.set(\"debugInfo\",{vjsVersion:y.getVersion(),playerConfigDefaults:y.getDebugConfig(),playerConfig:null,videosLoaded:[]}),this.on({fullscreenStart:function(){t.set(\"isFullscreen\",!0)},fullscreenEnd:function(){t.set(\"isFullscreen\",!1)}})},isSynchronized:function(){return this.get(\"isSynchronized\")},toggleSynchronized:function(e){this.set(\"isSynchronized\",e)},initializePlayerConfig:function(e){var t=this.get(\"vjsConfig\");t||this.set(\"vjsConfig\",{comscoreEnabled:e.comscoreEnabled,playbackMode:e.playbackMode})},startSession:function(e){s.prototype.startSession.apply(this,arguments),this.applySessionDefaults(e,{isMuted:!1,playOnLoad:!0,isBumperVideo:!1,playbackMode:y.getDefaultPlaybackMode(),showControls:!0,showShareIcons:!0}),this.toggleAdPlayer(!!e.dfp),this.toggleContentPlayer(!!e.videoData),this.toggleSynchronized(!1),this.initializePlayerConfig({comscoreEnabled:!!e.comscore,playbackMode:e.playbackMode});var t=this;this.set({isMuted:e.isMuted,params:{dfp:e.dfp||{},comscore:e.comscore||{}},vjsVideoData:function(){var n=e.videoData||u.getLastCachedVideoData();return t.getVjsVideoData(n,e.isBumperVideo)}()}),this.get(\"debugInfo\").videosLoaded.push([[\"setAutoplay\",e.playOnLoad],[\"setAdsEnabled\",this.isAdPlayerEnabled()],[\"setParams\",this.get(\"params\")],[\"setData\",this.get(\"vjsVideoData\")]]),(e.playOnLoad||\"flash\"!=e.playbackMode)&&this.syncThirdPartyPlayer()},maintainVisibility:function(){},isFullscreen:function(){return this.get(\"isFullscreen\")},getCurrentTime:function(){return this.isShowingAdPlayer()?this.getAdPlayerMetadata().currentTime:m(this,\"getCurrentTime\")},getDuration:function(){return this.isShowingAdPlayer()?this.getAdPlayerMetadata().duration:m(this,\"getDuration\")},getAdPlayerMetadata:function(){var e=this.getPlayerInstance();return e.ads&&e.ads.adVO&&e.ads.adVO.metadata||{}},getPlayerInstance:function(){return this.get(\"playerInstance\")},getDuration:function(){return m(this,\"getDuration\")},play:function(){var e=this;this.syncThirdPartyPlayer().done(function(){e.isPlaying()||m(e,\"play\")})},getVjsVideoData:function(e,t){var n=this.getSessionParams(),i=this.getContainerElement(),o=i.width(),r=(i.height(),5),a=6,s={\"media-title\":e.videoTitle,\"media-description\":e.description,\"media-thumbnail\":e[o>400?\"stillImageXLUrl\":\"stillImageUrl\"],\"media-content\":function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i],r={url:function(){var e=o.url.replace(\" \",\"\");return/\\.f4m\\?/.exec(e)&&(e+=\"&hdcore=1\"),e}(),medium:o.medium,type:o.type,duration:t?a:o.duration};0==i&&(r.isDefault=\"true\"),n.push(r)}return n}(e.mediaContent),\"media-subtitle\":function(){for(var t=[],n=0;n<e.subtitles.length;n++){var i=e.subtitles[n];t.push({type:i.type,lang:i.language,href:i.url})}return t.length?t:null}()};return n.showShareIcons&&(s[\"media-share\"]={\"show-icons\":!0}),t&&(s[\"bumper-subclip\"]={\"bumper-start\":r+\"\",\"bumper-end\":r+a+\"\"}),c.inMode(\"vjsVideoData\")&&console.log(\"[[vjsVideoData]]\",s),s},end:function(){this.isPlaying()&&m(this,\"end\")},toggleControls:function(e){m(this,\"controls.setMode\",e?\"auto\":\"none\")},pause:function(){this.isPlaying()&&m(this,\"pause\")},initializeThirdPartyPlayer:function(){var t=this;return e.Deferred(function(e){if(t.get(\"playerInstance\"))e.resolve();else{y.loadConfig({adServer:\"dfp\",adOverlayText:t.getContainerElement().width()>350?\"Your content starts in \":\"Starts in \",adBlockDetectionId:t.getSessionParams().adBlockDetectionId});var n=l.generatePlayerConfig(t.get(\"vjsConfig\")||{});t.debug({playerConfig:n},!0),t.set(\"playerInstance\",_nw2e.vjsVideoPlayer.createInstance(t.getContainerElement().get(0),n)),t.initializeVjsEventProcessing(),t.onceReady(function(){e.resolve()})}}).promise()},initializeVjsEventProcessing:function(){function n(e,t){i.trigger(e,t)}var i=this,o=this.get(\"playerInstance\");o.addEventListener(\"ready\",e.proxy(function(r){o.addEventListener(\"started\",function(e){n(\"videoStart\",e)}),o.addEventListener(\"loadedmetadata\",function(){n(\"loadedmetadata\")}),o.addEventListener(\"playstatechange\",e.proxy(function(e){if(e&&e.data){var t=e.data.newState;\"playing\"==t?i.isShowingAdPlayer()?n(\"adResume\",e):(n(\"videoStart\",e),n(\"videoResume\",e)):\"ended\"==t&&(i.isShowingAdPlayer()?n(\"adEnd\"):i.isShowingVideo()&&n(\"videoEnd\"))}},this)),o.addEventListener(\"fullscreenchange\",function(e){n(e.data?\"fullscreenStart\":\"fullscreenEnd\")}),o.addEventListener(\"volumechange\",e.proxy(function(e){i.set(\"mutedThroughPlayer\",e.data.isMuted),i.get(\"isMuted\")||this.set(\"volume\",e.data.currentVolume),i.isPlayingAd()&&(t.isNumber(e.data.currentVolume)?0==e.data.currentVolume&&this.previous(\"volume\")>0?n(\"adMute\"):e.data.currentVolume>0&&0==this.previous(\"volume\")&&n(\"adUnmute\"):t.isNumber(e.data)&&n(0==e.data?\"adMute\":\"adUnmute\"))},this)),o.addEventListener(\"timeupdate\",function(e){i.isPlayingVideo()&&(i.getCurrentTime()>i.getDuration()?(i.end(),n(\"videoEnd\")):n(\"videoTimeUpdate\",e))}),o.addEventListener(\"ended\",function(e){i.isPlayingVideo()&&n(\"videoEnd\")}),o.addEventListener(\"error\",function(e){n(\"error\",e)}),o.ads.addEventListener(\"request\",function(e){i.isAdPlayerEnabled()&&n(\"adRequest\",{playerInstanceType:7,adTag:e.requestURL,receivedData:e})}),o.ads.addEventListener(\"loaded\",function(e){try{var t=e.data;if(t){t.metadata&&t.metadata.wrapperAdIds&&t.metadata.wrapperAdIds[0]||t.id;n(\"adLoad\",{adId:t.adId,adPlatform:t.adPlatform,adSystem:t.adSystem,adTitle:t.title,duration:t.duration,linear:t.linear?1:0,podPosition:t.podPosition,totalAds:t.totalAds,workflow:t.workflow,url:t.requestURL})}}catch(i){}}),o.addEventListener(\"playstatechange\",function(e){e&&e.data&&\"paused\"==e.data.newState&&(i.isPlayingAd()?n(\"adPause\",{currentTime:i.getCurrentTime()}):i.isPlayingVideo()&&n(\"videoPause\",{currentTime:i.getCurrentTime()}))}),o.addEventListener(\"pause\",function(e){n(\"videoPause\",{currentTime:i.getCurrentTime()})}),o.addEventListener(\"mediaPlayerElementEvent\",function(e){\"videoWindow\"==e.data.element&&\"click\"==e.data.type&&n(\"click\",e)}),o.ads.addEventListener(\"pause\",function(e){n(\"pause\",e),n(\"adPause\",{currentTime:i.getCurrentTime()})}),o.ads.addEventListener(\"resume\",e.proxy(function(e){i.isShowingAdPlayer()&&(n(\"adResume\",e),n(\"play\",e))},this)),o.ads.addEventListener(\"started\",function(e){n(\"adStart\")}),o.ads.addEventListener(\"ended\",function(e){n(\"adEnd\"),n(\"adPlayerEnd\")}),o.ads.addEventListener(\"timeupdate\",function(e){n(\"adTimeUpdate\")}),o.ads.addEventListener(\"companion\",function(e){if(e&&e.data){var t=e.data[0]||e.data.metadata&&e.data.metadata[0];t&&n(\"adCompanion\",{content:t.data||t.content})}}),null!=o.share&&o.share.addEventListener(\"share\",function(e){i.pause(),n(\"share\",{medium:e.data.provider})}),o.ads.addEventListener(\"error\",function(e){try{var t=e.data;t&&n(\"adError\",{message:t.reason,receivedData:t})}catch(i){}}),o.ads.addEventListener(\"log\",function(e){try{var t=e.data.metadata.metadata.error;t&&n(\"adError\",{message:t.message,receivedData:t})}catch(i){}}),i.toggleReady(!0)},this))},syncThirdPartyPlayer:function(){return e.Deferred(e.proxy(function(t){this.initializeThirdPartyPlayer().done(e.proxy(function(){this.isSynchronized()?t.resolve():this.updateThirdPartyPlayer().done(function(){t.resolve()})},this))},this))},updateThirdPartyPlayer:function(){var t=this;return e.Deferred(function(e){t.onceReady(function(){var n=t.getSessionParams();t.isSynchronized()||(t.get(\"mutedThroughPlayer\")||t.get(\"isMuted\")?m(t,\"setMuted\",!0):(m(t,\"setMuted\",!1),m(t,\"setVolume\",t.get(\"volume\"))),m(t,\"setAutoplay\",n.playOnLoad),m(t,\"setAdsEnabled\",t.isAdPlayerEnabled()),m(t,\"setParams\",t.get(\"params\")),m(t,\"setData\",t.get(\"vjsVideoData\")),t.toggleSynchronized(!0)),e.resolve()})}).promise()},getDebugInfo:function(){return t.extend({},this.get(\"debugInfo\"),{playerConfigDefaults:y.getDebugConfig()})}},{generateConfig:function(e){return l.generateDefaultConfig(t.extend(e,{imaEnabled:!0,comscoreEnabled:!0}))},getVersion:function(){return i.getBuild()},loadConfig:function(e){g||(f=this.getTestConfig(e),p.loadDefaultParams(y.getConfig(e)),g=!0)},getDefaultPlaybackMode:function(){return _nw2e.vjsVideoPlayer.getPlaybackMode()},getConfig:function(e){return this.generateConfig(t.extend({},e))},getDebugConfigParams:function(){return{resourcesFolderUrl:\"../resources\"}},getTestConfig:function(e){return this.generateConfig(t.extend({},e,this.getDebugConfigParams()))},getDebugConfig:function(){return f}});return y}),Ndn_Require.define(\"text!templates/ndn/viewer/viewer-module/easi.html\",[],function(){return'<html>\\n<head>\\n    <script type=\"text/javascript\">\\n        // IE workaround (unverified if this is actually helping) \\n        if (typeof(Object) === \"undefined\") window.location.reload();\\n    </script>\\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\\n    <script type=\"text/javascript\" src=\"{{appUrl}}/resources/js/streamsense.4.1504.21.min.js\"></script>\\n    <script type=\"text/javascript\" src=\"//cdn.spotxcdn.com/website/integrations/easi/inform/inform-solution.v2.js\"></script>\\n    <script type=\"text/javascript\">\\n        var oAdUnit;\\n        \\n        var informStreamingTagMetadata,\\n            informStreamingTag;\\n        \\n        var previousAdCountdownText = \\'\\';\\n        \\n        /**\\n         * @param {Object} data Structured data concerning the comScore Video Metrix Stream Sense configuration. Format:\\n         * <pre>{\\n         *   \\'enabled\\': Boolean, // Whether comScore Video Metrix is enabled\\n         *   \\'metadata\\': Object, // Structured data concerning the metadata used for ad playback\\n         * }</pre>\\n         */\\n        function initializeComscore(data) {\\n            if (data.enabled) {\\n                informStreamingTag = new ns_.StreamingTag({\\n                    customerC2: \\'11112732\\'\\n                });\\n                informStreamingTagMetadata = data.metadata; //.comscoreMetadata;\\n            }\\n            else {\\n                // Make a dummy placeholder object \\n                informStreamingTag = {\\n                    playVideoAdvertisement: function() {},\\n                    stop: function() {}\\n                };\\n            }\\n        }\\n        \\n        function startAd(params) {\\n            window.parent.{{closures.onAdRequest}}();\\n            \\n            initializeComscore(params.comscore);\\n            \\n            try {\\n                oAdUnit = placeAdUnit(\"inform_container\", {\\n                    \"spotx_ad_unit\": params.adUnitType,\\n                    \"spotx_channel_id\": params.channelId,\\n                    \"spotx_vpix\": params.excludedCreatives,\\n                    \"spotx_ad_format\": params.adFormat,\\n                    \"spotx_content_page_url\": params.embedOriginUrl,\\n                    \"spotx_content_width\": params.width,\\n                    \"spotx_content_height\": params.height, \\n                    \"spotx_ad_done_function\": \"onAdDone\",\\n                    \"custom\": params.customData,\\n                    \"events\": {\\n                        \\'AdPaused\\': onAdPaused,\\n                        \\'AdPlaying\\': onAdPlaying,\\n                        \\'AdLoaded\\': window.parent.{{closures.onAdLoad}},\\n                        \\'AdImpression\\': onAdImpression,\\n                        \\'AdStarted\\': onAdStarted,\\n                        \\'AdVideoStart\\': onAdVideoStart,\\n                        \\'AdRemainingTimeChange\\': onAdTimeUpdate\\n                    }\\n                });\\n            }\\n            catch (e) {\\n                window.parent.{{closures.onAdError}}(e.getMessage());\\n            }\\n        }\\n        \\n        function onAdStarted() {\\n            document.getElementById(\\'adchoices-container\\').style.display = \\'block\\';\\n        }\\n        \\n        function onAdPaused() {\\n            window.parent.{{closures.onAdPause}}();\\n            informStreamingTag.stop();\\n        }\\n        \\n        function onAdPlaying() {\\n            informStreamingTag.playVideoAdvertisement(informStreamingTagMetadata);\\n            \\n            if (informStreamingTagMetadata) {\\n                window.parent.{{closures.onComscoreCall}}();\\n            }\\n        }\\n        \\n        function onAdTimeUpdate() {\\n            var timeRemaining = parseInt(oAdUnit.getAdOS().getAdRemainingTime(), 10),\\n                text = \\'Time Remaining: \\';\\n            \\n            if (!isNaN(timeRemaining)) {\\n                text += timeRemaining + \\' second\\';\\n                if (timeRemaining != 1) {\\n                    text += \\'s\\';\\n                }\\n            }\\n            else {\\n                text = \\'\\';\\n            }\\n            \\n            // If time remaining is less than 0, hide time remaining\\n            if (timeRemaining < 0) text = \\'\\';\\n            \\n            if (text != previousAdCountdownText) {\\n                document.getElementById(\\'inform-time-remaining\\').innerHTML = text;\\n                previousAdCountdownText = text;\\n            }\\n        }\\n        \\n        function onAdImpression() {\\n        \twindow.parent.{{closures.onAdStart}}(\\'AdImpression\\');\\n        }\\n        \\n        function onAdVideoStart() {\\n        \twindow.parent.{{closures.onAdStart}}(\\'AdVideoStart\\');\\n        \tonAdPlaying();\\n        }\\n        \\n        function stopAd() {\\n            oAdUnit && oAdUnit.close();\\n        }\\n        \\n        function onAdDone(displayedAd) {\\n            informStreamingTag.stop();\\n            window.parent.{{closures.onAdDone}}(displayedAd);\\n        }\\n    </script>\\n    <style>\\n        .ndn-viewer-viewerModule-easi {\\n          width: 100%;\\n          height: 100%;\\n          position: relative;\\n        }\\n        \\n        .ndn-viewer-viewerModule-easi-adchoices {\\n          color: #6a6f72;\\n          width: 100%;\\n          height: 24px;\\n          line-height: 24px;\\n          font-family: Helvetica, Arial, Tahoma;\\n          font-size: 12px;\\n          text-align: right;\\n        }\\n        \\n        .ndn-viewer-viewerModule-easi-adchoices-logo {\\n          display: block;\\n          width: 78px;\\n          height: 16px;\\n          margin: 4px;\\n          float: left;\\n          background: url(\\'{{appUrl}}/img/ad-choices.png\\');\\n        }\\n        \\n        .ndn-viewer-viewerModule-easi-adchoices-logo:hover,\\n        .ndn-viewer-viewerModule-easi-adchoices-logo:active {\\n          background-position: 78px 0;\\n        }\\n        \\n        .ndn-viewer-viewerModule-easi-adchoices,\\n        .ndn-viewer-viewerModule-easi-adchoices-text,\\n        .ndn-viewer-viewerModule-easi-player {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          right: 0;\\n        }\\n        \\n        .ndn-viewer-viewerModule-easi-adchoices-background {\\n          background: black;\\n          height: 24px;\\n          opacity: 0.7;\\n          z-index: 9001;\\n        }\\n        \\n        .ndn-viewer-viewerModule-easi-adchoices,\\n        .ndn-viewer-viewerModule-easi-adchoices-text {\\n            z-index: 9002;\\n        }\\n    </style>\\n</head>\\n<body style=\"margin:0;\">\\n    <div class=\"ndn-viewer-viewerModule-easi\" style=\"width:{{width}}px;height:{{height}}px;\">\\n        <div id=\"adchoices-container\" class=\"ndn-viewer-viewerModule-easi-adchoices\" style=\"display:none;\">\\n            <div class=\"ndn-viewer-viewerModule-easi-adchoices-background\"></div>\\n            <div class=\"ndn-viewer-viewerModule-easi-adchoices-text\">\\n                <a class=\"ndn-viewer-viewerModule-easi-adchoices-logo\" href=\"http://assets.newsinc.com/info/adchoices.html\" target=\"_blank\"></a> <span id=\"inform-time-remaining\"></span>&nbsp;\\n            </div>\\n        </div>\\n        <div class=\"ndn-viewer-viewerModule-easi-player\" id=\"inform_container\"></div>\\n    </div>\\n</body>\\n</html>';\n}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Easi\",[\"jquery\",\"underscore\",\"backbone\",\"mustache\",\"models/Ndn/App\",\"models/Ndn/Viewer/ViewerModule\",\"models/Ndn/Utils/DomElement\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Debugger\",\"text!templates/ndn/viewer/viewer-module/easi.html\",\"lib/jquery_plugins/jquery.json\"],function(e,t,n,i,o,r,a,s,l,u){var c=o.getSetting(\"easiTimeout\")?parseInt(o.getSetting(\"easiTimeout\")):15,d=l.inMode(\"easi\");return r.extend({defaults:{playerInstanceId:4},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.toggleAdPlayer(!0),this.toggleContentPlayer(!1);var t=this;this.on({\"adEnd adTimeout adError adUnavailable\":function(){t.endSession()}})},prepareSession:function(){this.toggleReady(!1);var t=this;return e.Deferred(function(e){t.onceReady(e.resolve),t.initializeDom(),t.initializeIframeContent()}).promise()},initializeDom:function(){var t=this.get(\"containerElement\"),n=t.width(),i=t.height(),o=function(){var o=document.createElement(\"iframe\");return o.scrolling=\"no\",o.style.overflow=\"hidden\",o.style.width=n+\"px\",o.style.height=i+\"px\",o.style.border=\"0\",o.style.background=\"transparent none\",e(o).attr(\"allowTransparency\",\"true\"),e(o).addClass(\"ndn_easiPlayer\"),t.html(\"\").append(o),o}(),r=this;o.onload=function(){r.toggleReady(!0),o.onload=null},this.set(\"iframeElement\",o),this.debug({iframeElementHtml:a.getFullHtml(o)})},initializeIframeContent:function(){var e=this.get(\"iframeElement\"),t=this.getIframeContent(),n=e.contentDocument;n.open(),n.write(t),n.close(),this.set(\"iframeElement\",e),this.debug({iframeContent:t})},getIframeContent:function(){var t=this.getContainerElement(),n=this.getIframeClosures(),r=i.to_html(u.replace(/\\{\\{appUrl\\}\\}/g,o.getAppUrl()),{width:t.width(),height:t.height(),closures:n});return this.debug({iframeContent:r,instructions:function(){var t=[\"var _nw2e = _nw2e || [];\",\"_nw2e.closures = _nw2e.closures || {};\"];return e.each(n,function(e,n){t.push(n+' = function() { console.log(\"'+e+'\", arguments); };')}),t}()}),r},getIframeClosures:function(){function e(e){return o.makeClosureGlobal(t.makeSessionClosure(e))}var t=this;return{onComscoreCall:e(function(){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] onComscoreCall\"),t.updateScheduleLog({hasMadeEasiComscoreCall:!0})}),onAdRequest:e(function(){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] onAdRequest\"),t.trigger(\"adRequest\",{receivedData:{},playerInstanceType:4})}),onAdLoad:e(function(){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] onAdLoad\"),t.trigger(\"adLoad\",{})}),onAdStart:e(function(e){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] \"+e),t.isShowingAd()||t.trigger(\"adStart\",{})}),onAdDone:e(function(e){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] AdDone \"+e),t.trigger(e?\"adEnd\":\"adUnavailable\")}),onAdError:e(function(e){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] AdError \",e),t.trigger(\"adError\",{message:e})}),onAdPause:e(function(e){d&&console.log(\"[Ndn_Ads_EasiInformPlayer] AdPause \",e),t.trigger(\"adPause\")})}},startSession:function(t){r.prototype.startSession.apply(this,arguments);var n=this,i=this.getViewer(),a=\"undefined\"!=typeof t.timeout?t.timeout:c,s=!!t.comscore,l=t.comscore||{},u=\"undefined\"!=typeof t.allowFlash?t.allowFlash:!0;i.getSessionIndex();setTimeout(this.makeSessionClosure(function(){n.isShowingAd()||(d&&console.log(\"[Ndn_Ads_EasiInformPlayer] adTimeout\"),n.trigger(\"adTimeout\"))}),1e3*a),this.prepareSession().done(function(){var i=n.get(\"containerElement\"),r=i.width(),a=i.height(),c=t.customData||{},d={channelId:t.channelId,adFormat:u?\"\":\"html5\",excludedCreatives:u?\"[]\":'[\"FLV\",\"VPAID\"]',adUnitType:t.adUnitType||\"incontent\",embedOriginUrl:o.getEmbedOriginUrl(),width:r,height:a,comscore:{enabled:s,metadata:{ns_st_ci:l.videoAssetId,c3:l.distributorName,c4:l.providerName,c6:l.siteSection}},customData:e.toJSON({vs:c.videoSizeId,sitesection:c.siteSection,wgt:c.wgtValue,plt:c.pltValue,aoi:c.adOpportunityIndex,asi:c.spotxCallIndex,fp:c.foldPositionId,ab:c.adBlockDetectionId,dpid:c.adCampaignId,eidx:c.embedIndex,ceidx:c.widgetId,pw:r,ph:a})};n.debug({instructions:function(){var t=n.get(\"debugInfo\").instructions;return t.push(\"iframeElement.onload = function() { iframeElement.contentWindow.startAd(\"+e.toJSON(d)+\"); iframeElement.onload = null; };\"),t}()},!0),n.get(\"iframeElement\").contentWindow.startAd(d)})},halt:function(){var e=this.get(\"iframeElement\");e&&e.contentWindow&&e.contentWindow.stopAd&&e.contentWindow.stopAd(),r.prototype.halt.apply(this,arguments)}})}),Ndn_Require.define(\"text!templates/ndn/viewer/viewer-module/display-ad.html\",[],function(){return\"<!doctype html>\\n<html>\\n<head></head>\\n<body style=\\\"margin:0;\\\">\\n<script type=\\\"text/javascript\\\">\\n    rp_account   = '13402';\\n    rp_site      = '{{site}}';\\n    rp_zonesize  = '{{zonesize}}';\\n    rp_adtype    = 'js';\\n    rp_smartfile = '[SMART FILE URL]';\\n    rp_page = '{{embedOriginUrl}}';\\n    rp_kw = '{{kw}}';\\n</script>\\n<script type=\\\"text/javascript\\\" src=\\\"http://ads.rubiconproject.com/ad/13402.js\\\"></script>\\n</body>\\n</html>\"}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/DisplayAd\",[\"jquery\",\"mustache\",\"models/Ndn/App\",\"models/Ndn/Viewer/ViewerModule\",\"models/Ndn/Debugger\",\"models/Ndn/Utils/DomElement\",\"text!templates/ndn/viewer/viewer-module/display-ad.html\",\"lib/jquery_plugins/jquery.json\"],function(e,t,n,i,o,r,a){var s=(o.inMode(\"displayAd\"),i.extend({defaults:{duration:null},initialize:function(e){i.prototype.initialize.apply(this,arguments),o.inMode(\"adPlayer\")&&this.on(\"all\",function(e){console.log(\"Ndn_Ads_DisplayAd event: \"+e)}),this.createIframe(),this.toggleAdPlayer(!0)},createIframe:function(){var t=300,n=250,i=document.createElement(\"iframe\");i.scrolling=\"no\",i.style.overflow=\"hidden\",i.style.width=t+\"px\",i.style.height=n+\"px\",i.style.border=\"0\",i.style.background=\"transparent none\",e(i).attr(\"allowTransparency\",\"true\"),e(i).addClass(\"ndn_easiPlayer\"),i.onload=function(){i.onload=null},this.getContainerElement().get(0).appendChild(i),this.set(\"iframeElement\",i),this.debug({iframeElementHtml:r.getFullHtml(i)})},getDuration:function(){return this.get(\"duration\")},getCurrentTime:function(){return 0},startSession:function(e){i.prototype.startSession.apply(this,arguments);var t=e.duration,n=s.generateCode(e),o=this.get(\"iframeElement\").contentDocument;if(o.open(),o.write(n),o.close(),this.debug({iframeContent:n},!0),this.trigger(\"adRequest\",{receivedData:{},playerInstanceType:6}),this.trigger(\"adStart\",{}),this.set(\"duration\",t),t>0){var r=this;setTimeout(this.makeSessionClosure(function(){r.trigger(\"adEnd\"),r.endSession()}),1e3*t)}}},{generateCode:function(e){var n=e.isDesktop;return t.to_html(a.replace(/\\{\\{embedOriginUrl\\}\\}/g,e.embedOriginUrl),{site:n?91234:83422,zonesize:e.isPremium?n?\"522378-15\":\"521826-15\":n?\"429502-15\":\"391318-15\",kw:e.pltValue+\"-\"+e.adCampaignId})}}));return s}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/AbstractModel\",[\"jquery\",\"backbone\"],function(e,t){return t.Model.extend({defaults:{informPlayer:null},initialize:function(e){t.Model.prototype.initialize.apply(this,arguments),this.set({informPlayer:e});var n=this;this.getPlayer().on(\"viewerModuleEnd\",function(){n.hide()})},getPlayer:function(){return this.get(\"informPlayer\")},hide:function(){this.get(\"view\").$el.hide()},show:function(){this.get(\"view\").$el.prependTo(this.getPlayer().getContainerElement()).show()},isShowing:function(){return this.get(\"view\").$el.is(\":visible\")}})}),Ndn_Require.define(\"text!templates/ndn/video-player/endslate-overlay.html\",[],function(){return'<div class=\"ndn_endslateContainer\">\\n\t{{^mediaIsBlocked}}\\n\t    <div class=\"ndn_endslateClickSurface\"></div>\\n\t    {{#showUnavailableAlert}}\\n\t    <div class=\"ndn_endslateAlertUnavailable\">The requested video is no longer available</div>\\n\t    {{/showUnavailableAlert}}\\n\t    <div class=\"ndn_upNextContainer\">\\n\t\t\t<span class=\"ndn_upNextLabel\">Up Next: </span> \\n\t\t\t<div class=\"ndn_upNextThumbnailContainer\">\\n                <div class=\"ndn_thumbnailPlayIcon\"></div>\\n\t\t    \t<img class=\"ndn_upNextThumbnail\" src=\"{{upNextThumbnail}}\" />\\n\t\t\t</div>\\n\t\t\t<span class=\"ndn_upNextTitle\">{{upNextTitle}}</span>\t\t\t\\n\t    </div> \\n\t    {{#showCountdown}}\\n\t    <div class=\"ndn_startsInContainer\">\\n\t        <div class=\"ndn_startsInLabel\">Starts In:</div>\\n\t        <div class=\"ndn_startsInCountdownContainer\">\\n\t\t        <span class=\"ndn_startsInCountdown\">{{countdownValue}}</span>\\n\t        </div>\\n\t    </div>\\n\t    {{/showCountdown}}\t    \\n\t{{/mediaIsBlocked}}\\n    {{#mediaIsBlocked}}\\n    \t<div class=\"ndn_endslateMediaBlocked\">We\\'re sorry but this video cannot be played from your location.</div>\\n    {{/mediaIsBlocked}}\\n</div>'}),Ndn_Require.define(\"jquery_autoellipsis\",[\"jquery\",\"underscore\"],function(e,t){!function(e,t){function n(t){void 0===window.ndn_ellipsis_handler&&(window.ndn_ellipsis_handler=new EllipsisResizeHandler,e(window).on(\"resize\",function(){clearTimeout(window.ndnResizeTimeout),window.ndnResizeTimeout=setTimeout(function(){window.ndn_ellipsis_handler.onResize.call(window.ndn_ellipsis_handler)},100)})),t.each(function(){window.ndn_ellipsis_handler.$elements=window.ndn_ellipsis_handler.$elements.add(this)})}function i(n,i){var s=n.data(\"jqae\");s||(s={});var l=s.wrapperElement;l||(l=n.wrapInner(\"<div/>\").find(\">div\"),l.css({margin:\"0 0 0 0\",padding:0,border:0}));var u=l.data(\"jqae\");u||(u={});var c=u.originalContent;c?l=u.originalContent.clone(!0).data(\"jqae\",{originalContent:c}).replaceAll(l):l.data(\"jqae\",{originalContent:l.clone(!0)}),n.data(\"jqae\",{wrapperElement:l,containerWidth:n.width(),containerHeight:n.height()});var d=n.height(),p=(parseInt(n.css(\"padding-top\"),10)||0)+(parseInt(n.css(\"border-top-width\"),10)||0)-(l.offset().top-n.offset().top),h=!1,f=l;i.selector&&(f=e(l.find(i.selector).get().reverse())),f.each(function(){var n=e(this),s=n.text(),u=!1;if(l.innerHeight()-n.innerHeight()>d+p)n.remove();else if(a(n),n.contents().length){if(h&&(r(n).get(0).nodeValue+=i.ellipsis,h=!1),1==n.contents().length){if(void 0===n.data(\"jaelh\")){var c=l.attr(\"style\"),f=l.html();l.attr(\"style\",\"height: auto; padding: 0;\").html(\"&nbsp;\"),l.data(\"jaelh\",l.innerHeight()),l.html(f),void 0!==c?l.attr(\"style\",c):l.removeAttr(\"style\")}var g=d+p+n.data(\"jaelh\"),m=l.innerHeight(),y=g/m;if(1>y){var v=r(n),_=v.get(0).nodeValue.split(\" \");v.get(0).nodeValue=t.first(_,Math.ceil(_.length*y)).join(\" \")}}for(;l.innerHeight()>d+p;){if(u=o(n),!u){h=!0,n.remove();break}if(a(n),!n.contents().length){h=!0,n.remove();break}r(n).get(0).nodeValue+=i.ellipsis}\"onEllipsis\"==i.setTitle&&u||\"always\"==i.setTitle?n.attr(\"title\",s):\"never\"!=i.setTitle&&n.removeAttr(\"title\")}})}function o(t){var n=r(t);if(n.length){var i=n.get(0).nodeValue,o=i.lastIndexOf(\" \");return o>-1?(i=e.trim(i.substring(0,o)),n.get(0).nodeValue=i):n.get(0).nodeValue=\"\",!0}return!1}function r(e){if(e.contents().length){var t=e.contents(),n=t.eq(t.length-1);return n.filter(s).length?n:r(n)}e.append(\"\");var t=e.contents();return t.eq(t.length-1)}function a(t){if(t.contents().length){var n=t.contents(),i=n.eq(n.length-1);if(i.filter(s).length){var o=i.get(0).nodeValue;return o=e.trim(o),\"\"==o?(i.remove(),!0):!1}for(;a(i););return i.contents().length?!1:(i.remove(),!0)}return!1}function s(){return 3===this.nodeType}function l(e,t){p[e]=t,d||(d=window.setInterval(function(){c()},200))}function u(e){p[e]&&(delete p[e],p.length||d&&(window.clearInterval(d),d=void 0))}function c(){if(!h){h=!0;for(var t in p)e(t).each(function(){var n,o;n=e(this),o=n.data(\"jqae\"),(o.containerWidth!=n.width()||o.containerHeight!=n.height())&&i(n,p[t])});h=!1}}EllipsisResizeHandler=function(){this.$elements=e(),this.onResize=function(){this.$elements.ellipsis()}};var d,p={},h=!1,f={ellipsis:\"...\",setTitle:\"never\",live:!1};e.fn.ellipsis=function(t,o){var r,a;return r=e(this),\"string\"!=typeof t&&(o=t,t=void 0),a=e.extend({},f,o),a.selector=t,r.each(function(){var t=e(this);i(t,a)}),a.live?l(r.selector,a):u(r.selector),a.updateOnWindowResize&&n(r),this}}(e,t)}),Ndn_Require.define(\"lib/jquery_plugins/jquery.backstretch.min\",[\"jquery\"],function(e){!function(e,t,n){e.fn.backstretch=function(i,o){return(i===n||0===i.length)&&e.error(\"No images were supplied for Backstretch\"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),n=t.data(\"backstretch\");if(n){if(\"string\"==typeof i&&\"function\"==typeof n[i])return void n[i](o);o=e.extend(n.options,o),n.destroy(!0)}n=new r(this,i,o),t.data(\"backstretch\",n)})},e.backstretch=function(t,n){return e(\"body\").backstretch(t,n).data(\"backstretch\")},e.expr[\":\"].backstretch=function(t){return e(t).data(\"backstretch\")!==n},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var i={left:0,top:0,overflow:\"hidden\",margin:0,padding:0,height:\"100%\",width:\"100%\",zIndex:-999999},o={position:\"absolute\",display:\"none\",margin:0,padding:0,border:\"none\",width:\"auto\",height:\"auto\",maxHeight:\"none\",maxWidth:\"none\",zIndex:-999999},r=function(n,o,r){this.options=e.extend({},e.fn.backstretch.defaults,r||{}),this.images=e.isArray(o)?o:[o],e.each(this.images,function(){e(\"<img />\")[0].src=this}),this.isBody=n===document.body,this.$container=e(n),this.$root=this.isBody?e(a?t:document):this.$container,n=this.$container.children(\".backstretch\").first(),this.$wrap=n.length?n:e('<div class=\"backstretch\"></div>').css(i).appendTo(this.$container),this.isBody||(n=this.$container.css(\"position\"),o=this.$container.css(\"zIndex\"),this.$container.css({position:\"static\"===n?\"relative\":n,zIndex:\"auto\"===o?0:o,background:\"none\"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&a?\"fixed\":\"absolute\"}),this.index=0,this.show(this.index),e(t).on(\"resize.backstretch\",e.proxy(this.resize,this)).on(\"orientationchange.backstretch\",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};r.prototype={resize:function(){try{var e,n={left:0,top:0},i=this.isBody?this.$root.width():this.$root.innerWidth(),o=i,r=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),a=o/this.$img.data(\"ratio\");a>=r?(e=(a-r)/2,this.options.centeredY&&(n.top=\"-\"+e+\"px\")):(a=r,o=a*this.$img.data(\"ratio\"),e=(o-i)/2,this.options.centeredX&&(n.left=\"-\"+e+\"px\")),this.$wrap.css({width:i,height:r}).find(\"img:not(.deleteable)\").css({width:o,height:a}).css(n)}catch(s){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var n=this,i=n.$wrap.find(\"img\").addClass(\"deleteable\"),r={relatedTarget:n.$container[0]};return n.$container.trigger(e.Event(\"backstretch.before\",r),[n,t]),this.index=t,clearInterval(n.interval),n.$img=e(\"<img />\").css(o).bind(\"load\",function(o){var a=this.width||e(o.target).width();o=this.height||e(o.target).height(),e(this).data(\"ratio\",a/o),e(this).fadeIn(n.options.speed||n.options.fade,function(){i.remove(),n.paused||n.cycle(),e([\"after\",\"show\"]).each(function(){n.$container.trigger(e.Event(\"backstretch.\"+this,r),[n,t])})}),n.resize()}).appendTo(n.$wrap),n.$img.attr(\"src\",n.images[t]),n}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(n){e(t).off(\"resize.backstretch orientationchange.backstretch\"),clearInterval(this.interval),n||this.$wrap.remove(),this.$container.removeData(\"backstretch\")}};var a,s=navigator.userAgent,l=navigator.platform,u=s.match(/AppleWebKit\\/([0-9]+)/),u=!!u&&u[1],c=s.match(/Fennec\\/([0-9]+)/),c=!!c&&c[1],d=s.match(/Opera Mobi\\/([0-9]+)/),p=!!d&&d[1],h=s.match(/MSIE ([0-9]+)/),h=!!h&&h[1];a=!((-1<l.indexOf(\"iPhone\")||-1<l.indexOf(\"iPad\")||-1<l.indexOf(\"iPod\"))&&u&&534>u||t.operamini&&\"[object OperaMini]\"==={}.toString.call(t.operamini)||d&&7458>p||-1<s.indexOf(\"Android\")&&u&&533>u||c&&6>c||\"palmGetResource\"in t&&u&&534>u||-1<s.indexOf(\"MeeGo\")&&-1<s.indexOf(\"NokiaBrowser/8.5.0\")||h&&6>=h)}(e,window)}),Ndn_Require.define(\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/EndslateView\",[\"jquery\",\"backbone\",\"mustache\",\"text!templates/ndn/video-player/endslate-overlay.html\",\"jquery_autoellipsis\",\"lib/jquery_plugins/jquery.backstretch.min\"],function(e,t,n,i){return t.View.extend({events:{\"click .ndn_endslateClickSurface\":\"onSurfaceClick\"},initialize:function(){this.setElement(e(document.createElement(\"div\")).addClass(\"ndn_endslateOverlay ndn_playerOverlay\").prependTo(this.model.getPlayer().getContainerElement()).hide().get(0)),this.model.on(\"change:countdownValue\",function(){this.$el.find(\".ndn_startsInCountdown\").html(this.model.get(\"countdownValue\"))}.bind(this))},hide:function(){this.$el.hide()},show:function(e){this.model.set(\"type\",e);var t=this.model.getTemplateData();this.$el.html(n.to_html(i,t)),this.$el.appendTo(this.model.getPlayer().getContainerElement()).show(),t.backgroundImage&&(this.$el.backstretch(t.backgroundImage).css(\"z-index\",\"\"),this.$el.find(\".backstretch\").css(\"z-index\",110)),this.$el.height()<300&&this.$el.find(\".ndn_upNextTitle\").ellipsis(),this.$el.height()<250&&this.$el.find(\".ndn_justWatchedContainer\").hide(),this.model.displaysCountdown()&&this.model.countdownToPlay(),this.$el.prependTo(this.model.getPlayer().getContainerElement()).show()},onSurfaceClick:function(){this.model.getPlayer().requestVideoStart({source:\"endslateNextVideoClick\"}),this.hide()}})}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/EndslateModel\",[\"jquery\",\"underscore\",\"mustache\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/AbstractModel\",\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/EndslateView\",\"models/Ndn/Debug\"],function(e,t,n,i,o,r){var a=5;return i.extend({defaults:{viewerModule:null,type:null,countdownInterval:null,countdownValue:a,view:null},initialize:function(e){i.prototype.initialize.apply(this,arguments),this.set(\"view\",new o({model:this}))},show:function(e){i.prototype.show.apply(this,arguments),this.get(\"view\").show(e)},getTemplateData:function(){var e=this.getPlayer().getSessionParams().videoData||{},t={upNextTitle:e.videoTitle,upNextThumbnail:e.stillImageUrl,showUnavailableAlert:\"videoNotAvailable\"==this.get(\"type\"),showCountdown:this.displaysCountdown(),mediaIsBlocked:\"mediaBlocked\"==this.get(\"type\"),countdownValue:this.get(\"countdownValue\"),backgroundImage:e.stillImageUrl};return t},displaysCountdown:function(){return\"videoNotAvailable\"==this.get(\"type\")&&this.getPlayer().getSessionParams().playOnLoad},countdownToPlay:function(){var e=this.getPlayer(),t=this;this.set(\"countdownInterval\",setInterval(function(){this.get(\"countdownValue\")<=0&&(t.cancelCountdown(),t.hide(),e.play()),r.inMode(\"endslateTimer\")||this.set(\"countdownValue\",Math.max(0,this.get(\"countdownValue\")-1))}.bind(this),1e3))},cancelCountdown:function(){null!==this.get(\"countdownInterval\")&&(clearInterval(this.get(\"countdownInterval\")),this.set({countdownInterval:null,countdownValue:a}))}})}),Ndn_Require.define(\"models/Ndn/Utils/FastClick\",[],function(){var e=\"ontouchstart\"in window;return function(t){function n(e){return l=!0,s.x=e.targetTouches[0].clientX,s.y=e.targetTouches[0].clientY,s.scroll=window.pageYOffset,!0}function i(e){return l&&(Math.abs(e.targetTouches[0].clientX-s.x)>10||Math.abs(e.targetTouches[0].clientY-s.y)>10)&&(l=!1),!0}function o(e){var t,n;return!l||Math.abs(window.pageYOffset-s.scroll)>5?!0:(t=document.elementFromPoint(s.x,s.y),t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),(-1===t.className.indexOf(\"ndn_fastClick_clickevent\")||-1!==t.className.indexOf(\"ndn_fastClick_touchandclickevent\"))&&(n=document.createEvent(\"MouseEvents\"),n.initMouseEvent(\"click\",!0,!0,window,1,0,0,s.x,s.y,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)),t instanceof HTMLSelectElement||-1!==t.className.indexOf(\"ndn_fastClick_clickevent\")?!1:void e.preventDefault())}function r(e){l=!1}function a(t){if(!window.event)return!0;var n,i=!0,o=window.event.forwardedTouchEvent;return e&&(n=t.currentTarget,(!n||!o&&-1==n.className.indexOf(\"ndn_fastClick_clickevent\"))&&(i=!1)),i?!0:(t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation(),!1)}if(\"undefined\"==typeof HTMLElement)return!1;if(!(t instanceof HTMLElement))throw new TypeError(\"Layer must be instance of HTMLElement\");e&&(t.addEventListener(\"touchstart\",n,!0),t.addEventListener(\"touchmove\",i,!0),t.addEventListener(\"touchend\",o,!0),t.addEventListener(\"touchcancel\",r,!0)),t.addEventListener(\"click\",a,!0),t.onclick instanceof Function&&(t.addEventListener(\"click\",t.onclick,!1),t.onclick=\"\");var s={x:0,y:0,scroll:0},l=!1}}),Ndn_Require.define(\"text!templates/ndn/video-player/info-overlay.html\",[],function(){return'<div class=\"ndn_videoInfo\">\\n\t<img class=\"ndn_videoProviderLogo\" src=\"{{videoProviderLogo}}\" />\\n\t<div class=\"ndn_videoTitle\">{{videoTitle}}</div>\\n\t<div class=\"ndn_videoInfoDescription\">{{videoDescription}}</div>\\n\t<div class=\"ndn_videoProviderName\">{{videoProviderName}}</div>\\n\t<div class=\"ndn_toggleInfoDescription ndn_icon_info-circled\" title=\"More Info\"></div>\\n\t<div class=\"ndn_toggleShare ndn_icon_share\" title=\"Share\"></div>\\n\t<div class=\"ndn_infoPanelOverlay\"></div>\\n</div>'}),Ndn_Require.define(\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/InfoView\",[\"jquery\",\"mustache\",\"backbone\",\"models/Ndn/Utils/FastClick\",\"text!templates/ndn/video-player/info-overlay.html\",\"jquery_autoellipsis\"],function(e,t,n,i,o){return n.View.extend({events:{\"click .ndn_toggleInfoDescription\":\"toggleDescription\",\"click .ndn_toggleShare\":\"openShareOverlay\"},initialize:function(){n.View.prototype.initialize.call(this,arguments),this.setElement(e('<div class=\"ndn_infoOverlayContainer ndn_playerOverlay\">').get(0))},toggleDescription:function(){var e=this.$el.find(\".ndn_toggleInfoDescription\"),t=this.$el.find(\".ndn_videoInfoDescription\");e.hasClass(\"ndn_icon_info-circled\")?(e.removeClass(\"ndn_icon_info-circled\").addClass(\"ndn_icon_cancel-circled\"),t.slideToggle(\"500\",\"swing\")):(e.removeClass(\"ndn_icon_cancel-circled\").addClass(\"ndn_icon_info-circled\"),t.slideToggle(\"500\",\"swing\"))},openShareOverlay:function(e){var t=this.model.getPlayer(),n=t.getOverlays(),i=n.getOverlay(\"share\"),o=n.getOverlay(\"start\"),r=this.model;return o.isShowing()?(o.togglePlayButton(!1),r.hide()):(t.pause(),n.hideAll()),i.show(),!1},updateHtml:function(e){this.$el.html(t.to_html(o,{videoTitle:e.videoTitle,videoDescription:e.description,videoProviderLogo:e.provider.logoUrl,videoProviderName:e.provider.name})),this.$el.find(\".ndn_icon_share\").toggle(!!this.model.getPlayer().getSessionParams().share)}})}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/InfoModel\",[\"jquery\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/AbstractModel\",\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/InfoView\"],function(e,t,n){return t.extend({defaults:{view:null,toggleableDisplay:!0},initialize:function(e){t.prototype.initialize.apply(this,arguments),this.set(\"view\",new n({model:this})),e.getContainerElement().append(this.get(\"view\").$el.hide());var i=this,o=this.get(\"view\");e.on({videoLoad:function(e){o.updateHtml(e.videoData)},\"adStart videoStart adResume videoResume\":function(){i.setToggleableDisplay(!0).setVisibility(!1)},\"adPause videoPause\":function(){i.setToggleableDisplay(!1).setVisibility(!0,!0)}}),e.getContainerElement().on({\"mouseenter touchstart\":function(){i.get(\"toggleableDisplay\")&&i.setVisibility(!0)},\"mouseleave touchend\":function(){i.get(\"toggleableDisplay\")&&i.setVisibility(!1)}})},setVisibility:function(e,t){\"undefined\"==typeof t&&(t=!1);var n=this.get(\"view\").$el,i=\"flash\"!=this.getPlayer().getSessionParams().playbackMode;return i?e?(n.stop(!0,!0).css(\"display\",\"block\").css(\"visibility\",\"visible\"),n.delay(0).fadeIn(900)):n.stop(!0,!0).delay(4700).fadeOut(900):e?n.stop(!0,!0).fadeIn():n.stop(!0,!0).delay(1e3).fadeOut(800),t&&n.stop(!0,!0),this},setToggleableDisplay:function(e){return this.set(\"toggleableDisplay\",e),this}})}),Ndn_Require.define(\"jquery_bxslider\",[\"jquery\"],function(e){var t={},n={mode:\"horizontal\",slideSelector:\"\",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:\"visible\",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:\"full\",pagerShortSeparator:\" / \",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:\"Next\",prevText:\"Prev\",nextSelector:null,prevSelector:null,autoControls:!1,startText:\"Start\",stopText:\"Stop\",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:\"next\",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,slideHeight:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.bxSlider=function(o){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(o)}),this;var r={},a=this;t.el=this;var s=e(window).width(),l=e(window).height(),u=function(){r.settings=e.extend({},n,o),r.settings.slideWidth=parseInt(r.settings.slideWidth),r.settings.slideHeight=parseInt(r.settings.slideHeight),r.children=a.children(r.settings.slideSelector),r.children.length<r.settings.minSlides&&(r.settings.minSlides=r.children.length),r.children.length<r.settings.maxSlides&&(r.settings.maxSlides=r.children.length),r.settings.randomStart&&(r.settings.startSlide=Math.floor(Math.random()*r.children.length)),r.active={index:r.settings.startSlide},r.carousel=r.settings.minSlides>1||r.settings.maxSlides>1,r.carousel&&(r.settings.preloadImages=\"all\"),r.minThreshold=r.settings.minSlides*r.settings.slideWidth+(r.settings.minSlides-1)*r.settings.slideMargin,r.maxThreshold=r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin,r.working=!1,r.controls={},r.interval=null,r.animProp=\"vertical\"==r.settings.mode?\"top\":\"left\",r.usingCSS=r.settings.useCSS&&\"fade\"!=r.settings.mode&&function(){var e=document.createElement(\"div\"),t=[\"WebkitPerspective\",\"MozPerspective\",\"OPerspective\",\"msPerspective\"];for(var n in t)if(void 0!==e.style[t[n]])return r.cssPrefix=t[n].replace(\"Perspective\",\"\").toLowerCase(),r.animProp=\"-\"+r.cssPrefix+\"-transform\",!0;return!1}(),\"vertical\"==r.settings.mode&&(r.settings.maxSlides=r.settings.minSlides),c()},c=function(){a.wrap('<div class=\"ndn_carousel-wrapper\"><div class=\"ndn_carousel-viewport\"></div></div>'),r.viewport=a.parent(),r.loader=e('<div class=\"ndn_carousel-loading\" />'),r.viewport.prepend(r.loader),a.css({width:\"horizontal\"==r.settings.mode?215*r.children.length+\"%\":\"auto\",position:\"relative\"}),r.usingCSS&&r.settings.easing?a.css(\"-\"+r.cssPrefix+\"-transition-timing-function\",r.settings.easing):r.settings.easing||(r.settings.easing=\"swing\");g();if(r.viewport.css({width:\"100%\",overflow:\"hidden\",position:\"relative\"}),r.viewport.parent().css({maxWidth:h()}),r.children.css({\"float\":\"horizontal\"==r.settings.mode?\"left\":\"none\",listStyle:\"none\",position:\"relative\"}),r.children.width(f()),\"horizontal\"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css(\"marginRight\",r.settings.slideMargin),\"vertical\"==r.settings.mode&&r.settings.slideMargin>0&&r.children.css(\"marginBottom\",r.settings.slideMargin),\"fade\"==r.settings.mode&&(r.children.css({position:\"absolute\",zIndex:0,display:\"none\"}),r.children.eq(r.settings.startSlide).css({zIndex:50,display:\"block\"})),r.controls.el=e('<div class=\"ndn_carousel-controls\" />'),r.settings.captions&&C(),r.settings.infiniteLoop&&\"fade\"!=r.settings.mode&&!r.settings.ticker){var t=\"vertical\"==r.settings.mode?r.settings.minSlides:r.settings.maxSlides,n=r.children.slice(0,t).clone().addClass(\"ndn_carousel-clone\"),i=r.children.slice(-t).clone().addClass(\"ndn_carousel-clone\");a.append(n).prepend(i)}r.active.last=r.settings.startSlide==m()-1,r.settings.video&&a.fitVids();var o=r.children.eq(r.settings.startSlide);\"all\"==r.settings.preloadImages&&(o=a.children()),r.settings.ticker?r.settings.pager=!1:(r.settings.pager&&E(),r.settings.controls&&w(),r.settings.auto&&r.settings.autoControls&&T(),(r.settings.controls||r.settings.autoControls||r.settings.pager)&&r.viewport.after(r.controls.el)),o.imagesLoaded(d)},d=function(){r.loader.remove(),v(),\"vertical\"==r.settings.mode&&(r.settings.adaptiveHeight=!0),r.viewport.height(p()),a.redrawSlider(),r.settings.onSliderLoad(r.active.index),r.initialized=!0,e(window).bind(\"resize\",G),r.settings.auto&&r.settings.autoStart&&O(),r.settings.ticker&&L(),r.settings.pager&&x(r.settings.startSlide),r.settings.controls&&D(),r.settings.touchEnabled&&!r.settings.ticker&&j()},p=function(){if(r.settings.slideHeight)return r.settings.slideHeight;var t=0,n=e();if(\"vertical\"==r.settings.mode||r.settings.adaptiveHeight)if(r.carousel){var o=1==r.settings.moveSlides?r.active.index:r.active.index*y();for(n=r.children.eq(o),i=1;i<=r.settings.maxSlides-1;i++)n=o+i>=r.children.length?n.add(r.children.eq(i-1)):n.add(r.children.eq(o+i))}else n=r.children.eq(r.active.index);else n=r.children;return\"vertical\"==r.settings.mode?(n.each(function(n){t+=e(this).outerHeight()}),r.settings.slideMargin>0&&(t+=r.settings.slideMargin*(r.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},h=function(){var e=\"100%\";return r.settings.slideWidth>0&&(e=\"horizontal\"==r.settings.mode?r.settings.maxSlides*r.settings.slideWidth+(r.settings.maxSlides-1)*r.settings.slideMargin:r.settings.slideWidth),e},f=function(){var e=r.settings.slideWidth,t=r.viewport.width();return 0==r.settings.slideWidth||r.settings.slideWidth>t&&!r.carousel||\"vertical\"==r.settings.mode?e=t:r.settings.maxSlides>1&&\"horizontal\"==r.settings.mode&&(t>r.maxThreshold||t<r.minThreshold&&(e=(t-r.settings.slideMargin*(r.settings.minSlides-1))/r.settings.minSlides)),e},g=function(){var e=1;if(\"horizontal\"==r.settings.mode&&r.settings.slideWidth>0)if(r.viewport.width()<r.minThreshold)e=r.settings.minSlides;else if(r.viewport.width()>r.maxThreshold)e=r.settings.maxSlides;else{var t=r.children.first().width();e=Math.floor(r.viewport.width()/t)}else\"vertical\"==r.settings.mode&&(e=r.settings.minSlides);return e},m=function(){var e=0;if(r.settings.moveSlides>0)if(r.settings.infiniteLoop)e=r.children.length/y();else for(var t=0,n=0;t<r.children.length;)++e,t=n+g(),n+=r.settings.moveSlides<=g()?r.settings.moveSlides:g();else e=Math.ceil(r.children.length/g());return e},y=function(){return r.settings.moveSlides>0&&r.settings.moveSlides<=g()?r.settings.moveSlides:g()},v=function(){if(r.children.length>r.settings.maxSlides&&r.active.last&&!r.settings.infiniteLoop){if(\"horizontal\"==r.settings.mode){var e=r.children.last(),t=e.position();_(-(t.left-(r.viewport.width()-e.width())),\"reset\",0)}else if(\"vertical\"==r.settings.mode){var n=r.children.length-r.settings.minSlides,t=r.children.eq(n).position();_(-t.top,\"reset\",0)}}else{var t=r.children.eq(r.active.index*y()).position();r.active.index==m()-1&&(r.active.last=!0),void 0!=t&&(\"horizontal\"==r.settings.mode?_(-t.left,\"reset\",0):\"vertical\"==r.settings.mode&&_(-t.top,\"reset\",0))}},_=function(e,t,n,i){if(r.usingCSS){var o=\"vertical\"==r.settings.mode?\"translate3d(0, \"+e+\"px, 0)\":\"translate3d(\"+e+\"px, 0, 0)\";a.css(\"-\"+r.cssPrefix+\"-transition-duration\",n/1e3+\"s\"),\"slide\"==t?(a.css(r.animProp,o),a.bind(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\",function(){a.unbind(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\"),k()})):\"reset\"==t?a.css(r.animProp,o):\"ticker\"==t&&(a.css(\"-\"+r.cssPrefix+\"-transition-timing-function\",\"linear\"),a.css(r.animProp,o),a.bind(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\",function(){a.unbind(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\"),_(i.resetValue,\"reset\",0),\nR()}))}else{var s={};s[r.animProp]=e,\"slide\"==t?a.animate(s,n,r.settings.easing,function(){k()}):\"reset\"==t?a.css(r.animProp,e):\"ticker\"==t&&a.animate(s,speed,\"linear\",function(){_(i.resetValue,\"reset\",0),R()})}},b=function(){for(var t=\"\",n=m(),i=0;n>i;i++){var o=\"\";r.settings.buildPager&&e.isFunction(r.settings.buildPager)?(o=r.settings.buildPager(i),r.pagerEl.addClass(\"ndn_carousel-custom-pager\")):(o=i+1,r.pagerEl.addClass(\"ndn_carousel-default-pager\")),t+='<div class=\"ndn_carousel-pager-item\"><a href=\"\" data-slide-index=\"'+i+'\" class=\"ndn_carousel-pager-link\">'+o+\"</a></div>\"}r.pagerEl.html(t)},E=function(){r.settings.pagerCustom?r.pagerEl=e(r.settings.pagerCustom):(r.pagerEl=e('<div class=\"ndn_carousel-pager\" />'),r.settings.pagerSelector?e(r.settings.pagerSelector).html(r.pagerEl):r.controls.el.addClass(\"ndn_carousel-has-pager\").append(r.pagerEl),b()),r.pagerEl.delegate(\"a\",\"click\",P)},w=function(){r.controls.next=e('<a class=\"ndn_carousel-next\" href=\"\">'+r.settings.nextText+\"</a>\"),r.controls.prev=e('<a class=\"ndn_carousel-prev\" href=\"\">'+r.settings.prevText+\"</a>\"),r.controls.next.bind(\"click\",A),r.controls.prev.bind(\"click\",S),r.settings.nextSelector&&e(r.settings.nextSelector).append(r.controls.next),r.settings.prevSelector&&e(r.settings.prevSelector).append(r.controls.prev),r.settings.nextSelector||r.settings.prevSelector||(r.controls.directionEl=e('<div class=\"ndn_carousel-controls-direction\" />'),r.controls.directionEl.append(r.controls.prev).append(r.controls.next),r.controls.el.addClass(\"ndn_carousel-has-controls-direction\").append(r.controls.directionEl))},T=function(){r.controls.start=e('<div class=\"ndn_carousel-controls-auto-item\"><a class=\"ndn_carousel-start\" href=\"\">'+r.settings.startText+\"</a></div>\"),r.controls.stop=e('<div class=\"ndn_carousel-controls-auto-item\"><a class=\"ndn_carousel-stop\" href=\"\">'+r.settings.stopText+\"</a></div>\"),r.controls.autoEl=e('<div class=\"ndn_carousel-controls-auto\" />'),r.controls.autoEl.delegate(\".ndn_carousel-start\",\"click\",N),r.controls.autoEl.delegate(\".ndn_carousel-stop\",\"click\",I),r.settings.autoControlsCombine?r.controls.autoEl.append(r.controls.start):r.controls.autoEl.append(r.controls.start).append(r.controls.stop),r.settings.autoControlsSelector?e(r.settings.autoControlsSelector).html(r.controls.autoEl):r.controls.el.addClass(\"ndn_carousel-has-controls-auto\").append(r.controls.autoEl),M(r.settings.autoStart?\"stop\":\"start\")},C=function(){r.children.each(function(t){var n=e(this).find(\"img:first\").attr(\"title\");void 0!=n&&e(this).append('<div class=\"ndn_carousel-caption\"><span>'+n+\"</span></div>\")})},A=function(e){r.settings.auto&&a.stopAuto(),a.goToNextSlide(),e.preventDefault()},S=function(e){r.settings.auto&&a.stopAuto(),a.goToPrevSlide(),e.preventDefault()},N=function(e){a.startAuto(),e.preventDefault()},I=function(e){a.stopAuto(),e.preventDefault()},P=function(t){r.settings.auto&&a.stopAuto();var n=e(t.currentTarget),i=parseInt(n.attr(\"data-slide-index\"));i!=r.active.index&&a.goToSlide(i),t.preventDefault()},x=function(t){return\"short\"==r.settings.pagerType?void r.pagerEl.html(t+1+r.settings.pagerShortSeparator+r.children.length):(r.pagerEl.find(\"a\").removeClass(\"active\"),void r.pagerEl.each(function(n,i){e(i).find(\"a\").eq(t).addClass(\"active\")}))},k=function(){if(r.settings.infiniteLoop){var e=\"\";0==r.active.index?e=r.children.eq(0).position():r.active.index==m()-1&&r.carousel?e=r.children.eq((m()-1)*y()).position():r.active.index==r.children.length-1&&(e=r.children.eq(r.children.length-1).position()),\"horizontal\"==r.settings.mode?_(-e.left,\"reset\",0):\"vertical\"==r.settings.mode&&_(-e.top,\"reset\",0)}r.working=!1,r.settings.onSlideAfter(r.children.eq(r.active.index),r.oldIndex,r.active.index)},M=function(e){r.settings.autoControlsCombine?r.controls.autoEl.html(r.controls[e]):(r.controls.autoEl.find(\"a\").removeClass(\"active\"),r.controls.autoEl.find(\"a:not(.ndn_carousel-\"+e+\")\").addClass(\"active\"))},D=function(){1==m()?(r.controls.prev.addClass(\"disabled\"),r.controls.next.addClass(\"disabled\")):!r.settings.infiniteLoop&&r.settings.hideControlOnEnd&&(0==r.active.index?(r.controls.prev.addClass(\"disabled\"),r.controls.next.removeClass(\"disabled\")):r.active.index==m()-1?(r.controls.next.addClass(\"disabled\"),r.controls.prev.removeClass(\"disabled\")):(r.controls.prev.removeClass(\"disabled\"),r.controls.next.removeClass(\"disabled\")))},O=function(){if(r.settings.autoDelay>0){setTimeout(a.startAuto,r.settings.autoDelay)}else a.startAuto();r.settings.autoHover&&a.hover(function(){r.interval&&(a.stopAuto(!0),r.autoPaused=!0)},function(){r.autoPaused&&(a.startAuto(!0),r.autoPaused=null)})},L=function(){var t=0;if(\"next\"==r.settings.autoDirection)a.append(r.children.clone().addClass(\"ndn_carousel-clone\"));else{a.prepend(r.children.clone().addClass(\"ndn_carousel-clone\"));var n=r.children.first().position();t=\"horizontal\"==r.settings.mode?-n.left:-n.top}_(t,\"reset\",0),r.settings.pager=!1,r.settings.controls=!1,r.settings.autoControls=!1,r.settings.tickerHover&&!r.usingCSS&&r.viewport.hover(function(){a.stop()},function(){var t=0;r.children.each(function(n){t+=\"horizontal\"==r.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var n=r.settings.speed/t,i=\"horizontal\"==r.settings.mode?\"left\":\"top\",o=n*(t-Math.abs(parseInt(a.css(i))));R(o)}),R()},R=function(e){speed=e?e:r.settings.speed;var t={left:0,top:0},n={left:0,top:0};\"next\"==r.settings.autoDirection?t=a.find(\".ndn_carousel-clone\").first().position():n=r.children.first().position();var i=\"horizontal\"==r.settings.mode?-t.left:-t.top,o=\"horizontal\"==r.settings.mode?-n.left:-n.top,s={resetValue:o};_(i,\"ticker\",speed,s)},j=function(){r.touch={start:{x:0,y:0},end:{x:0,y:0}},r.viewport.bind(\"touchstart\",V)},V=function(e){if(r.working)e.preventDefault();else{r.touch.originalPos=a.position();var t=e.originalEvent;r.touch.start.x=t.changedTouches[0].pageX,r.touch.start.y=t.changedTouches[0].pageY,r.viewport.bind(\"touchmove\",U),r.viewport.bind(\"touchend\",B)}},U=function(e){var t=e.originalEvent,n=Math.abs(t.changedTouches[0].pageX-r.touch.start.x),i=Math.abs(t.changedTouches[0].pageY-r.touch.start.y);if(3*n>i&&r.settings.preventDefaultSwipeX?e.preventDefault():3*i>n&&r.settings.preventDefaultSwipeY&&e.preventDefault(),\"fade\"!=r.settings.mode&&r.settings.oneToOneTouch){var o=0;if(\"horizontal\"==r.settings.mode){var a=t.changedTouches[0].pageX-r.touch.start.x;o=r.touch.originalPos.left+a}else{var a=t.changedTouches[0].pageY-r.touch.start.y;o=r.touch.originalPos.top+a}_(o,\"reset\",0)}},B=function(e){r.viewport.unbind(\"touchmove\",U);var t=e.originalEvent,n=0;if(r.touch.end.x=t.changedTouches[0].pageX,r.touch.end.y=t.changedTouches[0].pageY,\"fade\"==r.settings.mode){var i=Math.abs(r.touch.start.x-r.touch.end.x);i>=r.settings.swipeThreshold&&(r.touch.start.x>r.touch.end.x?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto())}else{var i=0;\"horizontal\"==r.settings.mode?(i=r.touch.end.x-r.touch.start.x,n=r.touch.originalPos.left):(i=r.touch.end.y-r.touch.start.y,n=r.touch.originalPos.top),!r.settings.infiniteLoop&&(0==r.active.index&&i>0||r.active.last&&0>i)?_(n,\"reset\",200):Math.abs(i)>=r.settings.swipeThreshold?(0>i?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto()):_(n,\"reset\",200)}r.viewport.unbind(\"touchend\",B)},G=function(t){var n=e(window).width(),i=e(window).height();(s!=n||l!=i)&&(s=n,l=i,a.redrawSlider())};return a.goToSlide=function(t,n){if(!r.working&&r.active.index!=t)if(r.working=!0,r.oldIndex=r.active.index,0>t?r.active.index=m()-1:t>=m()?r.active.index=0:r.active.index=t,r.settings.onSlideBefore(r.children.eq(r.active.index),r.oldIndex,r.active.index),\"next\"==n?r.settings.onSlideNext(r.children.eq(r.active.index),r.oldIndex,r.active.index):\"prev\"==n&&r.settings.onSlidePrev(r.children.eq(r.active.index),r.oldIndex,r.active.index),r.active.last=r.active.index>=m()-1,r.settings.pager&&x(r.active.index),r.settings.controls&&D(),\"fade\"==r.settings.mode)r.settings.adaptiveHeight&&r.viewport.height()!=p()&&r.viewport.animate({height:p()},r.settings.adaptiveHeightSpeed),r.children.filter(\":visible\").fadeOut(r.settings.speed).css({zIndex:0}),r.children.eq(r.active.index).css(\"zIndex\",51).fadeIn(r.settings.speed,function(){e(this).css(\"zIndex\",50),k()});else{r.settings.adaptiveHeight&&r.viewport.height()!=p()&&r.viewport.animate({height:p()},r.settings.adaptiveHeightSpeed);var i=0,o={left:0,top:0};if(!r.settings.infiniteLoop&&r.carousel&&r.active.last)if(\"horizontal\"==r.settings.mode){var s=r.children.eq(r.children.length-1);o=s.position(),i=r.viewport.width()-s.width()}else{var l=r.children.length-r.settings.minSlides;o=r.children.eq(l).position()}else if(r.carousel&&r.active.last&&\"prev\"==n){var u=1==r.settings.moveSlides?r.settings.maxSlides-y():(m()-1)*y()-(r.children.length-r.settings.maxSlides),s=a.children(\".ndn_carousel-clone\").eq(u);o=s.position()}else if(\"next\"==n&&0==r.active.index)o=a.find(\"> .ndn_carousel-clone\").eq(r.settings.maxSlides).position(),r.active.last=!1;else if(t>=0){var c=t*y();o=r.children.eq(c).position()}if(\"undefined\"!=typeof o){var d=\"horizontal\"==r.settings.mode?-(o.left-i):-o.top;_(d,\"slide\",r.settings.speed)}}},a.goToNextSlide=function(){if(r.settings.infiniteLoop||!r.active.last){var e=parseInt(r.active.index)+1;a.goToSlide(e,\"next\")}},a.goToPrevSlide=function(){if(r.settings.infiniteLoop||0!=r.active.index){var e=parseInt(r.active.index)-1;a.goToSlide(e,\"prev\")}},a.startAuto=function(e){r.interval||(r.interval=setInterval(function(){\"next\"==r.settings.autoDirection?a.goToNextSlide():a.goToPrevSlide()},r.settings.pause),r.settings.autoControls&&1!=e&&M(\"stop\"))},a.stopAuto=function(e){r.interval&&(clearInterval(r.interval),r.interval=null,r.settings.autoControls&&1!=e&&M(\"start\"))},a.getCurrentSlide=function(){return r.active.index},a.getSlideCount=function(){return r.children.length},a.redrawSlider=function(){r.children.add(a.find(\".ndn_carousel-clone\")).width(f()),r.viewport.css(\"height\",p()),r.settings.ticker||v(),r.active.last&&(r.active.index=m()-1),r.active.index>=m()&&(r.active.last=!0),r.settings.pager&&!r.settings.pagerCustom&&(b(),x(r.active.index))},a.destroySlider=function(){r.initialized&&(r.initialized=!1,e(\".ndn_carousel-clone\",this).remove(),r.children.removeAttr(\"style\"),this.removeAttr(\"style\").unwrap().unwrap(),r.controls.el&&r.controls.el.remove(),r.controls.next&&r.controls.next.remove(),r.controls.prev&&r.controls.prev.remove(),r.pagerEl&&r.pagerEl.remove(),e(\".ndn_carousel-caption\",this).remove(),r.controls.autoEl&&r.controls.autoEl.remove(),clearInterval(r.interval),e(window).unbind(\"resize\",G))},a.reloadSlider=function(e){void 0!=e&&(o=e),a.destroySlider(),u()},u(),this}}),Ndn_Require.define(\"models/Ndn/Carousel\",[\"underscore\",\"jquery\",\"backbone\",\"jquery_bxslider\"],function(e,t,n){var i=n.Model.extend({defaults:{containerElement:null,itemsPerSlide:null,slideWidth:null,slideMargin:null,parameters:null,currentSlideIndex:null,carousel:null},initialize:function(e){var t=e.containerElement,n=this.getItemsPerSlideFromParameters(e);this.set({containerElement:t,itemsPerSlide:n,parameters:e});var i=this;this.on({carouselLoad:function(){i.set(\"currentSlideIndex\",0),i.loadPlaceholderImages(0)},slideLoad:function(e){i.set(\"currentSlideIndex\",e.slideIndex),i.loadPlaceholderImages(e.slideIndex)}})},getCurrentSlideIndex:function(){return this.get(\"currentSlideIndex\")},load:function(){return this.set(\"carousel\",this.getContainerElement().bxSlider(this.getConfig(this.get(\"parameters\")))),this},reload:function(e){\"undefined\"==typeof e&&(e=!0);var t=this.get(\"carousel\"),n=t.getCurrentSlide();t.reloadSlider(),e&&t.goToSlide(n)},getItemsPerSlideFromParameters:function(e){return e.itemsPerSlide||e.maxItemsPerSlide||1},getConfig:function(t){var n=this,i=this.getItemsPerSlideFromParameters(t),o=t.containerElement,r={pager:!1,controls:!1,slideWidth:t.slideWidth||o.width(),slideHeight:t.slideHeight||o.height(),slideMargin:t.slideMargin,minSlides:t.minItemsPerSlide||i,maxSlides:t.maxItemsPerSlide||i,onSliderLoad:function(){n.trigger(\"carouselLoad\")},onSlideBefore:function(e,t,i){n.loadPlaceholderImages(i),n.trigger(\"slideLoad\",{slideElement:e,previousSlideIndex:t,slideIndex:i})}};return t.isSimple&&(delete r.slideWidth,delete r.slideHeight,delete r.minSlides,delete r.maxSlides),t.auto&&(r=e.extend(r,{pause:7e3,auto:!0,autoHover:!0})),r},goToSlide:function(e){this.get(\"carousel\").goToSlide(e)},getItemsPerSlide:function(){return this.get(\"itemsPerSlide\")},visitPreviousSlide:function(){var e=this.get(\"parameters\").auto,t=this.get(\"carousel\");e&&t.stopAuto(),t.goToPrevSlide(),e&&t.startAuto()},visitNextSlide:function(){var e=this.get(\"parameters\").auto,t=this.get(\"carousel\");e&&t.stopAuto(),t.goToNextSlide(),e&&t.startAuto()},getContainerElement:function(){return this.get(\"containerElement\")},loadPlaceholderImages:function(e){i.loadSlidePlaceholderImages(this.getContainerElement(),e,this.get(\"itemsPerSlide\")),this.centerImages()},processSlide:function(e,t){this.getContainerElement().find('> li:not(\".ndn_carousel-clone\"):eq('+e+\"), > li.ndn_carousel-clone\").each(t)},processCurrentSlide:function(e){this.processSlide(this.getCurrentSlideIndex(),e)},centerImages:function(){this.getContainerElement().find(\".ndn_centerImage\").each(function(){var e=t(this),n=(e.width()-e.closest(\"li\").width(),(0-Math.max(n,0))/2);e.css(\"margin-left\",n+\"px\")})}},{loadSlidePlaceholderImages:function(e,n,i){function o(e){e.each(function(){var e=[\"src\",\"alt\",\"title\",\"class\"];t(this).find(\".ndn_imagePlaceholder\").each(function(){var n=t(this),i=\"<img \";t.each(e,function(){var e=this+\"\";n.attr(\"data-\"+e)&&(i+=e+'=\"'+n.attr(\"data-\"+e)+'\" ')}),i+=\"/>\",t(this).replaceWith(i)})})}var r=n*i,a=r+i-1,s='> li:not(\".ndn_carousel-clone\")',l=e.find(s).filter(\":eq(\"+r+\"), :gt(\"+r+\"):lt(\"+a+\")\");o(l),o(e.find(\"> li.ndn_carousel-clone\"))}});return i}),Ndn_Require.define(\"text!templates/ndn/video-player/pause-overlay/overlay.html\",[],function(){return'<div class=\"ndn_pauseOverlay ndn_overlayContainer\"> \\n    <div class=\"ndn_pauseOverlay_centerContainer\">\\n        <div class=\"ndn_startPlay ndn_fastClick_clickevent\"></div>\\n    </div>\\n    <div class=\"ndn_pauseCarousel\"></div>\\n</div>'}),Ndn_Require.define(\"text!templates/ndn/video-player/pause-overlay/carousel.html\",[],function(){return'<div class=\"ndn_sliderContainer\">\\n\t<div class=\"ndn_sliderPrev ndn_sliderNavButton ndn_icon_left-circled\"></div>\\n\t<div class=\"ndn_sliderWrapper\">\\n\t<ul class=\"ndn_sliderItems ndn_pauseOverlay_selectableVideos ndn_selectableVideos\">\\n        {{#videos}}\\n            <li class=\"ndn_pauseOverlay_selectableVideo ndn_selectableVideo\" data-playlist-index=\"{{playlistIndex}}\" data-video-index=\"{{videoIndex}}\" data-video-id=\"{{videoId}}\" title=\"{{videoTitle}}\"> \\n            \t<div class=\"ndn_thumbnailContainer\">\\n                    <div class=\"ndn_imagePlaceholder\" data-src=\"{{thumbnailUrl}}\" data-alt=\"{{videoTitle}}\" data-title=\"{{videoTitle}}\"></div>\\n            \t</div>   \t\\n    \t\t\t<div class=\"ndn_sliderThumbnailTitle\">{{videoTitle}}</div>\\n            </li>\\n        {{/videos}}\\n    </ul>\\n\t</div>\\n\t<div class=\"ndn_sliderNext ndn_sliderNavButton ndn_icon_right-circled\"></div>\\n</div>\\n'}),Ndn_Require.define(\"jquery_imagesloaded\",[\"jquery\"],function(e,t){var n=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";e.fn.imagesLoaded=function(i){function o(){var t=e(p),n=e(h);l&&(h.length?l.reject(c,t,n):l.resolve(c)),e.isFunction(i)&&i.call(s,c,t,n)}function r(e){a(e.target,\"error\"===e.type)}function a(t,i){t.src===n||-1!==e.inArray(t,d)||(d.push(t),i?h.push(t):p.push(t),e.data(t,\"imagesLoaded\",{isBroken:i,src:t.src}),u&&l.notifyWith(e(t),[i,c,e(p),e(h)]),c.length===d.length&&(setTimeout(o),c.unbind(\".imagesLoaded\",r)))}var s=this,l=e.isFunction(e.Deferred)?e.Deferred():0,u=e.isFunction(l.notify),c=s.find(\"img\").add(s.filter(\"img\")),d=[],p=[],h=[];return e.isPlainObject(i)&&e.each(i,function(e,t){\"callback\"===e?i=t:l&&l[e](t)}),c.length?c.bind(\"load.imagesLoaded error.imagesLoaded\",r).each(function(i,o){var r=o.src,s=e.data(o,\"imagesLoaded\");s&&s.src===r?a(o,s.isBroken):o.complete&&o.naturalWidth!==t?a(o,0===o.naturalWidth||0===o.naturalHeight):(o.readyState||o.complete)&&(o.src=n,o.src=r)}):o(),l?l.promise(s):s}}),Ndn_Require.define(\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/PauseView\",[\"jquery\",\"underscore\",\"backbone\",\"mustache\",\"models/Ndn/Utils/FastClick\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Carousel\",\"text!templates/ndn/video-player/pause-overlay/overlay.html\",\"text!templates/ndn/video-player/pause-overlay/carousel.html\",\"jquery_imagesloaded\",\"jquery_autoellipsis\",\"jquery_bxslider\"],function(e,t,n,i,o,r,a,s,l){return n.View.extend({events:{\"click .ndn_pauseOverlay_selectableVideo\":\"onVideoSelect\",\"click .ndn_pauseOverlay\":\"resumePlay\",\"click .ndn_startPlay\":\"resumePlay\",\"click .ndn_sliderNext\":\"visitNextSlide\",\"click .ndn_sliderPrev\":\"visitPreviousSlide\"},initialize:function(){n.View.prototype.initialize.call(this,arguments),this.$el=e(document.createElement(\"div\")).addClass(\"ndn_pauseOverlayContainer ndn_playerOverlay\").html(s),this.$el.appendTo(this.model.getPlayer().getContainerElement()).hide(),new o(this.$el.find(\".ndn_fastClick_clickevent\").get(0));var t=this;this.model.getPlayer().on(\"videoLoad\",function(){t.updateCarousel()})},resumePlay:function(e){return this.$el.hide(),this.model.getPlayer().play(),!1},onVideoSelect:function(t){var n=e(t.currentTarget);return this.model.getPlayer().requestVideoStart({source:\"pauseOverlayCarouselThumbnail\",playlistIndex:n.data(\"playlistIndex\"),videoIndex:n.data(\"videoIndex\")}),!1},updateCarousel:function(){var e=this.model.getCarouselData();if(e){var t=this.$el.is(\":visible\");t||this.model.show(),this.$el.find(\".ndn_pauseCarousel\").show().html(i.to_html(l,{videos:e}));var n=this.model.getPlayer().getContainerElement(),o=n.width(),r=function(){return o>=1022?5:o>=750?4:3}(),s=5==r?200:140,u=new a({containerElement:this.$el.find(\".ndn_selectableVideos\"),minItemsPerSlide:3,maxItemsPerSlide:r,slideMargin:5,slideWidth:s}).load();this.$el.find(\".ndn_sliderThumbnailTitle\").ellipsis(),this.model.set(\"carousel\",u),t||this.model.hide()}else this.$el.find(\".ndn_pauseCarousel\").hide()},visitNextSlide:function(e){return this.model.get(\"carousel\").visitNextSlide(),!1},visitPreviousSlide:function(e){return this.model.get(\"carousel\").visitPreviousSlide(),!1}})}),Ndn_Require.define(\"jquery_resize\",[\"jquery\"],function(e){!function(e,t,n){\"$:nomunge\";function i(){o=t[s](function(){r.each(function(){var t=e(this),n=t.width(),i=t.height(),o=e.data(this,u);(n!==o.w||i!==o.h)&&t.trigger(l,[o.w=n,o.h=i])}),i()},a[c])}var o,r=e([]),a=e.resize=e.extend(e.resize,{}),s=\"setTimeout\",l=\"resize\",u=l+\"-special-event\",c=\"delay\",d=\"throttleWindow\";a[c]=250,a[d]=!0,e.event.special[l]={setup:function(){if(!a[d]&&this[s])return!1;var t=e(this);r=r.add(t),e.data(this,u,{w:t.width(),h:t.height()}),1===r.length&&i()},teardown:function(){if(!a[d]&&this[s])return!1;var t=e(this);r=r.not(t),t.removeData(u),r.length||clearTimeout(o)},add:function(t){function i(t,i,r){var a=e(this),s=e.data(this,u);s.w=i!==n?i:a.width(),s.h=r!==n?r:a.height(),o.apply(this,arguments)}if(!a[d]&&this[s])return!1;var o;return e.isFunction(t)?(o=t,i):(o=t.handler,void(t.handler=i))}}}(e,this)}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/PauseModel\",[\"jquery\",\"underscore\",\"backbone\",\"models/Ndn/Widget\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/AbstractModel\",\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/PauseView\",\"jquery_resize\"],function(e,t,n,i,o,r){return o.extend({defaults:{view:null,carousel:null},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.set(\"view\",new r({model:this})),e.getContainerElement().append(this.get(\"view\").$el.hide());var t=this;e.on({\"adPause videoPause\":function(){t.show()},\"adStart adResume videoStart videoResume\":function(){t.hide()}})},getCarouselData:function(){return this.getPlayer().getSessionParams().pauseCarousel}})}),Ndn_Require.define(\"text!templates/ndn/video-player/share-overlay.html\",[],function(){return'<div class=\"ndn_shareContainer\">\\n    <div class=\"ndn_closeShare ndn_icon_cancel\"></div>\\n    <div class=\"ndn_shareBox\">\\n        <!--\\n        <div class=\"ndn_shareButtons\">\\n            <div class=\"ndn_shareButtonList\">\\n                <ul class=\"ndn_shareButtonsList\">\\n                    <li class=\"ndn_mainShareButtons ndn_shareFacebook\"><a class=\"ndn_a_shareFacebook ndn_icon_facebook\" target=\"_blank\" href=\"#\"></a></li>\\n                    <li class=\"ndn_mainShareButtons ndn_shareTwitter\"><a class=\"ndn_a_shareTwitter ndn_icon_twitter\" target=\"_blank\" href=\"#\"></a></li>\\n                    <li class=\"ndn_mainShareButtons ndn_shareEmail\"><a class=\"ndn_icon_mail-alt\" href=\"#\"></a></li>\\n                    <li class=\"ndn_mainShareButtons ndn_shareEmbed\"><span class=\"ndn_icon_code\"></span></li>\\n                </ul>\\n            </div>\\n        </div>\\n        -->\\n        <div class=\"ndn_shareIcons\">\\n            <a class=\"ndn_shareIcon ndn_shareFacebook ndn_icon_facebook\"></a>&nbsp;\\n            <a class=\"ndn_shareIcon ndn_shareTwitter ndn_icon_twitter\"></a>&nbsp;\\n            <a class=\"ndn_shareIcon ndn_shareEmail ndn_icon_mail-alt\"></a>&nbsp;\\n            <a class=\"ndn_shareIcon ndn_shareEmbed ndn_icon_code\"></a>\\n        </div>\\n        <textarea readonly=\"\" class=\"ndn_shareCopyVideoLinkText ndn_textarea\">{{directLink}}</textarea>\\n    </div>\\n    <div class=\"ndn_embedBox\">\\n        <div class=\"ndn_backToShare ndn_icon_left-big\">BACK</div>\\n        <div class=\"ndn_embedLink\">\\n            <span class=\"ndn_shareCopyEmbedCode ndn_linkEmbed\">\\n                <label for=\"ndn_shareCopyEmbedCodeText\">Embed</label>\\n            </span>\\n            <textarea readonly=\"\" class=\"ndn_shareCopyEmbedCodeText ndn_textarea\">{{embedCode}}</textarea>\\n        </div>\\n    </div>\\n    <div class=\"ndn_sharePrivacyPolicy\">\\n        <a href=\"http://inform.com/privacy\" target=\"_blank\">Privacy Policy</a> &nbsp; | &nbsp; <a href=\"http://inform.com/player-terms\" target=\"_blank\">Terms of Use</a>\\n    </div>\\n</div>'}),Ndn_Require.define(\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/ShareView\",[\"jquery\",\"backbone\",\"mustache\",\"text!templates/ndn/video-player/share-overlay.html\"],function(e,t,n,i){return t.View.extend({events:{\"click .ndn_closeShare\":\"resumePlayback\",\"click .ndn_shareEmbed\":\"showEmbedLink\",\"click .ndn_backToShare\":\"showEmbedLink\",\"click .ndn_shareEmail\":\"shareViaEmail\",\"click .ndn_shareFacebook\":\"shareViaFacebook\",\"click .ndn_shareTwitter\":\"shareViaTwitter\",\"mouseenter .ndn_shareCopyVideoLinkText\":\"selectDirectLink\",\"mouseenter .ndn_shareCopyEmbedCodeText\":\"selectEmbedCode\"},initialize:function(){t.View.prototype.initialize.call(this,arguments),this.$el=e(document.createElement(\"div\")).addClass(\"ndn_shareOverlay ndn_playerOverlay\")},resumePlayback:function(){return this.model.getPlayer().play(),!1},updateHtml:function(){var e=this.$el;e.html(n.to_html(i,{embedCode:this.model.getEmbedCode(),directLink:this.model.getDirectLink()})),e.find(\".ndn_icon_mail-alt\").toggle(this.model.allowsEmailSharing()),e.find(\".ndn_icon_code\").toggle(this.model.allowsEmbedSharing()),e.find(\".ndn_shareEmbed,.ndn_shareFacebook,.ndn_shareEmail,.ndn_shareTwitter\").toggle(this.model.allowsSocialSharing())},selectDirectLink:function(){return this.$el.find(\".ndn_shareCopyVideoLinkText\").select(),!1},selectEmbedCode:function(){return this.$el.find(\".ndn_shareCopyEmbedCodeText\").select(),!1},showEmbedLink:function(){return this.$el.find(\".ndn_shareBox,.ndn_embedBox\").fadeToggle(\"fast\",\"linear\"),!1},shareViaEmail:function(){return this.model.share(\"email\"),!1},shareViaFacebook:function(){return this.model.share(\"facebook\"),!1},shareViaTwitter:function(){return this.model.share(\"twitter\"),!1}})}),Ndn_Require.define(\"models/Ndn/Widget/PlayerOptions\",[\"jquery\",\"backbone\",\"models/Ndn/Utils/BrowserStorage\",\"models/Ndn/Utils/UserAgent\"],function(e,t,n,i){var o=[],r=t.Model.extend({defaults:{product:null,container:null},initialize:function(t){this.set({product:t}),this.initializeDom(),this.synchronizeInterface(),this.initializeEventListeners(),r.registerComponent(this),t.on(\"widgetEmbedEnd\",e.proxy(function(){this.get(\"container\").insertAfter(t.getContainerElement())},this))},initializeDom:function(){var t=this.get(\"product\").getContainerElement(),n=e('<div class=\"ndn_playerOptions\"><b>Autoplay:</b> <a href=\"#\" data-autoplay=\"on\">On</a> | <a href=\"#\" data-autoplay=\"off\">Off</a></div>').css(\"width\",t.width());this.set(\"container\",n)},initializeEventListeners:function(){this.get(\"container\").on(\"click\",\"a\",function(t){return e(this).hasClass(\"ndn_selected\")||r.setProductBehaviorToggleValue(\"on\"==e(this).data(\"autoplay\")),r.synchronizeAllInterfaces(),t.preventDefault(),!1})},hide:function(){this.get(\"container\").attr(\"style\",\"display:none !important\")},synchronizeInterface:function(){var t=this.get(\"container\"),n=r.getProductBehaviorToggleValue();t.find(\"a\").each(function(){e(this).toggleClass(\"ndn_selected\",\"on\"==e(this).data(\"autoplay\")&&n||\"on\"!=e(this).data(\"autoplay\")&&!n)})}},{registerComponent:function(e){o.push(e)},synchronizeAllInterfaces:function(){e.each(o,function(){this.synchronizeInterface()})},getProductBehaviorToggleValue:function(){return\"false\"!=n.get(\"playOnInViewForSinglePlayers\")},setProductBehaviorToggleValue:function(e){n.set(\"playOnInViewForSinglePlayers\",e?\"true\":\"false\")}});return r}),Ndn_Require.define(\"models/Ndn/Legacy/Config/Ap\",[\"jquery\"],function(e){var t={1153168:\"90703\",1296344:\"90416\",10003188:\"90693\",TXABI:\"90459\",PAALM:\"90364\",GASTA:\"90683\",TXAMA:\"90582\",ARLID:\"90554\",GAATH:\"90604\",GAAUG:\"90612\",TXAUS:\"90105\",MTBOZ:\"90721\",PABUT:\"90433\",FLCAP:\"90364\",TXCOR:\"90550\",VACUL:\"90527\",IAWEB:\"90364\",MIESC:\"90364\",VADAR:\"90528\",ALDOT:\"90510\",PAERI:\"90464\",IAEST:\"90364\",FLJAJ:\"90049\",NCHIC:\"90518\",TXHOU:\"90000\",NCCON:\"90517\",JRC:\"90734\",WIKEN:\"90233\",WABRE:\"90552\",MOCAG:\"90589\",NDMIN:\"90364\",FLNAP:\"90542\",INBNB:\"90605\",ALOPE:\"90514\",MNROC:\"90379\",VARIT:\"90535\",FLSAR:\"90492\",INSBT:\"90575\",MNPAU:\"90156\",TXSAN:\"90551\",CAPAS:\"90494\",TNMEM:\"90547\",MSCCD:\"90135\",OHFIN:\"90421\",OHCAM:\"90249\",MIHOU:\"90364\",MIIRO:\"90364\",VACHA:\"90526\",NCFAY:\"90364\",wvwhe:\"90364\",TNKNN:\"90542\",OHMAR:\"90364\",HIMAN:\"90364\",NCMAR:\"90519\",MIMAR:\"90364\",VALYD:\"90532\",VAWAY:\"90538\",SCCHA:\"90349\",NYJAP:\"90364\",OHEAS:\"90249\",OHSAL:\"90364\",ILSPR:\"90108\",GAGAI:\"90079\",WVWEI:\"90364\",PAWIL:\"90087\",NYALT:\"90001\",WAKR:\"90412\",TXWIC:\"90553\",NCWIN:\"90522\",WRKO:\"90629\",WSPATV:\"90507\",WTKKFM:\"90456\",PAYOK:\"90732\",FLMIH:\"90045\",WABEL:\"90472\",SCCOL:\"90474\",CAFRE:\"90476\",CAMOD:\"90479\",CASAB:\"90482\",WATAC:\"90483\",FLBRA:\"90484\",ILROR:\"90108\",MAQUI:\"90108\",CTNOR:\"90108\",MABRO:\"90108\",WSAW:\"90447\",FLTAM:\"90426\",NVLAS:\"90277\",INSID:\"90531\",WNCNTV:\"90777\",WCMHTV:\"90061\",OREUG:\"90878\",SCFLO:\"90784\",WJARTV:\"90053\",WIMIL:\"90078\",RIJRJ:\"90446\",WRGBTV:\"90028\",WWMTTV:\"90029\",ILALT:\"90033\",WPECTV:\"90039\",KTVLTV:\"90042\",OHLIM:\"90043\",AAAA:\"0000\",WASECA:\"90667\",PAYOR:\"90681\",GACOV:\"90691\",GAHIN:\"90686\",CASCN:\"90152\",CAMAN:\"90690\",WIEAU:\"90694\",MSMCC:\"90695\",FLNAV:\"90696\",LAMOR:\"90697\",LAFRA:\"90698\",SCAIK:\"90699\",ARFOR:\"90700\",MIGHT:\"90702\"};return{getTrackingGroupFromApPartnerId:function(e){return t[e]||\"90121\"},translate:function(t,n){return e.Deferred(e.proxy(function(i){var o=n;return t.f&&(o.trackingGroup=this.getTrackingGroupFromApPartnerId((t.f+\"\").toUpperCase()),\"0\"==o.widgetId&&(o.widgetId=\"3989\")),!o.videoId&&t.g?e.ajax({type:\"GET\",url:window.location.protocol+\"//dmeserve.newsinc.com/apids/lookup.jsonp?apvid=\"+t.g,dataType:\"jsonp\"}).then(function(e){o.videoId=e,i.resolve(o)}):void i.resolve(o)},this)).promise()}}}),Ndn_Require.define(\"models/Ndn/Legacy/Config/TritonLoyaltyProgram\",[\"jquery\"],function(e){return{translate:function(t,n){return e.Deferred(function(e){t.memberid=t.memberid||t.membedid||\"\",\"\"!=t.memberid&&\"none\"!=t.memberid&&(n.loyaltyProgramId=\"ndntritonservice\",n.loyaltyProgramData={memberId:t.memberid,siteId:t.siteid}),e.resolve(n)}).promise()}}}),Ndn_Require.define(\"models/Ndn/Legacy/Config\",[\"underscore\",\"jquery\",\"models/Ndn/Utils/UrlParser\",\"models/Ndn/Legacy/Config/Ap\",\"models/Ndn/Legacy/Config/TritonLoyaltyProgram\"],function(e,t,n,i,o){return{translate:function(r,a){return t.Deferred(function(s){var l=n.parseHref(r),u=l.queryParams;for(var c in u)u.hasOwnProperty(c)&&c!=c.toLowerCase()&&(u[c.toLowerCase()]=u[c],delete u.paramKey);var d=l.url.match(/^http:[\\/]{2}embed\\.newsinc\\.com/)?l.path.toLowerCase():\"\",p={widgetId:u.wid,siteSection:u.sitesection||\"\",videoId:u.vid||u.vcid||u.spid||\"\",trackingGroup:u.freewheel||\"\",playlistId:u.cid||\"\",hideWhenUnavailable:\"true\"==u.pp_hideExpired};t.each(p,function(e){\"\"==this&&delete p[e]});var h={\"/single/embed.js\":\"VideoPlayer/Single\",\"/inform/article/matching/video/embed.js\":\"VideoPlayer/Single\",\"/horizontaltitle550/embed.js\":\"VideoLauncher/Horizontal\",\"/inline/embed.js\":\"VideoLauncher/Slider\",\"/inlinesound/embed.js\":\"VideoLauncher/Slider\",\"/inline590/embed.js\":\"VideoPlayer/Inline590\",\"/inlinesound590/embed.js\":\"VideoPlayer/Inline590\",\"/toppicks/embed.js\":\"VideoLauncher/Slider\"};if(\"undefined\"!=typeof a)p.type=a;else if(\"undefined\"!=typeof h[d])p.type=h[d];else{var f={slider:\"VideoLauncher/Slider\",plist:\"VideoLauncher/Slider\",vertical:\"VideoLauncher/VerticalTower\",horizontal:\"VideoLauncher/Horizontal\",horizontal400:\"VideoLauncher/Horizontal\",horizontal500:\"VideoLauncher/Horizontal\"},g=u.type||u.thumbid;\"undefined\"!=typeof f[g]?p.type=f[g]:e.contains([\"/thumbnail/embed.js\",\"/thumbnail/iframe.html\"],d)&&(p.type=\"VideoLauncher/Slider\")}e.contains([\"/inlinesound/embed.js\",\"/inlinesound590/embed.js\",\"/thumbnailsound/embed.js\"],d)&&(p.rmmSoundOn=!0),(u.width||u.w)&&(p.width=u.width||u.w),(u.height||u.h)&&(p.height=u.height||u.h);var m={\"/horizontaltitle550/embed.js\":550};\"undefined\"!=typeof m[d]?p.width=m[d]:\"horizontal400\"==u.type?p.width=425:e.contains([\"horizontal\",\"horizontal500\"],u.type)&&(p.width=550);for(var y=[\"playlistId\",\"widgetId\",\"videoId\",\"trackingGroup\"],v=0;v<y.length;v++){var _=y[v];\"0\"==p[_]&&delete p[_]}(\"/single/iframe.html\"!=d&&!p.type||\"VideoPlayer/Single\"==p.type)&&(p.width||(p.width=600),p.height||(p.height=360)),i.translate(u,p).then(function(e){return o.translate(u,e)}).fail(s.reject).done(s.resolve)}).promise()}}}),Ndn_Require.define(\"models/Ndn/Widget/Config\",[\"jquery\",\"underscore\",\"models/Ndn/App\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Utils/UrlParser\",\"models/Ndn/Widget/PlayerOptions\",\"models/Ndn/Legacy/Config\",\"models/Ndn/Debugger\"],function(e,t,n,i,o,r,a,s){var l=s.inMode(\"config\"),u=[\"configId\",\"distributorId\",\"widgetId\",\"type\",\"trackingGroup\",\"playlistId\",\"videoId\",\"placementId\",\"placementPageId\",\"providerId\",\"providerStoryId\",\"siteSection\",\"acceptsConfigFromUrl\",\"acceptsConfigFromUrlPrefix\",\"loyaltyProgramId\",\"loyaltyProgramData\",\"legacyEmbedUrl\",\"autoPlay\",\"playOnMouseover\",\"playOnInView\",\"hideWhenUnavailable\",\"continuousPlay\",\"rmmSoundOn\",\"adsEnabled\",\"float\",\"width\",\"height\",\"aspectRatio\",\"pb\"],c=\"10\",d=\"0\",p=\"7\",h={\"VideoPlayer/Single\":{typeId:5},\"VideoPlayer/16x9\":{typeId:2},\"VideoPlayer/Inline590\":{typeId:11,typeIdForAutoPlay:14},\"VideoPlayer/Inline\":{typeId:11,typeIdForAutoPlay:14},\"VideoLauncher/Slider\":{typeId:21},\"VideoLauncher/Horizontal\":{typeId:19},\"VideoLauncher/VerticalTower\":{typeId:20},InView:{typeId:25},\"VideoPlayer/Studio\":{typeId:33}},f={\"videolauncher/slider300x250\":\"VideoLauncher/Slider\",\"videoplayer/single\":\"VideoPlayer/Single\",\"videoplayer/inline590\":\"VideoPlayer/Inline\",\"videoplayer/default\":\"VideoPlayer/Single\",\"videoplayer/inline300\":\"VideoLauncher/Slider\"},g=function(){var e={};return t.each(h,function(t,n){e[n.toLowerCase()]=n}),e}(),m=function(e){return e.toLowerCase&&f[e.toLowerCase()]&&(e=f[e.toLowerCase()]),e};return{getProductTypeData:function(){return h},cleanConfig:function(n){var i=t.extend({},n);e.each(i,function(t,n){\"string\"==typeof i[t]&&(i[t]=e.trim(i[t]))});var o=[\"autoPlay\",\"playOnMouseover\",\"rmmSoundOn\",\"adsEnabled\",\"acceptsConfigFromUrl\",\"playOnInView\",\"hideWhenUnavailable\"];e.each(o,function(e,n){\nif(\"string\"==typeof i[n]){var o=i[n];o=\"\"==o?!0:t.contains([\"true\",\"1\"],o.toLowerCase())?!0:!1,i[n]=o}else\"undefined\"!=typeof i[n]&&(i[n]=!!i[n])});var r=[\"continuousPlay\",\"pb\"];e.each(r,function(e,t){\"undefined\"!=typeof i[t]&&(i[t]=parseInt(i[t]))}),e.each(i,function(e){t.contains(u,e)||delete i[e]}),i.type&&(i.type=m(i.type),i.type=g[(i.type||\"\").toLowerCase()],i.type&&\"undefined\"==typeof g[i.type.toLowerCase()]&&delete i.type);var a;return i.height&&(a=i.height.match(/^(\\d*)\\/(\\d*)w$/))&&(i.aspectRatio=a[2]+\":\"+a[1]),i.placementId&&(i.distributorId=i.trackingGroup),\"VideoPlayer/Single\"==i.type||i.distributorId||delete i.pb,(\"InView\"==i.type||\"VideoPlayer/Studio\"==i.type)&&(i.aspectRatio=\"16:9\"),i[\"float\"]&&(i[\"float\"]=this.processFloatConfigSetting(i[\"float\"]),i[\"float\"]||delete i[\"float\"]),i.configId&&(i.widgetId=i.configId),i.widgetId&&(i.configId=i.widgetId),i},processFloatConfigSetting:function(n){if(n=(n+\"\").toLowerCase(),t.contains([\"default\",\"off\"],n))return n;var i=[],o=n.split(\" \"),r=[\"top\",\"middle\",\"bottom\",\"left\",\"center\",\"right\"];return e.each(o,function(e,n){t.contains(r,n)&&i.push(n)}),i.join(\" \")},getSiteSectionSegments:function(e){var t=(e||\"\").split(\"_\");return{site:t[1]||\"\",section:t[1]||\"\",subSection:t[2]||\"\",pageType:t[3]||\"\"}},getPltValue:function(e,t){var n=h[e.type],i=t.settings.behavior;if(i[\"float\"].enabled&&\"VideoPlayer/Single\"==e.type)return 24;var o=i.rmm;return o.enabled&&o.rotatingEnabled?22:e.autoPlay&&n.typeIdForAutoPlay?n.typeIdForAutoPlay:0!=e.rmmSoundOn&&n.typeIdForAutoPlay?n.typeIdForAutoPlay:n.typeId},applyConfigDefaults:function(e,n){var i=t.extend({},e);return delete i.adsEnabled,i=t.extend({},n,i),i.playOnMouseover&&\"VideoPlayer/Single\"!=i.type&&(i.playOnMouseover=!1),\"InView\"==i.type&&(i.widgetId=\"5\"),i},getConfigFromElement:function(t,n){l&&console.log(\"getConfigFromElement(\",t,\");\");var i={},o=new RegExp(this.hasUpdatedEmbedCode(t,n)?\"^data-(.*)$\":\"^data-config-(.*)$\");return e.each(t[0].attributes,function(e,t){var n;if(n=t.name.replace(/\\s/g,\"\").toLowerCase().match(o)){var r=n[1].replace(/-(\\w)/g,function(e,t){return t.toUpperCase()});i[r]=t.value}}),l&&console.log(\"result ==\",i),i},getDefaultUrlVarPrefixForConfigSettings:function(){return\"ndn.\"},isOnForcedMigrationRedirectedLandingPage:function(e){return!o.getUrlVar(\"legacyEmbedUrl\")&&o.getUrlVar(\"freewheel\")&&!o.getUrlVar(e+\"trackingGroup\")},getConfigFromLandingPageUrl:function(t){var i=n.getAppUrlInfo(t)?\"\":this.getDefaultUrlVarPrefixForConfigSettings(),r=o.parseHref(t).queryParams,a={};return e.each(r,function(e,t){e.substr(0,i.length)==i&&(a[e.substr(i.length)]=t)}),a},processConfigFromElement:function(n,i,r){l&&console.log(\"processConfigFromElement(\",n,\", \",i,\", \",r,\");\");var s=e.extend({},this.getConfigFromElement(n,r),i||{});if(\"InView\"==s.type&&(s.widgetId=\"5\"),s=this.cleanConfig(s),s.acceptsConfigFromUrl){var u=s.hasOwnProperty(\"acceptsConfigFromUrlPrefix\")?s.acceptsConfigFromUrlPrefix:this.getDefaultUrlVarPrefixForConfigSettings();this.isOnForcedMigrationRedirectedLandingPage(u)?s.legacyEmbedUrl||(s.legacyEmbedUrl=window.location.href+\"\"):s=this.cleanConfig(t.extend({},o.getUrlVarsWithPrefix(u),s))}var c=this;return e.Deferred(function(e){s.legacyEmbedUrl?a.translate(s.legacyEmbedUrl,s.type).done(function(n){s=t.extend(n,s),e.resolve(s)}):e.resolve(s)}).promise().always(function(e){\"undefined\"==typeof e.type&&(e.type=\"\"),e.type=(e.type+\"\").replace(\" \",\"\"),\"\"==e.type&&(e.type=\"VideoPlayer/Single\"),\"VideoPlayer/Single\"==e.type&&!e.aspectRatio&&c.hasUpdatedEmbedCode(n,r)&&(e.width&&e.height||(e.width=\"100%\",e.aspectRatio=\"16:9\")),\"VideoPlayer/Single\"==e.type&&!e.aspectRatio&&c.hasUpdatedEmbedCode(n,r)&&(e.width&&e.height||(e.aspectRatio=\"16:9\",e.width||(e.width=\"100%\")))})},getEmbedCode:function(t,n,i){\"undefined\"==typeof n&&(n=!1);var o='<div class=\"'+(n?\"ndn_embed\":\"inform-embed\")+'\"',r=n?\"data-\":\"data-config-\";return i&&(o+=' id=\"'+i+'\"'),e.each(t,function(e,t){var n=r+e.replace(/[A-Z]/g,function(e){return\"-\"+e.toLowerCase()});o+=\" \"+n+'=\"'+t+'\"'}),o+=\"></div>\"},process:function(e){return l&&console.log(\"process(\",e,\");\"),e.config=t.extend({},e.providedConfig),this.applyPbDefault(e),this.processPlayerBehaviorSetting(e),e.config=this.applyConfigDefaults(e.config,e.defaultConfig),this.applyBrowserSettings(e),this.syncPbSetting(e),e},applyBrowserSettings:function(e){var t=e.config,n=e.settings.browser;n.isAbleToPlayVideoAutomatically||(t.autoPlay=!1,t.playOnInView=!1),n.hasCursor||(t.playOnMouseover=!1)},applyPbDefault:function(e){var t=e.config,n=e.providedConfig,i=e.settings.deliverySettings;\"undefined\"==typeof n.pb&&i.playOnInViewToggle&&(t.pb=p),t.pb==c&&(t.pb=i.pb_default)},syncPbSetting:function(e){var t=e.config;\"undefined\"!=typeof t.pb&&delete t.pb,\"VideoPlayer/Single\"==t.type&&this.processPlayerBehaviorSetting(e)},applyToggleToPbConfigSetting:function(e){var t=e.config,n=e.settings.behavior.toggle;return t.pb&&n.enabled&&!n.toggleValue&&(t.pb=d,this.processPlayerBehaviorSetting(e)),e},syncFloatWithBehaviorSettings:function(e){var t=e.settings.behavior[\"float\"];e.providedConfig[\"float\"]&&(e.config[\"float\"]=t.enabled?t.initialPosition:\"off\")},processPlayerBehaviorSetting:function(n){var i=n.config,o={0:{autoPlay:!1,playOnMouseover:!1,playOnInView:!1},1:{autoPlay:!0,playOnMouseover:!1,playOnInView:!1},3:{autoPlay:!1,playOnMouseover:!0,playOnInView:!1},7:{autoPlay:!1,playOnMouseover:!1,playOnInView:!0}},r=i.pb;return r==c?i:(\"undefined\"!=typeof o[r]?(t.extend(i,o[r]),i.pb=r):e.each(o,function(t,n){var o=!0;return e.each(n,function(e,t){i[e]!==t&&(o=!1)}),o?(i.pb=t,!1):void 0}),i)},hasUpdatedEmbedCode:function(n,i){if(i&&t.contains(i,\"legacyjsapi\"))return!1;var o=!0;return e.each(n[0].attributes,function(e,t){var n;if(n=t.name.replace(/\\s/g,\"\").toLowerCase().match(/^data-config-(.*)$/)){var i=n[1].replace(/-(\\w)/g,function(e,t){return t.toUpperCase()});\"id\"!=i&&(o=!1)}}),o},retrofitEmbedCode:function(t,n){e.each(t,function(e,t){var i=\"data-config-\"+e.replace(/[A-Z]/g,function(e){return\"-\"+e.toLowerCase()});n.attr(i,t)})},processDefaultDimensions:function(e,n){\"undefined\"==typeof n&&(n=!1),l&&console.log(\"processDefaultDimensions(\",e,\", \",n,\");\");var i=t.extend({},e);return\"VideoPlayer/Single\"==i.type&&!i.aspectRatio&&n&&(i.width&&i.height||(i.aspectRatio=\"16:9\")),i},getPlaylistItemsLimit:function(e){return t.contains([\"VideoLauncher/Slider\"],e)?3:t.contains([\"VideoLauncher/Horizontal\",\"VideoLauncher/VerticalTower\"],e)?15:40}}}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/ShareModel\",[\"underscore\",\"jquery\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/AbstractModel\",\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/ShareView\",\"models/Ndn/App\",\"models/Ndn/Widget/Config\"],function(e,t,n,i,o,r){return n.extend({defaults:{view:null,videoData:null},initialize:function(e){n.prototype.initialize.apply(this,arguments),this.set(\"view\",new i({model:this})),e.getContainerElement().append(this.get(\"view\").$el.hide());var t=this;e.on({videoLoad:function(e){t.set(\"videoData\",e.videoData),t.get(\"view\").updateHtml()},\"adStart adResume videoStart videoResume\":function(){t.hide()}})},getVideoData:function(){return this.get(\"videoData\")},getEmbedCode:function(){var e=this.getPlayer().getSessionParams(),t=e.share;return t&&t.embedCode},getDirectLink:function(){var e=this.getPlayer().getSessionParams(),t=e.share;return t&&t.directLink},allowsEmailSharing:function(){var e=this.getPlayer().getSessionParams(),t=e.share;return t&&t.mode.email},allowsSocialSharing:function(){var e=this.getPlayer().getSessionParams(),t=e.share;return t&&t.mode.social},allowsEmbedSharing:function(){var e=this.getPlayer().getSessionParams(),t=e.share,n=this.getPlayer().getSessionParams().videoData;return t&&n&&n.settings.share.embedCode.enabled},share:function(t){var n=this.getPlayer().getSessionParams(),i=n.videoData,o=n.share,r=encodeURIComponent(o[\"facebook\"==t?\"socialUrl\":\"secureSocialUrl\"]);if(e.contains([\"facebook\",\"twitter\"],t)){var a=\"http://api.addthis.com/oexchange/0.8/forward/\"+t+\"/offer?url=\"+r+\"&pubid=ra-518bbde23f7ed2a9&ct=1\";\"facebook\"==t&&(a+=\"&title=\"+i.videoTitle),window.open(a,\"\",\"\")}else if(\"email\"==t){var s=i.videoTitle;window.location.href=\"mailto:?subject=\"+s+\"&body=Check out this video:%0A%0A\"+s+\"%0A\"+r}return this}})}),Ndn_Require.define(\"text!templates/ndn/video-player/start-overlay.html\",[],function(){return'<div class=\"ndn_startOverlayContainer ndn_playerOverlay\">\\n\t<div class=\"ndn_startOverlay\">\\n\t\t<div class=\"ndn_startPlay ndn_fastClick_clickevent\"></div>\\n\t</div>\\n</div>'}),Ndn_Require.define(\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/StartView\",[\"jquery\",\"mustache\",\"backbone\",\"models/Ndn/Utils/FastClick\",\"text!templates/ndn/video-player/start-overlay.html\"],function(e,t,n,i,o){return n.View.extend({events:{mouseover:\"onMouseover\",\"click .ndn_startOverlay\":\"onOverlayClick\"},initialize:function(){n.View.prototype.initialize.call(this,arguments);var r=this,a=this.model.getPlayer();this.$el=e(t.to_html(o,{})),new i(this.$el.find(\".ndn_fastClick_clickevent\").get(0)),e(window).on(\"resize scroll\",function(){a.isScrollToPlay()&&r.$el.is(\":visible\")&&r.isInViewVertically()&&a.requestVideoStart({source:\"playOnInView\"})})},isInViewVertically:function(){var t=this.$el.offset().top,n=t+this.$el.height(),i=e(window).scrollTop(),o=i+e(window).height();return i>t&&n>o||t>=i&&o>=t||n>=i&&o>=n},onOverlayClick:function(){var e=this.model.getPlayer();e.isPlaying()||e.requestVideoStart({source:\"clickToPlay\"})},show:function(){this.$el.appendTo(this.$el.parent()).show()},hide:function(){this.$el.hide()},onMouseover:function(){var e=this.model.getPlayer();e.isMouseToPlay()&&!e.isPlaying()&&e.requestVideoStart({source:\"mouseOverToPlay\"})}})}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/StartModel\",[\"jquery\",\"underscore\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/AbstractModel\",\"views/Ndn/Viewer/ViewerModule/Inform/Overlay/StartView\",\"lib/jquery_plugins/jquery.backstretch.min\",\"jquery_autoellipsis\"],function(e,t,n,i){return n.extend({defaults:{view:null},initialize:function(e){n.prototype.initialize.apply(this,arguments),this.set(\"view\",new i({model:this})),e.getContainerElement().append(this.get(\"view\").$el.hide());var t=this;e.on({\"adStart videoStart adResume videoResume\":function(){t.hide()},viewerSessionEnd:function(){t.show()}})},togglePlayButton:function(e){this.get(\"view\").$el.find(\".ndn_startPlay\").toggle(e)},toggleInfoOverlay:function(e){this.get(\"view\").$el.find(\".ndn_startPlay\").toggle(e)},show:function(e){e&&this.update(e),n.prototype.show.apply(this,arguments),this.getPlayer().getOverlays().getOverlay(\"info\").show(),this.togglePlayButton(!0)},update:function(e){var t=this.getPlayer().getContainerElement().width()>400;this.displayStillImage(e[t?\"stillImageXLUrl\":\"stillImageUrl\"])},displayStillImage:function(e){this.get(\"view\").$el.backstretch(e,{fade:300})}})}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform/Overlays\",[\"jquery\",\"backbone\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/EndslateModel\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/InfoModel\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/PauseModel\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/ShareModel\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlay/StartModel\"],function(e,t,n,i,o,r,a){return t.Model.extend({defaults:{viewerModule:null,overlays:null},initialize:function(e){var t=e.informPlayer;this.set({overlays:{endslate:new n(t),info:new i(t),pause:new o(t),share:new r(t),start:new a(t)}})},hideAll:function(){e.each(this.get(\"overlays\"),function(){this.hide()})},getOverlay:function(e){return this.get(\"overlays\")[e]}})}),Ndn_Require.define(\"models/Ndn/Widget/Params\",[\"underscore\",\"jquery\",\"models/Ndn/App\",\"models/Ndn/Widget/Config\"],function(e,t,n,i){return{getWgtValue:function(e,t){return\"InView\"==e.type?2:t?1:0},getPlayerBehaviorId:function(e,t){var n=e.config;return e.settings.behavior.rmm.rotatingEnabled?\"5\":t?\"2\":n.autoPlay?\"1\":n.playOnInView?\"7\":n.playOnMouseover?\"3\":\"0\"},getVideoSizeId:function(e){return 300>=e?1:315>e?2:350>e?3:400>e?4:5},getVideoAssetId:function(e,t){return t?\"23408962\":e+\"\"},getFoldPositionId:function(e){if(n.isEmbeddedByIframe())return\"0\";var i=t(window).height()+t(window).scrollTop(),o=i>=e.offset().top+Math.floor(e.height()/2);return o?\"1\":\"2\"},getViewerData:function(e){return{foldPositionId:this.getFoldPositionId(e),viewerWidth:e.width(),viewerHeight:e.height(),viewerSizeId:this.getVideoSizeId(e.width())}},getComscoreData:function(t){var n=t.videoData,i=t.isRmm,o={siteSection:t.siteSection,distributorName:t.distributorName,videoAssetId:this.getVideoAssetId(n?n.videoId:\"\",i),c5:i?\"02\":\"03\",ca2:\"null\",ca3:\"null\"};if(n){var r=n.provider;o=e.extend(o,{providerId:r.id,providerCategory:r.category,providerName:r.name}),\"Bloomberg\"==n.provider.name&&(o=e.extend(o,{ca2:\"19630659\",ca3:\"NDN\"}))}return o},getShareData:function(e){if(e.shareSettings.enabled&&e.videoData){var n=e.shareSettings,i=n.template,o=e.videoData,r=o.videoId,a={showShareIcons:o.settings.share.embedCode.enabled&&n.mode.social,mode:n.mode};return t.each(i,function(e,t){a[e]=t.replace(/\\[VIDEO_ID\\]/g,r)}),a}},getImaAdTagUrl:function(e){var n=this,o=e.videoData,r=e.viewerData,a=e.productSettings,s=a.config,l=a.settings.app,u=a.settings.dfp,c=a.settings.behavior,d=a.settings.browser,p=encodeURIComponent(d.embedOriginUrl),h=encodeURIComponent(p),f=e.isRmm,g=this.getVideoAssetId(o?o.videoId:\"\",f),m=function(){var m=[[\"wgt\",n.getWgtValue(s,f)],[\"plt\",i.getPltValue(s,a)],[\"pb\",n.getPlayerBehaviorId(a,f)],[\"snd\",e.isMuted?\"0\":\"1\"],[\"fp\",r.foldPositionId],[\"cp\",s.continuousPlay],[\"vs\",r.viewerSizeId],[\"pt\",i.getSiteSectionSegments(s.siteSection).pageType],[\"dpid\",u.adCampaignId],[\"sitesection\",s.siteSection],[\"vt\",\"flash\"==e.playbackMode?e.playbackMode:\"html5\"],[\"cpvnum\",e.cpvNumber],[\"plid\",s.playlistId||\"\"],[\"assetid\",g],[\"modal\",c.isModal?\"1\":\"0\"],[\"pit\",e.playerInstanceTypeId],[\"width\",r.viewerWidth],[\"height\",r.viewerHeight],[\"vli\",e.videoLoadIndex],[\"dtype\",d.deviceTypeId],[\"ab\",d.adBlockDetectionId],[\"lat\",d.lotameSegments.join(\",\")],[\"akw\",o?o.antiKeywords:\"\"]];u.adCampaignId!=u.defaultAdCampaignId&&m.push([\"ordpid\",u.defaultAdCampaignId]),m=m.concat([[\"wid\",s.widgetId],[\"cpid\",o?o.provider.id:\"\"],[\"insid\",l.pageViewSessionId],[\"embedIndex\",a.embedIndex],[\"ver\",l.buildNumber],[\"benv\",l.buildEnvironment],[\"atei\",e.analyticsTimelineEventIndex],[\"ua\",d.browserId],[\"ext_url\",p],[\"de_url\",h],[\"adserver\",\"dfp\"]]);var y=[];return t.each(m,function(e,t){var n=t[0],i=(t[1]+\"\").substr(0,256);y.push([n,i])}),y}(),y=function(){var e=[];return t.each(m,function(t,n){var i=n[0],o=n[1];e.push(i+\"=\"+o)}),encodeURIComponent(e.join(\"&\"))}();return d.pageProtocol+\"//pubads.g.doubleclick.net/gampad/ads?ad_rule=1&sz=750x425&iu=\"+u.adUnitCode+\"&ciu_szs=\"+(u.companionAd||\"\")+\"&vid=\"+g+\"&cmsid=1169&vpos=preroll&scor=\"+e.now+\"&vad_type=linear&description_url=\"+p+\"&playlistId=\"+s.playlistId+\"&widgetId=\"+(s.widgetId||\"\")+\"&trackingGroup=\"+s.trackingGroup+\"&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url=\"+p+\"&correlator=\"+e.now+\"&cust_params=\"+y}}}),Ndn_Require.define(\"jquery_responsive_containers\",[\"jquery\",\"jquery_resize\"],function(e){!function(e){\"use strict\";var t={feature:\"min-width\",value:\"800px\",className:\"\",callback:null};e.fn.responsiveContainer=function(n){if(\"undefined\"==typeof n.feature)throw new Error('Responsive container error: No \"feature\" supplied, such as min-width.');if(\"undefined\"==typeof n.value)throw new Error('Responsive container error: No \"value\" supplied, such as 800px.');if(\"undefined\"==typeof n.className&&\"undefined\"==typeof n.callback)throw new Error('Responsive container error: No \"className\" or \"callback\" supplied, one or the other is needed, else theres no use.');var i=e.extend({},t,n);return this.each(function(){var t=e(this),n=function(){var e=!1,n=t.width();switch(\"\"!==i.className&&t.removeClass(i.className),i.feature){case\"min-width\":i.value.replace(\"px\",\"\")<n&&(e=!0);break;case\"max-width\":i.value.replace(\"px\",\"\")>n&&(e=!0)}e&&(\"\"!==i.className&&t.addClass(i.className),null!==i.callback&&i.callback({width:n}))};e(this).resize(n),n()})}}(e)}),Ndn_Require.define(\"models/Ndn/Utils/Responsive\",[\"jquery\",\"jquery_responsive_containers\"],function(e){return{addBreakpoints:function(t,n,i){\"undefined\"==typeof i&&(i=\"inform-\"),e.each(n,function(n,o){e.each(o,function(){var e=\"undefined\"!=typeof this[0],o=e?this[0]:this+0,r=e?i+this[1]:i+\"breakpoint-\"+n.split(\"-\")[0]+o;t.responsiveContainer({feature:n,value:o+\"px\",className:r})})})}}}),Ndn_Require.define(\"models/Ndn/Viewer/ViewerModule/Inform\",[\"jquery\",\"underscore\",\"backbone\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Viewer/ViewerModule\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Viewer\",\"models/Ndn/Viewer/ViewerModule/Amp\",\"models/Ndn/Viewer/ViewerModule/Vjs\",\"models/Ndn/PlayerServices\",\"models/Ndn/PlayerServices/Cache\",\"models/Ndn/Viewer/ViewerModule/Inform/Overlays\",\"models/Ndn/Analytics/Ndn\",\"models/Ndn/Widget/Params\",\"models/Ndn/Debug\",\"models/Ndn/AdBlockDetector\",\"models/Ndn/Utils/Responsive\",\"lib/amp.premier/config/skin/templates\",\"jquery_responsive_containers\"],function(e,t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v){var _=r.extend({defaults:{moduleId:\"inform\",player:null,overlays:null,playOnMouseover:null,playOnInView:null,previousVideoStartRequest:null,wgtValue:null,playerBehaviorId:null,params:null,videoLoadIndex:-1,currentAteiValue:null},initialize:function(t){r.prototype.initialize.call(this,t);var n=t.containerElement,i=\"inform-player-container-\"+_.getInformPlayerIndex();n.html('<div id=\"'+i+'\" style=\"width:100%;height:100%;\"></div>');var o=e(\"#\"+i);this.initializeContainerElement(n);var a=t.viewer.usesVideoJs()?u:l,s=new a({eventsReceiver:this,containerElement:o}),c=new p({informPlayer:this,viewerModule:s});this.set({containerElement:n,player:s,overlays:c});s.on(\"share\",function(e){console.log(\"AMP share event heard! eventData ==\",e),c.hideAll(),c.getOverlay(\"share\").share(e.medium).show()})},getOverlay:function(e){return this.getOverlays().getOverlay(e)},getOverlays:function(){return this.get(\"overlays\")},manageEvents:function(){},getDebugInfo:function(){return this.get(\"player\").getDebugInfo()},isMouseToPlay:function(){return this.get(\"playOnMouseover\")},isScrollToPlay:function(){return this.get(\"playOnInView\")},getVideoLoadIndex:function(){return this.get(\"videoLoadIndex\")},getPlayerInstance:function(){return this.get(\"player\")},play:function(){this.getOverlays().hideAll(),this.getPlayerInstance().play()},pause:function(){this.get(\"player\").pause()},startSession:function(e){r.prototype.startSession.apply(this,arguments),this.toggleAdPlayer(!!e.dfp),this.toggleContentPlayer(!!e.videoData);var t=e.videoData,n=e.playOnLoad,i=e.share;this.set({playOnMouseover:e.playOnMouseover||!1,playOnInView:e.playOnInView||!1}),t&&(this.set(\"videoLoadIndex\",this.getVideoLoadIndex()+1),this.trigger(\"videoLoad\",{playOnLoad:n,videoData:t,videoLoadIndex:this.getVideoLoadIndex()}),e.endslate?this.getOverlay(\"endslate\").show(e.endslate):n||(this.getOverlay(\"start\").show(t),this.getOverlay(\"info\").setToggleableDisplay(!1).setVisibility(!1,!0))),this.getPlayerInstance().startSession({dfp:e.dfp,comscore:e.comscore,videoData:t,isMuted:e.isMuted,isBumperVideo:e.isRmm,playOnLoad:n,playbackMode:e.playbackMode,showControls:e.showControls,showShareIcons:i&&i.showShareIcons})},getPlayerInstanceTypeId:function(){},requestVideoStart:function(e){var n=\"undefined\"==typeof e.playlistIndex||\"undefined\"==typeof e.videoIndex?\"play\":\"selectVideo\",i={source:e.source||\"\",playlistIndex:e.playlistIndex,videoIndex:e.videoIndex,action:n,sessionIndex:this.getModuleSessionIndex()},o=!t.isEqual(this.get(\"previousVideoStartRequest\"),i);o&&(this.set(\"previousVideoStartRequest\",i),\"play\"==n&&this.play(),this.trigger(\"videoStartRequest\",i))},initializeContainerElement:function(e){e.addClass(\"ndn_videoPlayer\"),y.addBreakpoints(e,{\"min-width\":[[419,\"largeView\"]],\"max-width\":[[1198,\"view1198\"],[1022,\"view1022\"],[999,\"view999\"],[849,\"view849\"],[784,\"view784\"],[766,\"view766\"],[702,\"view702\"],[639,\"view639\"],[574,\"view574\"],[499,\"view499\"],[418,\"smallView\"]]},\"ndn_videoPlayer_\"),function(t){var n=e.get(0),i=function(){t.trigger(\"click\")};n.addEventListener?n.addEventListener(\"click\",i,!0):n.attachEvent&&n.attachEvent(\"onclick\",i)}(this)},getDuration:function(){return this.get(\"player\").getDuration()},getCurrentTime:function(){return this.get(\"player\").getCurrentTime()},getCurrentPlaylistId:function(){return this.get(\"playlistId\")},onceReady:function(e){return this.get(\"player\").onceReady(e)},getDebugInfo:function(){return this.getPlayerInstance().getDebugInfo()}},{getInformPlayerIndex:function(){var e=1;return function(){return e++}}()});return _}),Ndn_Require.define(\"models/Ndn/Viewer\",[\"underscore\",\"jquery\",\"backbone\",\"models/Ndn/Viewer/Step\",\"models/Ndn/Utils/DomElement\",\"models/Ndn/Viewer/ViewerModule/Amp\",\"models/Ndn/Viewer/ViewerModule/Vjs\",\"models/Ndn/Viewer/ViewerModule/Easi\",\"models/Ndn/Viewer/ViewerModule/DisplayAd\",\"models/Ndn/Viewer/ViewerModule/Inform\",\"models/Ndn/Debug\",\"lib/jquery_plugins/jquery.backstretch.min\"],function(e,t,n,i,o,r,a,s,l,u,c){var d={amp:r,vjs:a,easi:s,displayAd:l,inform:u};return n.Model.extend({defaults:{viewerModules:null,activeModule:null,containerElement:null,sessionIndex:null,sessionsLog:null,effectiveSessionsLog:null,debugInfo:null,steps:null,usesVideoJs:null},initialize:function(e){this.set({containerElement:t(e.containerElement).addClass(\"inform-viewer-container\"),viewerModules:{},debugInfo:[],steps:new i({viewer:this,stepName:\"top\",parentStep:null}),sessionsLog:[],effectiveSessionsLog:[],sessionIndex:0,usesVideoJs:!!e.usesVideoJs}),this.handleLoadingScreen(),this.handleDebugMode()},usesVideoJs:function(){return this.get(\"usesVideoJs\")},getViewerEventData:function(){var e=this.getActiveModule();return{sessionModuleId:this.getActiveModuleId(),sessionParams:this.getActiveSessionParams(),sessionIndex:this.getSessionIndex(),moduleSessionIndex:function(){return e?e.getModuleSessionIndex():void 0}()}},execute:function(e,n,i){var o=this;return i=i||{},t.Deferred(function(t){o.beginNextSession().done(function(){o.useModule(e,n,i).always(function(){o.set(\"sessionIndex\",o.get(\"sessionIndex\")+1)}).done(function(e){t.resolve(e)})})}).promise()},beginNextSession:function(){var e=this;return t.Deferred(function(t){e.isActive()?(e.once(\"viewerModuleEnd\",t.resolve),e.getActiveModule().halt()):t.resolve()}).promise()},halt:function(){this.isActive()&&this.getActiveModule().halt(),this.getSteps().concludeAllSteps()},getViewerModule:function(e){return this.get(\"viewerModules\")[e]},useModule:function(e,n,i){var r=this;return i=i||{},t.Deferred(t.proxy(function(a){t.Deferred(function(n){if(\"undefined\"!=typeof r.get(\"viewerModules\")[e])return n.resolve(r.get(\"viewerModules\")[e]);if(!e||!d[e])return n.reject(\"Unrecognized module: \"+e);var i=\"inform-viewer-module-\"+e,a=t('<div class=\"'+i+' inform-viewer-module\" style=\"width:100%;height:100%;overflow:hidden;\"></div>');r.getContainerElement().append(a),o.onceHasWidthAndHeight(a).done(function(){var t=d[e],i=new t({viewer:r,containerElement:a});r.initializeViewerModule(e,i),n.resolve(i)})}).promise().always(function(t){var o=\"resolved\"==this.state()?t:null;r.set({activeModule:o,activeModuleId:o?e:\"\"}),o?(o.once(\"viewerModuleEnd\",function(e){e.halted?a.reject(i):a.resolve(i)}),o.startSession(n,i)):a.reject(i)})},this)).promise().always(function(){r.set({activeModule:null,activeModuleId:\"\"})})},getContainerElement:function(){return this.get(\"containerElement\")},initializeViewerModule:function(e,t){this.get(\"viewerModules\")[e]=t},getModule:function(e){return this.get(\"viewerModules\")[e]},getSessionIndex:function(){return this.get(\"sessionIndex\")},getActiveModuleId:function(){return this.get(\"activeModuleId\")},logSession:function(e){var n=[this.getActiveModuleId(),e];this.get(\"sessionsLog\").push(n);var i=function(){var n=!1;return t.each(e,function(e,t){return t?(n=!0,!1):void 0}),n}();i&&this.get(\"effectiveSessionsLog\").push(n)},getSessionsLog:function(){return this.get(\"sessionsLog\")},getEffectiveSessionsLog:function(){return this.get(\"effectiveSessionsLog\")},isActive:function(){return!!this.getActiveModule()},getActiveModule:function(){return this.get(\"activeModule\")},getActiveSessionParams:function(){var e=this.getActiveModule();return e?e.getSessionParams():{}},getSteps:function(){return this.get(\"steps\")},getDebugInfo:function(){return{sessions:this.get(\"debugInfo\"),steps:this.getSteps().getData()}},step:function(e){return new i({viewer:this,stepName:e})},getLoadingScreen:function(){return this.getContainerElement().find(\".viewer-loading-screen\")},setLoadingScreenImage:function(e){this.getLoadingScreen().backstretch(e,{fade:300})},handleLoadingScreen:function(){var n;this.getContainerElement().prepend(n=t('<div class=\"viewer-loading-screen\" style=\"position:absolute;z-index:1001;top:0;left:0;width:100%;height:100%;overflow:hidden;\"><div class=\"inform-loading-spinner\"></div></div>')),t(window).resize(e.debounce(function(){n.backstretch(\"resize\")},500)),this.on({\"adRequest viewerModuleEnd\":function(){this.getLoadingScreen().show()},\"viewerModuleStart adStart videoStart\":function(){this.getLoadingScreen().hide()}})},handleDebugMode:function(){var t=this;if(c.inMode(\"viewerEvents\")||c.inMode(\"viewerEventsData\")||c.inMode(\"allViewerEvents\")){var n=this.trigger;this.trigger=function(i,o){if((c.inMode(\"allViewerEvents\")||!e.contains([\"adTimeUpdate\",\"videoTimeUpdate\",\"debugInfo\"],i))&&0!==i.indexOf(\"change\")){var r=[\"[Ndn_Viewer Event]\"];if(c.inMode(\"viewerEventsData\"))for(var a=0;a<arguments.length;a++)r.push(arguments[a]);else r.push(i),e.contains([\"viewerModuleStart\",\"viewerModuleEnd\"],i)&&r.push(o.viewer.sessionModuleId);console.log.apply(console,r)}n.apply(t,arguments)}}if(c.isEnabled()){var i=this.get(\"debugInfo\"),t=this;this.on({viewerModuleStart:function(n){var o=n.viewer;i.push(e.extend({log:t.getActiveModule().getScheduleLog()},o)),t.getSteps().getCurrentStep().recordSession(o.sessionIndex)},debugInfo:function(e){var t=e.viewer;i[t.sessionIndex].debugInfo=e},viewerModuleEnd:function(n){var o=n.viewer;i[o.sessionIndex].log=e.extend({},t.getActiveModule().getSessionLog())}})}}})});var _nw2e=_nw2e||[];Ndn_Require.define(\"models/Ndn/Widget/Settings/App\",[\"underscore\",\"models/Ndn/App\",\"models/Ndn/Analytics\"],function(e,t,n){return{process:function(e){e.settings.deliverySettings,e.config;return e.settings.app={pageViewSessionId:t.getPageViewSessionId(),buildNumber:t.getBuild(),buildEnvironment:t.getEnv(),settings:t.getSettings(),buildDetails:_nw2e.buildDetails||{}},n.on(\"update\",function(){e.settings.app.pageViewSessionId=n.getPageViewSessionId()}),e.settings.app}}}),Ndn_Require.define(\"models/Ndn/Widget/Settings/Analytics\",[\"underscore\"],function(e){return{process:function(t){var n=t.settings.deliverySettings,i=t.config;return t.settings.analytics={chartbeat:{enabled:n.analytics_chartbeat&&e.contains([\"VideoPlayer/Single\",\"VideoPlayer/Studio\",\"VideoPlayer/16x9\"],i.type)}}}}}),Ndn_Require.define(\"models/Ndn/Widget/Settings/Behavior\",[\"underscore\",\"models/Ndn/App\",\"models/Ndn/Widget/Config\"],function(e,t,n){return{process:function(n,i){var o=n.settings.behavior,r=n.settings.deliverySettings,a=n.settings.browser,s=n.config,i=i||{},l=\"VideoLauncher/Slider\"==s.type;return function(){var t=o.rmm={enabled:a.isAbleToPlayVideoAutomatically||l};if(e.contains([\"VideoPlayer/Inline\",\"VideoLauncher/Slider\"],s.type)||(t.enabled=!1),t.enabled){var n=r.rmmEarlyContent&&a.ableToUseEarlyContentRmm;t.earlyContent=n}}(),o[\"float\"]=function(){var t=r.float_player,n=!!t;s[\"float\"]&&(\"off\"==s[\"float\"]?n=!1:\"default\"!=s[\"float\"]&&(n=!0,t=s[\"float\"]));var i={enabled:\"VideoPlayer/Single\"==s.type&&n&&!a.isEmbeddedByIframe&&a.isDesktop};return i.enabled&&(i=e.extend(i,{percent:r.floatPercent,initialPosition:t})),i}(),o.playbackMode=function(){if(t.getSetting(\"forceHtmlPlayer\"))return\"html\";if(l){var n=r.forceHtmlForSections.split(\",\");if(e.contains(n,s.siteSection))return\"html\"}return\"auto\"}(),o.isModal=i.isModal||!1,o},processToggle:function(t){var n=t.settings.behavior,i=t.settings.browser,o=t.config;return n.toggle={enabled:i.isDesktop&&e.contains([\"1\",\"7\"],o.pb)},n.toggle.enabled&&(n.toggle.toggleValue=i.productBehaviorToggleValue),t},processPlaylistItemsLimit:function(e){var t=e.settings.behavior,i=e.config;return t.playlistItemsLimit=n.getPlaylistItemsLimit(i.type),e},processVideoSchedule:function(t){var n,i=t.settings.behavior,o=i.playlistItemsLimit,r=t.config,a=[];if(e.contains([\"VideoPlayer/Single\",\"VideoPlayer/Studio\",\"VideoPlayer/Inline\",\"VideoPlayer/Inline590\",\"VideoPlayer/16x9\",\"VideoLauncher/Slider\"],r.type)){if(t.videosData&&(a.push(t.videosData),n={videoIndex:0,playlistIndex:0}),r.playlistId&&(a.push([r.playlistId,o]),\"undefined\"!=typeof t.videoIndex&&(n={videoIndex:t.videoIndex,playlistIndex:t.videosData?1:0})),a.push([507]),\"VideoPlayer/16x9\"==r.type){for(var s=t.associatedPlaylists,l=[],u=0;u<s.length;u++){var c=s[u];c.id==r.playlistId?l.push({schedule:a,firstVideo:n,firstActiveFeeder:!0}):l.push({schedule:[[c.id,o],[507]]})}i.videos=l}else i.videos={schedule:a,firstVideo:n};return t}}}}),Ndn_Require.define(\"models/Ndn/Widget/Settings/Browser\",[\"jquery\",\"underscore\",\"models/Ndn/App\",\"models/Ndn/Widget/Config\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Widget/PlayerOptions\",\"models/Ndn/AdBlockDetector\",\"models/Ndn/Utils/FlashDetect\",\"models/Ndn/EventHub\"],function(e,t,n,i,o,r,a,s,l){return{process:function(e){var t=e.settings.browser;l.once(\"adBlockDetectionComplete\",function(e){t.adBlockDetectionId=e.adBlockDetectionId});var i=n.getAdsTargeting().getInstance(\"lotame\");i.onceIsLoaded(function(){t.lotameSegments=i.getSegments()})},fetch:function(){return{userAgent:o.getUserAgent(),adBlockDetectionId:a.getCachedScenarioId(),isAbleToPlayVideoAutomatically:o.isAbleToPlayVideoAutomatically(),productBehaviorToggleValue:r.getProductBehaviorToggleValue(),hasCursor:o.hasCursor(),ableToUseEarlyContentRmm:o.isSafari()||o.isChrome(),ableToUseDisplayAdSpree:o.isSafari()||o.isChrome(),mayHaveDesktopFlashBlock:o.isDesktop()&&(o.isSafari()||o.isChrome()),isMobile:o.isMobile(),isDesktop:o.isDesktop(),deviceTypeId:o.getDeviceType(),browserId:o.getBrowser(),lotameSegments:n.getAdsTargeting().getInstance(\"lotame\").getSegments(),isOnHomepage:t.contains([\"/\",\"\"],window.location.pathname+\"\"),pageProtocol:window.location.protocol,isEmbeddedByIframe:n.isEmbeddedByIframe(),embedOriginUrl:n.getEmbedOriginUrl(),flashVersion:s.getFlashVersion(),isFlashEnabled:s.hasFlashEnabled()}}}}),Ndn_Require.define(\"models/Ndn/Widget/Settings/Dfp\",[\"underscore\",\"models/Ndn/Analytics\",\"models/Ndn/Widget/Config\"],function(e,t,n){return{process:function(i){var o=i.settings.dfp,r=i.settings.browser,a=i.config;if(o.accountNumber){var s=n.getSiteSectionSegments(a.siteSection);o.adUnitCode=o.accountNumber+\"/\"+o.adOwnershipGroupId+(r.isMobile?\"_mob\":\"\")+\"/\"+o.adTrackingGroupId+\"/\"+a.siteSection+\"/\"+(s.section||\"oth\")+\"/\"+(s.subSection||\"non\"),o.companionAd=e.contains([\"VideoPlayer/16x9\",\"VideoPlayer/Studio\"],a.type)?\"300x250\":!1}return o.publisherProvidedId=t.getPpidValue(),o}}}),Ndn_Require.define(\"models/Ndn/Widget/Settings/Share\",[\"underscore\",\"models/Ndn/App\",\"models/Ndn/Widget/Config\"],function(e,t,n){return{process:function(e){var t=(e.settings.deliverySettings,e.config,e.settings.share);return e.settings.share={enabled:t.enabled,template:{directLink:this.getDirectLinkTemplate(e),socialUrl:\"http://social.newsinc.com/media/json/69017/[VIDEO_ID]/singleVideoOG.html?type=VideoPlayer/16x9&trackingGroup=69017&videoId=[VIDEO_ID]\",secureSocialUrl:\"https://social.newsinc.com/media/json/69017/[VIDEO_ID]/singleVideoOG.html?type=VideoPlayer/Single&widgetId=2&trackingGroup=69017&videoId=[VIDEO_ID]\",embedCode:this.getEmbedCode(e)},mode:t.mode},e.settings.share},getEmbedCode:function(e){var t=e.config;return'<iframe width=\"590\" height=\"332\" src=\"http://launch.newsinc.com/?type=VideoPlayer/Single&widgetId=1&trackingGroup=69016&playlistId=19132'+(t.siteSection?\"&siteSection=\"+t.siteSection:\"\")+'&videoId=[VIDEO_ID]\" frameborder=\"no\" scrolling=\"no\" noresize marginwidth=\"0\" marginheight=\"0\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>';\n},getDirectLinkTemplate:function(e){var i=e.config,o=e.settings.share.directLinkLandingPageUrl,r=!!t.getAppUrlInfo(o),a=r?\"\":n.getDefaultUrlVarPrefixForConfigSettings();return-1===o.indexOf(\"?\")&&(o+=\"?\"),o+a+\"trackingGroup=\"+i.trackingGroup+(i.siteSection?\"&\"+a+\"siteSection=\"+i.siteSection:\"\")+\"&\"+a+\"videoId=[VIDEO_ID]\"}}}),Ndn_Require.define(\"models/Ndn/Widget/Settings\",[\"jquery\",\"underscore\",\"backbone\",\"models/Ndn/App\",\"models/Ndn/Widget/Config\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Widget/Settings/App\",\"models/Ndn/Widget/Settings/Analytics\",\"models/Ndn/Widget/Settings/Behavior\",\"models/Ndn/Widget/Settings/Browser\",\"models/Ndn/Widget/Settings/Dfp\",\"models/Ndn/Widget/Settings/Share\",\"models/Ndn/Widget/PlayerOptions\"],function(e,t,n,i,o,r,a,s,l,u,c,d,p){var h=n.Model.extend({defaults:{data:null},initialize:function(e){this.set(\"data\",e)},getData:function(){return this.get(\"data\")},getConfig:function(){return this.getData().config},getBehaviorSettings:function(){return this.getData().settings.behavior},getBrowserSettings:function(){return this.getData().settings.browser},getDeliverySettings:function(){return this.getData().settings.deliverySettings}},{process:function(n,r,p){var f=n;return f.embedIndex=p.embedIndex,f.settings.browser=t.extend(u.fetch(),p.browserSettings||{}),f.providedConfig=r,f.settings.deliverySettings=t.extend(f.settings.deliverySettings,p.deliverySettings||{}),o.process(f),a.process(f),s.process(f),l.process(f,p.behaviorSettings),u.process(f),c.process(f),d.process(f),l.processToggle(f),l.processPlaylistItemsLimit(f),l.processVideoSchedule(f),o.applyToggleToPbConfigSetting(f),o.syncFloatWithBehaviorSettings(f),e.Deferred(function(e){i.getProductModel(f.config.type).done(function(t){var n=new h(f);t.initializeBehaviorSettings(n),e.resolve(n.getData())})}).promise()}});return h}),Ndn_Require.define(\"models/Ndn/Utils/Time\",[],function(){return{getTimestamp:function(){return Date.now?Date.now():(new Date).valueOf()}}}),Ndn_Require.define(\"models/Ndn/LoyaltyProgram\",[\"backbone\",\"jquery\",\"mustache\"],function(e,t,n){var i=function(e){return\"ndntritonservice\"==e?\"http://loyalty.newsinc.com/ndntritonservice.svc/GetCredit/{{memberId}}/{{siteId}}\":void 0},o=function(e,t){i(e);return n.to_html(i(e),t)};return e.Model.extend({defaults:{id:null,customData:null,ajaxUrl:\"\"},initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.set({ajaxUrl:o(this.get(\"id\"),this.get(\"customData\"))})},execute:function(){t.getJSON(this.get(\"ajaxUrl\"),function(e){})}})}),Ndn_Require.define(\"models/Ndn/Utils/AspectRatio\",[\"jquery\",\"backbone\",\"jquery_resize\"],function($,Backbone){return{maintain:function(element,aspectRatio,toggleClosure,inputDimension){if(\"undefined\"==typeof toggleClosure&&(toggleClosure=function(){return!0}),\"undefined\"==typeof inputDimension&&(inputDimension=\"width\"),\"width\"==inputDimension||\"height\"==inputDimension){var outputDimension=\"width\"==inputDimension?\"height\":\"width\",inputDimensionVariable=inputDimension.substr(0,1);if(element=$(element),!(element.data(outputDimension)||\"\").match(/[w|h]/gi)&&aspectRatio.match(/:/g)){var ratioTokens=aspectRatio.split(\":\"),ratio={width:ratioTokens[0],height:ratioTokens[1]},outputDimensionAlgorithm=ratio[outputDimension]+\"/\"+ratio[inputDimension]+\"*\"+inputDimensionVariable,model=new Backbone.Model;model.on(\"elementResize\",function(){if(toggleClosure(element)){var inputDimensionValue=element[inputDimension](),outputDimensionCalculation=outputDimensionAlgorithm.replace(new RegExp(inputDimensionVariable,\"gi\"),inputDimensionValue).replace(/[^-()\\d\\/*+.]/g,\"\"),result=eval(outputDimensionCalculation);try{element.css(outputDimension,eval(outputDimensionCalculation)+\"px\")}catch(e){}}}),element.resize(function(){model.trigger(\"elementResize\")});var timerIntervals=[.5,1,2,4,8,16];return $.each(timerIntervals,function(){setTimeout(function(){model.trigger(\"elementResize\")},1e3*this)}),model.trigger(\"elementResize\"),model}}}}}),Ndn_Require.define(\"lib/respond\",[],function(){return window.matchMedia=window.matchMedia||function(e,t){\"use strict\";var n,i=e.documentElement,o=i.firstElementChild||i.firstChild,r=e.createElement(\"body\"),a=e.createElement(\"div\");return a.id=\"mq-test-1\",a.style.cssText=\"position:absolute;top:-100em\",r.style.background=\"none\",r.appendChild(a),function(e){return a.innerHTML='&shy;<style media=\"'+e+'\"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,o),n=42===a.offsetWidth,i.removeChild(r),{matches:n,media:e}}}(document),function(e){\"use strict\";function t(){E(!0)}var n={};if(e.respond=n,n.update=function(){},n.mediaQueriesSupported=e.matchMedia&&e.matchMedia(\"only all\").matches,!n.mediaQueriesSupported){var i,o,r,a=e.document,s=a.documentElement,l=[],u=[],c=[],d={},p=30,h=a.getElementsByTagName(\"head\")[0]||s,f=a.getElementsByTagName(\"base\")[0],g=h.getElementsByTagName(\"link\"),m=[],y=function(){for(var t=0;t<g.length;t++){var n=g[t],i=n.className,o=n.href,r=n.media,a=n.rel&&\"stylesheet\"===n.rel.toLowerCase();\"_nw2eStyles\"==i&&o&&a&&!d[o]&&(console.log(\"respond.js: processing styles at \"+n.href),n.styleSheet&&n.styleSheet.rawCssText?(_(n.styleSheet.rawCssText,o,r),d[o]=!0):(!/^([a-zA-Z:]*\\/\\/)/.test(o)&&!f||o.replace(RegExp.$1,\"\").split(\"/\")[0]===e.location.host)&&m.push({href:o,media:r}))}v()},v=function(){if(m.length){var t=m.shift();w(t.href,function(n){_(n,t.href,t.media),d[t.href]=!0,e.setTimeout(function(){v()},0)})}},_=function(e,t,n){var i=e.match(/@media[^\\{]+\\{([^\\{\\}]*\\{[^\\}\\{]*\\})+/gi),o=i&&i.length||0;t=t.substring(0,t.lastIndexOf(\"/\"));var r=function(e){return e.replace(/(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\"$1\"+t+\"$2$3\")},a=!o&&n;t.length&&(t+=\"/\"),a&&(o=1);for(var s=0;o>s;s++){var c,d,p,h;a?(c=n,u.push(r(e))):(c=i[s].match(/@media *([^\\{]+)\\{([\\S\\s]+?)$/)&&RegExp.$1,u.push(RegExp.$2&&r(RegExp.$2))),p=c.split(\",\"),h=p.length;for(var f=0;h>f;f++)d=p[f],l.push({media:d.split(\"(\")[0].match(/(only\\s+)?([a-zA-Z]+)\\s?/)&&RegExp.$2||\"all\",rules:u.length-1,hasquery:d.indexOf(\"(\")>-1,minw:d.match(/\\(\\s*min\\-width\\s*:\\s*(\\s*[0-9\\.]+)(px|em)\\s*\\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||\"\"),maxw:d.match(/\\(\\s*max\\-width\\s*:\\s*(\\s*[0-9\\.]+)(px|em)\\s*\\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||\"\")})}E()},b=function(){var e,t=a.createElement(\"div\"),n=a.body,i=!1;return t.style.cssText=\"position:absolute;font-size:1em;width:1em\",n||(n=i=a.createElement(\"body\"),n.style.background=\"none\"),n.appendChild(t),s.insertBefore(n,s.firstChild),e=t.offsetWidth,i?s.removeChild(n):n.removeChild(t),e=r=parseFloat(e)},E=function(t){var n=\"clientWidth\",d=s[n],f=\"CSS1Compat\"===a.compatMode&&d||a.body[n]||d,m={},y=g[g.length-1],v=(new Date).getTime();if(t&&i&&p>v-i)return e.clearTimeout(o),void(o=e.setTimeout(E,p));i=v;for(var _ in l)if(l.hasOwnProperty(_)){var w=l[_],T=w.minw,C=w.maxw,A=null===T,S=null===C,N=\"em\";T&&(T=parseFloat(T)*(T.indexOf(N)>-1?r||b():1)),C&&(C=parseFloat(C)*(C.indexOf(N)>-1?r||b():1)),w.hasquery&&(A&&S||!(A||f>=T)||!(S||C>=f))||(m[w.media]||(m[w.media]=[]),m[w.media].push(u[w.rules]))}for(var I in c)c.hasOwnProperty(I)&&c[I]&&c[I].parentNode===h&&h.removeChild(c[I]);for(var P in m)if(m.hasOwnProperty(P)){var x=a.createElement(\"style\"),k=m[P].join(\"\\n\");x.type=\"text/css\",x.media=P,h.insertBefore(x,y.nextSibling),x.styleSheet?x.styleSheet.cssText=k:x.appendChild(a.createTextNode(k)),c.push(x)}},w=function(e,t){var n=T();n&&(n.open(\"GET\",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))},T=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){t=new e.ActiveXObject(\"Microsoft.XMLHTTP\")}return function(){return t}}();y(),n.update=y,e.addEventListener?e.addEventListener(\"resize\",t,!1):e.attachEvent&&e.attachEvent(\"onresize\",t)}}(this),respond});var _nw2e=_nw2e||[];Ndn_Require.define(\"models/Ndn/Widget\",[\"jquery\",\"underscore\",\"require\",\"backbone\",\"models/Ndn/App\",\"models/Ndn/Widget/CssInjector\",\"models/Ndn/VideoFeeder\",\"models/Ndn/Viewer\",\"models/Ndn/PlayerServices\",\"models/Ndn/Widget/Settings\",\"models/Ndn/Utils/UrlParser\",\"models/Ndn/Utils/Time\",\"models/Ndn/Widget/Config\",\"models/Ndn/Widget/Params\",\"models/Ndn/LoyaltyProgram\",\"models/Ndn/EventHub\",\"models/Ndn/Utils/DomElement\",\"models/Ndn/Utils/AspectRatio\",\"models/Ndn/AdBlockDetector\",\"models/Ndn/Analytics/ChartbeatStrategy\",\"models/Ndn/Viewer/ViewerModule/Amp\",\"models/Ndn/Viewer/ViewerModule/Vjs\",\"models/Ndn/Debug\",\"lib/jquery_plugins/jquery.json\",\"lib/respond\"],function(e,t,n,i,o,r,a,s,l,u,c,d,p,h,f,g,m,y,v,_,b,E,w){var T=0,C=i.Model.extend({defaults:{config:null,templates:null,initialConfig:null,placedBy:null,containerElement:null,viewer:null,videoFeeder:null,embedIndex:null,adOpportunityIndex:null,cpvNumber:null,widgetUid:null,configComplete:!1,settings:null,loyaltyProgram:null,settingsPending:!1,debugEvents:null,providedContainerElementHtml:null,isModal:!1,carousel:null,thumbnailCarousel:null,nextStepParams:null},initialize:function(e){this.set({initialConfig:t.extend({},e),config:e,adOpportunityIndex:0,stepParams:{},debugEvents:{},cpvNumber:0}),this.manageLoyaltyProgram(),this.manageEvents()},initializeVideoFeeder:function(){var e=this.getCachedSettings(),t=e.settings.behavior.videos;if(t){var n=new a({productSettings:e,playlists:t.schedule});n.setNextVideo(t.firstVideo),this.set(\"videoFeeder\",n)}},initializeView:function(){var e=this.getContainerElement(),t=this.getConfig();e.addClass(C.getDomClassIdentifier(this.getConfig().type));var n=this.get(\"widgetView\");this.set(\"view\",new n({el:e.get(0),model:this})),t.width&&e.width(t.width),t.aspectRatio&&y.maintain(e,t.aspectRatio),!t.aspectRatio&&t.height&&e.height(t.height),this.get(\"view\").updateSelectableVideos()},initializeViewer:function(){this.assignViewer(new s({containerElement:e(\"#\"+this.getViewerContainerId()),usesVideoJs:this.getDeliverySettings().videojs}))},getStep:function(e){var t=this[\"step\"+e];return\"function\"==typeof t?t.bind(this):void 0},setStepParams:function(e,t){this.get(\"stepParams\")[e]=t},getStepParams:function(e){var t=this.get(\"stepParams\"),n=t[e]||{};return delete t[e],n},steps:function(t){var n=this;return e.Deferred(function(e){if(!t.length)return e.resolve();var i=n.getStep(t.shift());i().done(function(){n.steps(t).done(e.resolve)})}).promise()},manageLoyaltyProgram:function(){var t=this.getConfig();t.loyaltyProgramId&&this.set(\"loyaltyProgram\",new f({id:t.loyaltyProgramId,customData:function(){try{return e.parseJSON(t.loyaltyProgramData)}catch(n){return{}}}()}))},manageEvents:function(){this.manageAnalytics(),this.manageHooks(),this.debugEvents();var e=this;this.on({viewerInitialized:function(){var t=e.getCachedSettings();t.settings.analytics.chartbeat.enabled&&_.enableForNdnProduct(e),this.getViewer().on(\"adEnd\",function(){e.get(\"loyaltyProgram\")&&e.get(\"loyaltyProgram\").execute()})},configComplete:function(){r.injectCss(this.getConfig().type)}})},manageAnalytics:function(){function t(t,n){e.each(n,function(){var e=this+\"\";t.on(e,function(t){o.trigger(\"analytics:\"+e,t||{})})})}var n=[\"videoLoad\",\"videoStartRequest\",\"videoQuartile\",\"adRequest\",\"adLoad\",\"adError\",\"adMute\",\"adUnmute\",\"adPause\",\"adResume\",\"adQuartile\"],i=[\"widgetEmbedStart\",\"configComplete\",\"widgetEmbedEnd\"],o=this;t(this,i),this.on(\"viewerInitialized\",function(){t(this.getViewer(),n)})},manageHooks:function(){function t(t,i){e.each(i,function(e,i){t.on(e,function(t){n.trigger(\"hook:\"+e,i(t)||{})})})}var n=this,i={widgetEmbedStart:function(){},configComplete:function(){},widgetEmbedEnd:function(){}},o={videoPause:function(e){return{currentTime:e.currentTime}},videoLoad:function(e){return{playOnLoad:e.playOnLoad,videoData:e.videoData,params:{dfpIuValue:n.getProductSettings().settings.dfp.adUnitCode}}},videoEnd:function(){return{}},adCompanion:function(e){return{content:e.content}}},n=this;t(this,i),this.on(\"viewerInitialized\",function(){t(this.getViewer(),o),this.getViewer().on({adPause:function(){n.trigger(\"hook:pause\",{currentTime:0})},videoPause:function(e){n.trigger(\"hook:pause\",{currentTime:e.currentTime})}})})},debugEvents:function(){function t(t,n){e.each(n,function(){var n=this+\"\";t.on(n,function(t){var i=o.get(\"debugEvents\"),r=t&&t.viewer&&\"undefined\"!=typeof t.viewer.sessionIndex?t.viewer.sessionIndex:-1,a=i[r]||(i[r]=[]);a.push({name:n,data:function(){var n={};return t&&e.each(t,function(e,t){\"object\"!=typeof t&&\"function\"!=typeof t&&(n[e]=t)}),n}(),timestamp:d.getTimestamp()})})})}if(w.isEnabled()){var n=[\"viewerModuleStart\",\"videoLoad\",\"videoStartRequest\",\"videoQuartile\",\"adRequest\",\"adLoad\",\"adError\",\"adMute\",\"adUnmute\",\"adPause\",\"adResume\",\"adQuartile\",\"viewerModuleEnd\"],i=[\"widgetEmbedStart\",\"configComplete\",\"widgetEmbedEnd\"],o=this;this.get(\"debugEvents\")[-1]=[{name:\"jsLoad\",data:{},timestamp:_nw2e.embedJsStart},{name:\"pageLoad\",data:{},timestamp:_nw2e.initialized}],t(this,i),this.on(\"viewerInitialized\",function(){t(this.getViewer(),n)})}},triggerEvent:function(t,n,o){if(o){var o=o.split(\",\");e.each(o,e.proxy(function(e,o){o=o.replace(/\\s/g,\"\"),i.Model.prototype.trigger.call(this,o+\":\"+t,n)},this))}else i.Model.prototype.trigger.apply(this,arguments)},isNdnPlayerSuiteProduct:function(){return!0},hideContainer:function(){this.hide()},hide:function(){this.getContainerElement().attr(\"style\",\"display:none !important\")},setIsModal:function(e){this.set(\"isModal\",e)},isModal:function(){return this.get(\"isModal\")},getObservableData:function(){return{data:{containerElement:this.getContainerElement().get(0),embedIndex:this.get(\"embedIndex\")},identifiers:[this.getContainerElement().attr(\"id\"),\"#\"+this.get(\"embedIndex\")]}},onceConfigIsComplete:function(e){this.get(\"configComplete\")?e():this.once(\"configComplete\",e)},getConfig:function(){return this.get(\"config\")},getTemplate:function(e){var t=this.get(\"templates\");return\"undefined\"!=typeof t[e]?t[e]:null},getPltValue:function(){return p.getPltValue(this.get(\"config\"),this.getCachedSettings())},getEmbedIndex:function(){return this.get(\"embedIndex\")},onceReadyToBegin:function(){var t=this;return e.Deferred(function(e){var n=t.getCachedSettings();o.getAnalyticsIds().done(function(){o.getAdsTargeting().onceIsDeliverable(function(){var t=n.settings.deliverySettings,i=t.secretMediaTimeoutUI;v.hasAdBlocker(i).done(function(){e.resolve()})})})}).promise()},selectVideo:function(){},begin:function(){return e.Deferred(function(){deferred.resolve()}).promise()},embed:function(){var t=this;return e.Deferred(function(e){t.initializeVideoFeeder(),t.initializeView(),t.initializeViewer(),e.resolve(t)}).promise().done(function(){t.trigger(\"widgetEmbedEnd\"),t.onceReadyToBegin().done(function(){t.begin()})})},isInView:function(t){if(\"undefined\"==typeof t&&(t=e(this.get(\"containerElement\"))),C.isEmbeddedByIframe())return!1;var n=e(window).height()+e(window).scrollTop(),i=n>=t.offset().top+Math.floor(t.height()/2),o=e(document).scrollTop()>=t.offset().top+Math.floor(t.height()/2);return!i||o?!1:!0},getSettings:function(){return this.fetchSettings()},getCachedSettings:function(){return this.get(\"settings\")},fetchSettings:function(){var t=this;return e.Deferred(function(e){if(t.get(\"settings\"))e.resolve(t.get(\"settings\"));else if(t.get(\"settingsPending\"))t.once(\"settingsReceived\",function(t){e.resolve(t)});else{t.set(\"settingsPending\",!0);var n=t.getConfig();l.fetch({embedIndex:t.get(\"embedIndex\"),trackingGroup:n.trackingGroup,configId:n.widgetId,playlistId:n.playlistId,playlistItemsLimit:p.getPlaylistItemsLimit(n.type),videoId:n.videoId,providerId:n.providerId,providerStoryId:n.providerStoryId}).done(function(n){u.process(n,t.get(\"config\"),t.get(\"overrides\")).done(function(n){t.set(\"config\",n.config),w.inMode(\"settings\")&&console.log(\"Product Settings:\",n),t.set(\"settings\",n),t.set(\"configComplete\",!0),t.trigger(\"configComplete\",t.get(\"config\")),e.resolve(t.get(\"settings\")),t.trigger(\"settingsReceived\",t.get(\"settings\"))})}).fail(function(t){e.reject(t)})}}).promise()},getProductSettings:function(){return this.get(\"settings\")},getDeliverySettings:function(){return this.getProductSettings().settings.deliverySettings},getBrowserSettings:function(){return this.getProductSettings().settings.browser},getBehaviorSettings:function(){return this.getProductSettings().settings.behavior},hasRmmEnabled:function(){return this.getCachedSettings().settings.behavior.rmm.enabled},isLaunchToStudioEnabled:function(){return!!this.get(\"settings\").launchToStudio&&(this.get(\"settings\").launchToStudio.enabled||!1)},getLandingPageUrl:function(n){var i=this.get(\"config\"),o={type:\"VideoPlayer/16x9\",trackingGroup:i.trackingGroup,widgetId:i.widgetId,playlistId:i.playlistId,siteSection:i.siteSection,embedOriginUrl:encodeURIComponent(C.getEmbedOriginUrl())},n=t.extend(n,o),r=\"\";if(n.videoId=\"\"+n.videoId,this.isLaunchToStudioEnabled()){r=this.get(\"settings\").launchToStudio.url;var a={videoId:n.videoId,playlistId:n.playlistId};r+=\"?\"+e.param(a)}else r=\"http://\"+C.getAppDomain()+\"/\",r+=\"?type=\"+n.type,r+=\"&\"+e.param(t.omit(n,\"type\"));return r},getPlacedByAnalyticsString:function(){var t={jsapi:1,ppembed:2,wordpress:3,fromSlider:4,recommender:5,videowire:6,legacyjsapi:100},n=[];return e.each(this.get(\"placedBy\"),function(){var e=this;\"undefined\"!=typeof t[e]&&n.push(t[e])}),\".\"+n.join(\".\")+(n.length?\".\":\"\")},getVideoDataForLaunchers:function(n){var i=[];return t.each(n,e.proxy(function(e){var t={videoId:e.videoId,videoTitle:e.videoTitle,landingPageUrl:this.getLandingPageUrl({videoId:e.videoId}),thumbnailUrl:e.thumbnailUrl,provider:{logoUrl:e.provider.logoUrl,name:e.provider.name},stillImageUrl:e.stillImageUrl};i.push(t)},this)),i},handleApiInstruction:function(t){if(\"destruct\"==t)this.destruct();else if(\"videoPause\"==t||\"videoPlay\"==t)this.onceConfigIsComplete(e.proxy(function(){if(this.getViewer()&&this.getViewer().isActive()){var e=this.getViewer().getActiveModule();\"videoPause\"==t&&e.pause(),\"videoPlay\"==t&&e.play()}},this));else if(\"report\"==t){var n=this;!function(){var t=\"http://developers.inform.com/inform-player-suite/timeline/\";e.ajax({url:t,type:\"POST\",contentType:\"application/x-www-form-urlencoded\",dataType:\"json\",data:{sessions:e.toJSON(n.getDebugInfo())}}).done(function(e){console.log(e.reportUrl),window.open(e.reportUrl,\"_blank\")})}()}},assignViewer:function(e){this.set(\"viewer\",e),this.trigger(\"viewerInitialized\")},getView:function(){return this.get(\"view\")},getViewer:function(){return this.get(\"viewer\")},getViewerContainerId:function(){return\"inform-viewer-container-\"+this.getEmbedIndex()},getContainerElement:function(){return e(this.get(\"containerElement\"))},getVideoFeeder:function(){return this.get(\"videoFeeder\")},getAdOpportunityIndex:function(){return this.get(\"adOpportunityIndex\")},getCpvNumber:function(){return this.get(\"cpvNumber\")},getDefaultPlaybackMode:function(){return this.getDeliverySettings().videojs?E.getDefaultPlaybackMode():b.getDefaultPlaybackMode()},getDebugInfo:function(){var e=this.getViewer(),n=e?e.getDebugInfo():{};return t.extend({settings:this.getProductSettings(),events:this.get(\"debugEvents\")},n)},destruct:function(){var e=this.getContainerElement().attr(\"id\");o.unintegrateWidget(this),this.getContainerElement().remove();var t=this.getViewer();t&&t.destroy(),this.triggerEvent(\"destruct\",{containerElementId:e},\"hook,analytics\")},stepA:function(n){n=n||{};var i=this.getProductSettings(),r=this.getConfig(),a=this.getViewer(),s=this.getBrowserSettings(),l=this.getDeliverySettings(),u=this.getBehaviorSettings(),c=i.settings.dfp,d=s.isDesktop,f=h.getViewerData(a.getContainerElement()),g=\"undefined\"!=typeof n.comscore?n.comscore:!0,m=(\"undefined\"!=typeof n.allowEasiPlayerFlash?n.allowEasiPlayerFlash:!0,n.stepLog||{}),y=a.step(\"A\").start(),v=this;return e.Deferred(function(e){var y=n.easiTimeout,_=h.getComscoreData({isRmm:!0,siteSection:r.siteSection,distributorName:i.distributor.name}),b={videoSizeId:f.viewerSizeId,siteSection:r.siteSection,wgtValue:h.getWgtValue(r,!0),pltValue:p.getPltValue(r,i),foldPositionId:f.foldPositionId,adOpportunityIndex:v.getAdOpportunityIndex(),adBlockDetectionId:s.adBlockDetectionId,adCampaignId:c.adCampaignId,embedIndex:i.embedIndex,widgetId:r.widgetId};a.execute(\"easi\",{adUnitType:\"instream\",timeout:y,channelId:o.getSetting(\"easiChannelId\")||u.easiChannelId1||(d?75776:93697),allowFlash:n.allowEasiPlayerFlash,comscore:g&&_,customData:t.extend({spotxCallIndex:0},b)},m).done(function(){return m.adsPlayed?e.resolve():void(d&&2==l.rmm_easi_attempts?a.execute(\"easi\",{adUnitType:\"instream\",timeout:y,channelId:o.getSetting(\"easiChannelId2\")||u.easiChannelId2||109285,allowFlash:n.allowEasiPlayerFlash,comscore:g&&_,customData:t.extend({spotxCallIndex:1},b)},m).done(function(t){t.adsPlayed?e.resolve():v.steps([\"D\"]).done(e.resolve)}):v.steps([\"D\"]).done(e.resolve))})}).promise().done(function(){v.set(\"adOpportunityIndex\",v.getAdOpportunityIndex()+1),y.end()})},stepAA:function(){var e=this.getViewer().step(\"AA\").start();return this.iterateStep(\"A\",this.getDeliverySettings().rmm_cp).done(function(){e.end()})},stepDD:function(){var e=this.getViewer().step(\"DD\").start();return this.iterateStep(\"D\",this.getDeliverySettings().da_spree_d).done(function(){e.end()})},iterateStep:function(t,n){function i(n){return e.Deferred(function(e){n>0?o.steps([t]).done(function(){i(--n).done(e.resolve)}):e.resolve()}).promise()}var o=this;return i(n)},stepR:function(){var t=this.getCachedSettings(),n=t.config,i=this.getBrowserSettings(),o=(this.getDeliverySettings(),this.getBehaviorSettings()),r=this.getViewer().step(\"R\").start(),a=this;return e.Deferred(function(e){if(i.isDesktop){if(n.autoPlay)return e.resolve();o.rmm.earlyContent?a.steps([\"B\",\"A\",\"A\"]).done(e.resolve):a.steps([\"A\",\"A\",\"B\"]).done(e.resolve)}else a.steps([\"A\",\"A\"]).done(e.resolve)}).promise().done(function(){a.getVideoFeeder().reset(),r.end()})},stepD:function(t){var n=this.getProductSettings(),i=this.getConfig(),o=this.getViewer(),r=this.getBrowserSettings(),a=this.getDeliverySettings(),s=t.displayAdDuration,l=o.step(\"D\").start();return e.Deferred(function(e){-1!=s?o.execute(\"displayAd\",{duration:s,adCampaignId:n.settings.dfp.adCampaignId,pltValue:p.getPltValue(i,n),embedOriginUrl:r.embedOriginUrl,isPremium:a.da_premium,isDesktop:r.isDesktop}).done(e.resolve):e.resolve()}).promise().done(function(){l.end()})},stepB:function(){var t=this.getCachedSettings(),n=t.config,i=this.get(\"viewer\"),o=i.step(\"B\").start(),r=this.getVideoFeeder(),a=!0,s=this;return e.Deferred(function(e){r.peekNextVideo().done(function(o){var r=o.videoData,l=i.getViewerModule(\"inform\"),u=l?l.getVideoLoadIndex()+1:0,c=s.getDeliverySettings().videojs?\"vjs\":\"amp\";i.execute(c,{comscore:h.getComscoreData({siteSection:n.siteSection,distributorName:t.distributor.name,isRmm:a,videoData:r}),videoData:r,isMuted:!0,isBumperVideo:!0,playOnLoad:!0,playbackMode:\"html\",showControls:!1,playerBehaviorId:h.getPlayerBehaviorId(t,a),wgtValue:h.getWgtValue(n,a),videoIndex:o.videoIndex,videoLoadIndex:u,playlistId:o.playlistId,cpvNumber:s.getCpvNumber()}).done(e.resolve)})}).promise().done(function(){o.end()})}},{addHook:function(e,t){return o.addHook(e,t)},getEmbedOriginUrl:function(){return o.getEmbedOriginUrl(arguments)},isBuilt:function(){return o.isBuilt(arguments)},isOnSsl:function(){return o.isOnSsl()},getAppUrl:function(){return o.getAppUrl(arguments)},getAppDomain:function(){return o.getAppDomain(arguments)},isEmbeddedByIframe:function(){return o.isEmbeddedByIframe(arguments)},isOnAppPage:function(){return o.isOnAppPage(arguments)},getNextEmbedIndex:function(){return T++},getDomClassIdentifier:function(e){return\"ndn_widget_\"+e.charAt(0).toUpperCase()+e.slice(1).replace(\"/\",\"-\")},embed:function(n,i,a,s){a=a||[],s=s||{};var l=\"undefined\"!=typeof n.nodeType&&1==n.nodeType,u=l?null:n;return n=e(l?n:\"#\"+u),e.Deferred(function(e){if(!n.length){var d;if(d=l?\"Invalid dom element provided for embed\":'Unable to find dom element with id \"'+u+'\" for embed',_nw2e.errorReporting)throw d;return e.reject(d)}var h=m.getFullHtml(n.get(0));p.processConfigFromElement(n,i,a).done(function(i){if(n.hasClass(\"ndn_embedding\")||n.hasClass(\"ndn_embedded\"))return void e.reject(\"duplicateEmbedProcess\");n.addClass(\"ndn_embedding\").addClass(\"ndn_embed\").addClass(\"ndn_embedContainer\");var l=\"undefined\"!=typeof s.embedIndex?s.embedIndex:C.getNextEmbedIndex(),u=\"ndn-widget-embed-\"+(l+1);n.addClass(u).data(\"ndn-widget-uid\",u),i.placementId&&n.attr(\"id\",i.placementId);var d=function(){return\"undefined\"==typeof n.attr(\"id\")&&n.attr(\"id\",u),n.attr(\"id\")}();return n.hasClass(\"ndn_embed_wordpress\")&&a.push(\"wordpress\"),g.on(\"hook:\"+d+\"/widgetEmbedStart\",function(t){e.resolve(t.system.widget)}),i.distributorId&&!i.legacyEmbedUrl?(p.hasUpdatedEmbedCode(n)&&p.retrofitEmbedCode(i,n),void function(){var e=c.getUrlVar(\"ndn_ppEnv\")?c.getUrlVar(\"ndn_ppEnv\")+\"-dme.newsinc.com\":\"dmeserve.newsinc.com\",t={paths:{}};t.paths[\"perfectPixel\"+i.distributorId]=window.location.protocol+\"//\"+e+\"/dpid/\"+i.distributorId+\"/PPEmbed\";var n=_nw2e.requireConfig(t);n([\"perfectPixel\"+i.distributorId],function(){})}()):(i.distributorId&&i.legacyEmbedUrl&&a.push(\"ppembed\"),o.isInLaunchedBrowserWindow()&&a.push(\"fromSlider\"),void o.getProductModel(i.type,s.productModel).done(function(c){s.embedIndex=l;var d=new c(i).set({initialContainerElementHtml:h,containerElement:n.get(0),embedIndex:l,widgetUid:u,placedBy:a,overrides:s});t.contains(a,\"mock\")||o.integrateWidget(d),d.trigger(\"widgetEmbedStart\",{initialContainerElementHtml:h,initialConfig:d.get(\"initialConfig\")}),r.injectCss(d.getConfig().type),d.getSettings().done(function(){d.embed().done(e.resolve)}).done(function(){n.addClass(\"ndn_embedded\").removeClass(\"ndn_embedding\")}).fail(function(t){d.hideContainer(),e.reject(t)})}))})}).promise()},initializeBehaviorSettings:function(e){}});return _nw2e.Ndn_Widget=C,C}),Ndn_Require.define(\"models/Ndn/Widget/VideoPlayer/AbstractModel\",[\"jquery\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Widget/Params\",\"models/Ndn/Viewer/ViewerModule/Amp\",\"models/Ndn/Viewer/ViewerModule/Vjs\"],function(e,t,n,i,o,r){return n.extend({selectVideo:function(e){var t=(this.getVideoFeeder(),this.getViewer()),n=this;e.source&&this.trigger(\"analytics:videoStartRequest\",{source:e.source,playlistIndex:e.playlistIndex,videoIndex:e.videoIndex,viewer:t.getViewerEventData()}),this.getViewer().halt(),this.getVideoFeeder().setNextVideo(e),this.set(\"cpvNumber\",0),this.stepUI({playOnLoad:!0}).done(function(){n.stepCP()})},initializeViewer:function(){n.prototype.initializeViewer.apply(this,arguments);var e=this.getViewer(),t=this.getVideoFeeder(),i=function(t){e.setLoadingScreenImage(t.videoData[e.getContainerElement().width()>400?\"stillImageXLUrl\":\"stillImageUrl\"])};t.on(\"videoFed\",i),t.peekNextVideo().done(i)},beginUi:function(){var e=this.getConfig(),t=this.getVideoFeeder(),n=this;t.peekNextVideo().done(function(t){var i=e.videoId&&t.videoData.videoId!=e.videoId;return i&&e.hideWhenUnavailable?n.hide():void n.stepUI({playOnLoad:e.autoPlay,playOnMouseover:e.playOnMouseover,playOnInView:e.playOnInView,endslate:i?\"videoNotAvailable\":\"\"}).done(function(){n.stepCP()})})},stepUI:function(t){var n=this.getCachedSettings(),o=n.config,r=this.get(\"viewer\"),a=this.getVideoFeeder(),s=r.step(\"UI\").start(),l=this;return t=t||this.getStepParams(\"UI\"),e.Deferred(function(s){a.getNextVideo().done(function(a){var u=!1,c=!1,d=l.getDefaultPlaybackMode(),p=l.getCpvNumber(),h=a.videoData,f=\"undefined\"!=typeof t.playOnLoad?t.playOnLoad:!0,g=!0,m=r.getViewerModule(\"inform\"),y=m?m.getVideoLoadIndex()+1:0;r.execute(\"inform\",{dfp:function(){return o.adsEnabled?{adTagUrl:i.getImaAdTagUrl({productSettings:n,videoData:h,viewerData:i.getViewerData(r.getContainerElement()),isMuted:c,isRmm:u,playbackMode:d,analyticsTimelineEventIndex:null,videoLoadIndex:y,cpvNumber:p,playerInstanceTypeId:l.getDeliverySettings().videojs?7:0,now:e.now()}),ppid:n.settings.dfp.publisherProvidedId,adBlockDetectionId:n.settings.browser.adBlockDetectionId}:void 0}(),comscore:i.getComscoreData({siteSection:o.siteSection,distributorName:n.distributor.name,isRmm:u,videoData:h}),share:i.getShareData({shareSettings:n.settings.share,videoData:h}),videoData:h,isMuted:c,isBumperVideo:u,playOnLoad:f,playOnMouseover:t.playOnMouseover||!1,playOnInView:t.playOnInView||!1,playbackMode:d,pauseCarousel:t.pauseCarousel,endslate:t.endslate,showControls:g,playerBehaviorId:i.getPlayerBehaviorId(n,u),wgtValue:i.getWgtValue(o,u),videoIndex:a.videoIndex,videoLoadIndex:y,playlistId:a.playlistId,cpvNumber:l.getCpvNumber()}).done(s.resolve)})}).promise().done(function(){l.set(\"cpvNumber\",l.getCpvNumber()+1),s.end()})},stepCP:function(){function t(){return e.Deferred(function(e){r.getCpvNumber()<=i.continuousPlay?r.stepUI().done(function(){t().done(e.resolve)}):e.resolve()}).promise()}var n=this.getCachedSettings(),i=n.config,o=this.getViewer().step(\"CP\").start(),r=this;return t().done(function(){o.end(),0===i.continuousPlay&&r.getVideoFeeder().reset(),r.set(\"cpvNumber\",0),r.stepUI({playOnLoad:!1,endslate:0===i.continuousPlay?\"\":\"playlistPause\"}).done(function(){r.stepCP()})})},resetUI:function(){var e=this;e.getVideoFeeder().reset(),e.set(\"cpvNumber\",0),e.setStepParams(\"UI\",{playOnLoad:!1}),e.stepCP()}})}),Ndn_Require.define(\"text!templates/ndn/modal-embed/default.html\",[],function(){return'<div class=\"ndn_modalEmbed\">\\n\t<div id=\"ndn-modal-embed-{{modalEmbedIndex}}\"></div>\\n\t<div class=\"ndn_closeModal\"></div>\\n</div>'}),Ndn_Require.define(\"text!templates/ndn/modal-embed/expandable.html\",[],function(){return'<div class=\"ndn_modalEmbed ndn_modalEmbed_expandable\">\\n\t<div class=\"ndn_videoTitle\"></div>\\n\t<div class=\"ndn_modalEmbed_options\">\\n\t\t<div class=\"ndn_modalEmbed_expand\">(Expand)</div>\\n\t\t<div class=\"ndn_modalEmbed_close\">(Close)</div>\\n\t</div>\\n\t<div id=\"ndn-modal-embed-{{modalEmbedIndex}}\"></div>\\n</div>'}),Ndn_Require.define(\"models/Ndn/ModalEmbed\",[\"jquery\",\"backbone\",\"mustache\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"text!templates/ndn/modal-embed/default.html\",\"text!templates/ndn/modal-embed/expandable.html\"],function(e,t,n,i,o,r,a){var s=0;return t.Model.extend({defaults:{templates:{\"default\":r,expandable:a},sourceProduct:null,product:null,modalEmbedIndex:null,container:null},getNextModalEmbedIndex:function(){return s++},initialize:function(t,n){i.getSetting(\"launchModalEmbedsV2\")&&(n=e.extend({},n,{type:\"VideoPlayer/Inline590\"})),this.set({sourceProduct:t,productConfig:n,modalEmbedIndex:this.getNextModalEmbedIndex()}),this.initializeDom()},getInnerContainer:function(){return e(\"#ndn-modal-embed-\"+this.get(\"modalEmbedIndex\"))},initializeDom:function(){var t=778,n=825,i=e('<div class=\"ndn_modalEmbedScreen\"></div>').appendTo(\"body\"),r=e('<div class=\"ndn_modalEmbed\"><div id=\"ndn-modal-embed-'+this.get(\"modalEmbedIndex\")+'\" data-config-type=\"VideoPlayer/16x9\" data-config-playlist-id=\"'+this.get(\"productConfig\").playlistId+'\"  data-config-tracking-group=\"'+this.get(\"productConfig\").trackingGroup+'\" data-config-video-id=\"'+this.get(\"productConfig\").videoId+'\" data-config-widget-id=\"'+this.get(\"productConfig\").widgetId+'\" data-config-site-section=\"'+this.get(\"productConfig\").siteSection+'\"></div><div class=\"ndn_closeModal\"></div></div>');i.css(\"opacity\",\"0.7\");var a=Math.max(20,Math.floor((e(window).height()-n)/2));r.css({top:e(window).scrollTop()+a+\"px\",width:t+\"px\"});var s=e.proxy(function(){r.css(\"left\",Math.floor(e(window).width()/2)-Math.floor(t/2)+\"px\")},this);s(),e(\"body\").append(r),e(window).resize(_.debounce(s,500)),o.embed(this.getInnerContainer().get(0),this.get(\"productConfig\"),[\"fromSlider\"],{behaviorSettings:{isModal:!0}}).done(e.proxy(function(e){e.setIsModal(!0),this.set(\"product\",e)},this));var l=e.proxy(function(){this.get(\"product\")&&this.get(\"product\").destruct(),i.hide(),r.hide()},this);i.on(\"click\",l),r.on(\"click\",\".ndn_closeModal\",l),this.set(\"container\",r)}})});var _ndnq=_ndnq||[];Ndn_Require.define(\"views/Ndn/AbstractView\",[\"jquery\",\"underscore\",\"backbone\",\"mustache\",\"models/Ndn/Widget/Config\",\"models/Ndn/ModalEmbed\",\"models/Ndn/Utils/UserAgent\",\"models/Ndn/Carousel\",\"jquery_autoellipsis\",\"jquery_responsive_containers\"],function(e,t,n,i,o,r,a,s){\nreturn n.View.extend({initialize:function(){n.View.prototype.initialize.apply(this,arguments),this.initializeDom();var t=this.model,i=this;t.on(\"viewerInitialized\",function(){var e=t.getViewer();e.on({videoLoad:function(){i.updateSelectedVideoUpNext(),i.updateCarouselSlide()},videoStart:function(){i.updateSelectedVideoNowPlaying()},videoStartRequest:function(e){\"selectVideo\"==e.action&&t.selectVideo({playlistIndex:e.playlistIndex,videoIndex:e.videoIndex})}})}),this.$el.on(\"mouseenter\",\".ndn_sliderNavButtonContents\",function(){e(this).addClass(\"ndn_hover\"),(a.isMobile()||a.isOnIos())&&setTimeout(function(){e(this).removeClass(\"ndn_hover\")}.bind(this),700)}).on(\"mouseleave\",\".ndn_sliderNavButtonContents\",function(){e(this).removeClass(\"ndn_hover\")})},initializeDom:function(){this.$el.html(i.to_html(this.model.getTemplate(\"default\"),{viewerContainerId:this.model.getViewerContainerId()}))},getViewerContainer:function(){return e(\"#\"+this.model.getViewerContainerId())},loadImagesForSlide:function(e,t){s.loadSlidePlaceholderImages(this.$el,e,t||this.slides)},displayCompanionAd:function(t,n){if(-1!==n.indexOf(\"<html\")){var i,o;t.html(i=e(document.createElement(\"iframe\")).css({width:\"300px\",height:\"250px\",overflow:\"hidden\"}).attr(\"scrolling\",\"no\"));try{o=i.get(0).contentWindow.document,o.open(),o.write(n),o.close()}catch(r){this.trigger(\"analytics:error\",{type:\"AdCompanionError\",error:r})}}else t.html(n)},openNdnWindow:function(e){var t=this.model.getCachedSettings().settings.launcher;if(\"studio\"==t.behavior)window.open(e,\"_blank\");else{if(\"modal\"==t.behavior&&!a.isMobile())return new r(this.model,o.getConfigFromLandingPageUrl(e)),!1;window.open(e,\"ndnPlayer\",\"scrollbars,resizable,width=768,height=825\",!1)}},updateSelectableVideos:function(){},updateSelectedVideoNowPlaying:function(){},updateCarouselSlide:function(){},updateSelectedVideoUpNext:function(){}})}),Ndn_Require.define(\"views/Ndn/Widget/VideoPlayer/AbstractView\",[\"jquery\",\"underscore\",\"mustache\",\"views/Ndn/AbstractView\"],function(e,t,n,i){return i.extend({events:{\"click .ndn_selectableVideo\":\"onVideoSelect\"},onVideoSelect:function(t){var n=e(t.currentTarget);return this.model.selectVideo({source:\"selectableVideo\",playlistIndex:n.data(\"playlistIndex\"),videoIndex:n.data(\"videoIndex\")}),!1},getSelectableVideoElements:function(){return this.$el.find(\".ndn_selectableVideo\")},getSelectedVideoElement:function(e){var t=this.model.getVideoFeeder(),n=(this.model.getViewer(),t.getCurrentVideo()),i=this.getSelectableVideoElements();return i.filter('[data-playlist-index=\"'+n.playlistIndex+'\"][data-video-index=\"'+n.videoIndex+'\"]')},updateSelectedVideoUpNext:function(){var e=this.getSelectableVideoElements(),t=this.getSelectedVideoElement();e.removeClass(\"ndn_activeVideo ndn_activeVideoNotPlaying\"),t.addClass(\"ndn_activeVideoNotPlaying\")},updateSelectedVideoNowPlaying:function(){var e=this.getSelectableVideoElements(),t=this.getSelectedVideoElement();e.removeClass(\"ndn_activeVideo ndn_activeVideoNotPlaying\"),t.addClass(\"ndn_activeVideo\")},updateSelectableVideos:function(){},updateCarouselSlide:function(){}})}),Ndn_Require.define(\"views/Ndn/Widget/VideoPlayer/SingleView\",[\"jquery\",\"views/Ndn/Widget/VideoPlayer/AbstractView\"],function(e,t){return t.extend({})}),Ndn_Require.define(\"lib/jquery_plugins/jquery.drags\",[\"jquery\"],function(e){e.fn.drags=function(t){t=e.extend({handle:\"\",cursor:\"move\",placementHook:\"\"},t);var n=e(this),i=t.handle?n.find(t.handle):n;i.css(\"cursor\",t.cursor),i.on(\"mousedown\",function(i){function o(e){var i=e.pageY,o=e.pageX,r={top:a-(l-i),left:s-(u-o)};t.placementHook&&(r=t.placementHook(r)),r&&n.offset(r)}function r(e){t.onMouseUpHook&&t.onMouseUpHook(),c.off(\"mousemove\",o),c.off(\"mouseup\",r)}var a=n.offset().top,s=n.offset().left,l=i.pageY,u=i.pageX,c=(n.css(\"z-index\"),e(window));c.on(\"mousemove\",o),c.on(\"mouseup\",r)})}}),Ndn_Require.define(\"models/Ndn/FloatContainer\",[\"jquery\",\"underscore\",\"backbone\",\"mustache\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Utils/DomElement\",\"models/Ndn/Debugger\",\"jquery_autoellipsis\",\"lib/jquery_plugins/jquery.drags\"],function(e,t,n,i,o,r,a,s){var l={width:410,height:255},u=null,c=(s.inMode(\"float\"),n.Model.extend({defaults:{product:null,container:null,isFloating:!1,enabled:!0},initialize:function(e,t){this.set({product:e}),this.initializeDom(t.initialPosition)},initializeDom:function(t){if(this.set(\"container\",this.get(\"product\").getContainerElement().find(\"> .ndn_floatContainer\")),a.onceHasWidthAndHeight(this.getContainer()).done(e.proxy(function(){this.snap(t),this.initializeEventListeners()},this)),s.inMode(\"floatFillpage\")){for(var n=e(\"<p></p>\"),i=0;300>i;i++)n.append(\"Test<br/>\");n.appendTo(\"body\")}},initializeEventListeners:function(){var t=this.getContainer(),n=this.get(\"product\"),i=n.getViewer();t.drags({handle:\".ndn_floatContainer_header > .ndn_videoTitle\",placementHook:e.proxy(function(n){if(this.isFloating()){var i=e(window).innerWidth(),o=e(window).innerHeight(),r=e(window).scrollTop(),a=e(window).scrollLeft(),s={top:n.top-r,left:n.left-a},l=t.outerWidth(),u=t.outerHeight(),c=25,d=s.top<=0+c,p=o<=s.top+u+c,h=s.left<=0+c,f=i<=s.left+l+c;return d?this.snap(\"top\"):p?this.snap(\"bottom\"):t.css({top:s.top,bottom:\"auto\"}),h?this.snap(\"left\"):f?this.snap(\"right\"):t.css({left:s.left,right:\"auto\"}),this.deselectText(),!1}},this)}),i.on(\"videoLoad\",function(e){t.find(\"> .ndn_floatContainer_header .ndn_videoTitle\").html(e.videoData.videoTitle)}),t.on(\"click\",\".ndn_floatContainer_close\",e.proxy(function(){this.isFloating()&&(i.getActiveModule().pause(),this.unfloat())},this)),i.once(\"videoStart\",function(){setTimeout(function(){t.find(\".ndn_floatContainer_close\").fadeIn(\"slow\")},3e3)});var o=e.proxy(function(){this.isEnabled()&&(this.isFloating()&&this.isPlaceholderInViewVertically()?this.unfloat():this.isFloating()||this.isPlaceholderInViewVertically()||!n.getViewer().getActiveModule().isPlaying()||this[\"float\"]())},this);e(window).on(\"resize scroll\",o),i.on(\"videoStart videoResume adStart adResume\",o)},isEnabled:function(){return this.get(\"enabled\")},disable:function(e){console.log(\"FloatContainer.disable(\",e,\");\"),\"undefined\"==typeof e&&(e=!0),this.set(\"enabled\",!1),this.unfloat(),e&&this.get(\"product\").resetUI()},isPlaceholderInViewVertically:function(){var t=this.get(\"product\").getContainerElement(),n=t.offset().top,i=n+t.outerHeight(),r=i-n,a=e(window).scrollTop(),s=a+e(window).height(),l=parseFloat(\"undefined\"==typeof o.getSetting(\"floatPercent\")?40:o.getSetting(\"floatPercent\")),u=Math.floor(r*(1-l/100)),c=Math.max(n,a),d=Math.min(i,s),p=d-c;return p>=u},getContainer:function(){return this.get(\"container\")},isFloating:function(){return this.get(\"isFloating\")},\"float\":function(){!this.isFloating()&&this.isEnabled()&&(this.getContainer().removeClass(\"ndn_floatContainer_disabled\").addClass(\"ndn_floatContainer_enabled\"),c.registerFloat(this),this.set(\"isFloating\",!0))},unfloat:function(){this.isFloating()&&(this.getContainer().addClass(\"ndn_floatContainer_disabled\").removeClass(\"ndn_floatContainer_enabled\"),c.unregisterFloat(this),this.set(\"isFloating\",!1))},deselectText:function(){var e=window.getSelection?window.getSelection():document.selection;e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())},snap:function(t){var n=this.getContainer(),i=e(window).width(),o=e(window).height(),r={top:{top:0,bottom:\"auto\"},right:{left:\"auto\",right:0},bottom:{top:\"auto\",bottom:0},middle:{top:o/2-l.height/2+\"px\",bottom:\"auto\"},center:{left:i/2-l.width/2+\"px\",right:\"auto\"},left:{left:0,right:\"auto\"}},a=t.split(\" \");e.each(a,function(){var e=this;if(\"undefined\"!=typeof r[e]){var t=r[e];n.css(t)}})}},{registerFloat:function(e){u&&u.disable(),u=e},unregisterFloat:function(e){u==e&&(u=null)}}));return c}),Ndn_Require.define(\"text!templates/ndn/widget/video-player/single/default.html\",[],function(){return'<div class=\"ndn_floatContainer ndn_floatContainer_disabled\">\\n    <div class=\"ndn_floatContainer_header\">\\n    \t<div class=\"ndn_floatContainer_close ndn_icon ndn_icon_cancel\" style=\"display: none;\"></div>\\n        <div class=\"ndn_videoTitle\"></div>\\n    </div>\\n    <div class=\"ndn_playerContainer ndn_floatContainer_contents\" id=\"{{viewerContainerId}}\"></div>\\n</div>'}),Ndn_Require.define(\"models/Ndn/Widget/VideoPlayer/SingleModel\",[\"underscore\",\"jquery\",\"models/Ndn/Widget\",\"models/Ndn/Widget/VideoPlayer/AbstractModel\",\"views/Ndn/Widget/VideoPlayer/SingleView\",\"models/Ndn/FloatContainer\",\"models/Ndn/Widget/PlayerOptions\",\"text!templates/ndn/widget/video-player/single/default.html\"],function(e,t,n,i,o,r,a,s){return i.extend({defaults:{widgetView:o,templates:{\"default\":s},floatContainer:null,playerToggle:null,pauseVideosCarousel:null},initializeView:function(){i.prototype.initializeView.apply(this,arguments);var e=this.getCachedSettings().settings.behavior;e.toggle.enabled&&this.set(\"playerToggle\",new a(this))},initializeViewer:function(){i.prototype.initializeViewer.apply(this,arguments);var e=this.getCachedSettings().settings.behavior,t=e[\"float\"];t.enabled&&this.set(\"floatContainer\",new r(this,{initialPosition:t.initialPosition}))},hide:function(){i.prototype.hide.apply(this,arguments),this.get(\"playerToggle\")&&this.get(\"playerToggle\").hide()},destruct:function(){i.prototype.destruct.apply(this,arguments),this.get(\"playerToggle\")&&this.get(\"playerToggle\").hide()},stepUI:function(t){return i.prototype.stepUI.call(this,e.extend({},t||{},{pauseCarousel:this.get(\"pauseVideosCarousel\")}))},handleApiInstruction:function(e){if(i.prototype.handleApiInstruction.apply(this,arguments),\"unfloat\"==e){var t=this.getViewer(),n=this.get(\"floatContainer\");t&&t.pause(),n&&n.disable(!1)}},onceReadyToBegin:function(){var e=this;return t.Deferred(function(n){i.prototype.onceReadyToBegin.call(e).done(function(){e.getVideoFeeder().peekNextVideos(40).done(function(i){var o=[];t.each(i,function(){var e=this;o.push({playlistIndex:e.playlistIndex,videoIndex:e.videoIndex,videoId:e.videoData.videoId,playlistId:e.playlistId,videoTitle:e.videoData.videoTitle,thumbnailUrl:e.videoData.thumbnailUrl})}),e.set(\"pauseVideosCarousel\",o),n.resolve()})})}).promise()},begin:function(){this.beginUi()}})}),Ndn_Require.define(\"views/Ndn/Widget/VideoPlayer/StudioView\",[\"jquery\",\"underscore\",\"views/Ndn/Widget/VideoPlayer/AbstractView\"],function(e,t,n){return n.extend({syncSidePanel:function(){var e=this.$el.find(\".ndn_sidePanel\").hasClass(\"ndn_hasCompanionAd\");this.$el.find(\".ndn_selectableVideos\").css(\"height\",this.getSelectableVideosContainerHeight(e)),this.$el.find(\".ndn_sidePanel\").toggleClass(\"ndn_hasCompanionAd\",e)},getSelectableVideosContainerHeight:function(e){var t=this.$el.find(\".ndn_playerEngagement\").height();return t-=34,e&&(t-=260),t},showCompanionAd:function(e){this.model.set(\"isShowingCompanionAd\",!0),this.syncSidePanel();var t=this.$el.find(\".ndn_adCompanion\");this.displayCompanionAd(t,e),t.addClass(\"ndn_active\")},hideCompanionAd:function(){this.model.set(\"isShowingCompanionAd\",!1),this.$el.find(\".ndn_adCompanion\").removeClass(\"ndn_active\").html(\"\"),this.syncSidePanel()}})}),Ndn_Require.define(\"models/Ndn/Widget/VideoPlayer/StudioModel\",[\"jquery\",\"models/Ndn/Widget\",\"models/Ndn/Widget/VideoPlayer/SingleModel\",\"views/Ndn/Widget/VideoPlayer/StudioView\",\"text!templates/ndn/widget/video-player/single/default.html\"],function(e,t,n,i,o){return n.extend({defaults:{widgetView:i,templates:{\"default\":o},isShowingCompanionAd:!1}})}),Ndn_Require.define(\"views/Ndn/Widget/VideoPlayer/InlineView\",[\"jquery\",\"underscore\",\"mustache\",\"views/Ndn/Widget/VideoPlayer/AbstractView\",\"models/Ndn/Utils/AspectRatio\",\"models/Ndn/Utils/Responsive\",\"jquery_autoellipsis\",\"jquery_imagesloaded\",\"jquery_bxslider\"],function(e,t,n,i,o,r){return i.extend({events:{\"click .ndn_selectableVideo\":\"onVideoSelect\",\"click .ndn_sliderNext\":\"visitNextCarouselSlide\",\"click .ndn_sliderPrev\":\"visitPreviousCarouselSlide\"},initializeDom:function(){i.prototype.initializeDom.apply(this,arguments),o.maintain(this.getViewerContainer(),\"16:9\"),o.maintain(this.getThumbnailContainer(),\"16:3\"),r.addBreakpoints(this.getThumbnailContainer(),{\"min-width\":[480,800,1200],\"max-width\":[481]}),this.model.setCarouselsData([[this.$el.find(\".inform-selectable-videos-normal > .ndn_selectableVideos\"),4,\"carousel\"],[this.$el.find(\".inform-selectable-videos-small > .ndn_selectableVideos\"),2,\"smallCarousel\"]])},getThumbnailContainer:function(){return this.$el.find(\".ndn_selectableVideosContainer\")},updateCarouselSlide:function(){var t=e(this.getSelectedVideoElement().get(0)).data(\"selectableVideoIndex\"),n=this.model.getCarousel();n&&n.goToSlide(Math.floor(t/(this.isUsingSmallCarousel()?2:4)))},isUsingSmallCarousel:function(){return this.$el.find(\".ndn_selectableVideosContainer\").width()<=480},updateCarouselSlideContents:function(t){var n=this.model.getCarousel();if(n){n.processCurrentSlide(function(){e(this).find(\".inform-video-title\").each(function(){var t=e(this),n=t.clone().html(t.data(\"title\"));t.replaceWith(n),n.ellipsis(),t=n;var i=t.parent().find(\"> .ndn_thumbnailContainer\"),o=t.outerHeight(),r=t.parent().height();i.height(r-o)})})}},visitPreviousCarouselSlide:function(){this.model.getCarousel().visitPreviousSlide()},visitNextCarouselSlide:function(){this.model.getCarousel().visitNextSlide()},updateSelectableVideos:function(){var e=this.model.getVideoFeeder(),t=(this.$el.find(\".ndn_selectableVideos\"),this.model.getCarouselsData()),i=this;e.peekNextVideos(40).done(function(e){function o(t,o){for(var r=[],a=0;a<e.length;a+=o){for(var s=[],l=0;o>l;l++)s.push(e[a+l]);r.push(s)}t.html(n.to_html(i.model.getTemplate(\"selectableVideos\"),{videoPages:r,selectableVideoIndex:function(){var e=0;return function(){return e++}}()})),t.find(\".ndn_selectableVideo\").last().data(\"isLast\",!0)}for(var r=0;r<t.length;r++){var a=t[r],s=a[0],l=a[1];o(s,l)}i.model.initializeCarousels()})}})}),Ndn_Require.define(\"text!templates/ndn/widget/video-player/inline/default.html\",[],function(){return'<div id=\"{{viewerContainerId}}\" class=\"inform-viewer\" style=\"width:100%;position:relative;overflow:hidden;margin-bottom:10px;\"></div>\\n<div class=\"ndn_selectableVideosContainer\">\\n\t<div class=\"ndn_sliderPrev ndn_sliderNavButton\">\\n        <div class=\"ndn_sliderNavButtonContents\">\\n            <i class=\"ndn_icon_left-open-big\" aria-hidden=\"true\"></i>\\n        </div>\\n    </div>\\n    <div class=\"ndn_sliderWrapper inform-selectable-videos-normal\">\\n        <ul class=\"ndn_selectableVideos\"></ul>\\n    </div>\\n    <div class=\"ndn_sliderWrapper inform-selectable-videos-small\">\\n        <ul class=\"ndn_selectableVideos\"></ul>\\n    </div>\\n\t<div class=\"ndn_sliderNext ndn_sliderNavButton\">\\n        <div class=\"ndn_sliderNavButtonContents\">\\n            <i class=\"ndn_icon_right-open-big\" aria-hidden=\"true\"></i>\\n        </div>\\n    </div>\\n</div>\\n'}),Ndn_Require.define(\"text!templates/ndn/widget/video-player/inline/selectableVideos.html\",[],function(){return'{{#videoPages}}\\n    <li class=\"ndn_videoPageContainer\">\\n        <ul class=\"ndn_videoPage\" style=\"width:100%;height:100%;\">\\n            {{#.}}\\n                <li class=\"ndn_selectableVideo\" data-playlist-index=\"{{playlistIndex}}\" data-video-index=\"{{videoIndex}}\" data-playlist-id=\"{{playlistId}}\" data-video-id=\"{{videoData.videoId}}\" data-selectable-video-index=\"{{selectableVideoIndex}}\" title=\"{{videoData.videoTitle}}\">\\n                    <div class=\"ndn_selectableVideoContainer\">\\n                    \t<div class=\"ndn_thumbContainer ndn_thumbnailContainer\">\\n                        \t<div class=\"inform-thumbnail-container\" data-src=\"{{videoData.thumbnailUrl}}\" style=\"background:url(\\'{{videoData.thumbnailUrl}}\\');background-size:cover;\"></div>\\n                        \t<div class=\"ndn_nowPlaying\">Now Playing</div>\\n                        \t<div class=\"ndn_upcomingVideo\">Up Next</div>\\n                            <div class=\"ndn_thumbnailBackground\"></div>\\n                        \t<div class=\"inform-video-duration\">\\n                        \t\t{{videoData.displayDuration}}\\n                        \t</div>\\n                            <div class=\"inform-play-icon\"><div class=\"inform-play-icon-inner\"></div></div>\\n                    \t</div>\\n                \t\t<div class=\"inform-video-title\" data-title=\"{{videoData.videoTitle}}\"></div>\\n                    </div>\\n                </li>\\n            {{/.}}\\n        </ul>\\n    </li>\\n{{/videoPages}}\\n'}),Ndn_Require.define(\"models/Ndn/Widget/VideoPlayer/InlineModel\",[\"underscore\",\"jquery\",\"models/Ndn/Widget/VideoPlayer/AbstractModel\",\"views/Ndn/Widget/VideoPlayer/InlineView\",\"models/Ndn/Carousel\",\"text!templates/ndn/widget/video-player/inline/default.html\",\"text!templates/ndn/widget/video-player/inline/selectableVideos.html\",\"lib/jquery_plugins/jquery.backstretch.min\"],function(e,t,n,i,o,r,a){return n.extend({defaults:{widgetView:i,templates:{\"default\":r,selectableVideos:a},carouselsData:null,carousel:null,smallCarousel:null},setCarouselsData:function(e){this.set(\"carouselsData\",e)},getCarouselsData:function(){return this.get(\"carouselsData\")},getCarousel:function(){return this.get(this.getActiveCarouselName())},getActiveCarouselName:function(){return this.getView().isUsingSmallCarousel()?\"smallCarousel\":\"carousel\"},initializeCarousels:function(){for(var n=this,i=function(){n.getView().updateCarouselSlideContents()},r=e.debounce(function(){var e=n.getCarousel();e.once(\"carouselLoad\",i),e.reload()},500),a=this.getCarouselsData(),s=0;s<a.length;s++){var l=a[s],u=l[0],c=(l[1],l[2]),d=new o({isSimple:!0,containerElement:u});d.once(\"carouselLoad\",r),d.on(\"slideLoad\",i),this.set(c,d.load())}t(window).resize(r)},stepA:function(){return n.prototype.stepA.call(this,{easiTimeout:this.getDeliverySettings()[this.getBrowserSettings().isDesktop?\"easi_t_inline_d\":\"easi_t_inline_nd\"]})},stepD:function(){return n.prototype.stepD.call(this,{displayAdDuration:this.getDeliverySettings()[this.getBrowserSettings().isDesktop?\"da_inline_d\":\"da_inline_nd\"]})},begin:function(){var e=this.getConfig(),n=this.getVideoFeeder(),i=this;return t.Deferred(function(t){n.peekNextVideo().done(function(n){var o=e.videoId&&n.videoData.videoId!=e.videoId;return o&&e.hideWhenUnavailable?i.hide():void i.stepR().done(function(){i.stepUI({playOnLoad:e.autoPlay,playOnMouseover:e.playOnMouseover,playOnInView:e.playOnInView,endslate:o?\"videoNotAvailable\":\"\"}).done(function(){i.stepCP().done(t.resolve)})})})}).promise()}},{initializeBehaviorSettings:function(e){}})});var googletag=googletag||{};googletag.cmd=googletag.cmd||[],Ndn_Require.define(\"models/Ndn/Ads/AdStudies\",[\"jquery\",\"models/Ndn/Utils/UrlParser\"],function(e,t){var n=function(){return\"1\"==t.getParam(\"ndn_debugAdStudies\",\"query\")?function(){console.log(arguments)}:function(){}}(),i=\"ndn-div-gpt-ad-123456789-\",o=0,r=!1,a=function(){return i+o++},s={},l={};return{initialize:function(){r||(!function(){var e=document.createElement(\"script\");e.async=!0,e.type=\"text/javascript\";var t=\"https:\"==document.location.protocol;e.src=(t?\"https:\":\"http:\")+\"//www.googletagservices.com/tag/js/gpt.js\";var n=document.getElementsByTagName(\"script\")[0];n.parentNode.insertBefore(e,n)}(),r=!0)},displayAdStudy:function(t,i,o){n(\"displayAdStudy(\",arguments,\");\");try{o||(o=[300,250]),this.initialize();var r=e(t);return r.hide(),n(\"Just hid the slot's container element, slotContainer ==\",r),e.Deferred(e.proxy(function(e){var t=\"undefined\"!=typeof s[r.attr(\"id\")],u=t?r.attr(\"id\"):a();t||r.attr(\"id\",u),l[u]=l[u]||e,r.css({width:o[0],height:o[1]}),googletag.cmd.push(function(){t?(n(\"Refreshing slot... slotId ==\",u,\"; _slots[slotId] ==\",s[u]),googletag.pubads().refresh([s[u]]),n(\"googletag.pubads().refresh() was just called...\")):(n(\"Slot does not exist yet, so it is being created...\"),r.html(\"\"),s[u]=googletag.defineSlot(i,o,u).addService(googletag.pubads()).setCollapseEmptyDiv(!0),googletag.pubads().addEventListener(\"slotRenderEnded\",function(e){n(\"[slotRenderEnded], event ==\",e);var t=l[u];e.isEmpty===!1?(r.show(),t&&t.resolve()):(r.hide(),t&&t.reject()),delete l[u]}),googletag.pubads().enableAsyncRendering(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),n('document.getElementById(\"'+u+'\") ==',document.getElementById(u)),googletag.display(u),n(\"googletag.display(\"+u+\"); was just called...\"))})},this)).promise()}catch(u){n(\"PROBLEM DETECTED, e ==\",u)}}}}),Ndn_Require.define(\"lib/jquery_plugins/jquery.simplePagination\",[\"jquery\"],function(e){var t={init:function(n){var i=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:\"#page-\",hrefTextSuffix:\"\",prevText:\"Prev\",nextText:\"Next\",ellipseText:\"&hellip;\",cssStyle:\"light-theme\",selectOnClick:!0,onPageClick:function(e,t){},onInit:function(){}},n||{}),o=this;return o.data(\"paginationOptions\",n),i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage-1,i.halfDisplayed=i.displayedPages/2,this.each(function(){o.addClass(i.cssStyle+\" simple-pagination\").data(\"pagination\",i),t._draw.call(o)}),i.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data(\"pagination\");return e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data(\"pagination\");return e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data(\"pagination\").pages},getCurrentPage:function(){return this.data(\"pagination\").currentPage+1},destroy:function(){return this.empty(),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data(\"pagination\");return e.disabled=!0,this.data(\"pagination\",e),t._draw.call(this),this},enable:function(){var e=this.data(\"pagination\");return e.disabled=!1,this.data(\"pagination\",e),t._draw.call(this),this},_draw:function(){var n,i=this.data(\"pagination\"),o=t._getInterval(i);t.destroy.call(this);var r=\"UL\"===this.prop(\"tagName\")?this:e(\"<ul></ul>\").appendTo(this);if(i.prevText&&t._appendItem.call(this,i.currentPage-1,{text:i.prevText,classes:\"prev\"}),o.start>0&&i.edges>0){var a=Math.min(i.edges,o.start);for(n=0;a>n;n++)t._appendItem.call(this,n);i.edges<o.start&&o.start-i.edges!=1?r.append('<li class=\"disabled\"><span class=\"ellipse\">'+i.ellipseText+\"</span></li>\"):o.start-i.edges==1&&t._appendItem.call(this,i.edges)}for(n=o.start;n<o.end;n++)t._appendItem.call(this,n);if(o.end<i.pages&&i.edges>0){i.pages-i.edges>o.end&&i.pages-i.edges-o.end!=1?r.append('<li class=\"disabled\"><span class=\"ellipse\">'+i.ellipseText+\"</span></li>\"):i.pages-i.edges-o.end==1&&t._appendItem.call(this,o.end++);var s=Math.max(i.pages-i.edges,o.end);for(n=s;n<i.pages;n++)t._appendItem.call(this,n)}i.nextText&&t._appendItem.call(this,i.currentPage+1,{text:i.nextText,classes:\"next\"})},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(n,i){var o,r,a=this,s=a.data(\"pagination\"),l=e(\"<li></li>\"),u=a.find(\"ul\");n=0>n?0:n<s.pages?n:s.pages-1,o=e.extend({text:n+1,classes:\"\"},i||{}),n==s.currentPage||s.disabled?(s.disabled?l.addClass(\"disabled\"):l.addClass(\"active\"),r=e('<span class=\"current\">'+o.text+\"</span>\")):(r=e('<a href=\"'+s.hrefTextPrefix+(n+1)+s.hrefTextSuffix+'\" class=\"page-link\">'+o.text+\"</a>\"),r.click(function(e){return t._selectPage.call(a,n,e)})),o.classes&&r.addClass(o.classes),l.append(r),u.length?u.append(l):a.append(l)},_selectPage:function(e,n){var i=this.data(\"pagination\");return i.currentPage=e,i.selectOnClick&&t._draw.call(this),i.onPageClick(e+1,n)}};e.fn.pagination=function(n){return t[n]&&\"_\"!=n.charAt(0)?t[n].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!=typeof n&&n?void e.error(\"Method \"+n+\" does not exist on jQuery.pagination\"):t.init.apply(this,arguments)}}),Ndn_Require.define(\"lib/jquery_plugins/jquery.bootpag\",[\"jquery\"],function(e){!function(e,t){e.fn.bootpag=function(t){function n(t,n){var a,s=0==r.maxVisible?1:r.maxVisible,l=1==r.maxVisible?0:1,u=Math.floor((n-1)/s)*s,c=t.find(\"li\");if(r.page=n=0>n?0:n>r.total?r.total:n,c.removeClass(\"disabled\"),a=1>n-1?1:r.leaps&&n-1>=r.maxVisible?Math.floor((n-1)/s)*s:n-1,c.first().toggleClass(\"disabled\",1===n).attr(\"data-lp\",a).find(\"a\").attr(\"href\",i(a)),l=1==r.maxVisible?0:1,a=n+1>r.total?r.total:r.leaps&&n+1<r.total-r.maxVisible?u+r.maxVisible+l:n+1,c.last().toggleClass(\"disabled\",n===r.total).attr(\"data-lp\",a).find(\"a\").attr(\"href\",i(a)),s=c.filter(\"[data-lp=\"+n+\"]\"),!s.not(\".next,.prev\").length){var d=u>=n?-r.maxVisible:0;c.not(\".next,.prev\").each(function(t){a=t+1+u+d,e(this).attr(\"data-lp\",a).toggle(a<=r.total).find(\"a\").html(a).attr(\"href\",i(a))}),s=c.filter(\"[data-lp=\"+n+\"]\")}s.addClass(\"disabled\"),o.trigger(\"page\",n),o.data(\"settings\",r)}function i(e){return r.href.replace(r.hrefVariable,e)}var o=this,r=e.extend({total:0,page:1,maxVisible:null,leaps:!0,href:\"javascript:void(0);\",hrefVariable:\"{{number}}\",next:\"&raquo;\",prev:\"&laquo;\"},o.data(\"settings\")||{},t||{});return 0>=r.total?this:(!e.isNumeric(r.maxVisible)&&!r.maxVisible&&(r.maxVisible=r.total),o.data(\"settings\",r),this.each(function(){var t,o,a=e(this),s=['<ul class=\"bootpag\">'];for(r.prev&&s.push('<li data-lp=\"1\" class=\"prev\"><a href=\"'+i(1)+'\">'+r.prev+\"</a></li>\"),o=1;o<=Math.min(r.total,r.maxVisible);o++)s.push('<li data-lp=\"'+o+'\"><a href=\"'+i(o)+'\">'+o+\"</a></li>\");r.next&&(o=r.leaps&&r.total>r.maxVisible?Math.min(r.maxVisible+1,r.total):2,s.push('<li data-lp=\"'+o+'\" class=\"next\"><a href=\"'+i(o)+'\">'+r.next+\"</a></li>\")),s.push(\"</ul>\"),a.find(\"ul.bootpag\").remove(),a.append(s.join(\"\")).addClass(\"pagination\"),t=a.find(\"ul.bootpag\"),a.find(\"li\").click(function(){var i=e(this);i.hasClass(\"disabled\")||n(t,parseInt(i.attr(\"data-lp\"),10))}),n(t,r.page)}))}}(e,window)}),Ndn_Require.define(\"views/Ndn/Widget/VideoPlayer/16x9View\",[\"jquery\",\"underscore\",\"mustache\",\"views/Ndn/Widget/VideoPlayer/AbstractView\",\"models/Ndn/PlayerServices\",\"models/Ndn/PlayerServices/Cache\",\"models/Ndn/Widget\",\"models/Ndn/Ads/AdStudies\",\"models/Ndn/Utils/UserAgent\",\"jquery_autoellipsis\",\"lib/jquery_plugins/jquery.simplePagination\",\"lib/jquery_plugins/jquery.bootpag\"],function(e,t,n,i,o,r,a,s,l){return i.extend({events:{\"click .ndn_selectableVideo\":\"onVideoSelect\",\"click .ndn_playlistTabs li a\":\"onPlaylistSelect\",\"click a.ndn_accordion-toggle\":\"onMobileAccordionClick\"},initialize:function(){i.prototype.initialize.apply(this,arguments);var t=this;this.model.on({playlistSelect:function(){t.updateSelectableVideos()}}),this.model.on(\"viewerInitialized\",e.proxy(function(){var e=this.model.getViewer();adsEnabled=t.model.getConfig().adsEnabled,adsEnabled&&(e.on({adCompanion:function(e){t.showCompanion(e.content)},adEnd:function(){t.hideCompanion()}}),e.on({videoStart:function(){t.showAdStudy()},videoEnd:function(){t.hideAdStudy()}}))},this))},updatePlaylistTabs:function(){this.$el.find(\".ndn_playlistTabs\").html(n.to_html(this.model.getTemplate(\"playlistTabs\"),{playlists:this.model.get(\"playlists\"),feederIndex:function(){var e=0;return function(){return e++}}()}));var e=this;this.model.getVideoFeeder().peekNextVideo(function(t){e.updatePlaylistSelectedTab(t.playlistId)})},onMobileAccordionClick:function(e){return this.$el.find(\".ndn_accordion .ndn_collapse\").slideToggle(),!1},onPlaylistSelect:function(t){var n=e(t.currentTarget).data(\"feederIndex\");return this.model.selectPlaylistTab(n),!1},showCompanion:function(t){return e.Deferred(e.proxy(function(e){if(this.model.get(\"isShowingAdStudy\"))e.resolve();else{var n=this.getDomElements(),i=n.companion,o=n.thumbnailPages;o.addClass(\"ndn_withCompanion\"),this.displayCompanionAd(i,t),i.show(),this.model.set(\"isShowingCompanionAd\",!0),this.updateSelectableVideos().done(function(){e.resolve()})}},this)).promise()},hideCompanion:function(){return e.Deferred(e.proxy(function(e){if(this.model.get(\"isShowingCompanionAd\")){var t=this.getDomElements(),n=t.thumbnailPages,i=t.companion;n.removeClass(\"ndn_withCompanion\"),i.html(\"\").hide(),this.model.set(\"isShowingCompanionAd\",!1),this.updateSelectableVideos().done(function(){e.resolve()})}else e.resolve()},this)).promise()},showAdStudy:function(){return e.Deferred(e.proxy(function(t){var n=this.getDomElements(),i=n.adStudy,o=n.thumbnailPages;this.hideAdStudy(),s.displayAdStudy(i.get(0),this.model.getProductSettings().settings.dfp.adUnitCode).done(e.proxy(function(){o.addClass(\"ndn_withAdStudy\"),this.model.set(\"isShowingAdStudy\",!0),this.hideCompanion().done(e.proxy(function(){this.updateSelectableVideos().done(function(){t.resolve()})},this))},this)).fail(function(){})},this)).promise()},hideAdStudy:function(){return e.Deferred(e.proxy(function(e){if(this.model.get(\"isShowingAdStudy\")){var t=this.getDomElements(),n=t.thumbnailPages,i=t.adStudy;n.removeClass(\"ndn_withAdStudy\"),i.html(\"\").hide(),this.model.set(\"isShowingAdStudy\",!1),this.updateSelectableVideos().done(function(){e.resolve()})}else e.resolve()},this)).promise()},getDomElements:function(){return{thumbnailPages:this.$el.find(\".ndn_playlistThumbnailsPages\"),paginator:this.$el.find(\".ndn_playlistThumbnailsPagination\"),companion:this.$el.find(\".ndn_companion\"),adStudy:this.$el.find(\".ndn_adStudy\")}},updateSelectableVideos:function(){var t=this.model,n=this;return e.Deferred(function(e){var i=n.getDomElements(),o=t.getThumbnailsPerPage();t.getThumbnailPagesHtmlData(t.getSelectedPlaylistTabIndex(),o).done(function(r){i.thumbnailPages.html(r.html),i.paginator.pagination(\"destroy\").pagination({items:r.thumbnailCount,itemsOnPage:o,cssStyle:\"pagination-centered\",onPageClick:function(e,i){t.storeSelectedPage(e);var o=n.getDomElements().thumbnailPages;return o.find(\"> .ndn_playlistThumbnailsPage\").hide(),o.find('> .ndn_playlistThumbnailsPage[data-page-number=\"'+e+'\"]').show(),o.find(\".ndn_videoTitle:visible, .ndn_videoMeta:visible\").ellipsis({updateOnWindowResize:!0}),!1},prevText:\"&laquo;\",nextText:\"&raquo;\"}),n.updatePlaylistSelectedTab(t.getSelectedPlaylistTabIndex()),i.paginator.pagination(\"selectPage\",t.getCurrentThumbnailPage()),i.paginator.toggle(i.paginator.pagination(\"getPagesCount\")>1),e.resolve()})}).promise()},updatePlaylistSelectedTab:function(e){var t=this.$el.find(\".ndn_playlistTabs\"),n=t.find(\"li.ndn_active\");n.children(\"a\").data(\"playlistId\")!==e&&(n.removeClass(\"ndn_active\"),t.find(\"a[data-playlist-id=\"+e+\"]\").parents(\"li\").addClass(\"ndn_active\"))}})}),Ndn_Require.define(\"text!templates/ndn/widget/video-player/16x9/default.html\",[],function(){return'<div class=\"ndn_16-9-wrapper\">\\n    <div id=\"{{viewerContainerId}}\" class=\"ndn_playerContainer\"></div>\\n</div>\\n<!--LARGE DISPLAY CATEGORIES TABS START-->\\n<ul class=\"ndn_nav ndn_nav-tabs ndn_lite ndn_playlistTabs ndn_playlistSelectorMenu\"></ul>\\n<!--LARGE DISPLAY CATEGORIES TABS END--> \\n<!--SMALL DISPLAY CATEGORIES TABS START-->\\n<div class=\"ndn_accordion\" id=\"accordion2\">\\n    <div class=\"ndn_accordion-group\">\\n        <div class=\"ndn_accordion-heading\"></div>\\n        <div class=\"ndn_openNav\">\\n        \t<a class=\"ndn_accordion-toggle\" data-toggle=\"collapse\" data-parent=\"#accordion2\" href=\"#collapseOne\"></a>\\n        </div>\\n        <div id=\"collapseOne\" class=\"ndn_accordion-body ndn_in ndn_collapse\">\\n            <div class=\"ndn_accordion-inner\">\\n                <ul class=\"ndn_nav ndn_nav-tabs ndn_lite ndn_nav-phone ndn_playlistTabs\"></ul>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<!--SMALL DISPLAY CATEGORIES TABS END--> \\n<!--COMPANION CONTAINER START-->\\n<div class=\"ndn_companion\" style=\"display:none;\"></div>\\n<div class=\"ndn_adStudy\" style=\"display:none;\"></div>\\n<!--COMPANION CONTAINER END-->\\n<!--THUMBNAILS START-->\\n<div class=\"ndn_playlistThumbnailsPages ndn_selectableVideos\"></div>\\n<!--THUMBNAILS END--> \\n<!--PAGINATION START-->\\n<div class=\"ndn_playlistThumbnailsPagination ndn_js_pagination ndn_pagination ndn_pagination-centered\"></div>\\n<!--PAGINATION START-->';\n}),Ndn_Require.define(\"text!templates/ndn/widget/video-player/16x9/playlistTabs.html\",[],function(){return'{{#playlists}}\\n\t<li><a href=\"#\" data-feeder-index=\"{{feederIndex}}\" data-playlist-id=\"{{id}}\">{{label}}</a></li>\\n{{/playlists}}'}),Ndn_Require.define(\"text!templates/ndn/widget/video-player/16x9/playlistThumbnailsPage.html\",[],function(){return'{{#thumbnailPagesData}}\\n\t<ul class=\"ndn_playlistThumbnailsPage\" data-page-number=\"{{pageNumber}}\">\\n\t\t{{#videos}}\\n\t\t\t<li class=\"ndn_selectableVideo ndn_thumb ndn_js_playlistLi\" data-playlist-index=\"{{playlistIndex}}\" data-video-index=\"{{videoIndex}}\" data-video-id=\"{{videoData.videoId}}\" data-selectable-video-index=\"{{selectableVideoIndex}}\">\\n\t\t    \t<div class=\"ndn_selectableVideoInner\">\\n\t\t    \t\t<div class=\"ndn_thumbContainer\">\\n\t\t    \t\t\t<img class=\"ndn_thbImage\" src=\"{{videoData.thumbnailUrl}}\" title=\"{{videoData.videoTitle}}\" />\\n\t\t    \t\t\t<div class=\"ndn_nowPlaying\">Now Playing</div>\\n\t\t    \t\t\t<div class=\"ndn_upcomingVideo\">Up Next</div>\\n\t\t    \t\t</div>\\n\t\t    \t\t<p class=\"ndn_videoTitle\">{{videoData.videoTitle}}</p>\\n\t\t    \t\t<p class=\"ndn_videoMeta\">{{videoData.displayDuration}} / {{videoData.provider.name}}</p>\\n\t\t    \t</div>\\n\t\t\t</li>\\n\t\t{{/videos}}\\n\t</ul>\\n{{/thumbnailPagesData}}'}),Ndn_Require.define(\"models/Ndn/Widget/VideoPlayer/16x9Model\",[\"jquery\",\"mustache\",\"models/Ndn/PlayerServices\",\"models/Ndn/PlayerServices/Cache\",\"models/Ndn/Widget/VideoPlayer/AbstractModel\",\"views/Ndn/Widget/VideoPlayer/16x9View\",\"models/Ndn/VideoFeeder\",\"text!templates/ndn/widget/video-player/16x9/default.html\",\"text!templates/ndn/widget/video-player/16x9/playlistTabs.html\",\"text!templates/ndn/widget/video-player/16x9/playlistThumbnailsPage.html\"],function(e,t,n,i,o,r,a,s,l,u){return o.extend({defaults:{widgetView:r,templates:{\"default\":s,playlistTabs:l,playlistThumbnailsPage:u},playlists:null,selectedPlaylistId:null,videoFeeders:null,activeFeederIndex:null,selectedPlaylistTabIndex:null,selectedPageData:null,cachedThumbpagePagesHtml:null,isShowingCompanionAd:!1,isShowingAdStudy:!1,playlistItemsLimit:36},initialize:function(){o.prototype.initialize.apply(this,arguments),this.set({selectedPageData:{},videoFeeders:[]})},initializeVideoFeeder:function(){for(var e=this.getProductSettings(),t=this.getBehaviorSettings().videos,n=[],i=0;i<t.length;i++){var o=t[i],r=new a({productSettings:e,playlists:o.schedule});o.firstVideo&&r.setNextVideo(o.firstVideo),o.firstActiveFeeder&&this.set(\"activeFeederIndex\",i),n.push(r)}this.set(\"videoFeeders\",n)},initializeView:function(){o.prototype.initializeView.apply(this,arguments),this.get(\"view\").updatePlaylistTabs(),this.selectPlaylistTab(this.getPlaylistTabIndexByPlaylistId(this.getConfig().playlistId))},selectVideo:function(e){this.set(\"activeFeederIndex\",this.getSelectedPlaylistTabIndex()),o.prototype.selectVideo.apply(this,arguments)},getVideoFeeder:function(e){return e=\"number\"==typeof e?e:this.get(\"activeFeederIndex\"),this.get(\"videoFeeders\")[e]},getSelectedPlaylistTabIndex:function(){return this.get(\"selectedPlaylistTabIndex\")},embed:function(){return this.set(\"playlists\",this.getProductSettings().associatedPlaylists),this.set(\"selectedPlaylistTabIndex\",this.getPlaylistTabIndexByPlaylistId(this.getConfig().playlistId)),o.prototype.embed.apply(this,arguments)},getPlaylistTabIndexByPlaylistId:function(e){for(var t=this.get(\"playlists\"),n=0;n<t.length;n++){var i=t[n];if(i.id==e)return n}},getThumbnailPageNumber:function(e){for(var t=this.getThumbnailsPerPage(),n=t-1,i=1;e>=n;n+=t)i++;return i},begin:function(){this.beginUi()},storeSelectedPage:function(e){var t=this.get(\"selectedPageData\");t[this.get(\"selectedPlaylistId\")]=(e-1)*this.getThumbnailsPerPage()},getCurrentThumbnailPage:function(){return this.getThumbnailPageNumber(this.get(\"selectedPageData\")[this.get(\"selectedPlaylistId\")])},getSelectedPlaylistId:function(){return this.get(\"selectedPlaylistId\")},getSelectedPlaylistTabIndex:function(){return this.get(\"selectedPlaylistTabIndex\")},getSelectedPlaylistData:function(){return e.Deferred(e.proxy(function(e){n.getPlaylistData(this.getSelectedPlaylistId(),this.getCachedSettings()).done(function(t){e.resolve(t)})},this)).promise()},selectPlaylistTab:function(e){this.set(\"selectedPlaylistTabIndex\",e),this.trigger(\"playlistSelect\")},selectPlaylist:function(e){this.set(\"selectedPlaylistId\",e),this.trigger(\"playlistSelect\")},setCachedThumbnailPagesHtmlData:function(e,t,n){this.get(\"cachedThumbnailPagesHtmlData\")||this.set(\"cachedThumbnailPagesHtmlData\",{});var i=this.get(\"cachedThumbnailPagesHtmlData\");i[t]=i[t]||{},i[t][n]=e},getCachedThumbnailPagesHtmlData:function(e,t){this.get(\"cachedThumbnailPagesHtmlData\")||this.set(\"cachedThumbnailPagesHtmlData\",{});var n=this.get(\"cachedThumbnailPagesHtmlData\");return n[e]=n[e]||{},n[e][t]},getThumbnailsPerPage:function(){return this.isShowingCompanionAdOrAdStudy()?8:12},getThumbnailPagesHtmlData:function(n,i){var o=this;return e.Deferred(function(e){var r=o.getCachedThumbnailPagesHtmlData(n,i);return r?e.resolve(r):void o.getVideoFeeder(n).peekNextVideos(o.getBehaviorSettings().playlistItemsLimit).done(function(r){for(var a=r,s=[],l=function(){var e=0;return function(){return e++}}(),c=0,d=1;c<a.length;c+=i){var p=c+i<=a.length?i:Math.min(a.length%i,i);s.push({pageNumber:d++,videos:a.slice(c,c+p),selectableVideoIndex:l})}var h={thumbnailCount:a.length,html:t.to_html(u,{thumbnailPagesData:s})};o.setCachedThumbnailPagesHtmlData(h,n,i),e.resolve(h)})}).promise()},isShowingCompanionAdOrAdStudy:function(){return this.get(\"isShowingCompanionAd\")||this.get(\"isShowingAdStudy\")}})}),Ndn_Require.define(\"views/Ndn/Widget/VideoLauncher/AbstractView\",[\"jquery\",\"views/Ndn/AbstractView\"],function(e,t){return t.extend({})}),Ndn_Require.define(\"views/Ndn/Widget/VideoLauncher/SliderView\",[\"jquery\",\"underscore\",\"mustache\",\"views/Ndn/Widget/VideoLauncher/AbstractView\",\"models/Ndn/Carousel\",\"models/Ndn/Utils/AspectRatio\",\"models/Ndn/Utils/DomElement\",\"jquery_imagesloaded\",\"jquery_bxslider\",\"jquery_autoellipsis\"],function(e,t,n,i,o,r,a){return i.extend({events:{\"click .ndn_sliderNext\":\"onNextClick\",\"click .ndn_sliderPrev\":\"onPrevClick\",\"click .ndn_sliderContainer li a\":\"onThumbnailClick\",\"click .ndn_sliderContainer .ndn_sliderControls\":\"onThumbnailClick\",\"click .ndn_playlistThumbnails li a\":\"onThumbnailClick\"},updateSelectableVideos:function(){var e=this,t=this.model,i=t.getVideoFeeder();i.peekNextVideos(3).done(function(i){t.cacheVideos(i),e.$el.find(\".ndn_selectableVideos\").html(n.to_html(t.getTemplate(\"selectableVideos\"),{videos:i,trackingGroup:t.getConfig().trackingGroup,selectableVideoIndex:function(){var e=0;return function(){return e++}}()})),t.getThumbnailsEnabled()?e.renderThumbnails():e.$el.find(\".ndn_playlistThumbnails\").hide(),e.initializeShowcaseCarousel()})},renderThumbnails:function(){var e=this.model,t=this,i=e.getVideoFeeder();i.peekNextVideos(3).done(function(i){t.$el.find(\".ndn_playlistThumbnails\").html(n.to_html(e.getTemplate(\"thumbnails\"),{videos:i,trackingGroup:e.getConfig().trackingGroup,selectableVideoIndex:function(){var e=0;return function(){return e++}}()})),e.set(\"thumbnailCarousel\",t.$el.find(\".ndn_playlistThumbnailsList\").bxSlider({pager:!1,controls:!1,maxSlides:3,minSlides:3,slideWidth:114,slideMargin:4,auto:!1,onSliderLoad:function(){t.loadImagesForSlide(0),t.centerThumbnails()},onSlideBefore:function(e,n,i){t.loadImagesForSlide(i)}})),t.$el.find(\".ndn_playlistThumbnails .ndn_titleOverlay p\").ellipsis({live:!0})})},centerThumbnails:function(){this.$el.find(\".ndn_playlistThumbnailsList li, .ndn_sliderItems li\").each(function(){var t=e(this).find(\"img:not(.ndn_providerLogo)\"),n=t.width()-t.closest(\"li\").width();n=(0-Math.max(n,0))/2,t.css(\"margin-left\",n+\"px\")})},initializeShowcaseCarousel:function(){var t=this.model,n=this,i=this.model.getVideoFeeder();return e.Deferred(function(e){var r,s;i.peekNextVideos(3).done(function(e){a.onceMeetsCondition(t.getContainerElement().find(\".ndn_selectableVideos\"),function(e){var t=e.width(),n=e.height();if(t>=300&&350>=t){var i=250/300*t;if(n>=i-1&&i+1>=n)return r=t,s=n,!0}}).done(function(){var i=new o({containerElement:t.getContainerElement().find(\".ndn_selectableVideos\"),auto:!0}).on({carouselLoad:function(){var i=t.getContainerElement().find(\".ndn_sliderTopContainer\");n.$el.find(\".ndn_selectableVideos > li\").css({width:i.width()+\"px\",height:i.height()+\"px\"}),n.$el.find(\".ndn_sliderControls\").toggle(e.length>1),n.$el.find(\".ndn_producerName, .ndn_sliderVideoTitle\").ellipsis()},slideLoad:function(e){var i=e.slideIndex,o=e.previousSlideIndex;if(t.getThumbnailsEnabled()&&n.isShowcaseCarouselVisible()){n.clearCurrentVideoThumbnail(),n.setCurrentVideoThumbnail(e.slideElement.data(\"videoId\"));var r=t.get(\"thumbnailCarousel\"),a=r.getSlideCount();i%3==0?(i>o||0==i&&o==a-1)&&r.goToNextSlide():(i+1)%3==0&&(o>i||0==o&&i==a-1)&&r.goToPrevSlide()}}}).load();t.set(\"carousel\",i)})})}).promise()},setVideoPlayerOnScreen:function(e){this.$el.find(\".ndn_videoPlayerWrapper\").toggleClass(\"ndn_videoPlayerWrapper_loading\",!e),this.isShowcaseCarouselVisible()||this.clearCurrentVideoThumbnail()},isShowcaseCarouselVisible:function(){return this.$el.find(\".ndn_videoPlayerWrapper\").hasClass(\"ndn_videoPlayerWrapper_loading\")},onPrevClick:function(){return this.model.get(\"carousel\").visitPreviousSlide(),!1},onNextClick:function(){return this.model.get(\"carousel\").visitNextSlide(),!1},setCurrentVideoThumbnail:function(e){this.isShowcaseCarouselVisible()&&this.$el.find('.ndn_playlistThumbnails [data-video-id=\"'+e+'\"] .ndn_currentVideoThumbnail').fadeIn(400)},clearCurrentVideoThumbnail:function(){this.$el.find(\".ndn_currentVideoThumbnail\").fadeOut(400)},onThumbnailClick:function(n){var i=\"\";if(void 0!==e(n.currentTarget).attr(\"href\"))i=e(n.currentTarget).attr(\"href\");else{var o=e(t.first(this.$el.find('[data-video-index=\"'+this.model.get(\"carousel\").getCurrentSlide()+'\"]')));i=o.find(\"a\").attr(\"href\")}return this.openNdnWindow(i),n.preventDefault(),!1}})}),Ndn_Require.define(\"text!templates/ndn/widget/video-launcher/slider/default.html\",[],function(){return'<div class=\"ndn_responsiveContainer ndn_sliderTopContainer\">\\n\t<div class=\"ndn_sliderContainer\">\\n\t\t<div class=\"ndn_videoPlayerWrapper\">\\n\t\t\t<div id=\"{{viewerContainerId}}\" class=\"ndn_playerContainer\"></div>\\n\t\t</div>\\n\t\t<ul class=\"ndn_sliderItems ndn_selectableVideos\"></ul>\\n\t\t<div class=\"ndn_sliderControls\">\\n\t\t\t<div class=\"ndn_sliderPrev ndn_sliderNavButton\">\\n\t\t\t\t<div class=\"ndn_arrow\"></div>\\n\t\t\t</div>\\n\t\t\t<div class=\"ndn_sliderNext ndn_sliderNavButton\">\\n\t\t\t\t<div class=\"ndn_arrow\"></div>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>\\n</div>\\n<div class=\"ndn_playlistThumbnails\">\\n</div>'}),Ndn_Require.define(\"text!templates/ndn/widget/video-launcher/slider/selectableVideos.html\",[],function(){return'{{#videos}}\\n    <li class=\"ndn_selectableVideo\" data-playlist-index=\"{{playlistIndex}}\" data-video-index=\"{{videoIndex}}\" data-selectable-video-index=\"{{selectableVideoIndex}}\" data-video-id=\"{{videoData.videoId}}\" title=\"{{videoData.videoTitle}}\">\\n        <a href=\"//launch.newsinc.com/embed.html?type=VideoPlayer/16x9&trackingGroup={{trackingGroup}}&widgetId=1&videoId={{videoData.videoId}}&playlistId={{playlistId}}\">\\n            <div class=\"ndn_sliderThumbnailOverlay\">\\n                <p class=\"ndn_sliderVideoTitle\">{{videoData.videoTitle}}</p>\\n                <p class=\"ndn_producerName\">{{videoData.provider.name}}</p>\\n                <div class=\"ndn_imagePlaceholder\" data-src=\"{{videoData.provider.logoUrl}}\" data-class=\"ndn_providerLogo\"></div>\\n            </div>\\n            <div class=\"ndn_imagePlaceholder\" data-src=\"{{videoData.stillImageUrl}}\" data-class=\"ndn_centerImage\"></div>\\n            <div class=\"ndn_playButton\"></div>\\n        </a>\\n    </li>\\n{{/videos}}\\n'}),Ndn_Require.define(\"text!templates/ndn/widget/video-launcher/slider/thumbnails.html\",[],function(){return'<h4>More videos:</h4>\\n<ul class=\"ndn_playlistThumbnailsList\">\\n\t{{#videos}}\\n\t<li class=\"ndn_playlistVideoThumbnail ndn_thumbnail\" data-video-index=\"{{videoIndex}}\" data-playlist-index=\"{{playlistIndex}}\" data-video-id=\"{{videoData.videoId}}\" data-playlist-id=\"{{playlistId}}\" title=\"{{videoData.videoTitle}}\">\\n\t\t\t<div class=\"ndn_thumbnailContainer\">\\n\t\t\t\t<a href=\"//launch.newsinc.com/embed.html?type=VideoPlayer/16x9&trackingGroup={{trackingGroup}}&widgetId=1&videoId={{videoData.videoId}}&playlistId={{playlistId}}\">\\n\t\t\t\t\t<img src=\"{{videoData.stillImageUrl}}\"/>\\n\t\t\t\t\t<div class=\"ndn_titleOverlay\">\\n\t\t\t\t\t\t<div class=\"ndn_thumbTitle\">{{videoData.videoTitle}}</div>\\n\t\t\t\t\t</div>\\n\t\t\t\t</a>\\n\t\t\t</div>\\n\t\t\t<div class=\"ndn_currentVideoThumbnail\"></div>\\n\t\t</li>\\n\t{{/videos}}\\n</ul>\\n'}),Ndn_Require.define(\"models/Ndn/Widget/VideoLauncher/SliderModel\",[\"jquery\",\"underscore\",\"mustache\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Utils/AspectRatio\",\"views/Ndn/Widget/VideoLauncher/SliderView\",\"models/Ndn/Widget/Params\",\"models/Ndn/Viewer/ViewerModule/Amp\",\"models/Ndn/Debug\",\"text!templates/ndn/widget/video-launcher/slider/default.html\",\"text!templates/ndn/widget/video-launcher/slider/selectableVideos.html\",\"text!templates/ndn/widget/video-launcher/slider/thumbnails.html\",\"jquery_responsive_containers\"],function(e,t,n,i,o,r,a,s,l,u,c,d,p){return o.extend({defaults:{widgetView:a,templates:{\"default\":c,selectableVideos:d,thumbnails:p},playlistItemsLimit:3,carousel:null,thumbnailCarousel:null,carouselVideos:null,bumperVideoData:null,bumpersShown:0,displayAdSpreePauses:0,fetchingAdServer:null,hasMadeComscoreCall:!1},fetchAdServer:function(){var t=this.get(\"fetchingAdServer\");if(t)return t;this.getBrowserSettings();return t=e.Deferred(function(e){return e.reject()}),this.set(\"fetchingAdServer\",t),t},manageEvents:function(){o.prototype.manageEvents.apply(this,arguments);var e=this;this.on({viewerInitialized:function(){e.getViewer().on({\"adStart videoStart\":function(){e.toggleSliderCarousel(!1)},viewerModuleEnd:function(){e.toggleSliderCarousel(!0)}})}})},initializeView:function(){o.prototype.initializeView.apply(this,arguments),r.maintain(this.getContainerElement().find(\".ndn_sliderTopContainer\"),\"6:5\"),this.toggleSliderCarousel(!0)},onceReadyToBegin:function(){var t=this;return this.fetchAdServer(),e.Deferred(function(e){o.prototype.onceReadyToBegin.call(t).done(function(){t.fetchAdServer().always(function(n){var o=t.getBehaviorSettings(),r=t.getBrowserSettings();\"resolved\"!=t.fetchAdServer().state()||r.mayHaveDesktopFlashBlock||(o.rmm.adServer=n.adServer);var a=i.getSetting(\"forceDfp\");\"undefined\"!=typeof a&&(o.rmm.adServer=a?\"dfp\":\"spotx\"),e.resolve()})})}).promise()},begin:function(){var t=this,n=this.getBrowserSettings(),i=n.isDesktop,o=n.isOnHomepage;return e.Deferred(function(e){i?t.steps([\"DT\"]).done(e.resolve):o?t.steps([\"A\",\"A\"]).done(e.resolve):t.steps([\"A\",\"AA\"]).done(e.resolve)}).promise()},stepDT:function(){var t=this,n=this.getViewer().step(\"DT\").start(),i=this.getBrowserSettings(),o=this.getBehaviorSettings(),r=o.rmm.earlyContent,a=i.isOnHomepage,s=o.rmm.displayAdSpreeEnabled;return e.Deferred(function(e){\"dfp\"==o.rmm.adServer?r?t.steps([\"B\",\"RX\"]).done(e.resolve):t.steps([\"RX\",\"B\"]).done(e.resolve):s?r?t.steps([\"B\",\"DD\"]).done(e.resolve):t.steps([\"DD\",\"B\"]).done(e.resolve):r?a?t.steps([\"B\",\"A\",\"A\"]).done(e.resolve):t.steps([\"B\",\"A\",\"AA\"]).done(e.resolve):a?t.steps([\"A\",\"A\",\"B\"]).done(e.resolve):t.steps([\"A\",\"B\",\"AA\"]).done(e.resolve)}).promise().done(function(){n.end()})},stepRX:function(){var e=this.getViewer().step(\"RX\").start();return this.iterateStep(\"RD\",this.getDeliverySettings().rmm_cp).done(function(){e.end()})},stepRD:function(){var t=this.getProductSettings(),n=t.config,i=this.getViewer(),o=this.getVideoFeeder(),r=i.step(\"RD\").start(),a=this;return e.Deferred(function(r){o.peekNextVideo().done(function(o){var l=!0,u=!0,c=a.getDefaultPlaybackMode(),d=a.getCpvNumber(),p=o.videoData,h=!0,f=i.getViewerModule(\"inform\"),g=f?f.getVideoLoadIndex()+1:0,m=!a.get(\"hasMadeComscoreCall\");i.execute(\"inform\",{dfp:{adTagUrl:s.getImaAdTagUrl({productSettings:t,videoData:p,viewerData:s.getViewerData(i.getContainerElement()),isMuted:u,isRmm:l,playbackMode:c,analyticsTimelineEventIndex:null,videoLoadIndex:g,cpvNumber:d,playerInstanceTypeId:a.getDeliverySettings().videojs?7:0,now:e.now()}),ppid:t.settings.dfp.publisherProvidedId,adBlockDetectionId:t.settings.browser.adBlockDetectionId},comscore:m&&s.getComscoreData({siteSection:n.siteSection,distributorName:t.distributor.name,isRmm:l,videoData:p}),share:!1,isMuted:u,playOnLoad:h,playOnMouseover:!1,playOnInView:!1,playbackMode:c,showControls:!1,playerBehaviorId:s.getPlayerBehaviorId(t,l),wgtValue:s.getWgtValue(n,l),videoIndex:o.videoIndex,videoLoadIndex:g,playlistId:o.playlistId,cpvNumber:a.getCpvNumber()}).done(r.resolve)})}).promise().done(function(){a.set(\"cpvNumber\",a.getCpvNumber()+1),a.set(\"hasMadeComscoreCall\",!0),r.end()})},stepA:function(){var e=this,t={},n=this.getDeliverySettings();return o.prototype.stepA.call(this,{easiTimeout:n.easiTimeout,allowEasiPlayerFlash:this.getBrowserSettings().isDesktop&&n.easi_flash_slider,comscore:!this.get(\"hasMadeComscoreCall\"),stepLog:t}).done(function(){t.hasMadeEasiComscoreCall&&e.set(\"hasMadeComscoreCall\",!0)})},stepD:function(){var t=this.getDeliverySettings(),n=this;return e.Deferred(function(e){o.prototype.stepD.call(n,{displayAdDuration:t[n.getBrowserSettings().isDesktop?\"da_slider_d\":\"da_slider_nd\"]}).done(function(t){if(t&&t.adsPlayed&&n.getBehaviorSettings().rmm.displayAdSpreeEnabled){var i=n.getNextDisplayAdSpreePause();u.log(\"displayAdSpreePause\",i),i>0?setTimeout(e.resolve,1e3*i):e.resolve()}else e.resolve()})}).promise()},getNextDisplayAdSpreePause:function(){var e=this.getBehaviorSettings().rmm.displayAdSpreePauses,t=e[Math.min(this.get(\"displayAdSpreePauses\"),e.length-1)];return this.set(\"displayAdSpreePauses\",this.get(\"displayAdSpreePauses\")+1),t},cacheVideos:function(e){this.set(\"carouselVideos\",e)},toggleSliderCarousel:function(e){this.get(\"view\").setVideoPlayerOnScreen(!e)},getThumbnailsEnabled:function(){return!i.isEmbeddedByIframe()}},{initializeBehaviorSettings:function(e){var n=e.getBrowserSettings(),i=e.getDeliverySettings(),o=e.getBehaviorSettings(),r=o.rmm,a=n.isDesktop,s=n.isOnHomepage;r.adServer=\"spotx\";var l=a?i.da_spree_d:0,u=n.ableToUseDisplayAdSpree&&a&&-1!=i[a?\"da_slider_d\":\"da_slider_nd\"]?l>0:!1;r.displayAdSpreeEnabled=u,u&&(r.displayAdSpreePauses=function(){for(var e=i.da_spree_pause.split(\" \"),t=[],n=0;n<e.length;n++){var o=parseInt(e[n]);isNaN(o)||t.push(o)}return t}()),r.rotatingEnabled=!s||u;var c=a&&i.easi_flash_slider,d=i[a?\"da_slider_d\":\"da_slider_nd\"];t.extend(o,{allowFlashForEasi:c,easiChannelId1:a?c?75776:171911:93697,easiChannelId2:c?109285:171912,displayAdDuration:d,displayAdsAllowed:-1!=d})}})}),Ndn_Require.define(\"views/Ndn/Widget/InViewView\",[\"jquery\",\"mustache\",\"views/Ndn/AbstractView\"],function(e,t,n){return n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.$el.html(t.to_html(this.model.getTemplate(\"default\"),{viewerContainerId:this.model.getViewerContainerId()}))},hide:function(){this.$el.hide()},expand:function(){this.$el.slideDown()},collapse:function(){return this.$el.slideUp().promise()}})}),Ndn_Require.define(\"text!templates/ndn/widget/in-view/default.html\",[],function(){return'<div class=\"ndn_playerContainer\" id=\"{{viewerContainerId}}\" style=\"width:100%;height:100%;position:relative;\"></div>'}),Ndn_Require.define(\"models/Ndn/Widget/InViewModel\",[\"jquery\",\"models/Ndn/App\",\"models/Ndn/Widget\",\"models/Ndn/Widget/Params\",\"views/Ndn/Widget/InViewView\",\"text!templates/ndn/widget/in-view/default.html\"],function(e,t,n,i,o,r){return n.extend({defaults:{widgetView:o,templates:{\"default\":r},playlistItemsLimit:1},begin:function(){var n=this.getProductSettings(),o=this.getConfig(),r=this.getDeliverySettings(),a=this.getBrowserSettings(),s=a.isDesktop,l=this.getViewer(),u=this;return e.Deferred(function(e){l.execute(\"easi\",{adUnitType:\"incontent\",channelId:t.getSetting(\"easiChannelId\")||(s?94802:77940),timeout:r[s?\"easi_t_inview_d\":\"easi_t_inview_nd\"],customData:{adCampaignId:n.settings.dfp.adCampaignId,embedIndex:n.embedIndex,adBlockDetectionId:a.adBlockDetectionId,widgetId:o.widgetId,siteSection:o.siteSection,foldPositionId:i.getFoldPositionId(u.getContainerElement()),wgtValue:i.getWgtValue(o,!1),pltValue:u.getPltValue(),videoSizeId:i.getVideoSizeId(parseInt(l.getContainerElement().width()))}}).done(function(t){t.adsPlayed?e.resolve():u.steps([\"D\"]).done(e.resolve)})}).promise().done(function(){u.get(\"view\").collapse().done(function(){u.destruct()})})},stepD:function(){return n.prototype.stepD.call(this,{displayAdDuration:this.getDeliverySettings()[this.getBrowserSettings().isDesktop?\"da_inview_d\":\"da_inview_nd\"]})}})}),Ndn_Require.define(\"models/Ndn/Widget\",function(){});"
          },
          "redirectURL": "",
          "headersSize": 572,
          "bodySize": 289134
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 288,
          "send": 0,
          "wait": 142,
          "receive": 338
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:36.276-06:00",
        "time": 433,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://bit.ly/1Qjcu2C",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "bit.ly"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Cookie",
              "value": "_bit=gbf5Vo-2429c5da08a57639d4-00x; _ga=GA1.2.407938193.1481781480; _gat=1"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Upgrade-Insecure-Requests",
              "value": "1"
            }
          ],
          "cookies": [
            {
              "name": "_bit",
              "value": "gbf5Vo-2429c5da08a57639d4-00x"
            },
            {
              "name": "_ga",
              "value": "GA1.2.407938193.1481781480"
            },
            {
              "name": "_gat",
              "value": "1"
            }
          ],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 402
        },
        "response": {
          "status": 301,
          "statusText": "Moved Permanently",
          "httpVersion": "HTTP/1.1",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 316,
          "send": 0,
          "wait": 117,
          "receive": 0
        }
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:36.518-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "POST",
          "url": "https://browser.pipe.aria.microsoft.com/Collector/3.0/?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version=ACT-Web-JS-2.7.1&x-apikey=c34cce5c21da4a91907bc59bce4784fb-42e261e9-5073-49df-a2e1-42415e012bc6-6954",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "browser.pipe.aria.microsoft.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br"
            },
            {
              "name": "Referer",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "Content-Length",
              "value": "966"
            },
            {
              "name": "Origin",
              "value": "http://www.washingtontimes.com"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [
            {
              "name": "qsp",
              "value": "true"
            },
            {
              "name": "content-type",
              "value": "application/bond-compact-binary"
            },
            {
              "name": "client-id",
              "value": "NO_AUTH"
            },
            {
              "name": "sdk-version",
              "value": "ACT-Web-JS-2.7.1"
            },
            {
              "name": "x-apikey",
              "value": "c34cce5c21da4a91907bc59bce4784fb-42e261e9-5073-49df-a2e1-42415e012bc6-6954"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 683
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:36.747-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://www.nationalreview.com/node/431420",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "www.nationalreview.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Upgrade-Insecure-Requests",
              "value": "1"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 338
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:36.933-06:00",
        "time": null,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://dmeserve.newsinc.com/dpid/91568/PPEmbed.js",
          "httpVersion": "",
          "headers": [
            {
              "name": "Host",
              "value": "dmeserve.newsinc.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "queryString": [],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 366
        },
        "response": {
          "status": 0,
          "statusText": "",
          "httpVersion": "",
          "headers": [],
          "cookies": [],
          "content": {
            "size": -1
          },
          "redirectURL": "",
          "headersSize": -1,
          "bodySize": -1
        },
        "cache": {},
        "timings": {}
      },
      {
        "pageref": "page_103",
        "startedDateTime": "2016-12-15T00:01:37.063-06:00",
        "time": 306,
        "request": {
          "bodySize": 0,
          "method": "GET",
          "url": "http://c.newsinc.com/pl?uut=ef6184d8-c28b-11e6-9927-0a4e33a29963&insid=ef6184f8-c28b-11e6-9927-0a4e33a29963&atei=0&atets=0&vw=1252&vh=650&sw=1536&sh=864&furl=http%253A%252F%252Fwww.washingtontimes.com%252Fnews%252F2016%252Foct%252F31%252Fdonald-trump-wins-support-from-native-american-coa%252F&ua=firefox&embedCount=1&eo=http%3A%2F%2Fwww.washingtontimes.com%2Fnews%2F2016%2Foct%2F31%2Fdonald-trump-wins-support-from-native-american-coa%2F&iframe=0&fe=0&fv=0&env=&bn=161&ref=&_=1481781697042",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Host",
              "value": "c.newsinc.com"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0"
            },
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.5"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate"
            },
            {
              "name": "Referer",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "Cookie",
              "value": "ANALYTICS_USER_TOKEN=ef6184d8-c28b-11e6-9927-0a4e33a29963"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [
            {
              "name": "ANALYTICS_USER_TOKEN",
              "value": "ef6184d8-c28b-11e6-9927-0a4e33a29963"
            }
          ],
          "queryString": [
            {
              "name": "uut",
              "value": "ef6184d8-c28b-11e6-9927-0a4e33a29963"
            },
            {
              "name": "insid",
              "value": "ef6184f8-c28b-11e6-9927-0a4e33a29963"
            },
            {
              "name": "atei",
              "value": "0"
            },
            {
              "name": "atets",
              "value": "0"
            },
            {
              "name": "vw",
              "value": "1252"
            },
            {
              "name": "vh",
              "value": "650"
            },
            {
              "name": "sw",
              "value": "1536"
            },
            {
              "name": "sh",
              "value": "864"
            },
            {
              "name": "furl",
              "value": "http%3A%2F%2Fwww.washingtontimes.com%2Fnews%2F2016%2Foct%2F31%2Fdonald-trump-wins-support-from-native-american-coa%2F"
            },
            {
              "name": "ua",
              "value": "firefox"
            },
            {
              "name": "embedCount",
              "value": "1"
            },
            {
              "name": "eo",
              "value": "http://www.washingtontimes.com/news/2016/oct/31/donald-trump-wins-support-from-native-american-coa/"
            },
            {
              "name": "iframe",
              "value": "0"
            },
            {
              "name": "fe",
              "value": "0"
            },
            {
              "name": "fv",
              "value": "0"
            },
            {
              "name": "env",
              "value": ""
            },
            {
              "name": "bn",
              "value": "161"
            },
            {
              "name": "ref",
              "value": ""
            },
            {
              "name": "_",
              "value": "1481781697042"
            }
          ],
          "postData": {
            "mimeType": "",
            "params": [],
            "text": ""
          },
          "headersSize": 874
        },
        "response": {
          "status": 204,
          "statusText": "No Content",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Access-Control-Allow-Headers",
              "value": "Content-Type"
            },
            {
              "name": "Access-Control-Allow-Methods",
              "value": "GET, POST, DELETE, PUT"
            },
            {
              "name": "Access-Control-Allow-Origin",
              "value": "*"
            },
            {
              "name": "Date",
              "value": "Thu, 15 Dec 2016 06:01:35 GMT"
            },
            {
              "name": "Server",
              "value": "nginx"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            }
          ],
          "cookies": [],
          "content": {
            "mimeType": "text/plain",
            "size": 0,
            "text": ""
          },
          "redirectURL": "",
          "headersSize": 233,
          "bodySize": -1
        },
        "cache": {},
        "timings": {
          "blocked": 0,
          "dns": 0,
          "connect": 179,
          "send": 0,
          "wait": 127,
          "receive": 0
        }
      }
    ]
  }
}